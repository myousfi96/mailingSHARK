From me@rossmason.com  Sun Jun  1 09:51:39 2003
Return-Path: <me@rossmason.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 36073 invoked from network); 1 Jun 2003 09:51:39 -0000
Received: from unknown (HELO rossmason.com) (80.234.167.130)
  by daedalus.apache.org with SMTP; 1 Jun 2003 09:51:39 -0000
Received: from RossMason [80.193.185.79] by rossmason.com with ESMTP
  (SMTPD32-7.12     ) id AD5CD40090; Sun, 01 Jun 2003 10:54:36 +0100
From: "Ross Mason" <me@rossmason.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: HttpClient Powered
Date: Sun, 1 Jun 2003 10:48:26 +0100
Message-ID: <000001c32822$f3e276d0$4fb9c150@RossMason>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0001_01C3282B.55A86570"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0001_01C3282B.55A86570
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,



Great product! We've just started using it to implement all http
connectivity in Mule (see http://mule.sourceforge.net
<http://mule.sourceforge.net/>  ).  Could you put us on you're HttpClient
Powered page as -



Mule - Universal Message Objects



Mule is a robust and highly scalable broker and services ESB framework. It
is designed as a light-weight, event-driven component technology that
handles communication with disparate systems transparently providing a
simple component interface.



Thanks,



Ross


------=_NextPart_000_0001_01C3282B.55A86570--


From becke@u.washington.edu  Sun Jun  1 18:24:22 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 46138 invoked from network); 1 Jun 2003 18:24:22 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 1 Jun 2003 18:24:22 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h51IOQRG009197
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 1 Jun 2003 11:24:26 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h51IOPcw032227
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 1 Jun 2003 11:24:26 -0700
Date: Sun, 1 Jun 2003 14:24:27 -0400
Subject: Re: HttpClient Powered
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000001c32822$f3e276d0$4fb9c150@RossMason>
Message-Id: <476D6367-945E-11D7-8937-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Done.  Mule will be included the next time the HttpClient site is
published.

Mike


From anonymous@nagoya.betaversion.org  Sun Jun  1 18:52:59 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 57321 invoked from network); 1 Jun 2003 18:52:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 1 Jun 2003 18:52:59 -0000
Received: (qmail 29172 invoked by uid 50); 1 Jun 2003 18:55:14 -0000
Date: 1 Jun 2003 18:55:14 -0000
Message-ID: <20030601185514.29171.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From becke@u.washington.edu  2003-06-01 18:55 -------
The cookie docs and the updated troubleshooting have been committed.  I love "Specifying the
Specification" :)

Mike

From becke@u.washington.edu  Sun Jun  1 22:44:24 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 84760 invoked from network); 1 Jun 2003 22:44:24 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 1 Jun 2003 22:44:24 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h51MiUSL022387;
	Sun, 1 Jun 2003 15:44:30 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h51MiScw004499
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT);
	Sun, 1 Jun 2003 15:44:29 -0700
Date: Sun, 1 Jun 2003 18:44:37 -0400
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Subject: [ANNOUNCE] Release of Commons HttpClient 2.0 Beta 1
From: Michael Becke <becke@u.washington.edu>
To: announcements@jakarta.apache.org,
   Jakarta List <commons-dev@jakarta.apache.org>,
   commons-user@jakarta.apache.org,
   Commons Project <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
Message-Id: <9F663590-9482-11D7-8937-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The Jakarta Commons HttpClient team is proud to announce the release of=20=

HttpClient 2.0 beta 1.  This is the first feature complete release of=20
HttpClient 2.0.  The focus for the rest of the 2.0 development will be=20=

on bug fixes and documentation.  Please visit the HttpClient website=20
(http://jakarta.apache.org/commons/httpclient/) and download this=20
latest release.

The following changes have been made since Alpha 3:

  * Changed HttpConnection to use socket timeout instead of busy
    waiting while expecting input.

  * Added a getResponseContentLength() method to HttpMethod.

  * Changed HttpClient to accept correctly encoded URLs instead of
    attempting to encode them within HttpClient.

  * 'Expect: 100-continue' logic factored out into an abstract
    ExpectContinueMethod class

  * 'Expect: 100-Continue' handshake disabled per default, as it may not=20=

work
    properly with older HTTP/1.0 servers or proxies.

  * Reengineered authentication code.=A0 This includes a fix for
    HttpClient continually attempting to authenticate to digest realms=20=

and
    provides for better future extensibility.

  * Authenticator class deprecated

  * Improved user documentation and example code.

  * Added ability to differentiate between different hosts using the
    same realm names.

  * Added support for specifying a virtual host name to use.

  * Fixed problem with half-closed connections causing a
    HttpRecoverableException to be thrown when HttpClient attempts to=20
read
    from a socket.

  * Improved reliability with the HEAD method and servers that
    incorrectly include a response body.

  * Improved support for connection keep-alive when communicating via a=20=

proxy

  * Added an override of HttpClient.executeMethod that lets the
    caller specify an HttpState object.

  * HttpConnectionManager is now a property of the HttpClient class,
    not of the HttpState class

  * Added ability to specify the local address that HttpClient should
    create connections from.

Thank you,

Commons HttpClient Development Team


From tetsuya.kitahata@nifty.com  Mon Jun  2 00:34:29 2003
Return-Path: <tetsuya.kitahata@nifty.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 53539 invoked from network); 2 Jun 2003 00:34:29 -0000
Received: from unknown (HELO mail.noc4u.com) (64.5.48.156)
  by daedalus.apache.org with SMTP; 2 Jun 2003 00:34:29 -0000
Received: (qmail 27785 invoked from network); 2 Jun 2003 00:42:30 -0000
Received: from unknown (HELO ?192.168.0.3?) (202.217.47.113)
  by mail.noc4u.com with SMTP; 2 Jun 2003 00:42:30 -0000
Date: Mon, 02 Jun 2003 09:37:14 +0900
From: Tetsuya Kitahata <tetsuya.kitahata@nifty.com>
To: "Jakarta General List" <general@jakarta.apache.org>,
 commons-httpclient-dev@jakarta.apache.org
Subject: Re: [ANNOUNCE] Release of Commons HttpClient 2.0 Beta 1
In-Reply-To: <9F663590-9482-11D7-8937-00306557E112@u.washington.edu>
References: <9F663590-9482-11D7-8937-00306557E112@u.washington.edu>
X-Mailer-Plugin: MultiRes Helper for Becky!2 Ver.0.03 Rev.8
Message-Id: <20030602093030.EC8A.TETSUYA.KITAHATA@nifty.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="ISO-2022-JP"
Content-Transfer-Encoding: 7bit
X-Mailer: Becky! ver. 2.05.11
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Congratulations, Mike and all of HttpClient team.

When will it be relected to ibiblio?

And (IMHO) it is better to rewrite
http://jakarta.apache.org/commons/httpclient/downloads.html

<dependency>
    <id>commons-httpclient</id>
    <version>2.0-alpha3</version>
    <url>http://jakarta.apache.org/commons/httpclient/</url>
</dependency>

to

<dependency>
    <id>commons-httpclient</id>
    <version>2.0-beta1</version>
    <url>http://jakarta.apache.org/commons/httpclient/</url>
</dependency>


Again, congratulations!!

--

On Sun, 1 Jun 2003 18:44:37 -0400
(Subject: [ANNOUNCE] Release of Commons HttpClient 2.0 Beta 1)
Michael Becke <becke@u.washington.edu> wrote:

> The Jakarta Commons HttpClient team is proud to announce the release of
> HttpClient 2.0 beta 1.  This is the first feature complete release of
> HttpClient 2.0.  The focus for the rest of the 2.0 development will be
> on bug fixes and documentation.  Please visit the HttpClient website
> (http://jakarta.apache.org/commons/httpclient/) and download this
> latest release.
>
> The following changes have been made since Alpha 3:
>
>   * Changed HttpConnection to use socket timeout instead of busy
>     waiting while expecting input.
>
>   * Added a getResponseContentLength() method to HttpMethod.
>
>   * Changed HttpClient to accept correctly encoded URLs instead of
>     attempting to encode them within HttpClient.
>
>   * 'Expect: 100-continue' logic factored out into an abstract
>     ExpectContinueMethod class
>
>   * 'Expect: 100-Continue' handshake disabled per default, as it may not
> work
>     properly with older HTTP/1.0 servers or proxies.
>
>   * Reengineered authentication code.  This includes a fix for
>     HttpClient continually attempting to authenticate to digest realms
> and
>     provides for better future extensibility.
>
>   * Authenticator class deprecated
>
>   * Improved user documentation and example code.
>
>   * Added ability to differentiate between different hosts using the
>     same realm names.
>
>   * Added support for specifying a virtual host name to use.
>
>   * Fixed problem with half-closed connections causing a
>     HttpRecoverableException to be thrown when HttpClient attempts to
> read
>     from a socket.
>
>   * Improved reliability with the HEAD method and servers that
>     incorrectly include a response body.
>
>   * Improved support for connection keep-alive when communicating via a
> proxy
>
>   * Added an override of HttpClient.executeMethod that lets the
>     caller specify an HttpState object.
>
>   * HttpConnectionManager is now a property of the HttpClient class,
>     not of the HttpState class
>
>   * Added ability to specify the local address that HttpClient should
>     create connections from.
>
> Thank you,
>
> Commons HttpClient Development Team
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: announcements-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: announcements-help@jakarta.apache.org

-----------------------------------------------------
Tetsuya Kitahata --  Terra-International, Inc.
E-mail: kitahata@bb.mbn.or.jp
http://www.terra-intl.com/
(Apache Jakarta Translation, Japanese)
http://jakarta.terra-intl.com/


From becke@u.washington.edu  Mon Jun  2 01:11:01 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 70261 invoked from network); 2 Jun 2003 01:11:01 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 2 Jun 2003 01:11:01 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout2.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h521B95R018980
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 1 Jun 2003 18:11:09 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h521B7Px016873
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 1 Jun 2003 18:11:09 -0700
Date: Sun, 1 Jun 2003 21:11:20 -0400
Subject: Re: [ANNOUNCE] Release of Commons HttpClient 2.0 Beta 1
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <20030602093030.EC8A.TETSUYA.KITAHATA@nifty.com>
Message-Id: <1ECBF5D2-9497-11D7-8937-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thank you for the support.  The jar appears to be on ibiblio now.  I'm=20=

looking in http://www.ibiblio.org/maven/commons-httpclient/jars/. =20
Thank you for spotting the error in downloads.html.  It will be fixed=20
when the site is next published.

Mike

On Sunday, June 1, 2003, at 08:37 PM, Tetsuya Kitahata wrote:

>
> Congratulations, Mike and all of HttpClient team.
>
> When will it be relected to ibiblio?
>
> And (IMHO) it is better to rewrite
> http://jakarta.apache.org/commons/httpclient/downloads.html
>
> <dependency>
>     <id>commons-httpclient</id>
>     <version>2.0-alpha3</version>
>     <url>http://jakarta.apache.org/commons/httpclient/</url>
> </dependency>
>
> to
>
> <dependency>
>     <id>commons-httpclient</id>
>     <version>2.0-beta1</version>
>     <url>http://jakarta.apache.org/commons/httpclient/</url>
> </dependency>
>
>
> Again, congratulations!!
>
> --
>
> On Sun, 1 Jun 2003 18:44:37 -0400
> (Subject: [ANNOUNCE] Release of Commons HttpClient 2.0 Beta 1)
> Michael Becke <becke@u.washington.edu> wrote:
>
>> The Jakarta Commons HttpClient team is proud to announce the release=20=

>> of
>> HttpClient 2.0 beta 1.  This is the first feature complete release of
>> HttpClient 2.0.  The focus for the rest of the 2.0 development will =
be
>> on bug fixes and documentation.  Please visit the HttpClient website
>> (http://jakarta.apache.org/commons/httpclient/) and download this
>> latest release.
>>
>> The following changes have been made since Alpha 3:
>>
>>   * Changed HttpConnection to use socket timeout instead of busy
>>     waiting while expecting input.
>>
>>   * Added a getResponseContentLength() method to HttpMethod.
>>
>>   * Changed HttpClient to accept correctly encoded URLs instead of
>>     attempting to encode them within HttpClient.
>>
>>   * 'Expect: 100-continue' logic factored out into an abstract
>>     ExpectContinueMethod class
>>
>>   * 'Expect: 100-Continue' handshake disabled per default, as it may=20=

>> not
>> work
>>     properly with older HTTP/1.0 servers or proxies.
>>
>>   * Reengineered authentication code.=0E =0F This includes a fix for
>>     HttpClient continually attempting to authenticate to digest =
realms
>> and
>>     provides for better future extensibility.
>>
>>   * Authenticator class deprecated
>>
>>   * Improved user documentation and example code.
>>
>>   * Added ability to differentiate between different hosts using the
>>     same realm names.
>>
>>   * Added support for specifying a virtual host name to use.
>>
>>   * Fixed problem with half-closed connections causing a
>>     HttpRecoverableException to be thrown when HttpClient attempts to
>> read
>>     from a socket.
>>
>>   * Improved reliability with the HEAD method and servers that
>>     incorrectly include a response body.
>>
>>   * Improved support for connection keep-alive when communicating via=20=

>> a
>> proxy
>>
>>   * Added an override of HttpClient.executeMethod that lets the
>>     caller specify an HttpState object.
>>
>>   * HttpConnectionManager is now a property of the HttpClient class,
>>     not of the HttpState class
>>
>>   * Added ability to specify the local address that HttpClient should
>>     create connections from.
>>
>> Thank you,
>>
>> Commons HttpClient Development Team
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: announcements-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: =
announcements-help@jakarta.apache.org
>
> -----------------------------------------------------
> Tetsuya Kitahata --  Terra-International, Inc.
> E-mail: kitahata@bb.mbn.or.jp
> http://www.terra-intl.com/
> (Apache Jakarta Translation, Japanese)
> http://jakarta.terra-intl.com/
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:=20
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:=20
> commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Mon Jun  2 02:28:55 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 20905 invoked from network); 2 Jun 2003 02:28:55 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 2 Jun 2003 02:28:55 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h522T4RG032211
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 1 Jun 2003 19:29:04 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h522T2cw008609
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 1 Jun 2003 19:29:04 -0700
Date: Sun, 1 Jun 2003 22:29:17 -0400
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: [VOTE] nominate Adrian Sutton for committer status
From: Michael Becke <becke@u.washington.edu>
To: Commons Project <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
Message-Id: <028BAFC6-94A2-11D7-8937-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian Sutton has been an active contributor to HttpClient for some
time now.  He has been a consistent and reliable contributor, and in
particular his work with NTLM and the developer documentation has been
invaluable.

I would like to nominate Adrian Sutton for HttpClient committer status.

Please vote as follows:
+1 = Yes
0 = abstain
-1 = no

Mike


From becke@u.washington.edu  Mon Jun  2 02:32:27 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 24434 invoked from network); 2 Jun 2003 02:32:27 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 2 Jun 2003 02:32:27 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h522WaRG032379
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 1 Jun 2003 19:32:36 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h522WYcw008693
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 1 Jun 2003 19:32:35 -0700
Date: Sun, 1 Jun 2003 22:32:49 -0400
Subject: Re: [VOTE] nominate Adrian Sutton for committer status
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <028BAFC6-94A2-11D7-8937-00306557E112@u.washington.edu>
Message-Id: <80D5783B-94A2-11D7-8937-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

+1

On Sunday, June 1, 2003, at 10:29 PM, Michael Becke wrote:

> Adrian Sutton has been an active contributor to HttpClient for some
> time now.  He has been a consistent and reliable contributor, and in
> particular his work with NTLM and the developer documentation has been
> invaluable.
>
> I would like to nominate Adrian Sutton for HttpClient committer status.
>
> Please vote as follows:
> +1 = Yes
> 0 = abstain
> -1 = no
>
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From brett@knightsofthenet.com  Mon Jun  2 02:54:55 2003
Return-Path: <brett@knightsofthenet.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 52735 invoked from network); 2 Jun 2003 02:54:55 -0000
Received: from h24-67-142-106.cc.shawcable.net (HELO parsival.knightsofthenet.com) (24.67.142.106)
  by daedalus.apache.org with SMTP; 2 Jun 2003 02:54:55 -0000
Received: (qmail 5171 invoked by uid 0); 2 Jun 2003 00:47:20 -0000
Received: from unknown (HELO BrettPC) (192.168.1.5)
  by 192.168.1.11 with SMTP; 2 Jun 2003 00:47:20 -0000
Message-ID: <006501c328b2$48ff5a90$0501a8c0@knightsofthenet.com>
From: "Brett Knights" <brett@knightsofthenet.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <2A6372A8-9233-11D7-AA41-00306557E112@u.washington.edu> <3ED6A9A4.1080406@xtensible.com>
Subject: Re: Java can leak...
Date: Sun, 1 Jun 2003 19:54:28 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

A useful profiler is included with the JSDK. Just check the
documentation for the java -Xrunhprof option.

HTH

Brett Knights


----- Original Message -----
From: "Jan Gonsalves" <JGonsalves@xtensible.com>
To: "Commons HttpClient Project"
<commons-httpclient-dev@jakarta.apache.org>
Sent: Thursday, May 29, 2003 5:45 PM
Subject: Re: Java can leak...


> We need to do more investigation on our side for sure, I just wanted
to
> know if anyone had noticed memory leaks over long recycled
connections.
> The JVM my app runs in alots 768Mb as the max, but I work in
conjunction
> with serveral apps.  I'm the only app using HttpClient.  When I run
and
> I really get going processing large chunks of data memory usage for
the
> system really takes a hit.  My personal memory footprint based off
qps
> for linux says I max out at about 380mb.  If I loose a reference to
an
> object ROOT has, does that count against my memory usage or does
that
> consume memory but no under a particular JVM?
>
> My personal belief is that my app does things a new way in our
system
> and I'm putting stress on other objects in the system that aren't
> normally accustomed to it and they are having difficulty.  Anyone
know
> of a good, user friendly (read inexperienced to memory profilling)
> application?
>
> Jan
>
> Michael Becke wrote:
>
> > My impression of your first email was that the server had used up
the
> > 4GB of memory.  Are you saying it was HttpClient?  If so, you must
> > have run the JVM and specified the max heap size to something like
> > -Xmx4GB.  If that's the case then this is probably something you
don't
> > want to do.  Once Java gets over the minimum heap size, specified
by
> > -Xms, it will continue to expand all the way up to the max, even
if it
> > doesn't need to.  Once the JVM allocates memory to the heap it
never
> > releases it.  Is this what's happening?
> >
> > Mike
> >
> > On Thursday, May 29, 2003, at 06:09 PM, Jan Gonsalves wrote:
> >
> >> Oleg,
> >>
> >> I understand what you mean my mem alloc, but Java can leak, it's
a
> >> proven fact.  Anytime ROOT has a reference to something it makes
it
> >> unable to GC, however, if you loose your reference and ROOT still
has
> >> it's, that's a memory leak.  ROOT will never GC that memory.  Ask
> >> youself this, if Memory leaks were impossible in JAVA, how can
> >> programs such as JProfiler or OptimizIt sell?
> >>
> >> Jan
> >>
> >> Oleg Kalnichevski wrote:
> >>
> >>> Jan,
> >>>
> >>> HttpClient is a pure Java application and as such does not
manage
> >>> memory
> >>> allocation directly. I suggest that you check if there are any
known
> >>> issues with the jvm you are using. Upgrading to HttpClient
beta-1 would
> >>> not hurt, anyways.
> >>>
> >>> Oleg
> >>>
> >>>
> >>> On Thu, 2003-05-29 at 16:36, Jan Gonsalves wrote:
> >>>
> >>>> Does anyone know of any memory issues with opening a connection
and
> >>>> continuely re-using it, only closing it when a socket timeout
> >>>> happens? I'm currently using ALPHA 3.  I have to "fake out a
> >>>> browser" and navigate through a website to extract information
> >>>> because they don't offer a straight DB connection.  I re-use
this
> >>>> connection the whole time, never closing it, only recycling it,
> >>>> unless I get a socket timeout, ConnectionException, or
> >>>> HTTPRecoverableException.  Our Production server has 4GB of
ram.
> >>>> Last night we ran and the system went down to 4MB free, 4!  I'm
> >>>> just wondering if I'm leaking due to HTTP Client.  I've gone
over
> >>>> my stuff and it looks relatively solid, I'm wondering now if
I'm
> >>>> using HttpClient incorrectly.  Does Beta 1 help with any memory
> >>>> issues?
> >>>>
> >>>> Jan Gonsalves
> >>>>
> >>>>
>
>>>> -----------------------------------------------------------------
----
> >>>> To unsubscribe, e-mail:
> >>>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> >>>> For additional commands, e-mail:
> >>>> commons-httpclient-dev-help@jakarta.apache.org
> >>>>
> >>>>
> >>>
> >>>
>
>>> ------------------------------------------------------------------
---
> >>> To unsubscribe, e-mail:
> >>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> >>> For additional commands, e-mail:
> >>> commons-httpclient-dev-help@jakarta.apache.org
> >>>
> >>>
> >>>
> >>
> >>
>
>> -------------------------------------------------------------------
--
> >> To unsubscribe, e-mail:
> >> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail:
> >> commons-httpclient-dev-help@jakarta.apache.org
> >>
> >
> >
>
> --------------------------------------------------------------------
-
> > To unsubscribe, e-mail:
> > commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > commons-httpclient-dev-help@jakarta.apache.org
> >
> >
>
>
> --------------------------------------------------------------------
-
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>
>
>



From olegk@apache.org  Mon Jun  2 06:05:47 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 96435 invoked from network); 2 Jun 2003 06:05:47 -0000
Received: from mail5.bluewin.ch (195.186.1.207)
  by daedalus.apache.org with SMTP; 2 Jun 2003 06:05:47 -0000
Received: from [192.168.1.50] (62.203.183.193) by mail5.bluewin.ch (Bluewin AG 7.0.015)
        id 3ECE03BE0011466D for commons-httpclient-dev@jakarta.apache.org; Mon, 2 Jun 2003 06:05:57 +0000
Subject: Re: [VOTE] nominate Adrian Sutton for committer status
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <028BAFC6-94A2-11D7-8937-00306557E112@u.washington.edu>
References: <028BAFC6-94A2-11D7-8937-00306557E112@u.washington.edu>
Content-Type: text/plain
Organization:
Message-Id: <1054533942.2481.135.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5)
Date: 02 Jun 2003 08:05:42 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

+1

Oleg

On Mon, 2003-06-02 at 04:29, Michael Becke wrote:
> Adrian Sutton has been an active contributor to HttpClient for some
> time now.  He has been a consistent and reliable contributor, and in
> particular his work with NTLM and the developer documentation has been
> invaluable.
>
> I would like to nominate Adrian Sutton for HttpClient committer status.
>
> Please vote as follows:
> +1 = Yes
> 0 = abstain
> -1 = no
>
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From martinc@milliontech.com  Mon Jun  2 07:02:26 2003
Return-Path: <martinc@milliontech.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 56375 invoked from network); 2 Jun 2003 07:02:26 -0000
Received: from mail.milliontech.com (210.17.151.186)
  by daedalus.apache.org with SMTP; 2 Jun 2003 07:02:26 -0000
Received: from milliontech.com ([192.168.168.66])
	by mail.milliontech.com (8.11.6/8.11.6) with ESMTP id h5272Z903782
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 15:02:36 +0800
Message-ID: <3EDAF657.5040605@milliontech.com>
Date: Mon, 02 Jun 2003 15:01:43 +0800
From: Martin Chan <martinc@milliontech.com>
User-Agent: Mozilla/5.0 (Windows; U; Win 9x 4.90; en-US; rv:1.0.1) Gecko/20020823 Netscape/7.0
X-Accept-Language: en-us
MIME-Version: 1.0
To: commons-httpclient-dev@jakarta.apache.org
Subject: MultipartPostMethod takes long time to execute
Content-Type: text/plain; charset=Big5
Content-Transfer-Encoding: 7bit
X-RAVMilter-Version: 8.4.1(snapshot 20020919) (mail.milliontech.com)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I use MultipartPostMethod to do upload, but I found that it takes 3-4
seconds to execute even for a very small file (<1KB).
int status = httpClient.executeMethod(filePost);

Does anyone have the same problem? How to improve the speed?


I also found that the HttpClient fragment the post method to many
packets, each with a few adte byte in content. Can we change it?

Thanks,

Martin Chan


From ortwin.glueck@nose.ch  Mon Jun  2 07:05:34 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 63677 invoked from network); 2 Jun 2003 07:05:34 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 2 Jun 2003 07:05:34 -0000
Received: (qmail 22384 invoked from network); 2 Jun 2003 07:05:44 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 2 Jun 2003 07:05:44 -0000
Message-ID: <3EDAF748.1030903@nose.ch>
Date: Mon, 02 Jun 2003 09:05:44 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] nominate Adrian Sutton for committer status
References: <028BAFC6-94A2-11D7-8937-00306557E112@u.washington.edu>
In-Reply-To: <028BAFC6-94A2-11D7-8937-00306557E112@u.washington.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

+1

Adrian's work is excellent.

Michael Becke wrote:

> Adrian Sutton has been an active contributor to HttpClient for some time
> now.  He has been a consistent and reliable contributor, and in
> particular his work with NTLM and the developer documentation has been
> invaluable.
>
> I would like to nominate Adrian Sutton for HttpClient committer status.
>
> Please vote as follows:
> +1 = Yes
> 0 = abstain
> -1 = no
>
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org

--
_________________________________________________________________
  NOSE applied intelligence ag
                                    [www]      http://www.nose.ch
  ortwin glück                      [email] ortwin.glueck@nose.ch
  hardturmstrasse 171               [pgp key]          0x81CF3416
  8005 zurich                       [office]      +41-1-277 57 35
  switzerland                       [fax]         +41-1-277 57 12


From ortwin.glueck@nose.ch  Mon Jun  2 07:07:24 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 64437 invoked from network); 2 Jun 2003 07:07:24 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 2 Jun 2003 07:07:24 -0000
Received: (qmail 22430 invoked from network); 2 Jun 2003 07:07:34 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 2 Jun 2003 07:07:34 -0000
Message-ID: <3EDAF7B6.8040106@nose.ch>
Date: Mon, 02 Jun 2003 09:07:34 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Https, ProxyAuthentication and HttpClient
References: <112E76E264F9D611B7BD00508BBD0275019D0273@dxbafex2.hq.emirates.com>
In-Reply-To: <112E76E264F9D611B7BD00508BBD0275019D0273@dxbafex2.hq.emirates.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You should be aware of this bug as well:

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20089

Workarounds are proposed in the bug notes.


From ortwin.glueck@nose.ch  Mon Jun  2 07:13:26 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 66256 invoked from network); 2 Jun 2003 07:13:26 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 2 Jun 2003 07:13:26 -0000
Received: (qmail 22493 invoked from network); 2 Jun 2003 07:13:38 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 2 Jun 2003 07:13:38 -0000
Message-ID: <3EDAF921.4080007@nose.ch>
Date: Mon, 02 Jun 2003 09:13:37 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: MultipartPostMethod takes long time to execute
References: <3EDAF657.5040605@milliontech.com>
In-Reply-To: <3EDAF657.5040605@milliontech.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Martin Chan wrote:
> Hi,
>
> I use MultipartPostMethod to do upload, but I found that it takes 3-4
> seconds to execute even for a very small file (<1KB).
> int status = httpClient.executeMethod(filePost);
>
> Does anyone have the same problem? How to improve the speed?
>
>
> I also found that the HttpClient fragment the post method to many
> packets, each with a few adte byte in content. Can we change it?
>
> Thanks,
>
> Martin Chan

This can have two reasons:

- When TCP_NODELAY is set and the data is delivered to slow, the data
may fragment more than with TCP_NODELAY disabled.

- There can be a wait time involved due to 100-Continue handshake. Try
and disable 100-Continue handshake.


From oleg.kalnichevski@bearingpoint.com  Mon Jun  2 07:25:14 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 83477 invoked from network); 2 Jun 2003 07:25:14 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 2 Jun 2003 07:25:14 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 2 Jun 2003 07:27:06 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="big5"
Content-Transfer-Encoding: quoted-printable
Subject: RE: MultipartPostMethod takes long time to execute
Date: Mon, 2 Jun 2003 08:25:21 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE53E@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: MultipartPostMethod takes long time to execute
Thread-Index: AcMo1QU8n2R2tQ1STX+HQjCYnHvFKAAAjHzA
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 02 Jun 2003 07:27:06.0562 (UTC) FILETIME=[5ED5C220:01C328D8]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Martin,=20
I suppose you are running HttpClient 2.0alpha3 which is known to have a =
few issues with 'expect: 100-continue' handshake. Please upgrade to =
2.0beta1. If the problem still persists after the upgrade, please follow =
the instructions of the trouble shooting guide:

http://jakarta.apache.org/commons/httpclient/troubleshooting.html

Oleg=20

-----Original Message-----
From: Martin Chan [mailto:martinc@milliontech.com]
Sent: Monday, June 02, 2003 09:02
To: commons-httpclient-dev@jakarta.apache.org
Subject: MultipartPostMethod takes long time to execute


Hi,

I use MultipartPostMethod to do upload, but I found that it takes 3-4
seconds to execute even for a very small file (<1KB).
int status =3D httpClient.executeMethod(filePost);

Does anyone have the same problem? How to improve the speed?


I also found that the HttpClient fragment the post method to many
packets, each with a few adte byte in content. Can we change it?

Thanks,

Martin Chan


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From martinc@milliontech.com  Mon Jun  2 07:42:49 2003
Return-Path: <martinc@milliontech.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 9537 invoked from network); 2 Jun 2003 07:42:49 -0000
Received: from mail.milliontech.com (210.17.151.186)
  by daedalus.apache.org with SMTP; 2 Jun 2003 07:42:49 -0000
Received: from milliontech.com ([192.168.168.66])
	by mail.milliontech.com (8.11.6/8.11.6) with ESMTP id h527h0904877
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 15:43:00 +0800
Message-ID: <3EDAFFCF.1050001@milliontech.com>
Date: Mon, 02 Jun 2003 15:42:07 +0800
From: Martin Chan <martinc@milliontech.com>
User-Agent: Mozilla/5.0 (Windows; U; Win 9x 4.90; en-US; rv:1.0.1) Gecko/20020823 Netscape/7.0
X-Accept-Language: en-us
MIME-Version: 1.0
To: Commons HttpClient Project
 <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: MultipartPostMethod takes long time to execute
References: <3EDAF657.5040605@milliontech.com> <3EDAF921.4080007@nose.ch>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-RAVMilter-Version: 8.4.1(snapshot 20020919) (mail.milliontech.com)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks Ortwin, I added "filePost.setUseExpectHeader(false);" and it works.

Ortwin Glück wrote:

> Martin Chan wrote:
>
>> Hi,
>>
>> I use MultipartPostMethod to do upload, but I found that it takes 3-4
>> seconds to execute even for a very small file (<1KB).
>> int status = httpClient.executeMethod(filePost);
>>
>> Does anyone have the same problem? How to improve the speed?
>>
>>
>> I also found that the HttpClient fragment the post method to many
>> packets, each with a few adte byte in content. Can we change it?
>>
>> Thanks,
>>
>> Martin Chan
>
>
> This can have two reasons:
>
> - When TCP_NODELAY is set and the data is delivered to slow, the data
> may fragment more than with TCP_NODELAY disabled.
>
> - There can be a wait time involved due to 100-Continue handshake. Try
> and disable 100-Continue handshake.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org




From martinc@milliontech.com  Mon Jun  2 07:44:52 2003
Return-Path: <martinc@milliontech.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 12175 invoked from network); 2 Jun 2003 07:44:52 -0000
Received: from mail.milliontech.com (210.17.151.186)
  by daedalus.apache.org with SMTP; 2 Jun 2003 07:44:52 -0000
Received: from milliontech.com ([192.168.168.66])
	by mail.milliontech.com (8.11.6/8.11.6) with ESMTP id h527j1904925
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 15:45:01 +0800
Message-ID: <3EDB0049.9020600@milliontech.com>
Date: Mon, 02 Jun 2003 15:44:09 +0800
From: Martin Chan <martinc@milliontech.com>
User-Agent: Mozilla/5.0 (Windows; U; Win 9x 4.90; en-US; rv:1.0.1) Gecko/20020823 Netscape/7.0
X-Accept-Language: en-us
MIME-Version: 1.0
To: Commons HttpClient Project
 <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: MultipartPostMethod takes long time to execute
References: <825BF35A92B3F0479CC164ECBBE9376E0DE53E@kccxoex06.corp.kpmgconsulting.com>
Content-Type: text/plain; charset=Big5
Content-Transfer-Encoding: 7bit
X-RAVMilter-Version: 8.4.1(snapshot 20020919) (mail.milliontech.com)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Kalnichevski, Oleg wrote:

>Martin,
>I suppose you are running HttpClient 2.0alpha3 which is known to have a few issues with 'expect: 100-continue' handshake. Please upgrade to
>
Yes, and sorry that I haven't tell which version I use in the pervious
email.

>2.0beta1. If the problem still persists after the upgrade, please follow the instructions of the trouble shooting guide:
>
I'll try it, Thanks.

>
>http://jakarta.apache.org/commons/httpclient/troubleshooting.html
>
>Oleg
>
>-----Original Message-----
>From: Martin Chan [mailto:martinc@milliontech.com]
>Sent: Monday, June 02, 2003 09:02
>To: commons-httpclient-dev@jakarta.apache.org
>Subject: MultipartPostMethod takes long time to execute
>
>
>Hi,
>
>I use MultipartPostMethod to do upload, but I found that it takes 3-4
>seconds to execute even for a very small file (<1KB).
>int status = httpClient.executeMethod(filePost);
>
>Does anyone have the same problem? How to improve the speed?
>
>
>I also found that the HttpClient fragment the post method to many
>packets, each with a few adte byte in content. Can we change it?
>
>Thanks,
>
>Martin Chan
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>
>



From anonymous@nagoya.betaversion.org  Mon Jun  2 08:58:32 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 24358 invoked from network); 2 Jun 2003 08:58:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Jun 2003 08:58:32 -0000
Received: (qmail 12260 invoked by uid 50); 2 Jun 2003 09:00:56 -0000
Date: 2 Jun 2003 09:00:56 -0000
Message-ID: <20030602090056.12259.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20240]  -
    Cookies with null path attribute are rejected in the compatibility mode
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20240>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20240

Cookies with null path attribute are rejected in the compatibility mode

mvera@genigraph.fr changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|RESOLVED                    |VERIFIED



------- Additional Comments From mvera@genigraph.fr  2003-06-02 09:00 -------
Ok, I compiled from CVS source and now it works for me.

From mike_moran@mac.com  Mon Jun  2 10:58:18 2003
Return-Path: <mike_moran@mac.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 3775 invoked from network); 2 Jun 2003 10:58:18 -0000
Received: from a17-250-248-87.apple.com (HELO smtpout.mac.com) (17.250.248.87)
  by daedalus.apache.org with SMTP; 2 Jun 2003 10:58:18 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h52AwGUJ026492
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 03:58:17 -0700 (PDT)
Received: from mac.com ([212.20.254.120])
	(authenticated bits=0)
	by mac.com (Xserve/MantshX 2.0) with ESMTP id h52AvRsZ014857
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 03:57:30 -0700 (PDT)
Message-ID: <3EDB2D82.2010003@mac.com>
Date: Mon, 02 Jun 2003 11:57:06 +0100
From: Mike Moran <mike_moran@mac.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030210
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: 300 Multiple Choices handling?
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I was just skimming through the updated site and I noticed:

http://jakarta.apache.org/commons/httpclient/redirects.html

It explictly mentions 301/2/3/7 but makes no mention of 300 (Multiple
Choices). I wouldn't expect any client library to handle these
programmatically since the format of the body is undefined, but I'm
slightly concerned about the example code which would recommend treating
a 300 as if it was a 404 or some other sort of error.

I don't have the latest code up and running here to test what it would
do. A reasonable example of a 300 is:
http://www.blooberry.com//indexdotpreview/html/index8.htm. I'd be
thankful if someone could test what HttpClient does on such a page.

--
Mike Moran



From adrian@intencha.com  Mon Jun  2 11:42:12 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 85672 invoked from network); 2 Jun 2003 11:42:12 -0000
Received: from mail3.nshosts.com (216.58.174.138)
  by daedalus.apache.org with SMTP; 2 Jun 2003 11:42:12 -0000
Received: from intencha.com (unverified [150.101.177.172]) by mail3.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0054203414@mail3.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Mon, 2 Jun 2003 05:41:17 -0600
Date: Mon, 2 Jun 2003 21:42:13 +1000
Subject: Re: 300 Multiple Choices handling?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EDB2D82.2010003@mac.com>
Message-Id: <40D8BAE6-94EF-11D7-9B88-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Mike,
HttpClient returns 300 as the status code as would be expected in such
a case.  The developer is then free to select whichever option they
want.  The URL you gave however return 302 not 300 and HttpClient
throws an exception because cross-site redirects are not supported.

I'll create a patch for the docs to mention 300 responses.  Anything
particularly important about them that I should note?

Regards,

Adrian Sutton.

On Monday, June 2, 2003, at 08:57  PM, Mike Moran wrote:

> I was just skimming through the updated site and I noticed:
>
> http://jakarta.apache.org/commons/httpclient/redirects.html
>
> It explictly mentions 301/2/3/7 but makes no mention of 300 (Multiple
> Choices). I wouldn't expect any client library to handle these
> programmatically since the format of the body is undefined, but I'm
> slightly concerned about the example code which would recommend
> treating a 300 as if it was a 404 or some other sort of error.
>
> I don't have the latest code up and running here to test what it would
> do. A reasonable example of a 300 is:
> http://www.blooberry.com//indexdotpreview/html/index8.htm. I'd be
> thankful if someone could test what HttpClient does on such a page.
>
> --
> Mike Moran
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From ortwin.glueck@nose.ch  Mon Jun  2 11:54:41 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 9020 invoked from network); 2 Jun 2003 11:54:41 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 2 Jun 2003 11:54:41 -0000
Received: (qmail 27982 invoked from network); 2 Jun 2003 11:54:40 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 2 Jun 2003 11:54:40 -0000
Message-ID: <3EDB3AFF.2030709@nose.ch>
Date: Mon, 02 Jun 2003 13:54:39 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: 300 Multiple Choices handling?
References: <3EDB2D82.2010003@mac.com>
In-Reply-To: <3EDB2D82.2010003@mac.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Has anybody ever seen a 300 in the wild?


From mike_moran@mac.com  Mon Jun  2 11:58:20 2003
Return-Path: <mike_moran@mac.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 13069 invoked from network); 2 Jun 2003 11:58:20 -0000
Received: from a17-250-248-86.apple.com (HELO smtpout.mac.com) (17.250.248.86)
  by daedalus.apache.org with SMTP; 2 Jun 2003 11:58:20 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h52BwH08025598
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 04:58:20 -0700 (PDT)
Received: from mac.com ([212.20.254.120])
	(authenticated bits=0)
	by mac.com (Xserve/MantshX 2.0) with ESMTP id h52BvcsZ024511
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 04:57:40 -0700 (PDT)
Message-ID: <3EDB3BA3.6060108@mac.com>
Date: Mon, 02 Jun 2003 12:57:23 +0100
From: Mike Moran <mike_moran@mac.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030210
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: 300 Multiple Choices handling?
References: <40D8BAE6-94EF-11D7-9B88-000393016056@intencha.com>
In-Reply-To: <40D8BAE6-94EF-11D7-9B88-000393016056@intencha.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian Sutton wrote:
> Hi Mike,
> HttpClient returns 300 as the status code as would be expected in such a
> case.

Sounds reasonable. Does it also make the body available in this case?

The developer is then free to select whichever option they want.
> The URL you gave however return 302 not 300 and HttpClient throws an
> exception because cross-site redirects are not supported.

Umm. I think HttpClient and wget must disagree:

$ wget --server-response
http://www.blooberry.com//indexdotpreview/html/index8.htm
--12:48:55--  http://www.blooberry.com//indexdotpreview/html/index8.htm
            => `index8.htm'
Resolving www.blooberry.com... done.
Connecting to www.blooberry.com[204.122.16.82]:80... connected.
HTTP request sent, awaiting response...
  1 HTTP/1.1 300 Multiple Choices

...

A telnet to port 80 for that page also gives 300 Multiple Choices.

> I'll create a patch for the docs to mention 300 responses.  Anything
> particularly important about them that I should note?

I'm not sure what the docs should say other than pointing out that
you'll need to parse or display the body in some non-HTTP way to get any
sense out of it.

--
Mike Moran



From adrian@intencha.com  Mon Jun  2 11:59:12 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 14004 invoked from network); 2 Jun 2003 11:59:12 -0000
Received: from mail3.nshosts.com (216.58.174.138)
  by daedalus.apache.org with SMTP; 2 Jun 2003 11:59:12 -0000
Received: from intencha.com (unverified [150.101.177.172]) by mail3.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0054204432@mail3.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Mon, 2 Jun 2003 05:58:17 -0600
Date: Mon, 2 Jun 2003 21:59:07 +1000
Subject: Re: 300 Multiple Choices handling?
Content-Type: text/plain; delsp=yes; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <3EDB3AFF.2030709@nose.ch>
Message-Id: <9D301B90-94F1-11D7-9B88-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Only when I went searching for them. :)

http://www.who.int/world-health-day/index.en.shtml

and for all the examples Google knows about:

http://www.google.com/search?q=3DHTTP+300+%22Multiple+Choices%22&ie=3DUTF-=
=20
8&oe=3DUTF-8

I quite like the www.who.int idea of doing a search for the document =20
and returning the results.

Adrian.

On Monday, June 2, 2003, at 09:54  PM, Ortwin Gl=FCck wrote:

> Has anybody ever seen a 300 in the wild?
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: =20
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: =20
> commons-httpclient-dev-help@jakarta.apache.org
>


From mike_moran@mac.com  Mon Jun  2 12:00:25 2003
Return-Path: <mike_moran@mac.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 15074 invoked from network); 2 Jun 2003 12:00:25 -0000
Received: from a17-250-248-85.apple.com (HELO smtpout.mac.com) (17.250.248.85)
  by daedalus.apache.org with SMTP; 2 Jun 2003 12:00:25 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h52C0O4m023462
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 05:00:25 -0700 (PDT)
Received: from mac.com ([212.20.254.120])
	(authenticated bits=0)
	by mac.com (Xserve/MantshX 2.0) with ESMTP id h52BxgXG028453
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 04:59:44 -0700 (PDT)
Message-ID: <3EDB3C1F.5000505@mac.com>
Date: Mon, 02 Jun 2003 12:59:27 +0100
From: Mike Moran <mike_moran@mac.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030210
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: 300 Multiple Choices handling?
References: <3EDB2D82.2010003@mac.com> <3EDB3AFF.2030709@nose.ch>
In-Reply-To: <3EDB3AFF.2030709@nose.ch>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ortwin Glück wrote:
> Has anybody ever seen a 300 in the wild?

Yes. I gave an example in the email I sent. This page is linked to on
that site.

However, I would say that they aren't numerous.

--
Mike Moran




From adrian@intencha.com  Mon Jun  2 12:11:16 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 43833 invoked from network); 2 Jun 2003 12:11:16 -0000
Received: from mail3.nshosts.com (216.58.174.138)
  by daedalus.apache.org with SMTP; 2 Jun 2003 12:11:16 -0000
Received: from intencha.com (unverified [150.101.177.172]) by mail3.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0054205244@mail3.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Mon, 2 Jun 2003 06:10:22 -0600
Date: Mon, 2 Jun 2003 22:11:18 +1000
Subject: Re: 300 Multiple Choices handling?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EDB3BA3.6060108@mac.com>
Message-Id: <508D1C08-94F3-11D7-9B88-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Monday, June 2, 2003, at 09:57  PM, Mike Moran wrote:

> Adrian Sutton wrote:
>> Hi Mike,
>> HttpClient returns 300 as the status code as would be expected in
>> such a case.
>
> Sounds reasonable. Does it also make the body available in this case?

Yes, the retrieved document is always available and (as everyone should
know by now :) furthermore *must* always be read to avoid problems.  To
make life easier when you call releaseConnection on a method any
remaining response body is read before the connection is put back into
the pool.

> The developer is then free to select whichever option they want.
>> The URL you gave however return 302 not 300 and HttpClient throws an
>> exception because cross-site redirects are not supported.
>
> Umm. I think HttpClient and wget must disagree:
>
> $ wget --server-response
> http://www.blooberry.com//indexdotpreview/html/index8.htm
> --12:48:55--  http://www.blooberry.com//indexdotpreview/html/index8.htm
>            => `index8.htm'
> Resolving www.blooberry.com... done.
> Connecting to www.blooberry.com[204.122.16.82]:80... connected.
> HTTP request sent, awaiting response...
>  1 HTTP/1.1 300 Multiple Choices
>
> ...
>
> A telnet to port 80 for that page also gives 300 Multiple Choices.

Interesting....  I do get a 300 from telnet, but a 302 from HttpClient:
302
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<TITLE>302 Found</TITLE>
</HEAD><BODY>
<H1>Found</H1>
The document has moved <A
HREF="http://www.eskimo.com/notfound.html">here</A>.<P>
</BODY></HTML>

I'll have to play around with some logging information to find out
exactly what's happening, but I have used a hand crafted response to
show that HttpClient will return the 300 status code.

>> I'll create a patch for the docs to mention 300 responses.  Anything
>> particularly important about them that I should note?
>
> I'm not sure what the docs should say other than pointing out that
> you'll need to parse or display the body in some non-HTTP way to get
> any sense out of it.

There's actually a few status codes in the 3xx range that need a
special mention so I'm adding them all in now.  The concept of a 304
Not Modified is wierd, it's effectively a redirect to cache but that's
not the way I'd ever thought of it.

> Mike Moran

Regards,

Adrian Sutton.


From mike_moran@mac.com  Mon Jun  2 12:23:17 2003
Return-Path: <mike_moran@mac.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 55202 invoked from network); 2 Jun 2003 12:23:17 -0000
Received: from smtpout.mac.com (17.250.248.97)
  by daedalus.apache.org with SMTP; 2 Jun 2003 12:23:17 -0000
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h52CNH2E019061
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 05:23:18 -0700 (PDT)
Received: from mac.com ([212.20.254.120])
	(authenticated bits=0)
	by mac.com (Xserve/MantshX 2.0) with ESMTP id h52CMKsZ011677
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 05:22:23 -0700 (PDT)
Message-ID: <3EDB416D.1040003@mac.com>
Date: Mon, 02 Jun 2003 13:22:05 +0100
From: Mike Moran <mike_moran@mac.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030210
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: 300 Multiple Choices handling?
References: <508D1C08-94F3-11D7-9B88-000393016056@intencha.com>
In-Reply-To: <508D1C08-94F3-11D7-9B88-000393016056@intencha.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian Sutton wrote:
>
> On Monday, June 2, 2003, at 09:57  PM, Mike Moran wrote:
>
>> Adrian Sutton wrote:
[ ... ]
>> Umm. I think HttpClient and wget must disagree:
>>
>> $ wget --server-response
>> http://www.blooberry.com//indexdotpreview/html/index8.htm
>> --12:48:55--  http://www.blooberry.com//indexdotpreview/html/index8.htm
>>            => `index8.htm'
>> Resolving www.blooberry.com... done.
>> Connecting to www.blooberry.com[204.122.16.82]:80... connected.
>> HTTP request sent, awaiting response...
>>  1 HTTP/1.1 300 Multiple Choices
>>
>> ...
>>
>> A telnet to port 80 for that page also gives 300 Multiple Choices.
>
>
> Interesting....  I do get a 300 from telnet, but a 302 from HttpClient:
> 302
> <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
> <HTML><HEAD>
> <TITLE>302 Found</TITLE>
> </HEAD><BODY>
> <H1>Found</H1>
> The document has moved <A
> HREF="http://www.eskimo.com/notfound.html">here</A>.<P>
> </BODY></HTML>
[ ... ]

I wonder... is HttpClient perhaps parsing out "www.blooberry.com/" as
the value for the Host: header? My URL is slightly bogus, though perhaps
technically valid. What happens with:
http://www.blooberry.com/indexdotpreview/html/index8.htm
(Note no double slash)

www.eskimo.com and www.blooberry.com appear to be on the same subnet;
www.eskimo.com is perhaps the default VirtualHost.

Just wondering ...

--
Mike Moran


From becke@u.washington.edu  Mon Jun  2 12:26:17 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 56588 invoked from network); 2 Jun 2003 12:26:17 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 2 Jun 2003 12:26:17 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h52CQHSL025533
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 05:26:17 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h52CQFPx028953
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 05:26:16 -0700
Date: Mon, 2 Jun 2003 08:26:13 -0400
Subject: Re: 300 Multiple Choices handling?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <508D1C08-94F3-11D7-9B88-000393016056@intencha.com>
Message-Id: <661A1674-94F5-11D7-AD6D-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

My guess is that it responds 300 for HTTP 1.0 and 302 for HTTP 1.1.
Just a guess.

Mike

On Monday, June 2, 2003, at 08:11 AM, Adrian Sutton wrote:

>
> On Monday, June 2, 2003, at 09:57  PM, Mike Moran wrote:
>
>> Adrian Sutton wrote:
>>> Hi Mike,
>>> HttpClient returns 300 as the status code as would be expected in
>>> such a case.
>>
>> Sounds reasonable. Does it also make the body available in this case?
>
> Yes, the retrieved document is always available and (as everyone
> should know by now :) furthermore *must* always be read to avoid
> problems.  To make life easier when you call releaseConnection on a
> method any remaining response body is read before the connection is
> put back into the pool.
>
>> The developer is then free to select whichever option they want.
>>> The URL you gave however return 302 not 300 and HttpClient throws an
>>> exception because cross-site redirects are not supported.
>>
>> Umm. I think HttpClient and wget must disagree:
>>
>> $ wget --server-response
>> http://www.blooberry.com//indexdotpreview/html/index8.htm
>> --12:48:55--
>> http://www.blooberry.com//indexdotpreview/html/index8.htm
>>            => `index8.htm'
>> Resolving www.blooberry.com... done.
>> Connecting to www.blooberry.com[204.122.16.82]:80... connected.
>> HTTP request sent, awaiting response...
>>  1 HTTP/1.1 300 Multiple Choices
>>
>> ...
>>
>> A telnet to port 80 for that page also gives 300 Multiple Choices.
>
> Interesting....  I do get a 300 from telnet, but a 302 from HttpClient:
> 302
> <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
> <HTML><HEAD>
> <TITLE>302 Found</TITLE>
> </HEAD><BODY>
> <H1>Found</H1>
> The document has moved <A
> HREF="http://www.eskimo.com/notfound.html">here</A>.<P>
> </BODY></HTML>
>
> I'll have to play around with some logging information to find out
> exactly what's happening, but I have used a hand crafted response to
> show that HttpClient will return the 300 status code.
>
>>> I'll create a patch for the docs to mention 300 responses.  Anything
>>> particularly important about them that I should note?
>>
>> I'm not sure what the docs should say other than pointing out that
>> you'll need to parse or display the body in some non-HTTP way to get
>> any sense out of it.
>
> There's actually a few status codes in the 3xx range that need a
> special mention so I'm adding them all in now.  The concept of a 304
> Not Modified is wierd, it's effectively a redirect to cache but that's
> not the way I'd ever thought of it.
>
>> Mike Moran
>
> Regards,
>
> Adrian Sutton.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From adrian@intencha.com  Mon Jun  2 12:29:59 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 61654 invoked from network); 2 Jun 2003 12:29:59 -0000
Received: from mail3.nshosts.com (216.58.174.138)
  by daedalus.apache.org with SMTP; 2 Jun 2003 12:29:59 -0000
Received: from intencha.com (unverified [150.101.177.172]) by mail3.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0054206097@mail3.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Mon, 2 Jun 2003 06:29:05 -0600
Date: Mon, 2 Jun 2003 22:30:01 +1000
Subject: Re: 300 Multiple Choices handling?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EDB416D.1040003@mac.com>
Message-Id: <EE40CFBD-94F5-11D7-9B88-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

>
> I wonder... is HttpClient perhaps parsing out "www.blooberry.com/" as
> the value for the Host: header? My URL is slightly bogus, though
> perhaps technically valid. What happens with:
> http://www.blooberry.com/indexdotpreview/html/index8.htm
> (Note no double slash)
>
> www.eskimo.com and www.blooberry.com appear to be on the same subnet;
> www.eskimo.com is perhaps the default VirtualHost.

ahhh, heh.... ya see, I *may* have just copied the URL wrong... :)
There was a full stop at the end of the URL as I copied it - once
that's removed I do indeed get a 300 response and HttpClient returns
the 300 status along with the body just like wget.  Serves me right for
trusting the Mail.app to automatically copy the URL for me.

> Just wondering ...

Looks like this X-File can be closed with a really boring ending.

> --
> Mike Moran

Adrian Sutton.


From mike_moran@mac.com  Mon Jun  2 12:30:17 2003
Return-Path: <mike_moran@mac.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 61975 invoked from network); 2 Jun 2003 12:30:17 -0000
Received: from a17-250-248-89.apple.com (HELO smtpout.mac.com) (17.250.248.89)
  by daedalus.apache.org with SMTP; 2 Jun 2003 12:30:17 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h52CUICk029409
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 05:30:18 -0700 (PDT)
Received: from mac.com ([212.20.254.120])
	(authenticated bits=0)
	by mac.com (Xserve/MantshX 2.0) with ESMTP id h52CTqXG015764
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 05:29:54 -0700 (PDT)
Message-ID: <3EDB4331.1090404@mac.com>
Date: Mon, 02 Jun 2003 13:29:37 +0100
From: Mike Moran <mike_moran@mac.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030210
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: 300 Multiple Choices handling?
References: <661A1674-94F5-11D7-AD6D-00306557E112@u.washington.edu>
In-Reply-To: <661A1674-94F5-11D7-AD6D-00306557E112@u.washington.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michael Becke wrote:
> My guess is that it responds 300 for HTTP 1.0 and 302 for HTTP 1.1.
> Just a guess.
[ ... ]

It would seem not, as wget uses 1.1

--
Mike Moran


From anonymous@nagoya.betaversion.org  Mon Jun  2 12:41:51 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 78155 invoked from network); 2 Jun 2003 12:41:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Jun 2003 12:41:51 -0000
Received: (qmail 17899 invoked by uid 50); 2 Jun 2003 12:44:03 -0000
Date: 2 Jun 2003 12:44:03 -0000
Message-ID: <20030602124403.17898.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10816]  -
    User/Developer Documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10816>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10816

User/Developer Documentation





------- Additional Comments From adrian@ephox.com  2003-06-02 12:44 -------
Created an attachment (id=6597)
Update for the redirect docs to include information about the special redirect types.

From iasandcb@apache-korea.org  Mon Jun  2 14:54:23 2003
Return-Path: <iasandcb@apache-korea.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 67507 invoked from network); 2 Jun 2003 14:54:23 -0000
Received: from kiku.7777.net (216.71.84.236)
  by daedalus.apache.org with SMTP; 2 Jun 2003 14:54:23 -0000
Received: from Iastablet ([220.78.217.13])
	by kiku.7777.net (8.11.6/8.11.6) with ESMTP id h52EsNo26305
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 23:54:24 +0900
From: "Ias" <iasandcb@apache-korea.org>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: [REPORT] 2.0 beta 1 and Tomcat 4
Date: Mon, 2 Jun 2003 23:54:16 +0900
Message-ID: <000201c32916$d92adc70$0dd94edc@Iastablet>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0003_01C32962.49128470"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0003_01C32962.49128470
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

The current 2.0 beta 1 distribution doesn't work with Tomcat 4.x. The
error message is
Catalina.start: LifecycleException:  Missing optional package
Extension[junit,
implementationURL=http://www.ibiblio.org/maven/junit/jars/junit-3.8.1.ja
r, implementationVersion=3.8.1]
LifecycleException:  Missing optional package Extension[junit,
implementationURL=http://www.ibiblio.org/maven/junit/jars/junit-3.8.1.ja
r, implementationVersion=3.8.1]
	at
org.apache.catalina.loader.WebappLoader.validatePackages(WebappLoader.ja
va:1244)
	at
org.apache.catalina.loader.WebappLoader.start(WebappLoader.java:645)
	at
org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1100)
	at
org.apache.catalina.core.StandardContext.start(StandardContext.java:3345
)
	at
org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)
	at
org.apache.catalina.core.StandardHost.start(StandardHost.java:614)
	at
org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)
	at
org.apache.catalina.core.StandardEngine.start(StandardEngine.java:343)
	at
org.apache.catalina.core.StandardService.start(StandardService.java:388)
	at
org.apache.catalina.core.StandardServer.start(StandardServer.java:506)
	at org.apache.catalina.startup.Catalina.start(Catalina.java:781)
	at
org.apache.catalina.startup.Catalina.execute(Catalina.java:681)
	at
org.apache.catalina.startup.Catalina.process(Catalina.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.jav
a:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessor
Impl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at
org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:243)

I looked into the stack trace and found that there needed to be some
modification toward the associated
jars-commons-httpclient-2.0-beta1.jar, junit-3.8.1.jar, and
commons-logging-1.0.jar.

First, Tomcat's org.apache.catalina.loader.Extension.getRequired
distinguishes required libraries by delimiter not "," but " ".
Therefore,

Extension-List: junit,commons-logging

should be

Extension-List: junit commons-logging

in MANIFEST.MF of httpclient jar.
(http://java.sun.com/j2se/1.4.1/docs/guide/extensions/versioning.html
proves the usage.)

Next, since Tomcat's resolving algorithm for required libraries is quite
strict as implemented in o.a.c.l.WebappLoader.validatePackages(),
Specification-Version and Implementation-Vendor-Id of the extensions
should be defined like this:

junit-Extension-Name: junit
junit-Specification-Version: 3.8.1
junit-Implementation-Vendor-Id:
junit-Implementation-Version: 3.8.1
junit-Implementation-URL:
http://www.ibiblio.org/maven/junit/jars/junit-3.8.1.jar
commons-logging-Extension-Name: org.apache.commons.logging
commons-logging-Specification-Version: 1.0
commons-logging-Implementation-Vendor-Id:
commons-logging-Implementation-Version: 1.0.2
commons-logging-Implementation-URL:
http://www.ibiblio.org/maven/commons-logging/jars/commons-logging-1.0.2.
jar

In accordance with the above addition, MANIFEST of junit and
commons-logging also should be updated to comply with
commons-httpclient.

Manifest-Version: 1.0
Created-By: Ant 1.4.1
Extension-Name: junit
Specification-Version: 3.8.1
Implementation-Vendor-Id:
Implementation-Version: 3.8.1

Manifest-Version: 1.0
Created-By: Apache Ant 1.5.1beta1
Extension-Name: org.apache.commons.logging
Specification-Vendor: Apache Software Foundation
Specification-Version: 1.0
Implementation-Vendor: Apache Software Foundation
Implementation-Vendor-Id:
Implementation-Version: 1.0.2
Class-Path: log4j.jar log4j-core.jar

Otherwise, you can figure out this conflict by simply removing
Extension-List and its followings. The attached files are completely
updated MANIFESTs. Again, I'd like to remind you that this issue is now
only proved to be relevant with Tomcat and hence am not sure it can
cause a problem under other platforms. (I saw my colleague using
http-client 2.0 beta 1 on his dos prompt without trouble even though his
classpath didn't include junit.jar.)

Thanks for this great work, http-client 2.0,

Ias.

===========================================================
Lee, Changshin (Korean name)
Ias (International name)
               Company Web Site: http://www.tmax.co.kr
               Personal Web Site: http://www.iasandcb.pe.kr
---------------------------------------------------------

------=_NextPart_000_0003_01C32962.49128470--


From anonymous@nagoya.betaversion.org  Mon Jun  2 14:58:37 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 84047 invoked from network); 2 Jun 2003 14:58:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 2 Jun 2003 14:58:37 -0000
Received: (qmail 22922 invoked by uid 50); 2 Jun 2003 15:00:50 -0000
Date: 2 Jun 2003 15:00:50 -0000
Message-ID: <20030602150050.22921.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From olegk@apache.org  2003-06-02 15:00 -------
Created an attachment (id=6599)
Cookies guide minor corrections

From dion@multitask.com.au  Mon Jun  2 15:19:40 2003
Return-Path: <dion@multitask.com.au>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 57698 invoked from network); 2 Jun 2003 15:19:40 -0000
Received: from 202-44-167-185.nexnet.net.au (HELO adslgateway.multitask.com.au) (202.44.167.185)
  by daedalus.apache.org with SMTP; 2 Jun 2003 15:19:40 -0000
In-Reply-To: <3EDAF748.1030903@nose.ch>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] nominate Adrian Sutton for committer status
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.0.1 February 07, 2003
From: dion@multitask.com.au
Message-ID: <OF0FB38BB2.990C6989-ONCA256D39.005423D7-CA256D39.0054258B@multitask.com.au>
Date: Tue, 3 Jun 2003 01:21:31 +1000
X-MIMETrack: Serialize by Router on ADSLGateway/Multitask Consulting/AU(Release 6.0|September
 26, 2002) at 03/06/2003 01:21:33 AM,
	Serialize complete at 03/06/2003 01:21:33 AM
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

+1
--
dIon Gillard, Multitask Consulting
Blog:      http://www.freeroller.net/page/dion/Weblog
Work:      http://www.multitask.com.au


Ortwin Gl=FCck <ortwin.glueck@nose.ch> wrote on 02/06/2003 05:05:44 PM:

> +1
>=20
> Adrian's work is excellent.
>=20
> Michael Becke wrote:
>=20
> > Adrian Sutton has been an active contributor to HttpClient for some=20
time=20
> > now.  He has been a consistent and reliable contributor, and in=20
> > particular his work with NTLM and the developer documentation has been =


> > invaluable.
> >=20
> > I would like to nominate Adrian Sutton for HttpClient committer=20
status.
> >=20
> > Please vote as follows:
> > +1 =3D Yes
> > 0 =3D abstain
> > -1 =3D no
> >=20
> > Mike
> >=20
> >=20
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:=20
> > commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:=20
> > commons-httpclient-dev-help@jakarta.apache.org
>=20
> --=20
> =5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=
=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F=5F
>   NOSE applied intelligence ag
>                                     [www]      http://www.nose.ch
>   ortwin gl=FCck                      [email] ortwin.glueck@nose.ch
>   hardturmstrasse 171               [pgp key]          0x81CF3416
>   8005 zurich                       [office]      +41-1-277 57 35
>   switzerland                       [fax]         +41-1-277 57 12
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:=20
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:=20
commons-httpclient-dev-help@jakarta.apache.org
>=20


From deverca@caracas.dnsrouter.com  Mon Jun  2 15:33:29 2003
Return-Path: <deverca@caracas.dnsrouter.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 1728 invoked from network); 2 Jun 2003 15:33:29 -0000
Received: from unknown (HELO caracas.dnsrouter.com) (139.81.158.2)
  by daedalus.apache.org with SMTP; 2 Jun 2003 15:33:29 -0000
Received: from deverca by caracas.dnsrouter.com with local (Exim 3.36 #1)
	id 19MrIw-0000a6-00
	for commons-httpclient-dev@jakarta.apache.org; Mon, 02 Jun 2003 11:32:58 -0400
From: "Your Name" <jeff@dever.ca>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] nominate Adrian Sutton for committer status
X-Mailer: NeoMail 1.25
X-IPAddress: 24.103.69.4
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Message-Id: <E19MrIw-0000a6-00@caracas.dnsrouter.com>
Date: Mon, 02 Jun 2003 11:32:58 -0400
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - caracas.dnsrouter.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [32008 32008] / [32008 32008]
X-AntiAbuse: Sender Address Domain - caracas.dnsrouter.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Resounding +1

> Adrian Sutton has been an active contributor to HttpClient for some
> time now.  He has been a consistent and reliable contributor, and in
> particular his work with NTLM and the developer documentation has
been
> invaluable.
>
> I would like to nominate Adrian Sutton for HttpClient committer
status.
>
> Please vote as follows:
> +1 = Yes
> 0 = abstain
> -1 = no
>
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-
unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-
help@jakarta.apache.org
>
>
>

--


From oleg.kalnichevski@bearingpoint.com  Mon Jun  2 16:01:08 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 79605 invoked from network); 2 Jun 2003 16:01:08 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 2 Jun 2003 16:01:08 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 2 Jun 2003 16:02:53 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [REPORT] 2.0 beta 1 and Tomcat 4
Date: Mon, 2 Jun 2003 17:01:08 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0D482C@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: [REPORT] 2.0 beta 1 and Tomcat 4
Thread-Index: AcMpF4hn3uOPk8KRQSiTsbX2GetaAwACFjfQ
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 02 Jun 2003 16:02:53.0796 (UTC) FILETIME=[6CD2EA40:01C32920]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ias,

Thanks for such a detailed description of the problem. We'll look into =
it and fix those things that can be fixed on the HttpClient side

Cheers

Oleg

-----Original Message-----
From: Ias [mailto:iasandcb@apache-korea.org]
Sent: Monday, June 02, 2003 16:54
To: commons-httpclient-dev@jakarta.apache.org
Subject: [REPORT] 2.0 beta 1 and Tomcat 4


The current 2.0 beta 1 distribution doesn't work with Tomcat 4.x. The
error message is
Catalina.start: LifecycleException:  Missing optional package
Extension[junit,
implementationURL=3Dhttp://www.ibiblio.org/maven/junit/jars/junit-3.8.1.j=
a
r, implementationVersion=3D3.8.1]
LifecycleException:  Missing optional package Extension[junit,
implementationURL=3Dhttp://www.ibiblio.org/maven/junit/jars/junit-3.8.1.j=
a
r, implementationVersion=3D3.8.1]
	at
org.apache.catalina.loader.WebappLoader.validatePackages(WebappLoader.ja
va:1244)
	at
org.apache.catalina.loader.WebappLoader.start(WebappLoader.java:645)
	at
org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1100)
	at
org.apache.catalina.core.StandardContext.start(StandardContext.java:3345
)
	at
org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)
	at
org.apache.catalina.core.StandardHost.start(StandardHost.java:614)
	at
org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)
	at
org.apache.catalina.core.StandardEngine.start(StandardEngine.java:343)
	at
org.apache.catalina.core.StandardService.start(StandardService.java:388)
	at
org.apache.catalina.core.StandardServer.start(StandardServer.java:506)
	at org.apache.catalina.startup.Catalina.start(Catalina.java:781)
	at
org.apache.catalina.startup.Catalina.execute(Catalina.java:681)
	at
org.apache.catalina.startup.Catalina.process(Catalina.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.jav
a:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessor
Impl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at
org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:243)

I looked into the stack trace and found that there needed to be some
modification toward the associated
jars-commons-httpclient-2.0-beta1.jar, junit-3.8.1.jar, and
commons-logging-1.0.jar.

First, Tomcat's org.apache.catalina.loader.Extension.getRequired
distinguishes required libraries by delimiter not "," but " ".
Therefore,=20

Extension-List: junit,commons-logging

should be

Extension-List: junit commons-logging

in MANIFEST.MF of httpclient jar.
(http://java.sun.com/j2se/1.4.1/docs/guide/extensions/versioning.html
proves the usage.)

Next, since Tomcat's resolving algorithm for required libraries is quite
strict as implemented in o.a.c.l.WebappLoader.validatePackages(),
Specification-Version and Implementation-Vendor-Id of the extensions
should be defined like this:

junit-Extension-Name: junit
junit-Specification-Version: 3.8.1
junit-Implementation-Vendor-Id:=20
junit-Implementation-Version: 3.8.1
junit-Implementation-URL:
http://www.ibiblio.org/maven/junit/jars/junit-3.8.1.jar
commons-logging-Extension-Name: org.apache.commons.logging
commons-logging-Specification-Version: 1.0
commons-logging-Implementation-Vendor-Id:=20
commons-logging-Implementation-Version: 1.0.2
commons-logging-Implementation-URL:
http://www.ibiblio.org/maven/commons-logging/jars/commons-logging-1.0.2.
jar

In accordance with the above addition, MANIFEST of junit and
commons-logging also should be updated to comply with
commons-httpclient.

Manifest-Version: 1.0
Created-By: Ant 1.4.1
Extension-Name: junit
Specification-Version: 3.8.1
Implementation-Vendor-Id:=20
Implementation-Version: 3.8.1

Manifest-Version: 1.0
Created-By: Apache Ant 1.5.1beta1
Extension-Name: org.apache.commons.logging
Specification-Vendor: Apache Software Foundation
Specification-Version: 1.0
Implementation-Vendor: Apache Software Foundation
Implementation-Vendor-Id:=20
Implementation-Version: 1.0.2
Class-Path: log4j.jar log4j-core.jar

Otherwise, you can figure out this conflict by simply removing
Extension-List and its followings. The attached files are completely
updated MANIFESTs. Again, I'd like to remind you that this issue is now
only proved to be relevant with Tomcat and hence am not sure it can
cause a problem under other platforms. (I saw my colleague using
http-client 2.0 beta 1 on his dos prompt without trouble even though his
classpath didn't include junit.jar.)

Thanks for this great work, http-client 2.0,

Ias.

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D
Lee, Changshin (Korean name)
Ias (International name)
               Company Web Site: http://www.tmax.co.kr
               Personal Web Site: http://www.iasandcb.pe.kr
---------------------------------------------------------


From cedric.minois@laposte.net  Mon Jun  2 16:11:15 2003
Return-Path: <cedric.minois@laposte.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 8411 invoked from network); 2 Jun 2003 16:11:15 -0000
Received: from mx.laposte.net (213.30.181.11)
  by daedalus.apache.org with SMTP; 2 Jun 2003 16:11:15 -0000
Received: from laposte.net (127.0.0.1) by mx.laposte.net (6.0.053)
        id 3ED26B0D0016AD4F for commons-httpclient-dev@jakarta.apache.org; Mon, 2 Jun 2003 18:11:17 +0200
Date: Mon,  2 Jun 2003 18:11:17 +0200
Message-Id: <HFV3MT$1A1712963E37346A6DDBBB695A27066B@laposte.net>
Subject: =?iso-8859-1?Q?Put_method?=
MIME-Version: 1.0
X-Sensitivity: 3
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
From: "=?iso-8859-1?Q?cedric.minois@laposte.net?=" <cedric.minois@laposte.net>
To: "=?iso-8859-1?Q?commons-httpclient-dev?=" <commons-httpclient-dev@jakarta.apache.org>
X-XaM3-API-Version: 3.2 R29 (B54 pl1)
X-type: 0
X-SenderIP: 159.50.203.7
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,=0D=0A=0D=0AI use PutMethod to upload files. Everything goes ok until=0D=
=0AI try to send a big file (~ 150 Mo): I get an OutOfMemoryError.=0D=0A=0D=
=0AI use a BufferedInputStream for my RequestBody.=0D=0A=0D=0AHas anyone =
already had this kind of error ?=0D=0A=0D=0AThanks,=0D=0A=0D=0ACedric. =0D=
=0A=0A=0AAcc=E9dez au courrier =E9lectronique de La Poste : www.laposte.n=
et ; =0A3615 LAPOSTENET (0,34=80/mn) ; t=E9l : 08 92 68 13 50 (0,34=80/mn=
)"=0A=0A


From becke@u.washington.edu  Mon Jun  2 16:42:59 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 74894 invoked from network); 2 Jun 2003 16:42:59 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 2 Jun 2003 16:42:59 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h52Gh2RG019717
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 09:43:02 -0700
Received: from u.washington.edu (ss07.co.us.ibm.com [32.97.110.72])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h52Gh1cw029333
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 09:43:01 -0700
Message-ID: <3EDB7E85.6080106@u.washington.edu>
Date: Mon, 02 Jun 2003 12:42:45 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [REPORT] 2.0 beta 1 and Tomcat 4
References: <000201c32916$d92adc70$0dd94edc@Iastablet>
In-Reply-To: <000201c32916$d92adc70$0dd94edc@Iastablet>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ias,

Thank you for submitting this one.  You are quite right, the MANIFEST.MF
is not correct.  Not only does it have formatting problems, but junit
should not be a runtime dependency.  This jar was generated with Maven
so I am guessing the formatting problem is a Maven bug.  I'll remove the
junit dependency and rebuild the distribution this evening.

Mike

Ias wrote:
> The current 2.0 beta 1 distribution doesn't work with Tomcat 4.x. The
> error message is
> Catalina.start: LifecycleException:  Missing optional package
> Extension[junit,
> implementationURL=http://www.ibiblio.org/maven/junit/jars/junit-3.8.1.ja
> r, implementationVersion=3.8.1]
> LifecycleException:  Missing optional package Extension[junit,
> implementationURL=http://www.ibiblio.org/maven/junit/jars/junit-3.8.1.ja
> r, implementationVersion=3.8.1]
> 	at
> org.apache.catalina.loader.WebappLoader.validatePackages(WebappLoader.ja
> va:1244)
> 	at
> org.apache.catalina.loader.WebappLoader.start(WebappLoader.java:645)
> 	at
> org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1100)
> 	at
> org.apache.catalina.core.StandardContext.start(StandardContext.java:3345
> )
> 	at
> org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)
> 	at
> org.apache.catalina.core.StandardHost.start(StandardHost.java:614)
> 	at
> org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)
> 	at
> org.apache.catalina.core.StandardEngine.start(StandardEngine.java:343)
> 	at
> org.apache.catalina.core.StandardService.start(StandardService.java:388)
> 	at
> org.apache.catalina.core.StandardServer.start(StandardServer.java:506)
> 	at org.apache.catalina.startup.Catalina.start(Catalina.java:781)
> 	at
> org.apache.catalina.startup.Catalina.execute(Catalina.java:681)
> 	at
> org.apache.catalina.startup.Catalina.process(Catalina.java:179)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.jav
> a:39)
> 	at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessor
> Impl.java:25)
> 	at java.lang.reflect.Method.invoke(Method.java:324)
> 	at
> org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:243)
>
> I looked into the stack trace and found that there needed to be some
> modification toward the associated
> jars-commons-httpclient-2.0-beta1.jar, junit-3.8.1.jar, and
> commons-logging-1.0.jar.
>
> First, Tomcat's org.apache.catalina.loader.Extension.getRequired
> distinguishes required libraries by delimiter not "," but " ".
> Therefore,
>
> Extension-List: junit,commons-logging
>
> should be
>
> Extension-List: junit commons-logging
>
> in MANIFEST.MF of httpclient jar.
> (http://java.sun.com/j2se/1.4.1/docs/guide/extensions/versioning.html
> proves the usage.)
>
> Next, since Tomcat's resolving algorithm for required libraries is quite
> strict as implemented in o.a.c.l.WebappLoader.validatePackages(),
> Specification-Version and Implementation-Vendor-Id of the extensions
> should be defined like this:
>
> junit-Extension-Name: junit
> junit-Specification-Version: 3.8.1
> junit-Implementation-Vendor-Id:
> junit-Implementation-Version: 3.8.1
> junit-Implementation-URL:
> http://www.ibiblio.org/maven/junit/jars/junit-3.8.1.jar
> commons-logging-Extension-Name: org.apache.commons.logging
> commons-logging-Specification-Version: 1.0
> commons-logging-Implementation-Vendor-Id:
> commons-logging-Implementation-Version: 1.0.2
> commons-logging-Implementation-URL:
> http://www.ibiblio.org/maven/commons-logging/jars/commons-logging-1.0.2.
> jar
>
> In accordance with the above addition, MANIFEST of junit and
> commons-logging also should be updated to comply with
> commons-httpclient.
>
> Manifest-Version: 1.0
> Created-By: Ant 1.4.1
> Extension-Name: junit
> Specification-Version: 3.8.1
> Implementation-Vendor-Id:
> Implementation-Version: 3.8.1
>
> Manifest-Version: 1.0
> Created-By: Apache Ant 1.5.1beta1
> Extension-Name: org.apache.commons.logging
> Specification-Vendor: Apache Software Foundation
> Specification-Version: 1.0
> Implementation-Vendor: Apache Software Foundation
> Implementation-Vendor-Id:
> Implementation-Version: 1.0.2
> Class-Path: log4j.jar log4j-core.jar
>
> Otherwise, you can figure out this conflict by simply removing
> Extension-List and its followings. The attached files are completely
> updated MANIFESTs. Again, I'd like to remind you that this issue is now
> only proved to be relevant with Tomcat and hence am not sure it can
> cause a problem under other platforms. (I saw my colleague using
> http-client 2.0 beta 1 on his dos prompt without trouble even though his
> classpath didn't include junit.jar.)
>
> Thanks for this great work, http-client 2.0,
>
> Ias.
>
> ===========================================================
> Lee, Changshin (Korean name)
> Ias (International name)
>                Company Web Site: http://www.tmax.co.kr
>                Personal Web Site: http://www.iasandcb.pe.kr
> ---------------------------------------------------------
>
>
>
> ------------------------------------------------------------------------
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org


From om5@hotmail.com  Mon Jun  2 16:50:53 2003
Return-Path: <om5@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 92462 invoked from network); 2 Jun 2003 16:50:53 -0000
Received: from bay2-dav60.bay2.hotmail.com (HELO hotmail.com) (65.54.246.195)
  by daedalus.apache.org with SMTP; 2 Jun 2003 16:50:53 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 2 Jun 2003 09:50:56 -0700
Received: from 24.56.39.111 by bay2-dav60.bay2.hotmail.com with DAV;
	Mon, 02 Jun 2003 16:50:56 +0000
X-Originating-IP: [24.56.39.111]
X-Originating-Email: [om5@hotmail.com]
From: "Om Narayan" <om5@hotmail.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <028BAFC6-94A2-11D7-8937-00306557E112@u.washington.edu>
Subject: Re: [VOTE] nominate Adrian Sutton for committer status
Date: Mon, 2 Jun 2003 09:51:31 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
Message-ID: <BAY2-DAV60Fbq0kAvjU0000d8ad@hotmail.com>
X-OriginalArrivalTime: 02 Jun 2003 16:50:56.0674 (UTC) FILETIME=[23273020:01C32927]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

+1

----- Original Message -----
From: "Michael Becke" <becke@u.washington.edu>
To: "Commons Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Sunday, June 01, 2003 7:29 PM
Subject: [VOTE] nominate Adrian Sutton for committer status


> Adrian Sutton has been an active contributor to HttpClient for some
> time now.  He has been a consistent and reliable contributor, and in
> particular his work with NTLM and the developer documentation has been
> invaluable.
>
> I would like to nominate Adrian Sutton for HttpClient committer status.
>
> Please vote as follows:
> +1 = Yes
> 0 = abstain
> -1 = no
>
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>
>

From becke@u.washington.edu  Mon Jun  2 16:52:36 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 99254 invoked from network); 2 Jun 2003 16:52:36 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 2 Jun 2003 16:52:36 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h52GqcSL023507
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 09:52:39 -0700
Received: from u.washington.edu (ss07.co.us.ibm.com [32.97.110.72])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h52Gqbcw030093
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 09:52:38 -0700
Message-ID: <3EDB80C6.9070805@u.washington.edu>
Date: Mon, 02 Jun 2003 12:52:22 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Put method
References: <HFV3MT$1A1712963E37346A6DDBBB695A27066B@laposte.net>
In-Reply-To: <HFV3MT$1A1712963E37346A6DDBBB695A27066B@laposte.net>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm guessing this is happening because the PUT's content length is not
being set.  The request content length must be set to
EntityEnclosingMethod.CONTENT_LENGTH_CHUNKED or to the actual size of
the content to avoid buffering.  If the content length is not specified
the content is buffered to memory in order to determing the length.

Mike

cedric.minois@laposte.net wrote:
> Hi,
>
> I use PutMethod to upload files. Everything goes ok until
> I try to send a big file (~ 150 Mo): I get an OutOfMemoryError.
>
> I use a BufferedInputStream for my RequestBody.
>
> Has anyone already had this kind of error ?
>
> Thanks,
>
> Cedric.
>
>
> Accédez au courrier électronique de La Poste : www.laposte.net ;
> 3615 LAPOSTENET (0,34€/mn) ; tél : 08 92 68 13 50 (0,34€/mn)"
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Mon Jun  2 18:46:09 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 53953 invoked from network); 2 Jun 2003 18:46:09 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 2 Jun 2003 18:46:09 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h52IkDRG014921
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 11:46:13 -0700
Received: from u.washington.edu (ss2.bluebird.ibm.com [129.42.208.140])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h52IkAcw005858
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 11:46:12 -0700
Message-ID: <3EDB9B5D.20805@u.washington.edu>
Date: Mon, 02 Jun 2003 14:45:49 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Welcome Adrian
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Please join me in welcoming Adrian Sutton as a committer for the
HttpClient team.  His account should be setup in the very near future,
so please send all new patches his way:)  Welcome Adrian.

Mike


From adrian@intencha.com  Mon Jun  2 21:12:36 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 27382 invoked from network); 2 Jun 2003 21:12:36 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 2 Jun 2003 21:12:36 -0000
Received: from intencha.com (unverified [150.101.184.2]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0045329538@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Mon, 2 Jun 2003 15:09:10 -0600
Date: Tue, 3 Jun 2003 07:12:45 +1000
Subject: Re: [REPORT] 2.0 beta 1 and Tomcat 4
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EDB7E85.6080106@u.washington.edu>
Message-Id: <F4CCDD02-953E-11D7-9B88-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Mike,
This sounds like a known issue I've seen with maven recently.  I
believe it's fixed in the latest CVS version of maven, but it's
probably easier and safer to just fix it by hand.

Adrian.

On Tuesday, June 3, 2003, at 02:42  AM, Michael Becke wrote:

> Ias,
>
> Thank you for submitting this one.  You are quite right, the
> MANIFEST.MF is not correct.  Not only does it have formatting
> problems, but junit should not be a runtime dependency.  This jar was
> generated with Maven so I am guessing the formatting problem is a
> Maven bug.  I'll remove the junit dependency and rebuild the
> distribution this evening.
>
> Mike


From adrian@intencha.com  Mon Jun  2 21:23:24 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 43690 invoked from network); 2 Jun 2003 21:23:24 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 2 Jun 2003 21:23:24 -0000
Received: from intencha.com (unverified [150.101.184.2]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0045330572@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Mon, 2 Jun 2003 15:19:59 -0600
Date: Tue, 3 Jun 2003 07:23:29 +1000
Subject: Re: Welcome Adrian
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EDB9B5D.20805@u.washington.edu>
Message-Id: <748693F0-9540-11D7-9B88-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks to everyone for the support.  This is a wonderful team to work
with and I look forward to continuing to create great software with you
all.  The Apache elves (Brian Behlendorf in particular) have been busy
over night and my account is already set up.  Once I get the
contributor agreement faxed in I'll proudly add my name to the list of
committers for the project then wait for all those wonderful new
patches to come rolling in. :)

Regards,

Adrian Sutton.

On Tuesday, June 3, 2003, at 04:45  AM, Michael Becke wrote:

> Please join me in welcoming Adrian Sutton as a committer for the
> HttpClient team.  His account should be setup in the very near future,
> so please send all new patches his way:)  Welcome Adrian.
>
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From okhali1@yahoo.ca  Mon Jun  2 19:59:26 2003
Return-Path: <okhali1@yahoo.ca>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 74280 invoked from network); 2 Jun 2003 19:59:26 -0000
Received: from web14501.mail.yahoo.com (216.136.224.64)
  by daedalus.apache.org with SMTP; 2 Jun 2003 19:59:26 -0000
Message-ID: <20030602195931.10058.qmail@web14501.mail.yahoo.com>
Received: from [209.104.122.193] by web14501.mail.yahoo.com via HTTP; Mon, 02 Jun 2003 15:59:31 EDT
Date: Mon, 2 Jun 2003 15:59:31 -0400 (EDT)
From: O Khalid <okhali1@yahoo.ca>
Subject: setUseCaches
To: commons-httpclient-dev@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-728700398-1054583971=:9844"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-728700398-1054583971=:9844
Content-Type: text/plain; charset=us-ascii

hey guys,

I was wondering if anyone knows how to dis-able cache using the httpClient. I believe the HttpURLConnection class does not support setUseCaches method yet. Does anyone know of a certain HTTP Header that could be set in the request body to achieve this.

Thanks

Omar



---------------------------------
Post your free ad now! Yahoo! Canada Personals

--0-728700398-1054583971=:9844--

From becke@u.washington.edu  Tue Jun  3 03:44:21 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 93312 invoked from network); 3 Jun 2003 03:44:21 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 3 Jun 2003 03:44:21 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout1.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h533iVRG031472
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 20:44:31 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h533iTPx010694
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 2 Jun 2003 20:44:30 -0700
Date: Mon, 2 Jun 2003 23:44:30 -0400
Subject: Re: [REPORT] 2.0 beta 1 and Tomcat 4
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000201c32916$d92adc70$0dd94edc@Iastablet>
Message-Id: <AEEE53FE-9575-11D7-9E12-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have re-published the Beta 1 distribution to the various download
sites.  This newer version removes the "Extension-List" manifest
entries for commons-logging and JUnit.  I tested an HttpClient servlet
with Tomcat 4.1.18 and all seemed well.  The jar on ibiblio has not
been updated as of yet, but I will keep you posted.

Mike

On Monday, June 2, 2003, at 10:54 AM, Ias wrote:

> The current 2.0 beta 1 distribution doesn't work with Tomcat 4.x. The
> error message is
> Catalina.start: LifecycleException:  Missing optional package
> Extension[junit,
> implementationURL=http://www.ibiblio.org/maven/junit/jars/junit-
> 3.8.1.ja
> r, implementationVersion=3.8.1]
> LifecycleException:  Missing optional package Extension[junit,
> implementationURL=http://www.ibiblio.org/maven/junit/jars/junit-
> 3.8.1.ja
> r, implementationVersion=3.8.1]
> 	at
> org.apache.catalina.loader.WebappLoader.validatePackages(WebappLoader.j
> a
> va:1244)
> 	at
> org.apache.catalina.loader.WebappLoader.start(WebappLoader.java:645)
> 	at
> org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1100)
> 	at
> org.apache.catalina.core.StandardContext.start(StandardContext.java:334
> 5
> )
> 	at
> org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)
> 	at
> org.apache.catalina.core.StandardHost.start(StandardHost.java:614)
> 	at
> org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1123)
> 	at
> org.apache.catalina.core.StandardEngine.start(StandardEngine.java:343)
> 	at
> org.apache.catalina.core.StandardService.start(StandardService.java:388
> )
> 	at
> org.apache.catalina.core.StandardServer.start(StandardServer.java:506)
> 	at org.apache.catalina.startup.Catalina.start(Catalina.java:781)
> 	at
> org.apache.catalina.startup.Catalina.execute(Catalina.java:681)
> 	at
> org.apache.catalina.startup.Catalina.process(Catalina.java:179)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.ja
> v
> a:39)
> 	at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccesso
> r
> Impl.java:25)
> 	at java.lang.reflect.Method.invoke(Method.java:324)
> 	at
> org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:243)
>
> I looked into the stack trace and found that there needed to be some
> modification toward the associated
> jars-commons-httpclient-2.0-beta1.jar, junit-3.8.1.jar, and
> commons-logging-1.0.jar.
>
> First, Tomcat's org.apache.catalina.loader.Extension.getRequired
> distinguishes required libraries by delimiter not "," but " ".
> Therefore,
>
> Extension-List: junit,commons-logging
>
> should be
>
> Extension-List: junit commons-logging
>
> in MANIFEST.MF of httpclient jar.
> (http://java.sun.com/j2se/1.4.1/docs/guide/extensions/versioning.html
> proves the usage.)
>
> Next, since Tomcat's resolving algorithm for required libraries is
> quite
> strict as implemented in o.a.c.l.WebappLoader.validatePackages(),
> Specification-Version and Implementation-Vendor-Id of the extensions
> should be defined like this:
>
> junit-Extension-Name: junit
> junit-Specification-Version: 3.8.1
> junit-Implementation-Vendor-Id:
> junit-Implementation-Version: 3.8.1
> junit-Implementation-URL:
> http://www.ibiblio.org/maven/junit/jars/junit-3.8.1.jar
> commons-logging-Extension-Name: org.apache.commons.logging
> commons-logging-Specification-Version: 1.0
> commons-logging-Implementation-Vendor-Id:
> commons-logging-Implementation-Version: 1.0.2
> commons-logging-Implementation-URL:
> http://www.ibiblio.org/maven/commons-logging/jars/commons-logging-
> 1.0.2.
> jar
>
> In accordance with the above addition, MANIFEST of junit and
> commons-logging also should be updated to comply with
> commons-httpclient.
>
> Manifest-Version: 1.0
> Created-By: Ant 1.4.1
> Extension-Name: junit
> Specification-Version: 3.8.1
> Implementation-Vendor-Id:
> Implementation-Version: 3.8.1
>
> Manifest-Version: 1.0
> Created-By: Apache Ant 1.5.1beta1
> Extension-Name: org.apache.commons.logging
> Specification-Vendor: Apache Software Foundation
> Specification-Version: 1.0
> Implementation-Vendor: Apache Software Foundation
> Implementation-Vendor-Id:
> Implementation-Version: 1.0.2
> Class-Path: log4j.jar log4j-core.jar
>
> Otherwise, you can figure out this conflict by simply removing
> Extension-List and its followings. The attached files are completely
> updated MANIFESTs. Again, I'd like to remind you that this issue is now
> only proved to be relevant with Tomcat and hence am not sure it can
> cause a problem under other platforms. (I saw my colleague using
> http-client 2.0 beta 1 on his dos prompt without trouble even though
> his
> classpath didn't include junit.jar.)
>
> Thanks for this great work, http-client 2.0,
>
> Ias.
>
> ===========================================================
> Lee, Changshin (Korean name)
> Ias (International name)
>                Company Web Site: http://www.tmax.co.kr
>                Personal Web Site: http://www.iasandcb.pe.kr
> ---------------------------------------------------------
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org


From adrian@intencha.com  Tue Jun  3 03:55:46 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 9541 invoked from network); 3 Jun 2003 03:55:46 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 3 Jun 2003 03:55:46 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0045374121@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Mon, 2 Jun 2003 21:52:24 -0600
Date: Tue, 3 Jun 2003 13:56:00 +1000
Subject: Re: Welcome Adrian
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <748693F0-9540-11D7-9B88-000393016056@intencha.com>
Message-Id: <49FB31A3-9577-11D7-9B88-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Once I get the contributor agreement faxed in I'll proudly add my name
> to the list of committers for the project then wait for all those
> wonderful new patches to come rolling in. :)

There's one slight hiccup in this process that I just wanted to provide
a heads up for.  My boss feels that he should get approval from the
board before I sign the apache contributor license agreement though
he's certain there won't be a problem with it.  The only time frame I
have is "that shouldn't take long" so it looks like I won't be doing
any committing for a while.  There's no issues with my actual
contributions just with the actual signing of a form so I'll stay away
from using any of my new-found Apache powers until I can happily get
that form signed.

And if anyone ever works out how a company with just 15 employees winds
up having this much trouble approving one signature I'd love to hear
the explanation... :)

Regards,

Adrian Sutton.


From Mark.Wilcox@webct.com  Tue Jun  3 04:31:40 2003
Return-Path: <Mark.Wilcox@webct.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 54210 invoked from network); 3 Jun 2003 04:31:40 -0000
Received: from unknown (HELO zip.webct.com) (12.105.85.201)
  by daedalus.apache.org with SMTP; 3 Jun 2003 04:31:40 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C32988.F7CBF7F8"
Subject: RE: Welcome Adrian
Date: Tue, 3 Jun 2003 00:31:14 -0400
Message-ID: <1E71F10BEB15234DB69C6CE6E1893627803CAD@zip.webct.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Welcome Adrian
Thread-Index: AcMphBLRVyHtrzdJQHuJAfnoL6h8pwABKa10
From: "Wilcox, Mark" <Mark.Wilcox@webct.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>,
	"Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C32988.F7CBF7F8
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

PkFuZCBpZiBhbnlvbmUgZXZlciB3b3JrcyBvdXQgaG93IGEgY29tcGFueSB3aXRoIGp1c3QgMTUg
ZW1wbG95ZWVzIHdpbmRzDQo+dXAgaGF2aW5nIHRoaXMgbXVjaCB0cm91YmxlIGFwcHJvdmluZyBv
bmUgc2lnbmF0dXJlIEknZCBsb3ZlIHRvIGhlYXINCj50aGUgZXhwbGFuYXRpb24uLi4gOikNCg0K
VGhlIGFuc3dlciBpcyBhIHNvbmcgY2FsbGVkICJjb250cmFjdHMsIGxhd3N1aXRzIGFuZCBsYXd5
ZXJzIiA6KS4gDQogDQpPciBhcyBJIGxpa2UgdG8gc2F5IGl0IC0tIGV2ZXJ5b25lIGlzIGEgZ2Vl
ayBhdCBzb21ldGhpbmcuIExhd3llcnMgYXJlIGdlZWtzIGZvciBjb250cmFjdHMuIEp1c3QgYXMg
d2UgZ2V0IGphenplZCBieSByZWFkaW5nL3dyaXRpbmcgY29kZSwgdGhleSBnZXQgamF6emVkIGJ5
IHJlYWRpbmcvd3JpdGluZyBjb250cmFjdHMuIA0KIA0KIA0KTWFyaw0KDQoJLS0tLS1PcmlnaW5h
bCBNZXNzYWdlLS0tLS0gDQoJRnJvbTogQWRyaWFuIFN1dHRvbiBbbWFpbHRvOmFkcmlhbkBpbnRl
bmNoYS5jb21dIA0KCVNlbnQ6IE1vbiA2LzIvMjAwMyAxMTo1NiBQTSANCglUbzogQ29tbW9ucyBI
dHRwQ2xpZW50IFByb2plY3QgDQoJQ2M6IA0KCVN1YmplY3Q6IFJlOiBXZWxjb21lIEFkcmlhbg0K
CQ0KCQ0KDQoJPiBPbmNlIEkgZ2V0IHRoZSBjb250cmlidXRvciBhZ3JlZW1lbnQgZmF4ZWQgaW4g
SSdsbCBwcm91ZGx5IGFkZCBteSBuYW1lDQoJPiB0byB0aGUgbGlzdCBvZiBjb21taXR0ZXJzIGZv
ciB0aGUgcHJvamVjdCB0aGVuIHdhaXQgZm9yIGFsbCB0aG9zZQ0KCT4gd29uZGVyZnVsIG5ldyBw
YXRjaGVzIHRvIGNvbWUgcm9sbGluZyBpbi4gOikNCgkNCglUaGVyZSdzIG9uZSBzbGlnaHQgaGlj
Y3VwIGluIHRoaXMgcHJvY2VzcyB0aGF0IEkganVzdCB3YW50ZWQgdG8gcHJvdmlkZQ0KCWEgaGVh
ZHMgdXAgZm9yLiAgTXkgYm9zcyBmZWVscyB0aGF0IGhlIHNob3VsZCBnZXQgYXBwcm92YWwgZnJv
bSB0aGUNCglib2FyZCBiZWZvcmUgSSBzaWduIHRoZSBhcGFjaGUgY29udHJpYnV0b3IgbGljZW5z
ZSBhZ3JlZW1lbnQgdGhvdWdoDQoJaGUncyBjZXJ0YWluIHRoZXJlIHdvbid0IGJlIGEgcHJvYmxl
bSB3aXRoIGl0LiAgVGhlIG9ubHkgdGltZSBmcmFtZSBJDQoJaGF2ZSBpcyAidGhhdCBzaG91bGRu
J3QgdGFrZSBsb25nIiBzbyBpdCBsb29rcyBsaWtlIEkgd29uJ3QgYmUgZG9pbmcNCglhbnkgY29t
bWl0dGluZyBmb3IgYSB3aGlsZS4gIFRoZXJlJ3Mgbm8gaXNzdWVzIHdpdGggbXkgYWN0dWFsDQoJ
Y29udHJpYnV0aW9ucyBqdXN0IHdpdGggdGhlIGFjdHVhbCBzaWduaW5nIG9mIGEgZm9ybSBzbyBJ
J2xsIHN0YXkgYXdheQ0KCWZyb20gdXNpbmcgYW55IG9mIG15IG5ldy1mb3VuZCBBcGFjaGUgcG93
ZXJzIHVudGlsIEkgY2FuIGhhcHBpbHkgZ2V0DQoJdGhhdCBmb3JtIHNpZ25lZC4NCgkNCglBbmQg
aWYgYW55b25lIGV2ZXIgd29ya3Mgb3V0IGhvdyBhIGNvbXBhbnkgd2l0aCBqdXN0IDE1IGVtcGxv
eWVlcyB3aW5kcw0KCXVwIGhhdmluZyB0aGlzIG11Y2ggdHJvdWJsZSBhcHByb3Zpbmcgb25lIHNp
Z25hdHVyZSBJJ2QgbG92ZSB0byBoZWFyDQoJdGhlIGV4cGxhbmF0aW9uLi4uIDopDQoJDQoJUmVn
YXJkcywNCgkNCglBZHJpYW4gU3V0dG9uLg0KCQ0KCQ0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVRvIHVuc3Vi
c2NyaWJlLCBlLW1haWw6IGNvbW1vbnMtaHR0cGNsaWVudC1kZXYtdW5zdWJzY3JpYmVAamFrYXJ0
YS5hcGFjaGUub3JnDQoJRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogY29tbW9ucy1o
dHRwY2xpZW50LWRldi1oZWxwQGpha2FydGEuYXBhY2hlLm9yZw0KCQ0KCQ0KDQo=

------_=_NextPart_001_01C32988.F7CBF7F8--

From ortwin.glueck@nose.ch  Tue Jun  3 06:33:27 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 67888 invoked from network); 3 Jun 2003 06:33:27 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 3 Jun 2003 06:33:27 -0000
Received: (qmail 5302 invoked from network); 3 Jun 2003 06:33:37 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 3 Jun 2003 06:33:37 -0000
Message-ID: <3EDC413F.6070707@nose.ch>
Date: Tue, 03 Jun 2003 08:33:35 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: setUseCaches
References: <20030602195931.10058.qmail@web14501.mail.yahoo.com>
In-Reply-To: <20030602195931.10058.qmail@web14501.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Omar,

Unlike a web browser, HttpClient does not do any caching unless required
by the way you use it. For instance, setting the request body as a
string or querying the response as a string will cause some caching to
happen. Just make sure you work with streams, then no request / response
will be cached internally.

To control caching at the proxy you need to set the headers yourself.

Odi

O Khalid wrote:
> hey guys,
>
> I was wondering if anyone knows how to dis-able cache using the
> httpClient. I believe the HttpURLConnection class does not support
> setUseCaches method yet. Does anyone know of a certain HTTP Header
> that could be set in the request body to achieve this.
>
> Thanks
>
> Omar
>
>
>
> --------------------------------- Post your free ad now! Yahoo!
> Canada Personals
>

--
_________________________________________________________________
  NOSE applied intelligence ag
                                    [www]      http://www.nose.ch
  ortwin glück                      [email] ortwin.glueck@nose.ch
  hardturmstrasse 171               [pgp key]          0x81CF3416
  8005 zurich                       [office]      +41-1-277 57 35
  switzerland                       [fax]         +41-1-277 57 12


From ortwin.glueck@nose.ch  Tue Jun  3 06:42:23 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 86022 invoked from network); 3 Jun 2003 06:42:23 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 3 Jun 2003 06:42:23 -0000
Received: (qmail 5377 invoked from network); 3 Jun 2003 06:42:34 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 3 Jun 2003 06:42:34 -0000
Message-ID: <3EDC4359.8090609@nose.ch>
Date: Tue, 03 Jun 2003 08:42:33 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Welcome Adrian
References: <49FB31A3-9577-11D7-9B88-000393016056@intencha.com>
In-Reply-To: <49FB31A3-9577-11D7-9B88-000393016056@intencha.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian Sutton wrote:
> And if anyone ever works out how a company with just 15 employees winds
> up having this much trouble approving one signature I'd love to hear the
> explanation... :)

Adrian,

Welcome, man! It's good to have you on board.

Just a few thoughts about the legal noise:
The agreement must be signed by you, not your boss. What you commit is
your responsibility. How this integrates with your company is an issue
only between you and your company, but not between Apache Group and your
company. So you can just fax in the form signed by you. But you should
have a similar agreement with your company that you are allowed to
contribute certain code under the Apache License.

Of course it's a good idea however to make your boss review the Apache
agreement and sign it. Just gives a better feeling in your stomach,
doesn't it. Took me about 10 minutes to get the signatures for mine. And
  my company has around 30 employees. :-)

Odi


From adrian@intencha.com  Tue Jun  3 06:56:23 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 4701 invoked from network); 3 Jun 2003 06:56:23 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 3 Jun 2003 06:56:23 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0045387228@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Tue, 3 Jun 2003 00:53:01 -0600
Date: Tue, 3 Jun 2003 16:56:38 +1000
Subject: Re: Welcome Adrian
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <3EDC4359.8090609@nose.ch>
Message-Id: <860B1485-9590-11D7-9B88-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Tuesday, June 3, 2003, at 04:42  PM, Ortwin Gl=FCck wrote:

> Adrian Sutton wrote:
>> And if anyone ever works out how a company with just 15 employees=20
>> winds up having this much trouble approving one signature I'd love to=20=

>> hear the explanation... :)
>
> Adrian,
>
> Welcome, man! It's good to have you on board.

Thanks Odi.

> Just a few thoughts about the legal noise:
> The agreement must be signed by you, not your boss. What you commit is=20=

> your responsibility. How this integrates with your company is an issue=20=

> only between you and your company, but not between Apache Group and=20
> your company. So you can just fax in the form signed by you. But you=20=

> should have a similar agreement with your company that you are allowed=20=

> to contribute certain code under the Apache License.

Yep, the current problem is getting permission for me to sign the form.=20=

  Since I very occasionally work on HttpClient from work (we do use it=20=

in our product) any formal agreements in relation to me and HttpClient=20=

needs to have approval from my employer.  Also, the license agreement=20
specifically states that I should get clearance from my employer. =20
Things get even foggier because any work I do relating to my work at=20
Ephox is owned by Ephox so even working on HttpClient in my own time=20
involves Ephox.  This may turn out to be the trigger to demand some=20
changes to my employment conditions but we'll see how it goes. =20
Generally I don't have any problems with them, just this case is a=20
little more difficult. :)

> Of course it's a good idea however to make your boss review the Apache=20=

> agreement and sign it. Just gives a better feeling in your stomach,=20
> doesn't it. Took me about 10 minutes to get the signatures for mine.=20=

> And  my company has around 30 employees. :-)

Maybe I just need a bigger company so I can hide it in the "to be=20
signed pile" better. :)

> Odi

Adrian.=


From anonymous@nagoya.betaversion.org  Tue Jun  3 15:17:25 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 94422 invoked from network); 3 Jun 2003 15:17:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jun 2003 15:17:25 -0000
Received: (qmail 1477 invoked by uid 50); 3 Jun 2003 15:19:38 -0000
Date: 3 Jun 2003 15:19:38 -0000
Message-ID: <20030603151938.1476.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20335]  -
    There is no way to change RESPONSE_WAIT_TIME_MS programmatically
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20335>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20335

There is no way to change RESPONSE_WAIT_TIME_MS programmatically

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |INVALID



------- Additional Comments From olegk@apache.org  2003-06-03 15:19 -------
I believe this report can be closed as HttpClient does provide a way to
programmatically set read timeout value.

Oleg

From anonymous@nagoya.betaversion.org  Tue Jun  3 15:20:30 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 4454 invoked from network); 3 Jun 2003 15:20:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jun 2003 15:20:30 -0000
Received: (qmail 1600 invoked by uid 50); 3 Jun 2003 15:22:44 -0000
Date: 3 Jun 2003 15:22:44 -0000
Message-ID: <20030603152244.1599.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 17569]  -
    Include generated website in the distribution
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=17569>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=17569

Include generated website in the distribution

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
   Target Milestone|2.0 Beta 1                  |2.0 Beta 2

From anonymous@nagoya.betaversion.org  Tue Jun  3 15:30:03 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 38918 invoked from network); 3 Jun 2003 15:30:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jun 2003 15:30:03 -0000
Received: (qmail 2025 invoked by uid 50); 3 Jun 2003 15:32:16 -0000
Date: 3 Jun 2003 15:32:16 -0000
Message-ID: <20030603153216.2024.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20451] New:  -
    HttpMethodBase.checkValidRedirects() is too restrictive
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20451>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20451

HttpMethodBase.checkValidRedirects() is too restrictive

           Summary: HttpMethodBase.checkValidRedirects() is too restrictive
           Product: Commons
           Version: 2.0 Beta 1
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: niall@pobox.com


Surely it should be possible to redirect from http -> https?  This should be
enabled by default, or at least user configurable through properties files or
subclassing.

From anonymous@nagoya.betaversion.org  Tue Jun  3 15:33:15 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 49899 invoked from network); 3 Jun 2003 15:33:15 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jun 2003 15:33:15 -0000
Received: (qmail 2152 invoked by uid 50); 3 Jun 2003 15:35:27 -0000
Date: 3 Jun 2003 15:35:27 -0000
Message-ID: <20030603153527.2151.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From olegk@apache.org  2003-06-03 15:35 -------
Folks, I have finally started working on the SSL guide. Meanwhile, could you
please take a look at those correction I have made to the Cookie guide? There
are some factual discrepancies in it. Since the Cookie guide has already been
deployed at the HttpClient site, we should not wait too long with its revision
and update.

Oleg

From anonymous@nagoya.betaversion.org  Tue Jun  3 15:43:07 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 86558 invoked from network); 3 Jun 2003 15:43:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jun 2003 15:43:07 -0000
Received: (qmail 2676 invoked by uid 50); 3 Jun 2003 15:45:21 -0000
Date: 3 Jun 2003 15:45:21 -0000
Message-ID: <20030603154521.2675.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20451]  -
    HttpMethodBase.checkValidRedirects() is too restrictive
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20451>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20451

HttpMethodBase.checkValidRedirects() is too restrictive

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |DUPLICATE



------- Additional Comments From olegk@apache.org  2003-06-03 15:45 -------
This is a well-known issue caused by a pretty serious design flaw, which,
unfortunately, cannot be fixed without breaking the existing API. The bug will
be addressed in the 2.1 release.

Sorry

Oleg

*** This bug has been marked as a duplicate of 16729 ***

From anonymous@nagoya.betaversion.org  Tue Jun  3 15:43:09 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 86663 invoked from network); 3 Jun 2003 15:43:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jun 2003 15:43:09 -0000
Received: (qmail 2687 invoked by uid 50); 3 Jun 2003 15:45:23 -0000
Date: 3 Jun 2003 15:45:23 -0000
Message-ID: <20030603154523.2686.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 16729]  -
    Allow redirects between hosts and ports
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=16729>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=16729

Allow redirects between hosts and ports

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                 CC|                            |niall@pobox.com



------- Additional Comments From olegk@apache.org  2003-06-03 15:45 -------
*** Bug 20451 has been marked as a duplicate of this bug. ***

From anonymous@nagoya.betaversion.org  Tue Jun  3 21:00:33 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 84933 invoked from network); 3 Jun 2003 21:00:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jun 2003 21:00:33 -0000
Received: (qmail 12567 invoked by uid 50); 3 Jun 2003 21:02:50 -0000
Date: 3 Jun 2003 21:02:50 -0000
Message-ID: <20030603210250.12566.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From adrian@ephox.com  2003-06-03 21:02 -------
Oleg,
Changes to the cookie spec look good to me.  Thanks for checking that over.  We should definitely
commit and redeply the website as soon as it's next convienient.  There are now a few changes
waiting to be deployed.

From anonymous@nagoya.betaversion.org  Tue Jun  3 21:29:11 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 32663 invoked from network); 3 Jun 2003 21:29:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 3 Jun 2003 21:29:11 -0000
Received: (qmail 13100 invoked by uid 50); 3 Jun 2003 21:31:28 -0000
Date: 3 Jun 2003 21:31:28 -0000
Message-ID: <20030603213128.13099.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From olegk@apache.org  2003-06-03 21:31 -------
Thanks, Adrian. Patch committed.

Welcome to the Fellowship, by the way

Oleg

From becke@u.washington.edu  Tue Jun  3 22:25:02 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 12617 invoked from network); 3 Jun 2003 22:25:02 -0000
Received: from mxout4.cac.washington.edu (140.142.33.19)
  by daedalus.apache.org with SMTP; 3 Jun 2003 22:25:02 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout4.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h53MP9Tc023970
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 3 Jun 2003 15:25:09 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h53MP7Px020871
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 3 Jun 2003 15:25:08 -0700
Date: Tue, 3 Jun 2003 18:25:03 -0400
Subject: Re: DO NOT REPLY [Bug 10809]  -  Developer documentation
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20030603210250.12566.qmail@nagoya.betaversion.org>
Message-Id: <38CF6D60-9612-11D7-9A90-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The site has been redeployed.

Mike

On Tuesday, June 3, 2003, at 05:02 PM, bugzilla@apache.org wrote:

> DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
> RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
> <http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
> ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
> INSERTED IN THE BUG DATABASE.
>
> http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809
>
> Developer documentation
>
>
>
>
>
> ------- Additional Comments From adrian@ephox.com  2003-06-03 21:02
> -------
> Oleg,
> Changes to the cookie spec look good to me.  Thanks for checking that
> over.  We should definitely
> commit and redeply the website as soon as it's next convienient.
> There are now a few changes
> waiting to be deployed.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From anonymous@nagoya.betaversion.org  Wed Jun  4 02:28:59 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 36207 invoked from network); 4 Jun 2003 02:28:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 4 Jun 2003 02:28:59 -0000
Received: (qmail 17947 invoked by uid 50); 4 Jun 2003 02:31:22 -0000
Date: 4 Jun 2003 02:31:22 -0000
Message-ID: <20030604023122.17946.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10816]  -
    User/Developer Documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10816>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10816

User/Developer Documentation





------- Additional Comments From becke@u.washington.edu  2003-06-04 02:31 -------
The authentication and redirection docs managed to slip through the cracks.
They have now been committed.

From anonymous@nagoya.betaversion.org  Wed Jun  4 15:02:32 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 51382 invoked from network); 4 Jun 2003 15:02:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 4 Jun 2003 15:02:32 -0000
Received: (qmail 10755 invoked by uid 50); 4 Jun 2003 15:04:47 -0000
Date: 4 Jun 2003 15:04:47 -0000
Message-ID: <20030604150447.10754.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481] New:  -
    Possible error with PostMethod.generateRequestBody() when using a parameter of the form: select(c)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

Possible error with PostMethod.generateRequestBody() when using a parameter of the form: select(c)

           Summary: Possible error with PostMethod.generateRequestBody()
                    when using a parameter of the form: select(c)
           Product: Commons
           Version: 2.0 Beta 1
          Platform: PC
        OS/Version: Windows NT/2K
            Status: NEW
          Severity: Normal
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: cdmein@yahoo.co.uk


As always I'd like to pass on my thanks, I'm finding HttpClient really useful.

The problem occurs because I use Struts map based ActionForm and these generate
request parameters of the form:

<input type="text" name="searchSelection(c)">

When this is submitted using the PostMethod class the generateRequestBody() is
called and in turn this calls the URI.encode() method with a BitSet of the
acceptable characters. In this case the '(' and ')' characters are marked as
acceptable.

The problem is that this does not work correctly when I submit it to my remote
server. If however I issue the request directly (from a webpage rather than
using HttpClient) it works and when I examine the request input stream I can see
that the parameter has been re-written so that 'select(c)' is displayed as
'select%28c%29'.

This may be my error because of encoding problems or the fact I am not setting
the content type etc. correctly. Or it could be a bug. I'm afraid my HTTP
knowledge is not good enough.

Chris Mein

From anonymous@nagoya.betaversion.org  Thu Jun  5 02:01:44 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 25084 invoked from network); 5 Jun 2003 02:01:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 Jun 2003 02:01:44 -0000
Received: (qmail 28216 invoked by uid 50); 5 Jun 2003 02:04:07 -0000
Date: 5 Jun 2003 02:04:07 -0000
Message-ID: <20030605020407.28215.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    Possible error with PostMethod.generateRequestBody() when using a parameter of the form: select(c)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

Possible error with PostMethod.generateRequestBody() when using a parameter of the form: select(c)





------- Additional Comments From becke@u.washington.edu  2003-06-05 02:04 -------
I believe that PostMethod handles parameters correctly.  ( and ) are not reserved characters and
therefore do not need to be encoded.  Are you using the addParameter() or
the setRequestBody(NameValuePair[]) methods of PostMethod?  If not my guess is that the content
type is not being set correctly.  When posting form values the content type should be "application/
x-www-form-urlencoded", which is used when setting the params.  If the requestBody is set as a
single string or stream the content type will need to be specified manually.  If setting the content
type doesn't fix the problem please post a wire log and some sample code if possible.

http://jakarta.apache.org/commons/httpclient/logging.html

From anonymous@nagoya.betaversion.org  Thu Jun  5 06:09:51 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 49655 invoked from network); 5 Jun 2003 06:09:51 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 Jun 2003 06:09:51 -0000
Received: (qmail 2157 invoked by uid 50); 5 Jun 2003 06:12:16 -0000
Date: 5 Jun 2003 06:12:16 -0000
Message-ID: <20030605061216.2156.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    Possible error with PostMethod.generateRequestBody() when using a parameter of the form: select(c)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

Possible error with PostMethod.generateRequestBody() when using a parameter of the form: select(c)





------- Additional Comments From ortwin.glueck@nose.ch  2003-06-05 06:12 -------
Chris,

It does not matter what you see in the InputStream. You should access request
parameters through the servlet API using
HttpServletRequest::getParameter(String). Is there any difference using that
function whether you send the POST through a web browser or through HttpClient?

Odi

From anonymous@nagoya.betaversion.org  Thu Jun  5 08:45:33 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 43129 invoked from network); 5 Jun 2003 08:45:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 Jun 2003 08:45:33 -0000
Received: (qmail 6072 invoked by uid 50); 5 Jun 2003 08:47:59 -0000
Date: 5 Jun 2003 08:47:59 -0000
Message-ID: <20030605084759.6071.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    Possible error with PostMethod.generateRequestBody() when using a parameter of the form: select(c)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

Possible error with PostMethod.generateRequestBody() when using a parameter of the form: select(c)





------- Additional Comments From cdmein@yahoo.co.uk  2003-06-05 08:47 -------
Ortwin and Michael

First to clear things up (sorry that I wasn't clear before). I have built a
Struts based web application with a input form that posts information to a
Struts 'form' that uses a map based attribute, hence the need for an input with
the format selected(c).

When I access this web application directly everything works. When I use
HttpClient to access the form (I am building a mini portlet) my application
hangs and timesout. I turned on the Struts debugging and found that it failed
when it was trying to read the request parameters using the request.getParameter
calls. It was then that I (after lots of other tinkering) looked directly at the
input stream (which of course is wrong) to see if there was a low level
difference. This is when I noticed that from the browser I received selected%
28c%29 and from HttpClient I received selected(c). Hence the possible bug.

With regard to your information Michael I am 'screen scraping' to do my portal,
re-writing the URLs etc. to get the effect I want. What I do is copy the headers
over, adjusting the Content-Length if necessary and sending this to my back end
Struts application. Again I'm not sure if this is very valid but I manage to
keep the sesison etc and it seems to work everywhere else. I do use the
setRequestBody(NameValuePair[]) method to reset the input parameters I get into
the PostMethod. I have attached the request headers I set as well...

request name=Accept, header=image/gif
request name=Accept, header=image/x-xbitmap
request name=Accept, header=image/jpeg
request name=Accept, header=image/pjpeg
request name=Accept, header=application/vnd.ms-powerpoint
request name=Accept, header=application/vnd.ms-excel
request name=Accept, header=application/msword
request name=Accept, header=application/x-shockwave-flash
request name=Accept, header=*/*
request name=Referer, header=http://localhost:
8080/portal/search/advanced/display.do;JSESSIONID=1vm3jdykwh0a8
request name=Accept-Language, header=en-gb
request name=Content-Type, header=application/x-www-form-urlencoded
request name=Accept-Encoding, header=gzip
request name=Accept-Encoding, header=deflate
request name=User-Agent, header=Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.
0)
request name=Host, header=localhost:8080

And I can see in there encoding header you mention.

If you can't think of anything else for me to try straight away I will build two
small web apps that do what I am trying and will attach them.

Chris

From anonymous@nagoya.betaversion.org  Thu Jun  5 10:26:47 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 96070 invoked from network); 5 Jun 2003 10:26:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 Jun 2003 10:26:47 -0000
Received: (qmail 8438 invoked by uid 50); 5 Jun 2003 10:29:14 -0000
Date: 5 Jun 2003 10:29:14 -0000
Message-ID: <20030605102914.8437.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From olegk@apache.org  2003-06-05 10:29 -------
Created an attachment (id=6644)
SSL Guide (take 1)

From anonymous@nagoya.betaversion.org  Thu Jun  5 10:33:01 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 1771 invoked from network); 5 Jun 2003 10:33:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 Jun 2003 10:33:01 -0000
Received: (qmail 8588 invoked by uid 50); 5 Jun 2003 10:35:14 -0000
Date: 5 Jun 2003 10:35:14 -0000
Message-ID: <20030605103514.8587.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From olegk@apache.org  2003-06-05 10:35 -------
Adrian, please find the first draft of the SSL guide attached above. It's still
quite raw but it should be good enough so you could take it over. If you need
additional input please let me know

Oleg.

From anonymous@nagoya.betaversion.org  Thu Jun  5 12:30:20 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 57653 invoked from network); 5 Jun 2003 12:30:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 Jun 2003 12:30:20 -0000
Received: (qmail 14077 invoked by uid 50); 5 Jun 2003 12:32:34 -0000
Date: 5 Jun 2003 12:32:34 -0000
Message-ID: <20030605123234.14076.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    Possible error with PostMethod.generateRequestBody() when using a parameter of the form: select(c)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

Possible error with PostMethod.generateRequestBody() when using a parameter of the form: select(c)





------- Additional Comments From becke@u.washington.edu  2003-06-05 12:32 -------
Chris,

Could you provide an HttpClient wire log?  This may help to clear things up.

http://jakarta.apache.org/commons/httpclient/logging.html

Mike

From anonymous@nagoya.betaversion.org  Thu Jun  5 12:36:37 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 80929 invoked from network); 5 Jun 2003 12:36:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 Jun 2003 12:36:37 -0000
Received: (qmail 14622 invoked by uid 50); 5 Jun 2003 12:38:51 -0000
Date: 5 Jun 2003 12:38:51 -0000
Message-ID: <20030605123851.14621.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 16432]  -
    Error from maven when generating the task list
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=16432>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=16432

Error from maven when generating the task list

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|ASSIGNED                    |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From olegk@apache.org  2003-06-05 12:38 -------
The problem does not occur with Maven 1.0-beta-8. I believe it's not an issue
anymore. Closing the report

Oleg

 __  __
|  \/  |__ Jakarta _ ___
| |\/| / _` \ V / -_) ' \  ~ intelligent projects ~
|_|  |_\__,_|\_/\___|_||_|   v. 1.0-beta-8


site:
maven-jdepend-plugin:report:
java:prepare-filesystem:

java:compile:


checkstyle:check-license-file:
checkstyle:determine-properties:

checkstyle:report:
checkstyle:determine-properties:

    [echo] Using checkstyle.properties for checkstyle ...


maven-checkstyle-plugin:report:

maven-changelog-plugin:report:
    [echo] Generating the changelog report

maven-developer-activity-plugin:report:
    [echo] Generating the developer activity report

maven-file-activity-plugin:report:
    [echo] Generating the file activity report

xdoc:init:

maven-javadoc-plugin:report:
    [echo] Linking with API information from
http://java.sun.com/j2se/1.4.1/docs/api/ ...
    [echo] Linking with API information from
http://jakarta.apache.org/commons/logging/apidocs/ ...
    [javadoc] Generating Javadoc
    [javadoc] Javadoc execution
    [javadoc] Loading source files for package org.apache.commons.httpclient...
    [javadoc] Loading source files for package org.apache.commons.httpclient.auth...
    [javadoc] Loading source files for package org.apache.commons.httpclient.util...
    [javadoc] Loading source files for package
org.apache.commons.httpclient.methods...
    [javadoc] Loading source files for package
org.apache.commons.httpclient.methods.multipart...
    [javadoc] Loading source files for package
org.apache.commons.httpclient.cookie...
    [javadoc] Loading source files for package
org.apache.commons.httpclient.protocol...
    [javadoc] Constructing Javadoc information...
    [javadoc] Standard Doclet version 1.4.1
    [javadoc]
    [javadoc] Generating
/home/ok/src/jakarta/httpclient/target/docs/apidocs/constant-values.html...
    [javadoc] Copying file
/home/ok/maven/plugins/maven-javadoc-plugin-1.1/plugin-resources/stylesheet.css
to file /home/ok/src/jakarta/httpclient/target/docs/apidocs/stylesheet.css...
    [javadoc] Building tree for all the packages and classes...
    [javadoc] Building index for all the packages and classes...
    [javadoc] Building index for all classes...

maven-jxr-plugin:report:
    [echo]
javadocdir:null
 PackageManager -> parsing...
org/apache/commons/httpclient/auth/MalformedChallengeException.java
 PackageManager -> parsing... org/apache/commons/httpclient/auth/BasicScheme.java
 PackageManager -> parsing... org/apache/commons/httpclient/auth/RFC2617Scheme.java
 PackageManager -> parsing...
org/apache/commons/httpclient/auth/AuthChallengeParser.java
 PackageManager -> parsing... org/apache/commons/httpclient/auth/NTLMScheme.java
 PackageManager -> parsing... org/apache/commons/httpclient/auth/AuthSchemeBase.java
 PackageManager -> parsing...
org/apache/commons/httpclient/auth/HttpAuthenticator.java
 PackageManager -> parsing...
org/apache/commons/httpclient/auth/AuthenticationException.java
 PackageManager -> parsing... org/apache/commons/httpclient/auth/DigestScheme.java
 PackageManager -> parsing... org/apache/commons/httpclient/auth/HttpAuthRealm.java
 PackageManager -> parsing... org/apache/commons/httpclient/auth/AuthScheme.java
 PackageManager -> parsing... org/apache/commons/httpclient/util/Base64.java
 PackageManager -> parsing...
org/apache/commons/httpclient/util/TimeoutController.java
 PackageManager -> parsing...
org/apache/commons/httpclient/util/HttpURLConnection.java
 PackageManager -> parsing...
org/apache/commons/httpclient/util/DateParseException.java
 PackageManager -> parsing... org/apache/commons/httpclient/util/URIUtil.java
 PackageManager -> parsing... org/apache/commons/httpclient/util/DateParser.java
 PackageManager -> parsing... org/apache/commons/httpclient/NTCredentials.java
 PackageManager -> parsing...
org/apache/commons/httpclient/ResponseConsumedWatcher.java
 PackageManager -> parsing...
org/apache/commons/httpclient/MultiThreadedHttpConnectionManager.java
 PackageManager -> parsing... org/apache/commons/httpclient/HttpConstants.java
 PackageManager -> parsing... org/apache/commons/httpclient/HttpsURL.java
 PackageManager -> parsing... org/apache/commons/httpclient/HttpClient.java
 PackageManager -> parsing... org/apache/commons/httpclient/HttpState.java
 PackageManager -> parsing... org/apache/commons/httpclient/HttpParser.java
 PackageManager -> parsing... org/apache/commons/httpclient/NameValuePair.java
 PackageManager -> parsing... org/apache/commons/httpclient/Wire.java
 PackageManager -> parsing... org/apache/commons/httpclient/URI.java
 PackageManager -> parsing... org/apache/commons/httpclient/StatusLine.java
 PackageManager -> parsing... org/apache/commons/httpclient/ResponseInputStream.java
 PackageManager -> parsing... org/apache/commons/httpclient/HttpConnection.java
 PackageManager -> parsing... org/apache/commons/httpclient/HttpStatus.java
 PackageManager -> parsing... org/apache/commons/httpclient/HttpException.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/UrlOptionsMethod.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/UrlPutMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/methods/TraceMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/methods/GetMethod.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/UrlHeadMethod.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/UrlPostMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/methods/HeadMethod.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/EntityEnclosingMethod.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/multipart/PartSource.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/multipart/Part.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/multipart/ByteArrayPartSource.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/multipart/FilePart.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/multipart/FilePartSource.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/multipart/StringPart.java
 PackageManager -> parsing... org/apache/commons/httpclient/methods/PostMethod.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/MultipartPostMethod.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/ExpectContinueMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/methods/PutMethod.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/OptionsMethod.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/DeleteMethod.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/UrlDeleteMethod.java
 PackageManager -> parsing...
org/apache/commons/httpclient/methods/UrlGetMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/ChunkedInputStream.java
 PackageManager -> parsing... org/apache/commons/httpclient/RequestOutputStream.java
 PackageManager -> parsing... org/apache/commons/httpclient/Header.java
 PackageManager -> parsing... org/apache/commons/httpclient/Credentials.java
 PackageManager -> parsing...
org/apache/commons/httpclient/cookie/CookieSpecBase.java
 PackageManager -> parsing...
org/apache/commons/httpclient/cookie/NetscapeDraftSpec.java
 PackageManager -> parsing... org/apache/commons/httpclient/cookie/CookieSpec.java
 PackageManager -> parsing... org/apache/commons/httpclient/cookie/CookiePolicy.java
 PackageManager -> parsing...
org/apache/commons/httpclient/cookie/MalformedCookieException.java
 PackageManager -> parsing... org/apache/commons/httpclient/cookie/RFC2109Spec.java
 PackageManager -> parsing... org/apache/commons/httpclient/ConnectMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/NTLM.java
 PackageManager -> parsing...
org/apache/commons/httpclient/UsernamePasswordCredentials.java
 PackageManager -> parsing... org/apache/commons/httpclient/HttpURL.java
 PackageManager -> parsing...
org/apache/commons/httpclient/ContentLengthInputStream.java
 PackageManager -> parsing... org/apache/commons/httpclient/Authenticator.java
 PackageManager -> parsing... org/apache/commons/httpclient/HttpUrlMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/URIException.java
 PackageManager -> parsing...
org/apache/commons/httpclient/HttpConnectionManager.java
 PackageManager -> parsing... org/apache/commons/httpclient/WireLogInputStream.java
 PackageManager -> parsing... org/apache/commons/httpclient/HeaderGroup.java
 PackageManager -> parsing... org/apache/commons/httpclient/WireLogOutputStream.java
 PackageManager -> parsing... org/apache/commons/httpclient/HeaderElement.java
 PackageManager -> parsing...
org/apache/commons/httpclient/DefaultMethodRetryHandler.java
 PackageManager -> parsing... org/apache/commons/httpclient/ChunkedOutputStream.java
 PackageManager -> parsing... org/apache/commons/httpclient/Cookie.java
 PackageManager -> parsing... org/apache/commons/httpclient/HttpMethod.java
 PackageManager -> parsing...
org/apache/commons/httpclient/protocol/SSLProtocolSocketFactory.java
 PackageManager -> parsing...
org/apache/commons/httpclient/protocol/SecureProtocolSocketFactory.java
 PackageManager -> parsing...
org/apache/commons/httpclient/protocol/DefaultProtocolSocketFactory.java
 PackageManager -> parsing... org/apache/commons/httpclient/protocol/Protocol.java
 PackageManager -> parsing...
org/apache/commons/httpclient/protocol/ProtocolSocketFactory.java
 PackageManager -> parsing... org/apache/commons/httpclient/HttpMethodBase.java
 PackageManager -> parsing... org/apache/commons/httpclient/MethodRetryHandler.java
 PackageManager -> parsing...
org/apache/commons/httpclient/HttpRecoverableException.java
 PackageManager -> parsing...
org/apache/commons/httpclient/AutoCloseInputStream.java
 PackageManager -> parsing...
org/apache/commons/httpclient/SimpleHttpConnectionManager.java
 PackageManager -> parsing... org/apache/commons/httpclient/HostConfiguration.java
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/auth/MalformedChallengeException.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/auth/MalformedChallengeException.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/auth/BasicScheme.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/auth/BasicScheme.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/auth/RFC2617Scheme.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/auth/RFC2617Scheme.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/auth/AuthChallengeParser.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/auth/AuthChallengeParser.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/auth/NTLMScheme.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/auth/NTLMScheme.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/auth/AuthSchemeBase.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/auth/AuthSchemeBase.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/auth/HttpAuthenticator.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/auth/HttpAuthenticator.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/auth/AuthenticationException.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/auth/AuthenticationException.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/auth/DigestScheme.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/auth/DigestScheme.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/auth/HttpAuthRealm.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/auth/HttpAuthRealm.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/auth/AuthScheme.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/auth/AuthScheme.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/util/Base64.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/util/Base64.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/util/TimeoutController.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/util/TimeoutController.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/util/HttpURLConnection.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/util/HttpURLConnection.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/util/DateParseException.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/util/DateParseException.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/util/URIUtil.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/util/URIUtil.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/util/DateParser.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/util/DateParser.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/NTCredentials.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/NTCredentials.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/ResponseConsumedWatcher.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/ResponseConsumedWatcher.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/MultiThreadedHttpConnectionManager.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/MultiThreadedHttpConnectionManager.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpConstants.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpConstants.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpsURL.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpsURL.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpClient.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpClient.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpState.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpState.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpParser.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpParser.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/NameValuePair.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/NameValuePair.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/Wire.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/Wire.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/URI.java
->
/home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/URI.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/StatusLine.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/StatusLine.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/ResponseInputStream.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/ResponseInputStream.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpConnection.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpConnection.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpStatus.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpStatus.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpException.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpException.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/UrlOptionsMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/UrlOptionsMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/UrlPutMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/UrlPutMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/TraceMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/TraceMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/GetMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/GetMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/UrlHeadMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/UrlHeadMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/UrlPostMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/UrlPostMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/HeadMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/HeadMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/EntityEnclosingMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/EntityEnclosingMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/multipart/PartSource.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/multipart/PartSource.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/multipart/Part.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/multipart/Part.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/multipart/ByteArrayPartSource.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/multipart/ByteArrayPartSource.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/multipart/FilePart.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/multipart/FilePart.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/multipart/FilePartSource.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/multipart/FilePartSource.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/multipart/StringPart.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/multipart/StringPart.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/PostMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/PostMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/MultipartPostMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/MultipartPostMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/ExpectContinueMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/ExpectContinueMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/PutMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/PutMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/OptionsMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/OptionsMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/DeleteMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/DeleteMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/UrlDeleteMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/UrlDeleteMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/methods/UrlGetMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/methods/UrlGetMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/ChunkedInputStream.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/ChunkedInputStream.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/RequestOutputStream.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/RequestOutputStream.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/Header.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/Header.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/Credentials.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/Credentials.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/cookie/CookieSpecBase.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/cookie/CookieSpecBase.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/cookie/NetscapeDraftSpec.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/cookie/NetscapeDraftSpec.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/cookie/CookieSpec.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/cookie/CookieSpec.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/cookie/CookiePolicy.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/cookie/CookiePolicy.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/cookie/MalformedCookieException.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/cookie/MalformedCookieException.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/cookie/RFC2109Spec.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/cookie/RFC2109Spec.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/ConnectMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/ConnectMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/NTLM.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/NTLM.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/UsernamePasswordCredentials.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/UsernamePasswordCredentials.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpURL.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpURL.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/ContentLengthInputStream.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/ContentLengthInputStream.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/Authenticator.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/Authenticator.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpUrlMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpUrlMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/URIException.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/URIException.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpConnectionManager.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpConnectionManager.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/WireLogInputStream.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/WireLogInputStream.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HeaderGroup.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HeaderGroup.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/WireLogOutputStream.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/WireLogOutputStream.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HeaderElement.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HeaderElement.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/DefaultMethodRetryHandler.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/DefaultMethodRetryHandler.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/ChunkedOutputStream.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/ChunkedOutputStream.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/Cookie.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/Cookie.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpMethod.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/protocol/SSLProtocolSocketFactory.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/protocol/SSLProtocolSocketFactory.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/protocol/SecureProtocolSocketFactory.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/protocol/SecureProtocolSocketFactory.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/protocol/DefaultProtocolSocketFactory.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/protocol/DefaultProtocolSocketFactory.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/protocol/Protocol.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/protocol/Protocol.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/protocol/ProtocolSocketFactory.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/protocol/ProtocolSocketFactory.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpMethodBase.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpMethodBase.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/MethodRetryHandler.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/MethodRetryHandler.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HttpRecoverableException.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HttpRecoverableException.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/AutoCloseInputStream.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/AutoCloseInputStream.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/SimpleHttpConnectionManager.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/SimpleHttpConnectionManager.html
	/home/ok/src/jakarta/httpclient/src/java/org/apache/commons/httpclient/HostConfiguration.java -> /home/ok/src/jakarta/httpclient/target/docs/xref/org/apache/commons/httpclient/HostConfiguration.html
javadocdir:null
 PackageManager -> parsing... org/apache/commons/httpclient/TestResponseHeaders.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestLocalHost.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestStreams.java
 PackageManager -> parsing...
org/apache/commons/httpclient/TestMethodsRedirectNoHost.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestWebappMethods.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestHttpState.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestHttpStatus.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestWebappBase.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestGetMethodLocal.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestHttps.java
 PackageManager -> parsing...
org/apache/commons/httpclient/TestTraceMethodLocal.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestMethods.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestAllLocal.java
 PackageManager -> parsing...
org/apache/commons/httpclient/TestWebappNoncompliant.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestAllExternal.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestWebappCookie.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestLocalHostBase.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestBase64.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestAuthenticator.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestPartsNoHost.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestHttpUrlMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestURI.java
 PackageManager -> parsing...
org/apache/commons/httpclient/TestMethodsExternalHost.java
 PackageManager -> parsing...
org/apache/commons/httpclient/TestWebappParameters.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestWebappBasicAuth.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestChallengeParser.java
 PackageManager -> parsing...
org/apache/commons/httpclient/TestWebappPostMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestWebappHeaders.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestHeaderElement.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestHeader.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestWebappRedirect.java
 PackageManager -> parsing...
org/apache/commons/httpclient/TestHttpConnectionManager.java
 PackageManager -> parsing...
org/apache/commons/httpclient/TestWebappMultiPostMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestAll.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestMethodsNoHost.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestURIUtil.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestNoHost.java
 PackageManager -> parsing...
org/apache/commons/httpclient/NoncompliantHeadMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/ExecuteMethodThread.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestExternalHost.java
 PackageManager -> parsing... org/apache/commons/httpclient/SimpleHttpMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestNVP.java
 PackageManager -> parsing...
org/apache/commons/httpclient/NoncompliantPostMethod.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestWebapp.java
 PackageManager -> parsing...
org/apache/commons/httpclient/TestMethodsLocalHost.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestCookie.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestURIUtil2.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestHttpConnection.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestRequestHeaders.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestRequestLine.java
 PackageManager -> parsing...
org/apache/commons/httpclient/TestMethodCharEncoding.java
 PackageManager -> parsing... org/apache/commons/httpclient/TestStatusLine.java
 PackageManager -> parsing...
org/apache/commons/httpclient/SimpleHttpConnection.java
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestResponseHeaders.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestResponseHeaders.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestLocalHost.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestLocalHost.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestStreams.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestStreams.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestMethodsRedirectNoHost.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestMethodsRedirectNoHost.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestWebappMethods.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestWebappMethods.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestHttpState.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestHttpState.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestHttpStatus.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestHttpStatus.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestWebappBase.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestWebappBase.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestGetMethodLocal.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestGetMethodLocal.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestHttps.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestHttps.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestTraceMethodLocal.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestTraceMethodLocal.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestMethods.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestMethods.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestAllLocal.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestAllLocal.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestWebappNoncompliant.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestWebappNoncompliant.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestAllExternal.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestAllExternal.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestWebappCookie.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestWebappCookie.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestLocalHostBase.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestLocalHostBase.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestBase64.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestBase64.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestAuthenticator.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestAuthenticator.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestPartsNoHost.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestPartsNoHost.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestHttpUrlMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestHttpUrlMethod.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestURI.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestURI.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestMethodsExternalHost.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestMethodsExternalHost.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestWebappParameters.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestWebappParameters.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestWebappBasicAuth.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestWebappBasicAuth.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestChallengeParser.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestChallengeParser.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestWebappPostMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestWebappPostMethod.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestWebappHeaders.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestWebappHeaders.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestHeaderElement.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestHeaderElement.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestHeader.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestHeader.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestWebappRedirect.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestWebappRedirect.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestHttpConnectionManager.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestHttpConnectionManager.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestWebappMultiPostMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestWebappMultiPostMethod.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestAll.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestAll.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestMethodsNoHost.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestMethodsNoHost.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestURIUtil.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestURIUtil.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestNoHost.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestNoHost.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/NoncompliantHeadMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/NoncompliantHeadMethod.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/ExecuteMethodThread.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/ExecuteMethodThread.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestExternalHost.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestExternalHost.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/SimpleHttpMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/SimpleHttpMethod.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestNVP.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestNVP.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/NoncompliantPostMethod.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/NoncompliantPostMethod.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestWebapp.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestWebapp.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestMethodsLocalHost.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestMethodsLocalHost.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestCookie.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestCookie.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestURIUtil2.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestURIUtil2.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestHttpConnection.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestHttpConnection.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestRequestHeaders.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestRequestHeaders.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestRequestLine.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestRequestLine.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestMethodCharEncoding.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestMethodCharEncoding.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/TestStatusLine.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/TestStatusLine.html
	/home/ok/src/jakarta/httpclient/src/test/org/apache/commons/httpclient/SimpleHttpConnection.java -> /home/ok/src/jakarta/httpclient/target/docs/xref-test/org/apache/commons/httpclient/SimpleHttpConnection.html

maven-junit-report-plugin:report:
java:prepare-filesystem:

java:compile:

java:jar-resources:

test:prepare-filesystem:

test:test-resources:

test:compile:

test:test:
    [junit] dir attribute ignored if running in the same VM
    [junit] Running org.apache.commons.httpclient.TestNoHost
    [junit] Tests run: 176, Failures: 0, Errors: 0, Time elapsed: 14,27 sec


maven-linkcheck-plugin:report:
    [echo] This run of linkcheck does nothing except create a template linkcheck
file

xdoc:init:

maven-tasklist-plugin:report:
    [echo] Generating tasklist ...

xdoc:init:

xdoc:register-reports:

xdoc:generate-from-pom:
    [echo] Generating xdocs from POM ...

xdoc:transform:
xdoc:init:

xdoc:register-reports:

xdoc:generate-from-pom:
    [echo] Generating xdocs from POM ...

apt:generate:

xdoc:init:

xdoc:copy-resources:
    [copy] Copying 5 files to /home/ok/src/jakarta/httpclient/target/docs/style
    [copy] Copying 9 files to /home/ok/src/jakarta/httpclient/target/docs/images
About to use JSL stylesheet
file:/home/ok/maven/plugins/maven-xdoc-plugin-1.3/plugin-resources/site.jsl

xdoc:init:

xdoc:copy-user-resources:

xdoc:init:

xdoc:jelly-init:

xdoc:register-reports:

xdoc:jelly-transform:
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/jdepend-report.html from
/home/ok/src/jakarta/httpclient/target/generated-xdocs/jdepend-report.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/developer-activity-report.html from
/home/ok/src/jakarta/httpclient/target/generated-xdocs/developer-activity-report.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/javadoc.html
from /home/ok/src/jakarta/httpclient/target/generated-xdocs/javadoc.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/issue-tracking.html from
/home/ok/src/jakarta/httpclient/target/generated-xdocs/issue-tracking.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/team-list.html
from /home/ok/src/jakarta/httpclient/target/generated-xdocs/team-list.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/changelog-report.html from
/home/ok/src/jakarta/httpclient/target/generated-xdocs/changelog-report.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/task-list.html
from /home/ok/src/jakarta/httpclient/target/generated-xdocs/task-list.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/index.html
from /home/ok/src/jakarta/httpclient/target/generated-xdocs/index.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/mail-lists.html from
/home/ok/src/jakarta/httpclient/target/generated-xdocs/mail-lists.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/junit-report.html from
/home/ok/src/jakarta/httpclient/target/generated-xdocs/junit-report.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/checkstyle-report.html from
/home/ok/src/jakarta/httpclient/target/generated-xdocs/checkstyle-report.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/maven-reports.html from
/home/ok/src/jakarta/httpclient/target/generated-xdocs/maven-reports.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/dependencies.html from
/home/ok/src/jakarta/httpclient/target/generated-xdocs/dependencies.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/project-info.html from
/home/ok/src/jakarta/httpclient/target/generated-xdocs/project-info.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/file-activity-report.html from
/home/ok/src/jakarta/httpclient/target/generated-xdocs/file-activity-report.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/cvs-usage.html
from /home/ok/src/jakarta/httpclient/target/generated-xdocs/cvs-usage.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/linkcheck.html
from /home/ok/src/jakarta/httpclient/target/generated-xdocs/linkcheck.xml
Transforming user supplied documentation.
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/methods.html
from /home/ok/src/jakarta/httpclient/xdocs/methods.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/tutorial.html
from /home/ok/src/jakarta/httpclient/xdocs/tutorial.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/cookies.html
from /home/ok/src/jakarta/httpclient/xdocs/cookies.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/threading.html
from /home/ok/src/jakarta/httpclient/xdocs/threading.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/overview.html
from /home/ok/src/jakarta/httpclient/xdocs/overview.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/methods/put.html from
/home/ok/src/jakarta/httpclient/xdocs/methods/put.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/methods/options.html from
/home/ok/src/jakarta/httpclient/xdocs/methods/options.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/methods/post.html from
/home/ok/src/jakarta/httpclient/xdocs/methods/post.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/methods/get.html from
/home/ok/src/jakarta/httpclient/xdocs/methods/get.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/methods/multipartpost.html from
/home/ok/src/jakarta/httpclient/xdocs/methods/multipartpost.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/methods/delete.html from
/home/ok/src/jakarta/httpclient/xdocs/methods/delete.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/methods/head.html from
/home/ok/src/jakarta/httpclient/xdocs/methods/head.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/methods/trace.html from
/home/ok/src/jakarta/httpclient/xdocs/methods/trace.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/proposal.html
from /home/ok/src/jakarta/httpclient/xdocs/proposal.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/charencodings.html from
/home/ok/src/jakarta/httpclient/xdocs/charencodings.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/userguide.html
from /home/ok/src/jakarta/httpclient/xdocs/userguide.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/applications.html from
/home/ok/src/jakarta/httpclient/xdocs/applications.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/index.html
from /home/ok/src/jakarta/httpclient/xdocs/index.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/downloads.html
from /home/ok/src/jakarta/httpclient/xdocs/downloads.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/target/generated-xdocs/issue-tracking.html
from /home/ok/src/jakarta/httpclient/xdocs/target/generated-xdocs/issue-tracking.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/target/generated-xdocs/team-list.html
from /home/ok/src/jakarta/httpclient/xdocs/target/generated-xdocs/team-list.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/target/generated-xdocs/index.html
from /home/ok/src/jakarta/httpclient/xdocs/target/generated-xdocs/index.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/target/generated-xdocs/mail-lists.html
from /home/ok/src/jakarta/httpclient/xdocs/target/generated-xdocs/mail-lists.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/target/generated-xdocs/maven-reports.html
from /home/ok/src/jakarta/httpclient/xdocs/target/generated-xdocs/maven-reports.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/target/generated-xdocs/dependencies.html
from /home/ok/src/jakarta/httpclient/xdocs/target/generated-xdocs/dependencies.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/target/generated-xdocs/project-info.html
from /home/ok/src/jakarta/httpclient/xdocs/target/generated-xdocs/project-info.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/target/generated-xdocs/cvs-usage.html
from /home/ok/src/jakarta/httpclient/xdocs/target/generated-xdocs/cvs-usage.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/news.html from
/home/ok/src/jakarta/httpclient/xdocs/news.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/features.html
from /home/ok/src/jakarta/httpclient/xdocs/features.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/redirects.html
from /home/ok/src/jakarta/httpclient/xdocs/redirects.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/sslguide.html
from /home/ok/src/jakarta/httpclient/xdocs/sslguide.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/releases.html
from /home/ok/src/jakarta/httpclient/xdocs/releases.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/authentication.html from
/home/ok/src/jakarta/httpclient/xdocs/authentication.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/troubleshooting.html from
/home/ok/src/jakarta/httpclient/xdocs/troubleshooting.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/developerguide.html from
/home/ok/src/jakarta/httpclient/xdocs/developerguide.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/status.html
from /home/ok/src/jakarta/httpclient/xdocs/status.xml
    [echo] Generating
/home/ok/src/jakarta/httpclient/target/docs/testwebapp.html from
/home/ok/src/jakarta/httpclient/xdocs/testwebapp.xml
    [echo] Generating /home/ok/src/jakarta/httpclient/target/docs/logging.html
from /home/ok/src/jakarta/httpclient/xdocs/logging.xml
maven-linkcheck-plugin:report-real:
    [echo] BaseDir: /home/ok/src/jakarta/httpclient
    [echo] LinkCheck not enabled as maven.linkcheck.enable is not defined.
BUILD SUCCESSFUL
Total time: 1 minutes 43 seconds

From oleg.kalnichevski@bearingpoint.com  Thu Jun  5 12:58:26 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 29166 invoked from network); 5 Jun 2003 12:58:26 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 5 Jun 2003 12:58:26 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 5 Jun 2003 12:55:55 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Subject: Any missing documentation bits?
Date: Thu, 5 Jun 2003 13:58:26 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE54D@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Any missing documentation bits?
Thread-Index: AcMrYia1CqurwAawQV6DNACoOQEvlg==
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 05 Jun 2003 12:55:55.0203 (UTC) FILETIME=[CD42B930:01C32B61]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Folks

I have just finished writing the first draft of what it is eventually =
going to be the SSL Guide. As far as I am concerned the SSL Guide =
appears pretty much the last missing piece of documentation. Is there =
anything else you may want documented? Do you think any of the existing =
documents needs to be expanded or improved?=20

Comments, ideas welcome.=20

Cheers

Oleg

From anonymous@nagoya.betaversion.org  Thu Jun  5 17:05:58 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 22681 invoked from network); 5 Jun 2003 17:05:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 Jun 2003 17:05:58 -0000
Received: (qmail 24632 invoked by uid 50); 5 Jun 2003 17:08:14 -0000
Date: 5 Jun 2003 17:08:14 -0000
Message-ID: <20030605170814.24631.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From becke@u.washington.edu  2003-06-05 17:08 -------
Oleg,

This looks like a good start.  The only major thing I noticed is in regard to
JCE.  JCE is not required to use SSL with HttpClient.  I belive JCE is only used
by NTLM.

Mike

From anonymous@nagoya.betaversion.org  Thu Jun  5 17:27:27 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 89870 invoked from network); 5 Jun 2003 17:27:27 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 5 Jun 2003 17:27:27 -0000
Received: (qmail 25483 invoked by uid 50); 5 Jun 2003 17:29:44 -0000
Date: 5 Jun 2003 17:29:44 -0000
Message-ID: <20030605172944.25482.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From olegk@apache.org  2003-06-05 17:29 -------
Ok, point taken. I'll make the corrections required. Any other comments?

Oleg

From becke@u.washington.edu  Thu Jun  5 17:46:50 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 22992 invoked from network); 5 Jun 2003 17:46:50 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 5 Jun 2003 17:46:50 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h55HksSL020775
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 10:46:54 -0700
Received: from u.washington.edu (ss02.co.us.ibm.com [32.97.110.67])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h55Hko7j006000
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 10:46:53 -0700
Message-ID: <3EDF81FF.8000507@u.washington.edu>
Date: Thu, 05 Jun 2003 13:46:39 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: DO NOT REPLY [Bug 10809]  -     Developer documentation
References: <20030605172944.25482.qmail@nagoya.betaversion.org>
In-Reply-To: <20030605172944.25482.qmail@nagoya.betaversion.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I haven't had a chance to look through it thoroughly yet.  I will submit
some more comments from home tonight.

Mike

bugzilla@apache.org wrote:
> DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
> RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
> <http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
> ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
> INSERTED IN THE BUG DATABASE.
>
> http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809
>
> Developer documentation
>
>
>
>
>
> ------- Additional Comments From olegk@apache.org  2003-06-05 17:29 -------
> Ok, point taken. I'll make the corrections required. Any other comments?
>
> Oleg
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From om5@hotmail.com  Thu Jun  5 19:58:36 2003
Return-Path: <om5@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 2077 invoked from network); 5 Jun 2003 19:58:36 -0000
Received: from bay2-dav32.bay2.hotmail.com (HELO hotmail.com) (65.54.246.89)
  by daedalus.apache.org with SMTP; 5 Jun 2003 19:58:36 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 5 Jun 2003 12:58:42 -0700
Received: from 24.56.39.111 by bay2-dav32.bay2.hotmail.com with DAV;
	Thu, 05 Jun 2003 19:58:41 +0000
X-Originating-IP: [24.56.39.111]
X-Originating-Email: [om5@hotmail.com]
From: "Om Narayan" <om5@hotmail.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: Questions related to the use of HttpClient classes
Date: Thu, 5 Jun 2003 12:59:14 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
Message-ID: <BAY2-DAV32GCIFoPkG0000171f2@hotmail.com>
X-OriginalArrivalTime: 05 Jun 2003 19:58:42.0025 (UTC) FILETIME=[DD109590:01C32B9C]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Please validate my understanding of how HttpClient and the other classes
work together.

1. When I do "httpclient = new HttpClient", the object is created by default
with the SimpleHttpConnectionManager.
2. I create "post = new PostMethod(url)" and call
httpclient.executeMethod(post). At this point httpclient takes the url in
the post object and using the SimpleHttpConnectionManager, creates a
HttpConnection object.  This connection is retained by the
SimpleHttpConnectionManager and (possibly?) reused.
3. After connection is established, data is posted, and the result
retrieved.
4. I do post.releaseConnection().  Does the connection get closed at this
point? Is the HttpConnection object still around? What do I need to do if  I
had wanted to have the connection stay alive (because it takes time to
re-establish the connection)?
5. Is post.recycle() related to connection in any way? What is the purpose
of this? Is PostMethod ctor an expensive operation?

6. SimpleHttpConnectionManager doc says "This manager makes no attempt to
provide exclusive access to the contained HttpConnection". Does this mean
that calling httpclient.execute() method in this case is not thread-safe?

7. If I wanted to use "connection pooling" should I be using
MultiThreadedHttpConnectionManager instead?  Or do I need to implement my
own pooling?

I am sure I have other questions, but this will do for now. :)
Thanks.

Om.

From asharm3@sears.com  Thu Jun  5 20:13:26 2003
Return-Path: <asharm3@sears.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 27533 invoked from network); 5 Jun 2003 20:13:26 -0000
Received: from chntva1-smrly1.gtei.net (128.11.152.196)
  by daedalus.apache.org with SMTP; 5 Jun 2003 20:13:26 -0000
Received: from poseidon-hs2-nk (poseidon-hs2-nk.sears.com [198.179.147.12])
	by chntva1-smrly1.gtei.net (Postfix) with SMTP id A9B251353A
	for <commons-httpclient-dev@jakarta.apache.org>; Thu,  5 Jun 2003 20:13:28 +0000 (GMT)
Received: from  ([157.241.125.69]) by poseidon-hs2-nk; Thu, 05 Jun 2003 16:13:26 -0400 (EDT)
Subject: Status code of 100 on client.executeMethod();
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.11   July 24, 2002
Message-ID: <OF3FA486E4.0385C896-ON86256D3C.006E3593-86256D3C.006EF926@LocalDomain>
From: asharm3@sears.com
Date: Thu, 5 Jun 2003 15:12:04 -0500
X-MIMETrack: Serialize by Router on SRSNH002/HUB/SEARS(Release 5.0.11  |July 24, 2002) at
 06/05/2003 03:13:31 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Can anyone please let me know what does status code of 100 mean as a return
from client.executeMethod(post).
The result returns 100 and the subsequent code is not executed. I am not
able to retrieve the response as Stream.

Would appreciate if anyone can look at the code below to see if I have
missed anything that ought to be in the code.
This code is running under tomcat and is the alpha release before Release 2
beta 1.

          StringBuffer responseBody = new StringBuffer("");

          PostMethod method = null;
            String translatedString = "";

                  // Create the new HttpClient object
                  client = new HttpClient();

              //establish a connection within x seconds
              client.setConnectionTimeout(connectionTimeout);

              // Time it takes to receive the data after the connection is
established.
              client.setTimeout(timeout);

              //create a method object
              method = new PostMethod(sTheURL);

                  // Set the request body with the xml request
                  method.setRequestBody(sXML);

                  // Set the request headers
              method.setRequestHeader("Content-Type", " text/xml");
                  method.setRequestHeader("Content-Length",
translatedString.length() + "");

              int result = client.executeMethod(method);

              InputStream is = method.getResponseBodyAsStream();

              BufferedReader br = new BufferedReader(new
InputStreamReader(is));

              String line = null;
                while ((line = br.readLine()) != null)
                {
                   responseBody.append(line);
                }

              br.close();

              //clean up the connection resources
              method.releaseConnection();




From eric@tibco.com  Thu Jun  5 20:16:14 2003
Return-Path: <eric@tibco.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 34419 invoked from network); 5 Jun 2003 20:16:14 -0000
Received: from unknown (HELO extmail.extensibility.com) (63.86.210.252)
  by daedalus.apache.org with SMTP; 5 Jun 2003 20:16:14 -0000
Received: from tibco.com (remote-10.98.32.32.tibco.com [10.98.32.32]) by extmail.extensibility.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2655.55)
	id L1J5JMAN; Thu, 5 Jun 2003 16:07:48 -0400
Message-ID: <3EDFA521.8040402@tibco.com>
Date: Thu, 05 Jun 2003 16:16:33 -0400
From: Eric Johnson <eric@tibco.com>
Organization: TIBCO Extensibility
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Questions related to the use of HttpClient classes
References: <BAY2-DAV32GCIFoPkG0000171f2@hotmail.com>
In-Reply-To: <BAY2-DAV32GCIFoPkG0000171f2@hotmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Om,

Responses follow....

Om Narayan wrote:

>Please validate my understanding of how HttpClient and the other classes
>work together.
>
>1. When I do "httpclient = new HttpClient", the object is created by default
>with the SimpleHttpConnectionManager.
>2. I create "post = new PostMethod(url)" and call
>httpclient.executeMethod(post). At this point httpclient takes the url in
>the post object and using the SimpleHttpConnectionManager, creates a
>HttpConnection object.  This connection is retained by the
>SimpleHttpConnectionManager and (possibly?) reused.
>
The connection will be reused if you invoke another request that uses
the "Simple" connection manager.

>3. After connection is established, data is posted, and the result
>retrieved.
>4. I do post.releaseConnection().  Does the connection get closed at this
>point? Is the HttpConnection object still around? What do I need to do if  I
>had wanted to have the connection stay alive (because it takes time to
>re-establish the connection)?
>
"releasing" a connection should not be confused with "closing" the
connection.  "Releasing" ensures that it can be safely reused by a
subsequent request.  For the most part, releasing a connection is
entirely unnecessary with the "SimpleHttpConnectionManager", as it only
has one connection, and it will "release" it internally before handing
it out for a subsequent request.  Closing a connection only happens when
necessary - as in a "Connection: close" header, an Http 1.0 response, or
any of the other various standard reasons for forcing a connection
closed.  As a general rule of thumb, HttpClient only closes the
underlying socket connection when absolutely necessary (unless you are
using HTTPS and a proxy server, as I recall).

>5. Is post.recycle() related to connection in any way? What is the purpose
>of this? Is PostMethod ctor an expensive operation?
>
>
I think that previous discussion on the "recycle" operation has
indicated to me that this is a largely spurious function.  It might be
useful, but I suspect it is mostly premature optimization.  The code in
our application simply makes a new "Method" object for each new
request.  Of course, we don't make millions of requests, which others
might be, and they might report differently.

>6. SimpleHttpConnectionManager doc says "This manager makes no attempt to
>provide exclusive access to the contained HttpConnection". Does this mean
>that calling httpclient.execute() method in this case is not thread-safe?
>
>
As soon as you do an "execute" on the next method using the
SimpleHttpConnectionManager, the previous response data becomes
invalid.  In this sense, it is not even "single thread" safe.  For
example, code written like this: execute A, execute B, read A, read B
will fail on the attempt to read A.  Used across multiple threads, even
worse things can happen.  I recommend using
MultiThreadedHttpConnectionManager.

>7. If I wanted to use "connection pooling" should I be using
>MultiThreadedHttpConnectionManager instead?  Or do I need to implement my
>own pooling?
>
It should be sufficient to use the MultiThreadedHttpConnectionManager,
which actually serves multiple tasks, one of them being pooling.

>
>I am sure I have other questions, but this will do for now. :)
>Thanks.
>
>Om.
>
Good luck.

-Eric Johnson


From becke@u.washington.edu  Thu Jun  5 20:18:14 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 43002 invoked from network); 5 Jun 2003 20:18:14 -0000
Received: from mxout4.cac.washington.edu (140.142.33.19)
  by daedalus.apache.org with SMTP; 5 Jun 2003 20:18:14 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout4.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h55KIGTc013980
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 13:18:16 -0700
Received: from u.washington.edu (ss2.bluebird.ibm.com [129.42.208.140])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h55KIF7j016226
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 13:18:15 -0700
Message-ID: <3EDFA57F.5070809@u.washington.edu>
Date: Thu, 05 Jun 2003 16:18:07 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Questions related to the use of HttpClient classes
References: <BAY2-DAV32GCIFoPkG0000171f2@hotmail.com>
In-Reply-To: <BAY2-DAV32GCIFoPkG0000171f2@hotmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Om,

Nice set of questions.  Looks almost like a FAQ :)

> 1. When I do "httpclient = new HttpClient", the object is created by default
> with the SimpleHttpConnectionManager.

Correct.

> 2. I create "post = new PostMethod(url)" and call
> httpclient.executeMethod(post). At this point httpclient takes the url in
> the post object and using the SimpleHttpConnectionManager, creates a
> HttpConnection object.  This connection is retained by the
> SimpleHttpConnectionManager and (possibly?) reused.

Yes, that's pretty much it.  Just to clarify SimpleHttpConnectionManager
contains a single instance of an HttpConnection and reuses it when
possible.  For example if you were to do two GETs from
"http://jakarta.apache.org/" then the connection would be reused.  This
assumes that the server supports connection persistence.

> 3. After connection is established, data is posted, and the result
> retrieved
> 4. I do post.releaseConnection().  Does the connection get closed at this
> point? Is the HttpConnection object still around? What do I need to do if  I
> had wanted to have the connection stay alive (because it takes time to
> re-establish the connection)?

It depends on the server and a few other variables (like SSL and JVM
version).  In general HTTP 1.1 defaults to keep-alive and 1.0 defaults
to close.  These defaults can be overriden by the server using the
connection header.

> 5. Is post.recycle() related to connection in any way? What is the purpose
> of this? Is PostMethod ctor an expensive operation?

It calls releaseConnection() plus some other things.  In general I do
not use recycle much.  I prefer to create a new instance as it's not
particularly expensive.

> 6. SimpleHttpConnectionManager doc says "This manager makes no attempt to
> provide exclusive access to the contained HttpConnection". Does this mean
> that calling httpclient.execute() method in this case is not thread-safe?

Correct.  Not thread safe.  It would fail quite quickly if used from
multiple threads.

> 7. If I wanted to use "connection pooling" should I be using
> MultiThreadedHttpConnectionManager instead?  Or do I need to implement my
> own pooling?

MultiThreadedHttpConnectionManager is what you want.

Mike


From becke@u.washington.edu  Thu Jun  5 20:24:36 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 53656 invoked from network); 5 Jun 2003 20:24:36 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 5 Jun 2003 20:24:36 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout2.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h55KOf5R007781
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 13:24:41 -0700
Received: from u.washington.edu (ss2.bluebird.ibm.com [129.42.208.140])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h55KOe7j016642
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 13:24:41 -0700
Message-ID: <3EDFA701.5000601@u.washington.edu>
Date: Thu, 05 Jun 2003 16:24:33 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Status code of 100 on client.executeMethod();
References: <OF3FA486E4.0385C896-ON86256D3C.006E3593-86256D3C.006EF926@LocalDomain>
In-Reply-To: <OF3FA486E4.0385C896-ON86256D3C.006E3593-86256D3C.006EF926@LocalDomain>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It sounds like you are using Alpha 3.  I would suggest upgrading to Beta
1.  Also, you should only need to set the content length if you are
posting an InputStream.  In that case you should use
post.setRequestContentLength().

Mike

asharm3@sears.com wrote:
> Can anyone please let me know what does status code of 100 mean as a return
> from client.executeMethod(post).
> The result returns 100 and the subsequent code is not executed. I am not
> able to retrieve the response as Stream.
>
> Would appreciate if anyone can look at the code below to see if I have
> missed anything that ought to be in the code.
> This code is running under tomcat and is the alpha release before Release 2
> beta 1.
>
>           StringBuffer responseBody = new StringBuffer("");
>
>           PostMethod method = null;
>             String translatedString = "";
>
>                   // Create the new HttpClient object
>                   client = new HttpClient();
>
>               //establish a connection within x seconds
>               client.setConnectionTimeout(connectionTimeout);
>
>               // Time it takes to receive the data after the connection is
> established.
>               client.setTimeout(timeout);
>
>               //create a method object
>               method = new PostMethod(sTheURL);
>
>                   // Set the request body with the xml request
>                   method.setRequestBody(sXML);
>
>                   // Set the request headers
>               method.setRequestHeader("Content-Type", " text/xml");
>                   method.setRequestHeader("Content-Length",
> translatedString.length() + "");
>
>               int result = client.executeMethod(method);
>
>               InputStream is = method.getResponseBodyAsStream();
>
>               BufferedReader br = new BufferedReader(new
> InputStreamReader(is));
>
>               String line = null;
>                 while ((line = br.readLine()) != null)
>                 {
>                    responseBody.append(line);
>                 }
>
>               br.close();
>
>               //clean up the connection resources
>               method.releaseConnection();
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From olegk@apache.org  Thu Jun  5 20:50:31 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 14231 invoked from network); 5 Jun 2003 20:50:31 -0000
Received: from mail6.bluewin.ch (195.186.4.229)
  by daedalus.apache.org with SMTP; 5 Jun 2003 20:50:31 -0000
Received: from [192.168.1.48] (62.202.33.218) by mail6.bluewin.ch (Bluewin AG 7.0.016)
        id 3EDDD4F30002F9D2 for commons-httpclient-dev@jakarta.apache.org; Thu, 5 Jun 2003 20:50:36 +0000
Subject: Re: Status code of 100 on client.executeMethod();
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <OF3FA486E4.0385C896-ON86256D3C.006E3593-86256D3C.006EF926@LocalDomain>
References:
	 <OF3FA486E4.0385C896-ON86256D3C.006E3593-86256D3C.006EF926@LocalDomain>
Content-Type: text/plain
Organization:
Message-Id: <1054846232.2488.25.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5)
Date: 05 Jun 2003 22:50:32 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

100 status code is supposed to be used internally by HTTP agents when
engaging in so-called 'expect: 100-continue' handshake. The target HTTP
server responds with status code 100 to tell the client that it is ok to
send the request body. The purpose of 'expect: 100-continue' handshake
is to avoid sending request body (that can be fairly large) if some of
the headers do not satisfy the target HTTP server, for instance,
authentication credentials are not valid.

The 1xx range of status codes are for internal use only and should never
be returned to the user. This is definitely a bug in earlier versions of
HttpClient.

There seems to be nothing wrong with your code. Just upgrade to 2.0beta1
Cheers

Oleg

On Thu, 2003-06-05 at 22:12, asharm3@sears.com wrote:
> Can anyone please let me know what does status code of 100 mean as a return
> from client.executeMethod(post).
> The result returns 100 and the subsequent code is not executed. I am not
> able to retrieve the response as Stream.
>
> Would appreciate if anyone can look at the code below to see if I have
> missed anything that ought to be in the code.
> This code is running under tomcat and is the alpha release before Release 2
> beta 1.
>
>           StringBuffer responseBody = new StringBuffer("");
>
>           PostMethod method = null;
>             String translatedString = "";
>
>                   // Create the new HttpClient object
>                   client = new HttpClient();
>
>               //establish a connection within x seconds
>               client.setConnectionTimeout(connectionTimeout);
>
>               // Time it takes to receive the data after the connection is
> established.
>               client.setTimeout(timeout);
>
>               //create a method object
>               method = new PostMethod(sTheURL);
>
>                   // Set the request body with the xml request
>                   method.setRequestBody(sXML);
>
>                   // Set the request headers
>               method.setRequestHeader("Content-Type", " text/xml");
>                   method.setRequestHeader("Content-Length",
> translatedString.length() + "");
>
>               int result = client.executeMethod(method);
>
>               InputStream is = method.getResponseBodyAsStream();
>
>               BufferedReader br = new BufferedReader(new
> InputStreamReader(is));
>
>               String line = null;
>                 while ((line = br.readLine()) != null)
>                 {
>                    responseBody.append(line);
>                 }
>
>               br.close();
>
>               //clean up the connection resources
>               method.releaseConnection();
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From george.gastaldi@neogrid.com.br  Thu Jun  5 20:54:46 2003
Return-Path: <george.gastaldi@neogrid.com.br>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 23266 invoked from network); 5 Jun 2003 20:54:46 -0000
Received: from corvina.neogrid.com.br (HELO dourado.neogrid.com.br) (200.180.73.66)
  by daedalus.apache.org with SMTP; 5 Jun 2003 20:54:46 -0000
Received: by dourado.neogrid.com.br with Internet Mail Service (5.5.2653.19)
	id <MJHXGLDV>; Thu, 5 Jun 2003 17:59:52 -0300
Message-ID: <1DF6E2D62721D14B8866786D862BE0DB013AC616@dourado.neogrid.com.br>
From: George Gastaldi <george.gastaldi@neogrid.com.br>
To: "Commons HttpClient Project (E-mail)"
	 <commons-httpclient-dev@jakarta.apache.org>
Subject: Timeout in HTTP
Date: Thu, 5 Jun 2003 17:59:51 -0300
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C32BA5.683C0CF0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C32BA5.683C0CF0
Content-Type: text/plain;
	charset="iso-8859-1"

Hello !
	First of all I am new to this list. I have a doubt that seems easy
to answer. What is the default timeout setting value to HTTP Connections ? I
mean, after how many seconds is the HTTPTimeoutException thrown during a GET
operation ?

Thank you !

------_=_NextPart_001_01C32BA5.683C0CF0--

From olegk@apache.org  Thu Jun  5 20:59:11 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 32577 invoked from network); 5 Jun 2003 20:59:11 -0000
Received: from mail5.bluewin.ch (195.186.1.207)
  by daedalus.apache.org with SMTP; 5 Jun 2003 20:59:11 -0000
Received: from [192.168.1.48] (62.202.33.218) by mail5.bluewin.ch (Bluewin AG 7.0.015)
        id 3ECE03BE0019F2D4 for commons-httpclient-dev@jakarta.apache.org; Thu, 5 Jun 2003 20:59:16 +0000
Subject: Re: Questions related to the use of HttpClient classes
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <3EDFA57F.5070809@u.washington.edu>
References: <BAY2-DAV32GCIFoPkG0000171f2@hotmail.com>
	 <3EDFA57F.5070809@u.washington.edu>
Content-Type: text/plain
Organization:
Message-Id: <1054846753.2488.29.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5)
Date: 05 Jun 2003 22:59:13 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Mike,

Why do not we indeed make a FAQ document out of this Q & A session with?

Oleg

On Thu, 2003-06-05 at 22:18, Michael Becke wrote:
> Om,
>
> Nice set of questions.  Looks almost like a FAQ :)
>
> > 1. When I do "httpclient = new HttpClient", the object is created by default
> > with the SimpleHttpConnectionManager.
>
> Correct.
>
> > 2. I create "post = new PostMethod(url)" and call
> > httpclient.executeMethod(post). At this point httpclient takes the url in
> > the post object and using the SimpleHttpConnectionManager, creates a
> > HttpConnection object.  This connection is retained by the
> > SimpleHttpConnectionManager and (possibly?) reused.
>
> Yes, that's pretty much it.  Just to clarify SimpleHttpConnectionManager
> contains a single instance of an HttpConnection and reuses it when
> possible.  For example if you were to do two GETs from
> "http://jakarta.apache.org/" then the connection would be reused.  This
> assumes that the server supports connection persistence.
>
> > 3. After connection is established, data is posted, and the result
> > retrieved
> > 4. I do post.releaseConnection().  Does the connection get closed at this
> > point? Is the HttpConnection object still around? What do I need to do if  I
> > had wanted to have the connection stay alive (because it takes time to
> > re-establish the connection)?
>
> It depends on the server and a few other variables (like SSL and JVM
> version).  In general HTTP 1.1 defaults to keep-alive and 1.0 defaults
> to close.  These defaults can be overriden by the server using the
> connection header.
>
> > 5. Is post.recycle() related to connection in any way? What is the purpose
> > of this? Is PostMethod ctor an expensive operation?
>
> It calls releaseConnection() plus some other things.  In general I do
> not use recycle much.  I prefer to create a new instance as it's not
> particularly expensive.
>
> > 6. SimpleHttpConnectionManager doc says "This manager makes no attempt to
> > provide exclusive access to the contained HttpConnection". Does this mean
> > that calling httpclient.execute() method in this case is not thread-safe?
>
> Correct.  Not thread safe.  It would fail quite quickly if used from
> multiple threads.
>
> > 7. If I wanted to use "connection pooling" should I be using
> > MultiThreadedHttpConnectionManager instead?  Or do I need to implement my
> > own pooling?
>
> MultiThreadedHttpConnectionManager is what you want.
>
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Thu Jun  5 21:13:29 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 59677 invoked from network); 5 Jun 2003 21:13:29 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 5 Jun 2003 21:13:29 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h55LDZSL027991
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 14:13:35 -0700
Received: from u.washington.edu (ss1.bluebird.ibm.com [129.42.208.139])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h55LDY7j019977
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 14:13:34 -0700
Message-ID: <3EDFB271.2040100@u.washington.edu>
Date: Thu, 05 Jun 2003 17:13:21 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Timeout in HTTP
References: <1DF6E2D62721D14B8866786D862BE0DB013AC616@dourado.neogrid.com.br>
In-Reply-To: <1DF6E2D62721D14B8866786D862BE0DB013AC616@dourado.neogrid.com.br>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am assuming you are talking about SO_TIMEOUT set via
HttpClient.setTimeout().  This is the amount of time to wait when
reading on an open socket.  This defaults to 0 which means that it will
wait forever.

Mike

George Gastaldi wrote:
> Hello !
> 	First of all I am new to this list. I have a doubt that seems easy
> to answer. What is the default timeout setting value to HTTP Connections ? I
> mean, after how many seconds is the HTTPTimeoutException thrown during a GET
> operation ?
>
> Thank you !
>


From becke@u.washington.edu  Thu Jun  5 22:25:32 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 64636 invoked from network); 5 Jun 2003 22:25:32 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 5 Jun 2003 22:25:32 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout1.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h55MPcRG005483
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 15:25:38 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h55MPaPx028145
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 15:25:38 -0700
Date: Thu, 5 Jun 2003 18:25:34 -0400
Subject: Re: Questions related to the use of HttpClient classes
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1054846753.2488.29.camel@kczrh-okt22.corp.bearingpoint.com>
Message-Id: <9FF56BA8-97A4-11D7-859F-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Quite so.  I will get one started.  Any other questions you would like
to see added?

Mike

On Thursday, June 5, 2003, at 04:59 PM, Oleg Kalnichevski wrote:

> Mike,
>
> Why do not we indeed make a FAQ document out of this Q & A session
> with?
>
> Oleg
>
> On Thu, 2003-06-05 at 22:18, Michael Becke wrote:
>> Om,
>>
>> Nice set of questions.  Looks almost like a FAQ :)
>>
>>> 1. When I do "httpclient = new HttpClient", the object is created by
>>> default
>>> with the SimpleHttpConnectionManager.
>>
>> Correct.
>>
>>> 2. I create "post = new PostMethod(url)" and call
>>> httpclient.executeMethod(post). At this point httpclient takes the
>>> url in
>>> the post object and using the SimpleHttpConnectionManager, creates a
>>> HttpConnection object.  This connection is retained by the
>>> SimpleHttpConnectionManager and (possibly?) reused.
>>
>> Yes, that's pretty much it.  Just to clarify
>> SimpleHttpConnectionManager
>> contains a single instance of an HttpConnection and reuses it when
>> possible.  For example if you were to do two GETs from
>> "http://jakarta.apache.org/" then the connection would be reused.
>> This
>> assumes that the server supports connection persistence.
>>
>>> 3. After connection is established, data is posted, and the result
>>> retrieved
>>> 4. I do post.releaseConnection().  Does the connection get closed at
>>> this
>>> point? Is the HttpConnection object still around? What do I need to
>>> do if  I
>>> had wanted to have the connection stay alive (because it takes time
>>> to
>>> re-establish the connection)?
>>
>> It depends on the server and a few other variables (like SSL and JVM
>> version).  In general HTTP 1.1 defaults to keep-alive and 1.0 defaults
>> to close.  These defaults can be overriden by the server using the
>> connection header.
>>
>>> 5. Is post.recycle() related to connection in any way? What is the
>>> purpose
>>> of this? Is PostMethod ctor an expensive operation?
>>
>> It calls releaseConnection() plus some other things.  In general I do
>> not use recycle much.  I prefer to create a new instance as it's not
>> particularly expensive.
>>
>>> 6. SimpleHttpConnectionManager doc says "This manager makes no
>>> attempt to
>>> provide exclusive access to the contained HttpConnection". Does this
>>> mean
>>> that calling httpclient.execute() method in this case is not
>>> thread-safe?
>>
>> Correct.  Not thread safe.  It would fail quite quickly if used from
>> multiple threads.
>>
>>> 7. If I wanted to use "connection pooling" should I be using
>>> MultiThreadedHttpConnectionManager instead?  Or do I need to
>>> implement my
>>> own pooling?
>>
>> MultiThreadedHttpConnectionManager is what you want.
>>
>> Mike
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From om5@hotmail.com  Thu Jun  5 22:54:30 2003
Return-Path: <om5@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 95369 invoked from network); 5 Jun 2003 22:54:30 -0000
Received: from bay2-dav38.bay2.hotmail.com (HELO hotmail.com) (65.54.246.95)
  by daedalus.apache.org with SMTP; 5 Jun 2003 22:54:30 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 5 Jun 2003 15:54:37 -0700
Received: from 24.56.39.111 by bay2-dav38.bay2.hotmail.com with DAV;
	Thu, 05 Jun 2003 22:54:37 +0000
X-Originating-IP: [24.56.39.111]
X-Originating-Email: [om5@hotmail.com]
From: "Om Narayan" <om5@hotmail.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <9FF56BA8-97A4-11D7-859F-00306557E112@u.washington.edu>
Subject: Re: Questions related to the use of HttpClient classes
Date: Thu, 5 Jun 2003 15:55:08 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
Message-ID: <BAY2-DAV38FCHOzyfyz0001765a@hotmail.com>
X-OriginalArrivalTime: 05 Jun 2003 22:54:37.0733 (UTC) FILETIME=[70C1CD50:01C32BB5]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

My email had a problem with my last post...so here it goes.
Thanks to Mike and Eric, my questions are mostly answered, and I am now able
to explain some strange problems that I was seeing. It looks to me that
using the MultiThreadedHttpConnectionManager as the default is better as it
is less likely to burn some unsuspecting user.

I have another question to add:  How do I "prime" the connections in the
MultiThreadedHttpConnectionManager pool?  I am running into a problem where
it is taking a long time (almost 30 secs using https) to open the first
connection. As a result the session bean that is opening the connection is
timing out. I need a way to make the first call to create the connection
work without timing out. Any suggestion is welcome.

Thanks.
Om.

----- Original Message -----
From: "Michael Becke" <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Thursday, June 05, 2003 3:25 PM
Subject: Re: Questions related to the use of HttpClient classes


> Quite so.  I will get one started.  Any other questions you would like
> to see added?
>
> Mike
>
> On Thursday, June 5, 2003, at 04:59 PM, Oleg Kalnichevski wrote:
>
> > Mike,
> >
> > Why do not we indeed make a FAQ document out of this Q & A session
> > with?
> >
> > Oleg
> >
> > On Thu, 2003-06-05 at 22:18, Michael Becke wrote:
> >> Om,
> >>
> >> Nice set of questions.  Looks almost like a FAQ :)
> >>
> >>> 1. When I do "httpclient = new HttpClient", the object is created by
> >>> default
> >>> with the SimpleHttpConnectionManager.
> >>
> >> Correct.
> >>
> >>> 2. I create "post = new PostMethod(url)" and call
> >>> httpclient.executeMethod(post). At this point httpclient takes the
> >>> url in
> >>> the post object and using the SimpleHttpConnectionManager, creates a
> >>> HttpConnection object.  This connection is retained by the
> >>> SimpleHttpConnectionManager and (possibly?) reused.
> >>
> >> Yes, that's pretty much it.  Just to clarify
> >> SimpleHttpConnectionManager
> >> contains a single instance of an HttpConnection and reuses it when
> >> possible.  For example if you were to do two GETs from
> >> "http://jakarta.apache.org/" then the connection would be reused.
> >> This
> >> assumes that the server supports connection persistence.
> >>
> >>> 3. After connection is established, data is posted, and the result
> >>> retrieved
> >>> 4. I do post.releaseConnection().  Does the connection get closed at
> >>> this
> >>> point? Is the HttpConnection object still around? What do I need to
> >>> do if  I
> >>> had wanted to have the connection stay alive (because it takes time
> >>> to
> >>> re-establish the connection)?
> >>
> >> It depends on the server and a few other variables (like SSL and JVM
> >> version).  In general HTTP 1.1 defaults to keep-alive and 1.0 defaults
> >> to close.  These defaults can be overriden by the server using the
> >> connection header.
> >>
> >>> 5. Is post.recycle() related to connection in any way? What is the
> >>> purpose
> >>> of this? Is PostMethod ctor an expensive operation?
> >>
> >> It calls releaseConnection() plus some other things.  In general I do
> >> not use recycle much.  I prefer to create a new instance as it's not
> >> particularly expensive.
> >>
> >>> 6. SimpleHttpConnectionManager doc says "This manager makes no
> >>> attempt to
> >>> provide exclusive access to the contained HttpConnection". Does this
> >>> mean
> >>> that calling httpclient.execute() method in this case is not
> >>> thread-safe?
> >>
> >> Correct.  Not thread safe.  It would fail quite quickly if used from
> >> multiple threads.
> >>
> >>> 7. If I wanted to use "connection pooling" should I be using
> >>> MultiThreadedHttpConnectionManager instead?  Or do I need to
> >>> implement my
> >>> own pooling?
> >>
> >> MultiThreadedHttpConnectionManager is what you want.
> >>
> >> Mike
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail:
> >> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail:
> >> commons-httpclient-dev-help@jakarta.apache.org
> >>
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > commons-httpclient-dev-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>
>

From adrian@intencha.com  Thu Jun  5 23:17:56 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 15698 invoked from network); 5 Jun 2003 23:17:56 -0000
Received: from mail3.nshosts.com (216.58.174.138)
  by daedalus.apache.org with SMTP; 5 Jun 2003 23:17:56 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail3.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0054528085@mail3.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 5 Jun 2003 17:16:57 -0600
Date: Fri, 6 Jun 2003 09:18:16 +1000
Subject: Re: Questions related to the use of HttpClient classes
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <BAY2-DAV38FCHOzyfyz0001765a@hotmail.com>
Message-Id: <FC9BD5C1-97AB-11D7-B6F8-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Friday, June 6, 2003, at 08:55  AM, Om Narayan wrote:

> My email had a problem with my last post...so here it goes.
> Thanks to Mike and Eric, my questions are mostly answered, and I am
> now able
> to explain some strange problems that I was seeing. It looks to me that
> using the MultiThreadedHttpConnectionManager as the default is better
> as it
> is less likely to burn some unsuspecting user.

A couple of other things that may or may not be useful to you:

The HttpClient tutorial - it sounds like you've already got the
fundamentals sorted out, but it's worth reading this quickly anyway.
http://jakarta.apache.org/commons/httpclient/tutorial.html

And the threading guide:
http://jakarta.apache.org/commons/httpclient/threading.html

That'll be good for the archives even if you've found those articles
already.

> I have another question to add:  How do I "prime" the connections in
> the
> MultiThreadedHttpConnectionManager pool?  I am running into a problem
> where
> it is taking a long time (almost 30 secs using https) to open the first
> connection. As a result the session bean that is opening the
> connection is
> timing out. I need a way to make the first call to create the
> connection
> work without timing out. Any suggestion is welcome.

I'd say the delay here is actually initialising JSSE rather than
actually making the first connection.   There should be a way to
initialise JSSE without actually making a connection.  If not, you may
find that just doing something like:

try {
	new URL("https://localhost/").openConnection();
} catch (Exception e) {
	// Log this somewhere but generally ignore it as it's expected to fail.
}

might solve the problem.  You would of course want to ensure that the
timeout is incredibly short (or just do it from a separate thread).
That would then make sure that JSSE is properly initialized.  I'm not
sure about the exact method of creating a HTTPS connection, you might
need to copy some code from HttpClient.

The other option if you're always connecting to the same host, is to
either just execute any method to that host, or request a connection
from the connection manager then immediately release it again.

> Om.

Mike is King of connection managers though so maybe he'll have some
better ideas.

Regards,

Adrian Sutton.


From becke@u.washington.edu  Thu Jun  5 23:37:19 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 44995 invoked from network); 5 Jun 2003 23:37:19 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 5 Jun 2003 23:37:19 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout1.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h55NbPRG017850
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 16:37:26 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h55NbOPx032348
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 16:37:25 -0700
Date: Thu, 5 Jun 2003 19:37:23 -0400
Subject: Re: Questions related to the use of HttpClient classes
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <FC9BD5C1-97AB-11D7-B6F8-000393016056@intencha.com>
Message-Id: <A8800D5A-97AE-11D7-859F-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I agree with Adrian.  I think it's the JSSE initialization time.  A
long initialization time is common with JSSE in pre 1.4 JVMs.  It
should only happen once per JVM or maybe per ClassLoader.  As Adrian
suggests you should make some kind of initial HTTPS connection to get
things warmed up.

Mike

On Thursday, June 5, 2003, at 07:18 PM, Adrian Sutton wrote:

>
> On Friday, June 6, 2003, at 08:55  AM, Om Narayan wrote:
>
>> My email had a problem with my last post...so here it goes.
>> Thanks to Mike and Eric, my questions are mostly answered, and I am
>> now able
>> to explain some strange problems that I was seeing. It looks to me
>> that
>> using the MultiThreadedHttpConnectionManager as the default is better
>> as it
>> is less likely to burn some unsuspecting user.
>
> A couple of other things that may or may not be useful to you:
>
> The HttpClient tutorial - it sounds like you've already got the
> fundamentals sorted out, but it's worth reading this quickly anyway.
> http://jakarta.apache.org/commons/httpclient/tutorial.html
>
> And the threading guide:
> http://jakarta.apache.org/commons/httpclient/threading.html
>
> That'll be good for the archives even if you've found those articles
> already.
>
>> I have another question to add:  How do I "prime" the connections in
>> the
>> MultiThreadedHttpConnectionManager pool?  I am running into a problem
>> where
>> it is taking a long time (almost 30 secs using https) to open the
>> first
>> connection. As a result the session bean that is opening the
>> connection is
>> timing out. I need a way to make the first call to create the
>> connection
>> work without timing out. Any suggestion is welcome.
>
> I'd say the delay here is actually initialising JSSE rather than
> actually making the first connection.   There should be a way to
> initialise JSSE without actually making a connection.  If not, you may
> find that just doing something like:
>
> try {
> 	new URL("https://localhost/").openConnection();
> } catch (Exception e) {
> 	// Log this somewhere but generally ignore it as it's expected to
> fail.
> }
>
> might solve the problem.  You would of course want to ensure that the
> timeout is incredibly short (or just do it from a separate thread).
> That would then make sure that JSSE is properly initialized.  I'm not
> sure about the exact method of creating a HTTPS connection, you might
> need to copy some code from HttpClient.
>
> The other option if you're always connecting to the same host, is to
> either just execute any method to that host, or request a connection
> from the connection manager then immediately release it again.
>
>> Om.
>
> Mike is King of connection managers though so maybe he'll have some
> better ideas.
>
> Regards,
>
> Adrian Sutton.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Fri Jun  6 04:17:45 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 82724 invoked from network); 6 Jun 2003 04:17:45 -0000
Received: from mxout4.cac.washington.edu (140.142.33.19)
  by daedalus.apache.org with SMTP; 6 Jun 2003 04:17:45 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout4.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h564HtTc006295
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 21:17:55 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h564HrPx007214
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 5 Jun 2003 21:17:54 -0700
Date: Fri, 6 Jun 2003 00:17:55 -0400
Subject: Re: DO NOT REPLY [Bug 10809]  -  Developer documentation
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20030605102914.8437.qmail@nagoya.betaversion.org>
Message-Id: <D8DF8BF9-97D5-11D7-859F-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Other than the inclusion of JCE I think the content is very good.  I
cannot think of anything at the moment that should be added.  A little
rewording is needed in a few sections, but I would say that it's mostly
ready.

Mike

On Thursday, June 5, 2003, at 06:29 AM, bugzilla@apache.org wrote:

> DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
> RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
> <http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
> ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
> INSERTED IN THE BUG DATABASE.
>
> http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809
>
> Developer documentation
>
>
>
>
>
> ------- Additional Comments From olegk@apache.org  2003-06-05 10:29
> -------
> Created an attachment (id=6644)
> SSL Guide (take 1)
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From ortwin.glueck@nose.ch  Fri Jun  6 06:23:27 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 65879 invoked from network); 6 Jun 2003 06:23:27 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 6 Jun 2003 06:23:27 -0000
Received: (qmail 19187 invoked from network); 6 Jun 2003 06:23:22 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 6 Jun 2003 06:23:22 -0000
Message-ID: <3EE03359.7030807@nose.ch>
Date: Fri, 06 Jun 2003 08:23:21 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Questions related to the use of HttpClient classes
References: <BAY2-DAV32GCIFoPkG0000171f2@hotmail.com>	 <3EDFA57F.5070809@u.washington.edu> <1054846753.2488.29.camel@kczrh-okt22.corp.bearingpoint.com>
In-Reply-To: <1054846753.2488.29.camel@kczrh-okt22.corp.bearingpoint.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

FAQ is good. Improving the API Doc in the spots Om pointed out is even
better.

Odi

Oleg Kalnichevski wrote:
> Mike,
>
> Why do not we indeed make a FAQ document out of this Q & A session with?
>
> Oleg


From ortwin.glueck@nose.ch  Fri Jun  6 06:25:45 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 69874 invoked from network); 6 Jun 2003 06:25:45 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 6 Jun 2003 06:25:45 -0000
Received: (qmail 19206 invoked from network); 6 Jun 2003 06:25:46 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 6 Jun 2003 06:25:46 -0000
Message-ID: <3EE033E8.8010108@nose.ch>
Date: Fri, 06 Jun 2003 08:25:44 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Timeout in HTTP
References: <1DF6E2D62721D14B8866786D862BE0DB013AC616@dourado.neogrid.com.br> <3EDFB271.2040100@u.washington.edu>
In-Reply-To: <3EDFB271.2040100@u.washington.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michael Becke wrote:
> I am assuming you are talking about SO_TIMEOUT set via
> HttpClient.setTimeout().  This is the amount of time to wait when
> reading on an open socket.  This defaults to 0 which means that it will
> wait forever.

"forever" means "until the server is bored and closes the connection" :-)


From mcp219@tid.es  Fri Jun  6 08:34:41 2003
Return-Path: <mcp219@tid.es>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 65987 invoked from network); 6 Jun 2003 08:34:41 -0000
Received: from tidos.tid.es (HELO tid) (193.145.240.2)
  by daedalus.apache.org with SMTP; 6 Jun 2003 08:34:41 -0000
Received: from conversion-daemon.tid.hi.inet by tid.hi.inet
 (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 id <0HG100K01X2ABB@tid.hi.inet> for commons-httpclient-dev@jakarta.apache.org;
 Fri, 06 Jun 2003 10:34:53 +0200 (MEST)
Received: from mcastro ([192.168.40.82])
 by tid.hi.inet (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 with ESMTP id <0HG100DY3X30SW@tid.hi.inet> for
 commons-httpclient-dev@jakarta.apache.org; Fri,
 06 Jun 2003 10:33:00 +0200 (MEST)
Date: Fri, 06 Jun 2003 10:34:40 +0200
From: Manuel Castro Paliza <mcp219@tid.es>
Subject: RE: Questions related to the use of HttpClient classes
In-reply-to: <3EE03359.7030807@nose.ch>
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Message-id: <HMEOKHPKLIDBKMPFPPJDMEKFCBAA.mcp219@tid.es>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

One question More.
I'm working on a kind of proxy,
I have ( a lot of ) different users connecting to different servers
MultiThreadedHttpConnectionManager its not an option because each user will
do one request each time, and something like new HttpClient(MySingleton
Instance of MultiThreadedHttpConnectionManager ) limits the maximum number
of connections to a host.
I'm using a Pool of Methods but I don't know if this is also a High-Level
pool of Connections.

So finally the cuestion is :
is a Pool of Methods also a  High-Level pool of Connections when not using
MultiThreadedHttpConnectionManager ?

Can anybody help me?

Thanks for this useful Component!



From ortwin.glueck@nose.ch  Fri Jun  6 08:47:33 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 76138 invoked from network); 6 Jun 2003 08:47:33 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 6 Jun 2003 08:47:33 -0000
Received: (qmail 20709 invoked from network); 6 Jun 2003 08:47:34 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 6 Jun 2003 08:47:34 -0000
Message-ID: <3EE05526.7030200@nose.ch>
Date: Fri, 06 Jun 2003 10:47:34 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Questions related to the use of HttpClient classes
References: <HMEOKHPKLIDBKMPFPPJDMEKFCBAA.mcp219@tid.es>
In-Reply-To: <HMEOKHPKLIDBKMPFPPJDMEKFCBAA.mcp219@tid.es>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Manuel Castro Paliza wrote:
> So finally the cuestion is :
> is a Pool of Methods also a  High-Level pool of Connections when not using
> MultiThreadedHttpConnectionManager ?

No. A method requests a connection from the connection manager on
demand. There is no fix association between a method and a connection.


From oleg.kalnichevski@bearingpoint.com  Fri Jun  6 08:51:30 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 80480 invoked from network); 6 Jun 2003 08:51:30 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 6 Jun 2003 08:51:30 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 6 Jun 2003 08:53:27 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Questions related to the use of HttpClient classes
Date: Fri, 6 Jun 2003 09:51:41 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE54F@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Questions related to the use of HttpClient classes
Thread-Index: AcMsBoeFGlLWIkOxR5aIctB4KmTD1wAAIgtA
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 06 Jun 2003 08:53:27.0640 (UTC) FILETIME=[18A68580:01C32C09]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Manuel,

HttpMethod instances and HttpConnection instances do not form any sort =
of association. HttpMethod instance always receives HttpConnection as a =
parameter, acts upon it, and then releases it (or is supposed to release =
it) back to the connection manager. HttpMethod instance never keeps a =
reference to its respective HttpConnection instance. Therefore pooling =
of HttpMethods does not result in a pool of connections. As far as I can =
tell, HttpMethod pooling does not really bring much. You may simply want =
to maintain a pool of HttpClient instances instead.

Oleg

-----Original Message-----
From: Manuel Castro Paliza [mailto:mcp219@tid.es]
Sent: Friday, June 06, 2003 10:35
To: Commons HttpClient Project
Subject: RE: Questions related to the use of HttpClient classes


One question More.
I'm working on a kind of proxy,
I have ( a lot of ) different users connecting to different servers
MultiThreadedHttpConnectionManager its not an option because each user =
will
do one request each time, and something like new HttpClient(MySingleton
Instance of MultiThreadedHttpConnectionManager ) limits the maximum =
number
of connections to a host.
I'm using a Pool of Methods but I don't know if this is also a =
High-Level
pool of Connections.

So finally the cuestion is :
is a Pool of Methods also a  High-Level pool of Connections when not =
using
MultiThreadedHttpConnectionManager ?

Can anybody help me?

Thanks for this useful Component!



---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From mike_moran@mac.com  Fri Jun  6 09:41:54 2003
Return-Path: <mike_moran@mac.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 33932 invoked from network); 6 Jun 2003 09:41:54 -0000
Received: from a17-250-248-87.apple.com (HELO smtpout.mac.com) (17.250.248.87)
  by daedalus.apache.org with SMTP; 6 Jun 2003 09:41:54 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h569g8UB018713
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 02:42:08 -0700 (PDT)
Received: from mac.com ([212.20.254.120])
	(authenticated bits=0)
	by mac.com (Xserve/8.12.9/MantshX 2.0) with ESMTP id h569fi2X016068
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 02:41:48 -0700 (PDT)
Message-ID: <3EE061C2.40004@mac.com>
Date: Fri, 06 Jun 2003 10:41:22 +0100
From: Mike Moran <mike_moran@mac.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030210
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Questions related to the use of HttpClient classes
References: <FC9BD5C1-97AB-11D7-B6F8-000393016056@intencha.com>
In-Reply-To: <FC9BD5C1-97AB-11D7-B6F8-000393016056@intencha.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian Sutton wrote:
>
> On Friday, June 6, 2003, at 08:55  AM, Om Narayan wrote:
[ ... ]
>> I have another question to add:  How do I "prime" the connections in the
>> MultiThreadedHttpConnectionManager pool?  I am running into a problem
>> where
>> it is taking a long time (almost 30 secs using https) to open the first
>> connection. As a result the session bean that is opening the
>> connection is
>> timing out. I need a way to make the first call to create the connection
>> work without timing out. Any suggestion is welcome.
>
>
> I'd say the delay here is actually initialising JSSE rather than
> actually making the first connection.   There should be a way to
> initialise JSSE without actually making a connection.
[ ... ]

This might be difficult. I ran in to a problem like this while using a
JCE implementation. The setup time seems to be caused by Suns
implementation of SecureRandom. The following thread may be useful:

http://forum.java.sun.com/thread.jsp?thread=4250&forum=2&message=11205

--
Mike




From mcp219@tid.es  Fri Jun  6 09:49:10 2003
Return-Path: <mcp219@tid.es>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 43535 invoked from network); 6 Jun 2003 09:49:10 -0000
Received: from tidos.tid.es (HELO tid) (193.145.240.2)
  by daedalus.apache.org with SMTP; 6 Jun 2003 09:49:10 -0000
Received: from conversion-daemon.tid.hi.inet by tid.hi.inet
 (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 id <0HG100301ZYTSH@tid.hi.inet> for commons-httpclient-dev@jakarta.apache.org;
 Fri, 06 Jun 2003 11:49:23 +0200 (MEST)
Received: from mcastro ([192.168.40.82])
 by tid.hi.inet (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 with ESMTP id <0HG2000FH0KBAG@tid.hi.inet> for
 commons-httpclient-dev@jakarta.apache.org; Fri,
 06 Jun 2003 11:48:11 +0200 (MEST)
Date: Fri, 06 Jun 2003 11:49:51 +0200
From: Manuel Castro Paliza <mcp219@tid.es>
Subject: RE: Questions related to the use of HttpClient classes
In-reply-to:
 <825BF35A92B3F0479CC164ECBBE9376E0DE54F@kccxoex06.corp.kpmgconsulting.com>
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Message-id: <HMEOKHPKLIDBKMPFPPJDAEKHCBAA.mcp219@tid.es>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

OK,
 but now the Question is:

is there any kind of "recyclable things" in a HttpClient between two usages?
Or is as simple as reassign HostConfiguration and State.

Thanks.
You don't really know how helpful is this list!,

-----Mensaje original-----
De: Kalnichevski, Oleg [mailto:oleg.kalnichevski@bearingpoint.com]
Enviado el: viernes, 06 de junio de 2003 10:52
Para: Commons HttpClient Project
Asunto: RE: Questions related to the use of HttpClient classes


Manuel,

HttpMethod instances and HttpConnection instances do not form any sort of
association. HttpMethod instance always receives HttpConnection as a
parameter, acts upon it, and then releases it (or is supposed to release it)
back to the connection manager. HttpMethod instance never keeps a reference
to its respective HttpConnection instance. Therefore pooling of HttpMethods
does not result in a pool of connections. As far as I can tell, HttpMethod
pooling does not really bring much. You may simply want to maintain a pool
of HttpClient instances instead.

Oleg

-----Original Message-----
From: Manuel Castro Paliza [mailto:mcp219@tid.es]
Sent: Friday, June 06, 2003 10:35
To: Commons HttpClient Project
Subject: RE: Questions related to the use of HttpClient classes


One question More.
I'm working on a kind of proxy,
I have ( a lot of ) different users connecting to different servers
MultiThreadedHttpConnectionManager its not an option because each user will
do one request each time, and something like new HttpClient(MySingleton
Instance of MultiThreadedHttpConnectionManager ) limits the maximum number
of connections to a host.
I'm using a Pool of Methods but I don't know if this is also a High-Level
pool of Connections.

So finally the cuestion is :
is a Pool of Methods also a  High-Level pool of Connections when not using
MultiThreadedHttpConnectionManager ?

Can anybody help me?

Thanks for this useful Component!



---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From oleg.kalnichevski@bearingpoint.com  Fri Jun  6 09:58:55 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 63412 invoked from network); 6 Jun 2003 09:58:55 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 6 Jun 2003 09:58:55 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 6 Jun 2003 09:56:36 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Questions related to the use of HttpClient classes
Date: Fri, 6 Jun 2003 10:59:07 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE550@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Questions related to the use of HttpClient classes
Thread-Index: AcMsEO2D7EwD+vB4SDa+On2zbFbSogAAD3xQ
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 06 Jun 2003 09:56:36.0531 (UTC) FILETIME=[EB016830:01C32C11]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Manuel,
You can still recycle HttpMethods, but in my opinion it does not really =
make a lot of sense. You should keep an HttpState instance on per user =
basis. Additionally you can reuse SimpleHttpConnectionManager in order =
to cut on some object instantiation overhead.

Cheers

Oleg

-----Original Message-----
From: Manuel Castro Paliza [mailto:mcp219@tid.es]
Sent: Friday, June 06, 2003 11:50
To: Commons HttpClient Project
Subject: RE: Questions related to the use of HttpClient classes


OK,
 but now the Question is:

is there any kind of "recyclable things" in a HttpClient between two =
usages?
Or is as simple as reassign HostConfiguration and State.

Thanks.
You don't really know how helpful is this list!,

-----Mensaje original-----
De: Kalnichevski, Oleg [mailto:oleg.kalnichevski@bearingpoint.com]
Enviado el: viernes, 06 de junio de 2003 10:52
Para: Commons HttpClient Project
Asunto: RE: Questions related to the use of HttpClient classes


Manuel,

HttpMethod instances and HttpConnection instances do not form any sort =
of
association. HttpMethod instance always receives HttpConnection as a
parameter, acts upon it, and then releases it (or is supposed to release =
it)
back to the connection manager. HttpMethod instance never keeps a =
reference
to its respective HttpConnection instance. Therefore pooling of =
HttpMethods
does not result in a pool of connections. As far as I can tell, =
HttpMethod
pooling does not really bring much. You may simply want to maintain a =
pool
of HttpClient instances instead.

Oleg

-----Original Message-----
From: Manuel Castro Paliza [mailto:mcp219@tid.es]
Sent: Friday, June 06, 2003 10:35
To: Commons HttpClient Project
Subject: RE: Questions related to the use of HttpClient classes


One question More.
I'm working on a kind of proxy,
I have ( a lot of ) different users connecting to different servers
MultiThreadedHttpConnectionManager its not an option because each user =
will
do one request each time, and something like new HttpClient(MySingleton
Instance of MultiThreadedHttpConnectionManager ) limits the maximum =
number
of connections to a host.
I'm using a Pool of Methods but I don't know if this is also a =
High-Level
pool of Connections.

So finally the cuestion is :
is a Pool of Methods also a  High-Level pool of Connections when not =
using
MultiThreadedHttpConnectionManager ?

Can anybody help me?

Thanks for this useful Component!



---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From george.gastaldi@neogrid.com.br  Fri Jun  6 11:49:56 2003
Return-Path: <george.gastaldi@neogrid.com.br>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 90785 invoked from network); 6 Jun 2003 11:49:56 -0000
Received: from corvina.neogrid.com.br (HELO dourado.neogrid.com.br) (200.180.73.66)
  by daedalus.apache.org with SMTP; 6 Jun 2003 11:49:56 -0000
Received: by dourado.neogrid.com.br with Internet Mail Service (5.5.2653.19)
	id <MJHXGMSB>; Fri, 6 Jun 2003 08:55:00 -0300
Message-ID: <1DF6E2D62721D14B8866786D862BE0DB013AC658@dourado.neogrid.com.br>
From: George Gastaldi <george.gastaldi@neogrid.com.br>
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: Timeout in HTTP
Date: Fri, 6 Jun 2003 08:55:00 -0300
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C32C22.75487960"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C32C22.75487960
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

	That's strange, because even when I do not set anything, the
connection times out for about 1 minute, throwing a
HttpConnection.ConnectionTimeoutException. Setting explicitly to 0 will
never timeout ?=20

Thank you for the answer.

-----Original Message-----
From: Ortwin Gl=FCck [mailto:ortwin.glueck@nose.ch]
Sent: Friday, June 06, 2003 3:26 AM
To: Commons HttpClient Project
Subject: Re: Timeout in HTTP


Michael Becke wrote:
> I am assuming you are talking about SO_TIMEOUT set via=20
> HttpClient.setTimeout().  This is the amount of time to wait when=20
> reading on an open socket.  This defaults to 0 which means that it =
will=20
> wait forever.

"forever" means "until the server is bored and closes the connection" =
:-)


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org

------_=_NextPart_001_01C32C22.75487960--

From george.gastaldi@neogrid.com.br  Fri Jun  6 11:53:06 2003
Return-Path: <george.gastaldi@neogrid.com.br>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 94004 invoked from network); 6 Jun 2003 11:53:06 -0000
Received: from corvina.neogrid.com.br (HELO dourado.neogrid.com.br) (200.180.73.66)
  by daedalus.apache.org with SMTP; 6 Jun 2003 11:53:06 -0000
Received: by dourado.neogrid.com.br with Internet Mail Service (5.5.2653.19)
	id <MJHXGMSQ>; Fri, 6 Jun 2003 08:58:11 -0300
Message-ID: <1DF6E2D62721D14B8866786D862BE0DB013AC65B@dourado.neogrid.com.br>
From: George Gastaldi <george.gastaldi@neogrid.com.br>
To: "Commons HttpClient Project (E-mail)"
	 <commons-httpclient-dev@jakarta.apache.org>
Subject: Bug setting Content-Length
Date: Fri, 6 Jun 2003 08:58:10 -0300
Importance: low
X-Priority: 5
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C32C22.E6A50330"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C32C22.E6A50330
Content-Type: text/plain;
	charset="iso-8859-1"

Hello !
	I think this may be considered a bug:
	When the content-length of a request is 0, an exception is thrown,
so I must explicitly change to chunked-transfer encoding. Is this the right
procedure ?  (BTW it's working fine. :) )

Thanks !

------_=_NextPart_001_01C32C22.E6A50330--

From adrian@intencha.com  Fri Jun  6 11:59:02 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 4658 invoked from network); 6 Jun 2003 11:59:02 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 6 Jun 2003 11:59:02 -0000
Received: from intencha.com (unverified [150.101.177.48]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0045734636@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Fri, 6 Jun 2003 05:55:22 -0600
Date: Fri, 6 Jun 2003 21:59:12 +1000
Subject: Re: Timeout in HTTP
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1DF6E2D62721D14B8866786D862BE0DB013AC658@dourado.neogrid.com.br>
Message-Id: <4A080071-9816-11D7-B6F8-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Friday, June 6, 2003, at 09:55  PM, George Gastaldi wrote:

> 	That's strange, because even when I do not set anything, the
> connection times out for about 1 minute, throwing a
> HttpConnection.ConnectionTimeoutException. Setting explicitly to 0 will
> never timeout ?

HttpClient is most likely not timing out, but rather the sever is.
Eventually the server will just close the connection if it really has
nothing to say and at that point HttpClient will throw an exception.

Hope that helps,

Adrian Sutton.


From adrian@intencha.com  Fri Jun  6 12:01:30 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 8120 invoked from network); 6 Jun 2003 12:01:30 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 6 Jun 2003 12:01:30 -0000
Received: from intencha.com (unverified [150.101.177.48]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0045734770@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Fri, 6 Jun 2003 05:57:50 -0600
Date: Fri, 6 Jun 2003 22:01:37 +1000
Subject: Re: Bug setting Content-Length
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1DF6E2D62721D14B8866786D862BE0DB013AC65B@dourado.neogrid.com.br>
Message-Id: <9FFC0D06-9816-11D7-B6F8-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, you should explicitly set the transfer encoding to chunked instead
of setting the content length to 0.  I'm not quite sure why an
exception would be thrown on a content-length 0 though, if the
exception isn't explicitely stating "hey don't set the content-length
to 0" I think it might be worth sending in the stack trace so we can
check whether or not it should happen.  It is definitely odd to specify
a content-length of 0 but I would have thought it allowable in some
situations.

Regards,

Adrian Sutton.

On Friday, June 6, 2003, at 09:58  PM, George Gastaldi wrote:

> Hello !
> 	I think this may be considered a bug:
> 	When the content-length of a request is 0, an exception is thrown,
> so I must explicitly change to chunked-transfer encoding. Is this the
> right
> procedure ?  (BTW it's working fine. :) )
>
> Thanks !


From becke@u.washington.edu  Fri Jun  6 12:12:16 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 24506 invoked from network); 6 Jun 2003 12:12:16 -0000
Received: from mxout4.cac.washington.edu (140.142.33.19)
  by daedalus.apache.org with SMTP; 6 Jun 2003 12:12:16 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout4.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56CCGTc024486
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 05:12:16 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56CCDPx015372
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 05:12:15 -0700
Date: Fri, 6 Jun 2003 08:12:11 -0400
Subject: Re: Questions related to the use of HttpClient classes
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <HMEOKHPKLIDBKMPFPPJDMEKFCBAA.mcp219@tid.es>
Message-Id: <1A48A7D7-9818-11D7-BB71-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> One question More.
> I'm working on a kind of proxy,
> I have ( a lot of ) different users connecting to different servers
> MultiThreadedHttpConnectionManager its not an option because each user
> will
> do one request each time, and something like new HttpClient(MySingleton
> Instance of MultiThreadedHttpConnectionManager ) limits the maximum
> number
> of connections to a host.

Connections per host is configurable if that helps.  see
MultiThreadedHttpConnectionManager.setMaxConnectionsPerHost().

Mike


From george.gastaldi@neogrid.com.br  Fri Jun  6 12:12:31 2003
Return-Path: <george.gastaldi@neogrid.com.br>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 25083 invoked from network); 6 Jun 2003 12:12:31 -0000
Received: from corvina.neogrid.com.br (HELO dourado.neogrid.com.br) (200.180.73.66)
  by daedalus.apache.org with SMTP; 6 Jun 2003 12:12:31 -0000
Received: by dourado.neogrid.com.br with Internet Mail Service (5.5.2653.19)
	id <MJHXGMVN>; Fri, 6 Jun 2003 09:17:35 -0300
Message-ID: <1DF6E2D62721D14B8866786D862BE0DB013AC669@dourado.neogrid.com.br>
From: George Gastaldi <george.gastaldi@neogrid.com.br>
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: Bug setting Content-Length
Date: Fri, 6 Jun 2003 09:17:35 -0300
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C32C25.9CD4CDF0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C32C25.9CD4CDF0
Content-Type: text/plain;
	charset="iso-8859-1"


Oops, I didn't mean "throwing an exception". I mean "waits forever".
Sorry about my statement. That should work really.

-----Original Message-----
From: Adrian Sutton [mailto:adrian@intencha.com]
Sent: Friday, June 06, 2003 9:02 AM
To: Commons HttpClient Project
Subject: Re: Bug setting Content-Length


Yes, you should explicitly set the transfer encoding to chunked instead
of setting the content length to 0.  I'm not quite sure why an
exception would be thrown on a content-length 0 though, if the
exception isn't explicitely stating "hey don't set the content-length
to 0" I think it might be worth sending in the stack trace so we can
check whether or not it should happen.  It is definitely odd to specify
a content-length of 0 but I would have thought it allowable in some
situations.

Regards,

Adrian Sutton.

On Friday, June 6, 2003, at 09:58  PM, George Gastaldi wrote:

> Hello !
> 	I think this may be considered a bug:
> 	When the content-length of a request is 0, an exception is thrown,
> so I must explicitly change to chunked-transfer encoding. Is this the
> right
> procedure ?  (BTW it's working fine. :) )
>
> Thanks !


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org

------_=_NextPart_001_01C32C25.9CD4CDF0--

From becke@u.washington.edu  Fri Jun  6 12:17:06 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 41256 invoked from network); 6 Jun 2003 12:17:06 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 6 Jun 2003 12:17:06 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56CH6RG024433
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 05:17:06 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56CH47j011952
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 05:17:05 -0700
Date: Fri, 6 Jun 2003 08:17:02 -0400
Subject: Re: Bug setting Content-Length
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1DF6E2D62721D14B8866786D862BE0DB013AC65B@dourado.neogrid.com.br>
Message-Id: <C79992D1-9818-11D7-BB71-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I believe you are talking about bug
19771<http://issues.apache.org/bugzilla/show_bug.cgi?id=19771>.  If so,
this was fixed a few weeks ago and is part of the beta 1 release.

Mike

On Friday, June 6, 2003, at 07:58 AM, George Gastaldi wrote:

> Hello !
> 	I think this may be considered a bug:
> 	When the content-length of a request is 0, an exception is thrown,
> so I must explicitly change to chunked-transfer encoding. Is this the
> right
> procedure ?  (BTW it's working fine. :) )
>
> Thanks !


From mcp219@tid.es  Fri Jun  6 12:28:44 2003
Return-Path: <mcp219@tid.es>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 58352 invoked from network); 6 Jun 2003 12:28:44 -0000
Received: from tidos.tid.es (HELO tid) (193.145.240.2)
  by daedalus.apache.org with SMTP; 6 Jun 2003 12:28:44 -0000
Received: from conversion-daemon.tid.hi.inet by tid.hi.inet
 (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 id <0HG200K017DEDP@tid.hi.inet> for commons-httpclient-dev@jakarta.apache.org;
 Fri, 06 Jun 2003 14:28:44 +0200 (MEST)
Received: from mcastro ([192.168.40.82])
 by tid.hi.inet (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 with ESMTP id <0HG20002Z7UYB5@tid.hi.inet> for
 commons-httpclient-dev@jakarta.apache.org; Fri,
 06 Jun 2003 14:25:46 +0200 (MEST)
Date: Fri, 06 Jun 2003 14:27:26 +0200
From: Manuel Castro Paliza <mcp219@tid.es>
Subject: RE: Questions related to the use of HttpClient classes
In-reply-to: <1A48A7D7-9818-11D7-BB71-00306557E112@u.washington.edu>
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Message-id: <HMEOKHPKLIDBKMPFPPJDOEKICBAA.mcp219@tid.es>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, but recommendation says 2-3 connections per host/server..
and I don't know the number of simultaneous connections, nor the peak,
what about changing it at runtime?.

finally I did a HttpClientPool with singleton SimpleHttpConnectionManager
with a Factory but I'm not sure if the SimpleHttpConnectionManager can
actually  be Singleton or not.

//private MultiThreadedHttpConnectionManager mtcm = null;
  private SimpleHttpConnectionManager stcm=null;
  protected HttpClientFactory() {
   // mtcm = new MultiThreadedHttpConnectionManager();
    stcm= new SimpleHttpConnectionManager();
  }
 public Object newInstance() {
    log.debug("Creation of a new Client!");
    return new HttpClient(stcm/*this.mtcm*/);
  }

Thanks!.


-----Mensaje original-----
De: Michael Becke [mailto:becke@u.washington.edu]
Enviado el: viernes, 06 de junio de 2003 14:12
Para: Commons HttpClient Project
Asunto: Re: Questions related to the use of HttpClient classes


> One question More.
> I'm working on a kind of proxy,
> I have ( a lot of ) different users connecting to different servers
> MultiThreadedHttpConnectionManager its not an option because each user
> will
> do one request each time, and something like new HttpClient(MySingleton
> Instance of MultiThreadedHttpConnectionManager ) limits the maximum
> number
> of connections to a host.

Connections per host is configurable if that helps.  see
MultiThreadedHttpConnectionManager.setMaxConnectionsPerHost().

Mike


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From becke@u.washington.edu  Fri Jun  6 12:37:24 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 74475 invoked from network); 6 Jun 2003 12:37:24 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 6 Jun 2003 12:37:24 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56CbOSL028323
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 05:37:25 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56CbNPx015740
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 05:37:24 -0700
Date: Fri, 6 Jun 2003 08:37:22 -0400
Subject: Re: Questions related to the use of HttpClient classes
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <HMEOKHPKLIDBKMPFPPJDOEKICBAA.mcp219@tid.es>
Message-Id: <9E7CBDEE-981B-11D7-BB71-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Yes, but recommendation says 2-3 connections per host/server..
> and I don't know the number of simultaneous connections, nor the peak,
> what about changing it at runtime?.

Yes, this is the recommend number according to the RFC.  But, depending
on your application, it may make sense to change this.  Changing this
value at runtime is probably not the best idea but it should work.

> finally I did a HttpClientPool with singleton
> SimpleHttpConnectionManager
> with a Factory but I'm not sure if the SimpleHttpConnectionManager can
> actually  be Singleton or not.
>
> //private MultiThreadedHttpConnectionManager mtcm = null;
>   private SimpleHttpConnectionManager stcm=null;
>   protected HttpClientFactory() {
>    // mtcm = new MultiThreadedHttpConnectionManager();
>     stcm= new SimpleHttpConnectionManager();
>   }
>  public Object newInstance() {
>     log.debug("Creation of a new Client!");
>     return new HttpClient(stcm/*this.mtcm*/);
>   }
>
You definitely do not want to share an instance of
SimpleHttpConnectionManager.  It only has a single connection and will
give it to any code that asks for it, regardless of if it's already
being used.

Mike


From oleg.kalnichevski@bearingpoint.com  Fri Jun  6 13:44:45 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 23243 invoked from network); 6 Jun 2003 13:44:45 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 6 Jun 2003 13:44:45 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 6 Jun 2003 13:46:31 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Timeout in HTTP
Date: Fri, 6 Jun 2003 14:44:44 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE551@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Timeout in HTTP
Thread-Index: AcMsIcN6sEXuM6SDR6ySHM8ccl3VKQAD4CPQ
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 06 Jun 2003 13:46:31.0109 (UTC) FILETIME=[0936F750:01C32C32]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

George,

Please note that HttpConnection.ConnectionTimeoutException represents a =
connection timeout (set with HttpClient#setConnectionTimeout), not a =
read timeout (set with HttpClient#setTimeout). Can it be that this =
confusion is the source of the problem?

Oleg

-----Original Message-----
From: George Gastaldi [mailto:george.gastaldi@neogrid.com.br]
Sent: Friday, June 06, 2003 13:55
To: Commons HttpClient Project
Subject: RE: Timeout in HTTP


	That's strange, because even when I do not set anything, the
connection times out for about 1 minute, throwing a
HttpConnection.ConnectionTimeoutException. Setting explicitly to 0 will
never timeout ?=20

Thank you for the answer.

-----Original Message-----
From: Ortwin Gl=FCck [mailto:ortwin.glueck@nose.ch]
Sent: Friday, June 06, 2003 3:26 AM
To: Commons HttpClient Project
Subject: Re: Timeout in HTTP


Michael Becke wrote:
> I am assuming you are talking about SO_TIMEOUT set via=20
> HttpClient.setTimeout().  This is the amount of time to wait when=20
> reading on an open socket.  This defaults to 0 which means that it =
will=20
> wait forever.

"forever" means "until the server is bored and closes the connection" =
:-)


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org

From george.gastaldi@neogrid.com.br  Fri Jun  6 13:47:34 2003
Return-Path: <george.gastaldi@neogrid.com.br>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 29336 invoked from network); 6 Jun 2003 13:47:34 -0000
Received: from corvina.neogrid.com.br (HELO dourado.neogrid.com.br) (200.180.73.66)
  by daedalus.apache.org with SMTP; 6 Jun 2003 13:47:34 -0000
Received: by dourado.neogrid.com.br with Internet Mail Service (5.5.2653.19)
	id <MJHXGM9J>; Fri, 6 Jun 2003 10:52:40 -0300
Message-ID: <1DF6E2D62721D14B8866786D862BE0DB013AC6A3@dourado.neogrid.com.br>
From: George Gastaldi <george.gastaldi@neogrid.com.br>
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: Timeout in HTTP
Date: Fri, 6 Jun 2003 10:52:39 -0300
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C32C32.E4D83F30"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C32C32.E4D83F30
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Yes, that's the point. However, I do not set any value for setTimeout =
in
HTTPClient. And it is thrown after one minute in average... What's the
default value if nothing is set up ?

-----Original Message-----
From: Kalnichevski, Oleg [mailto:oleg.kalnichevski@bearingpoint.com]
Sent: Friday, June 06, 2003 10:45 AM
To: Commons HttpClient Project
Subject: RE: Timeout in HTTP


George,

Please note that HttpConnection.ConnectionTimeoutException represents a
connection timeout (set with HttpClient#setConnectionTimeout), not a =
read
timeout (set with HttpClient#setTimeout). Can it be that this confusion =
is
the source of the problem?

Oleg

-----Original Message-----
From: George Gastaldi [mailto:george.gastaldi@neogrid.com.br]
Sent: Friday, June 06, 2003 13:55
To: Commons HttpClient Project
Subject: RE: Timeout in HTTP


	That's strange, because even when I do not set anything, the
connection times out for about 1 minute, throwing a
HttpConnection.ConnectionTimeoutException. Setting explicitly to 0 will
never timeout ?=20

Thank you for the answer.

-----Original Message-----
From: Ortwin Gl=FCck [mailto:ortwin.glueck@nose.ch]
Sent: Friday, June 06, 2003 3:26 AM
To: Commons HttpClient Project
Subject: Re: Timeout in HTTP


Michael Becke wrote:
> I am assuming you are talking about SO_TIMEOUT set via=20
> HttpClient.setTimeout().  This is the amount of time to wait when=20
> reading on an open socket.  This defaults to 0 which means that it =
will=20
> wait forever.

"forever" means "until the server is bored and closes the connection" =
:-)


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org

------_=_NextPart_001_01C32C32.E4D83F30--

From oleg.kalnichevski@bearingpoint.com  Fri Jun  6 14:00:20 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 59922 invoked from network); 6 Jun 2003 14:00:20 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 6 Jun 2003 14:00:20 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 6 Jun 2003 13:57:48 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Timeout in HTTP
Date: Fri, 6 Jun 2003 15:00:19 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE552@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Timeout in HTTP
Thread-Index: AcMsMjMSRlRz9zjUQuqBXHT7yXMqPAAAPD+Q
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 06 Jun 2003 13:57:48.0218 (UTC) FILETIME=[9CCD99A0:01C32C33]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Well, after having browsed through the source code, I am afraid the =
answer is 'undefined'. HttpConnection class invokes =
socketFactory#createSocket method, which in its turn calls Socket#Socket =
constructor, which in its turn can timeout at any time it sees fit. Does =
anybody see that differently? I do not think there's much we can do =
about it

Oleg

-----Original Message-----
From: George Gastaldi [mailto:george.gastaldi@neogrid.com.br]
Sent: Friday, June 06, 2003 15:53
To: Commons HttpClient Project
Subject: RE: Timeout in HTTP


Yes, that's the point. However, I do not set any value for setTimeout in
HTTPClient. And it is thrown after one minute in average... What's the
default value if nothing is set up ?

-----Original Message-----
From: Kalnichevski, Oleg [mailto:oleg.kalnichevski@bearingpoint.com]
Sent: Friday, June 06, 2003 10:45 AM
To: Commons HttpClient Project
Subject: RE: Timeout in HTTP


George,

Please note that HttpConnection.ConnectionTimeoutException represents a
connection timeout (set with HttpClient#setConnectionTimeout), not a =
read
timeout (set with HttpClient#setTimeout). Can it be that this confusion =
is
the source of the problem?

Oleg

-----Original Message-----
From: George Gastaldi [mailto:george.gastaldi@neogrid.com.br]
Sent: Friday, June 06, 2003 13:55
To: Commons HttpClient Project
Subject: RE: Timeout in HTTP


	That's strange, because even when I do not set anything, the
connection times out for about 1 minute, throwing a
HttpConnection.ConnectionTimeoutException. Setting explicitly to 0 will
never timeout ?=20

Thank you for the answer.

-----Original Message-----
From: Ortwin Gl=FCck [mailto:ortwin.glueck@nose.ch]
Sent: Friday, June 06, 2003 3:26 AM
To: Commons HttpClient Project
Subject: Re: Timeout in HTTP


Michael Becke wrote:
> I am assuming you are talking about SO_TIMEOUT set via=20
> HttpClient.setTimeout().  This is the amount of time to wait when=20
> reading on an open socket.  This defaults to 0 which means that it =
will=20
> wait forever.

"forever" means "until the server is bored and closes the connection" =
:-)


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org

From becke@u.washington.edu  Fri Jun  6 14:23:25 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 8004 invoked from network); 6 Jun 2003 14:23:25 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 6 Jun 2003 14:23:25 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout2.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56ENQ5R022333
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 07:23:26 -0700
Received: from u.washington.edu (ss1.bluebird.ibm.com [129.42.208.139])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56ENM7j014094
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 07:23:26 -0700
Message-ID: <3EE0A3C2.6010808@u.washington.edu>
Date: Fri, 06 Jun 2003 10:22:58 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Timeout in HTTP
References: <825BF35A92B3F0479CC164ECBBE9376E0DE552@kccxoex06.corp.kpmgconsulting.com>
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE552@kccxoex06.corp.kpmgconsulting.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I believe it is being set by HttpClient.execute().  The defaults for
soTimeout and connectionTimeout are both 0.

Mike

Kalnichevski, Oleg wrote:
> Well, after having browsed through the source code, I am afraid the
> answer is 'undefined'. HttpConnection class invokes
> socketFactory#createSocket method, which in its turn calls
> Socket#Socket constructor, which in its turn can timeout at any time
> it sees fit. Does anybody see that differently? I do not think
> there's much we can do about it
>
> Oleg
>
> -----Original Message----- From: George Gastaldi
> [mailto:george.gastaldi@neogrid.com.br] Sent: Friday, June 06, 2003
> 15:53 To: Commons HttpClient Project Subject: RE: Timeout in HTTP
>
>
> Yes, that's the point. However, I do not set any value for setTimeout
> in HTTPClient. And it is thrown after one minute in average... What's
> the default value if nothing is set up ?
>
> -----Original Message----- From: Kalnichevski, Oleg
> [mailto:oleg.kalnichevski@bearingpoint.com] Sent: Friday, June 06,
> 2003 10:45 AM To: Commons HttpClient Project Subject: RE: Timeout in
> HTTP
>
>
> George,
>
> Please note that HttpConnection.ConnectionTimeoutException represents
> a connection timeout (set with HttpClient#setConnectionTimeout), not
> a read timeout (set with HttpClient#setTimeout). Can it be that this
> confusion is the source of the problem?
>
> Oleg
>
> -----Original Message----- From: George Gastaldi
> [mailto:george.gastaldi@neogrid.com.br] Sent: Friday, June 06, 2003
> 13:55 To: Commons HttpClient Project Subject: RE: Timeout in HTTP
>
>
> That's strange, because even when I do not set anything, the
> connection times out for about 1 minute, throwing a
> HttpConnection.ConnectionTimeoutException. Setting explicitly to 0
> will never timeout ?
>
> Thank you for the answer.
>
> -----Original Message----- From: Ortwin Glück
> [mailto:ortwin.glueck@nose.ch] Sent: Friday, June 06, 2003 3:26 AM
> To: Commons HttpClient Project Subject: Re: Timeout in HTTP
>
>
> Michael Becke wrote:
>
>> I am assuming you are talking about SO_TIMEOUT set via
>> HttpClient.setTimeout().  This is the amount of time to wait when
>> reading on an open socket.  This defaults to 0 which means that it
>> will wait forever.
>
>
> "forever" means "until the server is bored and closes the connection"
> :-)
>
>
> ---------------------------------------------------------------------
>  To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org For additional
> commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
>  To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org For additional
> commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
>  To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org For additional
> commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From oleg.kalnichevski@bearingpoint.com  Fri Jun  6 15:53:59 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 69301 invoked from network); 6 Jun 2003 15:53:59 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 6 Jun 2003 15:53:59 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 6 Jun 2003 15:55:46 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Timeout in HTTP
Date: Fri, 6 Jun 2003 16:53:59 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE553@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Timeout in HTTP
Thread-Index: AcMsNzVTFqGhG9IgRK2riWi2uX7NeQACyW/w
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 06 Jun 2003 15:55:46.0171 (UTC) FILETIME=[179784B0:01C32C44]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Mike,=20
The question is what is the effect of setting connectionTimeout to 0. As =
far as I can see from the code, it does not in fact guarantee that the =
connection will not timeout. What it means that HttpClient will not give =
up waiting on that connection, but it does not mean that Socket#Socket =
constructor would wait indefinitely. Am I missing something?

Oleg

-----Original Message-----
From: Michael Becke [mailto:becke@u.washington.edu]
Sent: Friday, June 06, 2003 16:23
To: Commons HttpClient Project
Subject: Re: Timeout in HTTP


I believe it is being set by HttpClient.execute().  The defaults for=20
soTimeout and connectionTimeout are both 0.

Mike

Kalnichevski, Oleg wrote:
> Well, after having browsed through the source code, I am afraid the
> answer is 'undefined'. HttpConnection class invokes
> socketFactory#createSocket method, which in its turn calls
> Socket#Socket constructor, which in its turn can timeout at any time
> it sees fit. Does anybody see that differently? I do not think
> there's much we can do about it
>=20
> Oleg
>=20
> -----Original Message----- From: George Gastaldi
> [mailto:george.gastaldi@neogrid.com.br] Sent: Friday, June 06, 2003
> 15:53 To: Commons HttpClient Project Subject: RE: Timeout in HTTP
>=20
>=20
> Yes, that's the point. However, I do not set any value for setTimeout
> in HTTPClient. And it is thrown after one minute in average... What's
> the default value if nothing is set up ?
>=20
> -----Original Message----- From: Kalnichevski, Oleg
> [mailto:oleg.kalnichevski@bearingpoint.com] Sent: Friday, June 06,
> 2003 10:45 AM To: Commons HttpClient Project Subject: RE: Timeout in
> HTTP
>=20
>=20
> George,
>=20
> Please note that HttpConnection.ConnectionTimeoutException represents
> a connection timeout (set with HttpClient#setConnectionTimeout), not
> a read timeout (set with HttpClient#setTimeout). Can it be that this
> confusion is the source of the problem?
>=20
> Oleg
>=20
> -----Original Message----- From: George Gastaldi
> [mailto:george.gastaldi@neogrid.com.br] Sent: Friday, June 06, 2003
> 13:55 To: Commons HttpClient Project Subject: RE: Timeout in HTTP
>=20
>=20
> That's strange, because even when I do not set anything, the=20
> connection times out for about 1 minute, throwing a=20
> HttpConnection.ConnectionTimeoutException. Setting explicitly to 0
> will never timeout ?
>=20
> Thank you for the answer.
>=20
> -----Original Message----- From: Ortwin Gl=FCck
> [mailto:ortwin.glueck@nose.ch] Sent: Friday, June 06, 2003 3:26 AM=20
> To: Commons HttpClient Project Subject: Re: Timeout in HTTP
>=20
>=20
> Michael Becke wrote:
>=20
>> I am assuming you are talking about SO_TIMEOUT set via=20
>> HttpClient.setTimeout().  This is the amount of time to wait when=20
>> reading on an open socket.  This defaults to 0 which means that it
>> will wait forever.
>=20
>=20
> "forever" means "until the server is bored and closes the connection"
> :-)
>=20
>=20
> ---------------------------------------------------------------------
>  To unsubscribe, e-mail:=20
> commons-httpclient-dev-unsubscribe@jakarta.apache.org For additional
> commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>=20
> ---------------------------------------------------------------------
>  To unsubscribe, e-mail:=20
> commons-httpclient-dev-unsubscribe@jakarta.apache.org For additional
> commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>=20
> ---------------------------------------------------------------------
>  To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org For additional
> commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From suheal_hanjgikar@hotmail.com  Fri Jun  6 16:15:57 2003
Return-Path: <suheal_hanjgikar@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 33190 invoked from network); 6 Jun 2003 16:15:57 -0000
Received: from f47.sea2.hotmail.com (HELO hotmail.com) (207.68.165.47)
  by daedalus.apache.org with SMTP; 6 Jun 2003 16:15:57 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 6 Jun 2003 09:16:00 -0700
Received: from 148.87.1.171 by sea2fd.sea2.hotmail.msn.com with HTTP;
	Fri, 06 Jun 2003 16:16:00 GMT
X-Originating-IP: [148.87.1.171]
X-Originating-Email: [suheal_hanjgikar@hotmail.com]
From: "suheal hanjgikar" <suheal_hanjgikar@hotmail.com>
To: commons-user@jakarta.apache.org
Cc: commons-httpclient-dev@jakarta.apache.org, commons-dev@jakarta.apache.org
Bcc:
Subject: Redirect requested but followRedirects is disabled
Date: Fri, 06 Jun 2003 16:16:00 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <Sea2-F47FVq9GNSQn6M000060d1@hotmail.com>
X-OriginalArrivalTime: 06 Jun 2003 16:16:00.0457 (UTC) FILETIME=[EB5CDB90:01C32C46]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I am trying to write a sample test program using HtmlUnit.
(http://htmlunit.sourceforge.net/)
However it fails with an execption. Can you please help me out
in resolving the issue.

Thanks,
Suheal

The program code:
Note : Please put the appropriate proxy server name
/***********************************************************************************************/
import java.net.URL;

import com.gargoylesoftware.htmlunit.BrowserVersion;
import com.gargoylesoftware.htmlunit.WebClient;
import com.gargoylesoftware.htmlunit.html.HtmlPage;
import com.gargoylesoftware.htmlunit.html.HtmlTextInput;
import com.gargoylesoftware.htmlunit.html.HtmlSubmitInput;
import com.gargoylesoftware.htmlunit.html.HtmlPasswordInput;

public class testhtml
{
	public static void main (String args[])
	{
		try
		{
			final WebClient webClient = new
WebClient(BrowserVersion.INTERNET_EXPLORER_6_0, "MyProxy", 80);
			webClient.setRedirectEnabled (true);
			System.out.println ("webclient created");

			final URL url = new URL("http://www.mail.yahoo.com");
			System.out.println ("url created");

			final HtmlPage page = (HtmlPage)webClient.getPage(url);
			System.out.println ("got the html page");

			System.out.println ("title : " + page.getTitleText ());

			HtmlTextInput username = (HtmlTextInput)page.getHtmlElementById
("login");
			if (username == null)
			{
				System.out.println ("login not found");
				return;
			}

			HtmlPasswordInput passwd = (HtmlPasswordInput)page.getHtmlElementById
("passwd");
			if (passwd == null)
			{
				System.out.println ("passwd not found");
				return;
			}

			HtmlSubmitInput submitbt = (HtmlSubmitInput) page.getHtmlElementById
(".save");
			if (submitbt == null)
			{
				System.out.println ("submitbt not found");
				return;
			}

			System.out.println ("eof program....");
		}
		catch (Exception excp)
		{
			excp.printStackTrace ();
		}
	}// eof main
}// eof myhtmltest

/***********************************************************************************************/

The excpetion that it throws.

/***********************************************************************************************/
[INFO] HttpMethod - -Redirect requested but followRedirects is disabled
com.gargoylesoftware.htmlunit.ScriptException: The undefined value has no
proper
ties.
        at
com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(Jav
aScriptEngine.java:199)
        at
com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptIfPossib
le(HtmlPage.java:770)
        at
com.gargoylesoftware.htmlunit.html.HtmlPage.executeBodyOnLoadHandlerI
fNeeded(HtmlPage.java:900)
        at
com.gargoylesoftware.htmlunit.html.HtmlPage.initialize(HtmlPage.java:
134)
        at
com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:322)
        at
com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:242)
        at
com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:186)
        at testhtml.main(testhtml.java:23)
/***********************************************************************************************/

_________________________________________________________________
Horror films in Bollywood. Are they worth it?
http://server1.msn.co.in/features/horror/index.asp  Get all the dope!


From becke@u.washington.edu  Fri Jun  6 16:20:02 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 48190 invoked from network); 6 Jun 2003 16:20:02 -0000
Received: from mxout4.cac.washington.edu (140.142.33.19)
  by daedalus.apache.org with SMTP; 6 Jun 2003 16:20:02 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout4.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56GK4Tc012145
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 09:20:04 -0700
Received: from u.washington.edu (ss01.co.us.ibm.com [32.97.110.66])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56GK37j019637
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 09:20:04 -0700
Message-ID: <3EE0BF22.9090601@u.washington.edu>
Date: Fri, 06 Jun 2003 12:19:46 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Timeout in HTTP
References: <825BF35A92B3F0479CC164ECBBE9376E0DE553@kccxoex06.corp.kpmgconsulting.com>
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE553@kccxoex06.corp.kpmgconsulting.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry, I misunderstood the question.  I agree, it is undefined.  It
appears Socket connect timeout is neither documented nor configurable.
My guess is that it's dependent on OS and server response.

Mike

Kalnichevski, Oleg wrote:
> Mike, The question is what is the effect of setting connectionTimeout
> to 0. As far as I can see from the code, it does not in fact
> guarantee that the connection will not timeout. What it means that
> HttpClient will not give up waiting on that connection, but it does
> not mean that Socket#Socket constructor would wait indefinitely. Am I
> missing something?
>
> Oleg
>
> -----Original Message----- From: Michael Becke
> [mailto:becke@u.washington.edu] Sent: Friday, June 06, 2003 16:23 To:
> Commons HttpClient Project Subject: Re: Timeout in HTTP
>
>
> I believe it is being set by HttpClient.execute().  The defaults for
>  soTimeout and connectionTimeout are both 0.
>
> Mike
>
> Kalnichevski, Oleg wrote:
>
>> Well, after having browsed through the source code, I am afraid the
>>  answer is 'undefined'. HttpConnection class invokes
>> socketFactory#createSocket method, which in its turn calls
>> Socket#Socket constructor, which in its turn can timeout at any
>> time it sees fit. Does anybody see that differently? I do not think
>>  there's much we can do about it
>>
>> Oleg
>>
>> -----Original Message----- From: George Gastaldi
>> [mailto:george.gastaldi@neogrid.com.br] Sent: Friday, June 06, 2003
>>  15:53 To: Commons HttpClient Project Subject: RE: Timeout in HTTP
>>
>>
>> Yes, that's the point. However, I do not set any value for
>> setTimeout in HTTPClient. And it is thrown after one minute in
>> average... What's the default value if nothing is set up ?
>>
>> -----Original Message----- From: Kalnichevski, Oleg
>> [mailto:oleg.kalnichevski@bearingpoint.com] Sent: Friday, June 06,
>> 2003 10:45 AM To: Commons HttpClient Project Subject: RE: Timeout
>> in HTTP
>>
>>
>> George,
>>
>> Please note that HttpConnection.ConnectionTimeoutException
>> represents a connection timeout (set with
>> HttpClient#setConnectionTimeout), not a read timeout (set with
>> HttpClient#setTimeout). Can it be that this confusion is the source
>> of the problem?
>>
>> Oleg
>>
>> -----Original Message----- From: George Gastaldi
>> [mailto:george.gastaldi@neogrid.com.br] Sent: Friday, June 06, 2003
>>  13:55 To: Commons HttpClient Project Subject: RE: Timeout in HTTP
>>
>>
>> That's strange, because even when I do not set anything, the
>> connection times out for about 1 minute, throwing a
>> HttpConnection.ConnectionTimeoutException. Setting explicitly to 0
>> will never timeout ?
>>
>> Thank you for the answer.
>>
>> -----Original Message----- From: Ortwin Glück
>> [mailto:ortwin.glueck@nose.ch] Sent: Friday, June 06, 2003 3:26 AM
>>  To: Commons HttpClient Project Subject: Re: Timeout in HTTP
>>
>>
>> Michael Becke wrote:
>>
>>
>>> I am assuming you are talking about SO_TIMEOUT set via
>>> HttpClient.setTimeout().  This is the amount of time to wait when
>>>  reading on an open socket.  This defaults to 0 which means that
>>> it will wait forever.
>>
>>
>> "forever" means "until the server is bored and closes the
>> connection" :-)
>>
>>
>> ---------------------------------------------------------------------
>>  To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org For
>> additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>> ---------------------------------------------------------------------
>>  To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org For
>> additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>> ---------------------------------------------------------------------
>>  To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org For
>> additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>
>
>
> ---------------------------------------------------------------------
>  To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org For additional
> commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
>  To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org For additional
> commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From om5@hotmail.com  Fri Jun  6 17:08:01 2003
Return-Path: <om5@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 32510 invoked from network); 6 Jun 2003 17:08:01 -0000
Received: from bay2-dav68.bay2.hotmail.com (HELO hotmail.com) (65.54.246.203)
  by daedalus.apache.org with SMTP; 6 Jun 2003 17:08:01 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 6 Jun 2003 10:08:05 -0700
Received: from 24.56.39.111 by bay2-dav68.bay2.hotmail.com with DAV;
	Fri, 06 Jun 2003 17:08:05 +0000
X-Originating-IP: [24.56.39.111]
X-Originating-Email: [om5@hotmail.com]
From: "Om Narayan" <om5@hotmail.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <FC9BD5C1-97AB-11D7-B6F8-000393016056@intencha.com> <3EE061C2.40004@mac.com>
Subject: Re: Questions related to the use of HttpClient classes
Date: Fri, 6 Jun 2003 10:08:38 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
Message-ID: <BAY2-DAV680TYKMX5Az0003f990@hotmail.com>
X-OriginalArrivalTime: 06 Jun 2003 17:08:05.0792 (UTC) FILETIME=[32352200:01C32C4E]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks for the link--good stuff.

Om.
----- Original Message -----
From: "Mike Moran" <mike_moran@mac.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Friday, June 06, 2003 2:41 AM
Subject: Re: Questions related to the use of HttpClient classes


> Adrian Sutton wrote:
> >
> > On Friday, June 6, 2003, at 08:55  AM, Om Narayan wrote:
> [ ... ]
> >> I have another question to add:  How do I "prime" the connections in
the
> >> MultiThreadedHttpConnectionManager pool?  I am running into a problem
> >> where
> >> it is taking a long time (almost 30 secs using https) to open the first
> >> connection. As a result the session bean that is opening the
> >> connection is
> >> timing out. I need a way to make the first call to create the
connection
> >> work without timing out. Any suggestion is welcome.
> >
> >
> > I'd say the delay here is actually initialising JSSE rather than
> > actually making the first connection.   There should be a way to
> > initialise JSSE without actually making a connection.
> [ ... ]
>
> This might be difficult. I ran in to a problem like this while using a
> JCE implementation. The setup time seems to be caused by Suns
> implementation of SecureRandom. The following thread may be useful:
>
> http://forum.java.sun.com/thread.jsp?thread=4250&forum=2&message=11205
>
> --
> Mike
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>
>

From anonymous@nagoya.betaversion.org  Fri Jun  6 18:59:12 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 52443 invoked from network); 6 Jun 2003 18:59:12 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 Jun 2003 18:59:12 -0000
Received: (qmail 15173 invoked by uid 50); 6 Jun 2003 19:01:30 -0000
Date: 6 Jun 2003 19:01:30 -0000
Message-ID: <20030606190130.15172.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From olegk@apache.org  2003-06-06 19:01 -------
Created an attachment (id=6682)
SSL Guide (take 2)

From om5@hotmail.com  Fri Jun  6 20:45:29 2003
Return-Path: <om5@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 67027 invoked from network); 6 Jun 2003 20:45:29 -0000
Received: from bay2-dav62.bay2.hotmail.com (HELO hotmail.com) (65.54.246.197)
  by daedalus.apache.org with SMTP; 6 Jun 2003 20:45:29 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 6 Jun 2003 13:45:34 -0700
Received: from 24.56.39.111 by bay2-dav62.bay2.hotmail.com with DAV;
	Fri, 06 Jun 2003 20:45:34 +0000
X-Originating-IP: [24.56.39.111]
X-Originating-Email: [om5@hotmail.com]
From: "Om Narayan" <om5@hotmail.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: IOException Broken pipe
Date: Fri, 6 Jun 2003 13:46:07 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_02D7_01C32C31.FAF70C20"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
Message-ID: <BAY2-DAV62aQz8xckA100003c2a@hotmail.com>
X-OriginalArrivalTime: 06 Jun 2003 20:45:34.0873 (UTC) FILETIME=[9410E090:01C32C6C]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_02D7_01C32C31.FAF70C20
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

This is probably not directly related to HttpClient module, but I am =
getting the following IOException, and am hoping that someone maybe able =
to enlighten me. It is not consistent, so makes it harder to track down. =
Thanks.

Om.

DEBUG Thread-1 org.apache.commons.httpclient.HttpConnection -
HttpConnection: Exception while writing data
java.io.IOException: Broken pipe
        at java.net.SocketOutputStream.socketWrite(Native Method)
        at java.net.SocketOutputStream.write(SocketOutputStream.java:83)
        at
org.apache.commons.httpclient.HttpConnection.write(HttpConnection.java:7
53)
        at
org.apache.commons.httpclient.HttpConnection.write(HttpConnection.java:7
14)
        at
org.apache.commons.httpclient.HttpConnection.print(HttpConnection.java:8
31)
        at
org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpCon
nectionAdapter.print(MultiThreadedHttpConnectionManager.java:661)
        at
org.apache.commons.httpclient.HttpMethodBase.writeRequestHeaders(HttpMet
hodBase.java:2056)
        at
org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase
.java:1991)
        at
org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodBa
se.java:2282)
        at
org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java
:960)
        at
org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:5
78)
        at
org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:4
77)



------=_NextPart_000_02D7_01C32C31.FAF70C20--

From george.gastaldi@neogrid.com.br  Fri Jun  6 20:48:25 2003
Return-Path: <george.gastaldi@neogrid.com.br>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 72286 invoked from network); 6 Jun 2003 20:48:25 -0000
Received: from corvina.neogrid.com.br (HELO dourado.neogrid.com.br) (200.180.73.66)
  by daedalus.apache.org with SMTP; 6 Jun 2003 20:48:25 -0000
Received: by dourado.neogrid.com.br with Internet Mail Service (5.5.2653.19)
	id <MMW6PBYQ>; Fri, 6 Jun 2003 17:50:11 -0300
Message-ID: <1DF6E2D62721D14B8866786D862BE0DB013AC7A1@dourado.neogrid.com.br>
From: George Gastaldi <george.gastaldi@neogrid.com.br>
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: IOException Broken pipe
Date: Fri, 6 Jun 2003 17:50:10 -0300
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C32C6D.38225F60"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C32C6D.38225F60
Content-Type: text/plain;
	charset="iso-8859-1"

I've seen this error before... It was a sun socket implementation bug (a
printStackTrace left for debugging purposes).. Search the net about it. I
bet you will find the same explanation.

-----Original Message-----
From: Om Narayan [mailto:om5@hotmail.com]
Sent: Friday, June 06, 2003 5:46 PM
To: Commons HttpClient Project
Subject: IOException Broken pipe


This is probably not directly related to HttpClient module, but I am getting
the following IOException, and am hoping that someone maybe able to
enlighten me. It is not consistent, so makes it harder to track down.
Thanks.

Om.

DEBUG Thread-1 org.apache.commons.httpclient.HttpConnection -
HttpConnection: Exception while writing data
java.io.IOException: Broken pipe
        at java.net.SocketOutputStream.socketWrite(Native Method)
        at java.net.SocketOutputStream.write(SocketOutputStream.java:83)
        at
org.apache.commons.httpclient.HttpConnection.write(HttpConnection.java:7
53)
        at
org.apache.commons.httpclient.HttpConnection.write(HttpConnection.java:7
14)
        at
org.apache.commons.httpclient.HttpConnection.print(HttpConnection.java:8
31)
        at
org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpCon
nectionAdapter.print(MultiThreadedHttpConnectionManager.java:661)
        at
org.apache.commons.httpclient.HttpMethodBase.writeRequestHeaders(HttpMet
hodBase.java:2056)
        at
org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase
.java:1991)
        at
org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodBa
se.java:2282)
        at
org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java
:960)
        at
org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:5
78)
        at
org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:4
77)



------_=_NextPart_001_01C32C6D.38225F60--

From becke@u.washington.edu  Fri Jun  6 21:08:19 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 99664 invoked from network); 6 Jun 2003 21:08:19 -0000
Received: from mxout5.cac.washington.edu (140.142.32.135)
  by daedalus.apache.org with SMTP; 6 Jun 2003 21:08:19 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout5.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56L8Ot7015339
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 14:08:25 -0700
Received: from u.washington.edu (ss01.co.us.ibm.com [32.97.110.66])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56L8N7j004599
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 14:08:24 -0700
Message-ID: <3EE102B4.4090501@u.washington.edu>
Date: Fri, 06 Jun 2003 17:08:04 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: IOException Broken pipe
References: <BAY2-DAV62aQz8xckA100003c2a@hotmail.com>
In-Reply-To: <BAY2-DAV62aQz8xckA100003c2a@hotmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Om,

Which version of HttpClient are you using?  Could you give some more
detail about when this error occurs?  Sample code or a log perhaps.

Thanks,

Mike

Om Narayan wrote:
> This is probably not directly related to HttpClient module, but I am getting the following IOException, and am hoping that someone maybe able to enlighten me. It is not consistent, so makes it harder to track down. Thanks.
>
> Om.
>
> DEBUG Thread-1 org.apache.commons.httpclient.HttpConnection -
> HttpConnection: Exception while writing data
> java.io.IOException: Broken pipe
>         at java.net.SocketOutputStream.socketWrite(Native Method)
>         at java.net.SocketOutputStream.write(SocketOutputStream.java:83)
>         at
> org.apache.commons.httpclient.HttpConnection.write(HttpConnection.java:7
> 53)
>         at
> org.apache.commons.httpclient.HttpConnection.write(HttpConnection.java:7
> 14)
>         at
> org.apache.commons.httpclient.HttpConnection.print(HttpConnection.java:8
> 31)
>         at
> org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpCon
> nectionAdapter.print(MultiThreadedHttpConnectionManager.java:661)
>         at
> org.apache.commons.httpclient.HttpMethodBase.writeRequestHeaders(HttpMet
> hodBase.java:2056)
>         at
> org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase
> .java:1991)
>         at
> org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodBa
> se.java:2282)
>         at
> org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java
> :960)
>         at
> org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:5
> 78)
>         at
> org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:4
> 77)
>
>
>


From om5@hotmail.com  Fri Jun  6 21:28:53 2003
Return-Path: <om5@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 21578 invoked from network); 6 Jun 2003 21:28:53 -0000
Received: from bay2-dav39.bay2.hotmail.com (HELO hotmail.com) (65.54.246.96)
  by daedalus.apache.org with SMTP; 6 Jun 2003 21:28:53 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 6 Jun 2003 14:28:59 -0700
Received: from 24.56.39.111 by bay2-dav39.bay2.hotmail.com with DAV;
	Fri, 06 Jun 2003 21:28:59 +0000
X-Originating-IP: [24.56.39.111]
X-Originating-Email: [om5@hotmail.com]
From: "Om Narayan" <om5@hotmail.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <BAY2-DAV62aQz8xckA100003c2a@hotmail.com> <3EE102B4.4090501@u.washington.edu>
Subject: Re: IOException Broken pipe
Date: Fri, 6 Jun 2003 14:29:31 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
Message-ID: <BAY2-DAV39t65BVEpVR00003c8f@hotmail.com>
X-OriginalArrivalTime: 06 Jun 2003 21:28:59.0550 (UTC) FILETIME=[A4930BE0:01C32C72]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I found the problem very quickly once figured out that the broken pipe is
usually caused because the server terminates the communication before the
client expects it.

My problem was caused because the server-side had HttpClient 2.0 beta 1 code
and the client side was using 2.0 alpha 3!
Once I got the two in sync, everything went fine.

Om.

----- Original Message -----
From: "Michael Becke" <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Friday, June 06, 2003 2:08 PM
Subject: Re: IOException Broken pipe


> Om,
>
> Which version of HttpClient are you using?  Could you give some more
> detail about when this error occurs?  Sample code or a log perhaps.
>
> Thanks,
>
> Mike
>
> Om Narayan wrote:
> > This is probably not directly related to HttpClient module, but I am
getting the following IOException, and am hoping that someone maybe able to
enlighten me. It is not consistent, so makes it harder to track down.
Thanks.
> >
> > Om.
> >
> > DEBUG Thread-1 org.apache.commons.httpclient.HttpConnection -
> > HttpConnection: Exception while writing data
> > java.io.IOException: Broken pipe
> >         at java.net.SocketOutputStream.socketWrite(Native Method)
> >         at java.net.SocketOutputStream.write(SocketOutputStream.java:83)
> >         at
> > org.apache.commons.httpclient.HttpConnection.write(HttpConnection.java:7
> > 53)
> >         at
> > org.apache.commons.httpclient.HttpConnection.write(HttpConnection.java:7
> > 14)
> >         at
> > org.apache.commons.httpclient.HttpConnection.print(HttpConnection.java:8
> > 31)
> >         at
> > org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpCon
> > nectionAdapter.print(MultiThreadedHttpConnectionManager.java:661)
> >         at
> > org.apache.commons.httpclient.HttpMethodBase.writeRequestHeaders(HttpMet
> > hodBase.java:2056)
> >         at
> > org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase
> > .java:1991)
> >         at
> > org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodBa
> > se.java:2282)
> >         at
> > org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java
> > :960)
> >         at
> > org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:5
> > 78)
> >         at
> > org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:4
> > 77)
> >
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>
>

From ross_r@bellsouth.net  Fri Jun  6 22:02:43 2003
Return-Path: <ross_r@bellsouth.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 54480 invoked from network); 6 Jun 2003 22:02:43 -0000
Received: from mail339.mail.bellsouth.net (HELO imf35bis.bellsouth.net) (205.152.58.217)
  by daedalus.apache.org with SMTP; 6 Jun 2003 22:02:43 -0000
Received: from rossp4 ([66.156.87.153]) by imf35bis.bellsouth.net
          (InterMail vM.5.01.04.25 201-253-122-122-125-20020815) with ESMTP
          id <20030606220502.NXLP5692.imf35bis.bellsouth.net@rossp4>
          for <commons-httpclient-dev@jakarta.apache.org>;
          Fri, 6 Jun 2003 18:05:02 -0400
From: <ross_r@bellsouth.net>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: HTTP Exception
Date: Fri, 6 Jun 2003 18:03:07 -0400
Message-ID: <004901c32c77$69740f50$0c00a8c0@peerit.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_004A_01C32C55.E2626F50"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_004A_01C32C55.E2626F50
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I have an app that is pulling from about 6 different sites, all work but =
one
site.  I get the following messages:

The Console:

Jun 6, 2003 3:14:34 PM org.apache.commons.httpclient.HttpMethodBase
processRequest  INFO: Recoverable exception caught when processing =
request

Jun 6, 2003 3:14:34 PM org.apache.commons.httpclient.HttpMethodBase
processRequest  WARNING: Recoverable exception caught but
MethodRetryHandler.retryMethod() returned false, rethrowing exception

=20

The exception:

            Fri Jun 06 15:14:34 EDT
2003,org.apache.commons.httpclient.HttpRecoverableException: Error in
parsing the status line from the response: unable to find line starting =
with
"HTTP"

=20

The Results:

            Unexpected failure

=20

The Code:

                String url =3D "/jobseeker/jobs/jobfindall.asp";

        HttpClient client =3D new HttpClient();

=20
client.getHostConfiguration().setHost("www.careerbuilder.com",80,"http");=


        HttpState httpstate =3D new HttpState();

        client.getState().setCookiePolicy(CookiePolicy.COMPATIBILITY);

        Header cjheader =3D new Header();

        String responseBody =3D null;

        org.apache.commons.httpclient.Cookie[] cookies =3D null;

//        jobServlet.tools.writeLog("Initialized CJ Vars.");

=20

        client.setConnectionTimeout(30000); //30 seconds

        Header[] requestHeaders =3D new Header[15];

        GetMethod get =3D new GetMethod(url);

        get.setFollowRedirects(true);

        get.setStrictMode(false);

        get.setHttp11(false);

        client.getState().setCookiePolicy(CookiePolicy.COMPATIBILITY);

        try{

//            jobServlet.tools.writeLog("Executing CB Get");

            int iResultCode =3D client.executeMethod(get);

//            jobServlet.tools.writeLog("Get Result Code: " + =
iResultCode);

            httpstate =3D client.getState();

            responseBody =3D get.getResponseBodyAsString();

//            jobServlet.tools.writeLog("Getting Cookies and Headers");

            cookies =3D httpstate.getCookies();

            requestHeaders =3D get.getRequestHeaders();

        }

        catch (HttpException he) {

            jobServlet.tools.writeLog("Http error connecting to '" + url =
+
"'");

            jobServlet.tools.writeLog(he.getMessage());

        }

        catch (IOException ioe){

            jobServlet.tools.writeLog("Unable to connect to '" + url + =
"'");

        }

        catch (NullPointerException np) {

            jobServlet.tools.writeLog("Null Status: " + =
np.getMessage());

        }

=20

Any ideas?  I'm using the Beta 2 release.  It looks similar to bug =
19635,
but it's a different GET so I'm not sure. =20

=20

Ross Rankin

=20

=20


------=_NextPart_000_004A_01C32C55.E2626F50--


From om5@hotmail.com  Fri Jun  6 22:09:09 2003
Return-Path: <om5@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 60130 invoked from network); 6 Jun 2003 22:09:09 -0000
Received: from bay2-dav8.bay2.hotmail.com (HELO hotmail.com) (65.54.246.112)
  by daedalus.apache.org with SMTP; 6 Jun 2003 22:09:09 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 6 Jun 2003 15:09:16 -0700
Received: from 24.56.39.111 by bay2-dav8.bay2.hotmail.com with DAV;
	Fri, 06 Jun 2003 22:09:16 +0000
X-Originating-IP: [24.56.39.111]
X-Originating-Email: [om5@hotmail.com]
From: "Om Narayan" <om5@hotmail.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <BAY2-DAV62aQz8xckA100003c2a@hotmail.com> <3EE102B4.4090501@u.washington.edu> <BAY2-DAV39t65BVEpVR00003c8f@hotmail.com>
Subject: Re: IOException Broken pipe
Date: Fri, 6 Jun 2003 15:03:56 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
Message-ID: <BAY2-DAV8aKFBYZ56G70001d756@hotmail.com>
X-OriginalArrivalTime: 06 Jun 2003 22:09:16.0311 (UTC) FILETIME=[45138270:01C32C78]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry, I don't think the server-side has anything to do with it since it is
not being used for receiving data. It must have worked because I used the
beta 1 release.

Om.

----- Original Message -----
From: "Om Narayan" <om5@hotmail.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Friday, June 06, 2003 2:29 PM
Subject: Re: IOException Broken pipe


> I found the problem very quickly once figured out that the broken pipe is
> usually caused because the server terminates the communication before the
> client expects it.
>
> My problem was caused because the server-side had HttpClient 2.0 beta 1
code
> and the client side was using 2.0 alpha 3!
> Once I got the two in sync, everything went fine.
>
> Om.
>
> ----- Original Message -----
> From: "Michael Becke" <becke@u.washington.edu>
> To: "Commons HttpClient Project"
<commons-httpclient-dev@jakarta.apache.org>
> Sent: Friday, June 06, 2003 2:08 PM
> Subject: Re: IOException Broken pipe
>
>
> > Om,
> >
> > Which version of HttpClient are you using?  Could you give some more
> > detail about when this error occurs?  Sample code or a log perhaps.
> >
> > Thanks,
> >
> > Mike
> >
> > Om Narayan wrote:
> > > This is probably not directly related to HttpClient module, but I am
> getting the following IOException, and am hoping that someone maybe able
to
> enlighten me. It is not consistent, so makes it harder to track down.
> Thanks.
> > >
> > > Om.
> > >
> > > DEBUG Thread-1 org.apache.commons.httpclient.HttpConnection -
> > > HttpConnection: Exception while writing data
> > > java.io.IOException: Broken pipe
> > >         at java.net.SocketOutputStream.socketWrite(Native Method)
> > >         at
java.net.SocketOutputStream.write(SocketOutputStream.java:83)
> > >         at
> > >
org.apache.commons.httpclient.HttpConnection.write(HttpConnection.java:7
> > > 53)
> > >         at
> > >
org.apache.commons.httpclient.HttpConnection.write(HttpConnection.java:7
> > > 14)
> > >         at
> > >
org.apache.commons.httpclient.HttpConnection.print(HttpConnection.java:8
> > > 31)
> > >         at
> > >
org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpCon
> > > nectionAdapter.print(MultiThreadedHttpConnectionManager.java:661)
> > >         at
> > >
org.apache.commons.httpclient.HttpMethodBase.writeRequestHeaders(HttpMet
> > > hodBase.java:2056)
> > >         at
> > >
org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase
> > > .java:1991)
> > >         at
> > >
org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodBa
> > > se.java:2282)
> > >         at
> > >
org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java
> > > :960)
> > >         at
> > >
org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:5
> > > 78)
> > >         at
> > >
org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:4
> > > 77)
> > >
> > >
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>
>

From anonymous@nagoya.betaversion.org  Fri Jun  6 23:22:28 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 15199 invoked from network); 6 Jun 2003 23:22:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 Jun 2003 23:22:28 -0000
Received: (qmail 24246 invoked by uid 50); 6 Jun 2003 23:24:49 -0000
Date: 6 Jun 2003 23:24:49 -0000
Message-ID: <20030606232449.24245.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20569] New:  -
    error handling duplicate connection headers
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20569>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20569

error handling duplicate connection headers

           Summary: error handling duplicate connection headers
           Product: Commons
           Version: 2.0 Beta 1
          Platform: Other
               URL: http://www.careerbuilder.com/jobseeker/jobs/jobfindall.a
                    sp
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: becke@u.washington.edu


HttpMethodBase.shouldCloseConnection() does not correctly handle the case when
more than one connection header exists.  Reported by Ross Rankin.

From anonymous@nagoya.betaversion.org  Fri Jun  6 23:27:35 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 22810 invoked from network); 6 Jun 2003 23:27:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 6 Jun 2003 23:27:34 -0000
Received: (qmail 24321 invoked by uid 50); 6 Jun 2003 23:29:55 -0000
Date: 6 Jun 2003 23:29:55 -0000
Message-ID: <20030606232955.24320.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20569]  -
    error handling duplicate connection headers
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20569>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20569

error handling duplicate connection headers





------- Additional Comments From becke@u.washington.edu  2003-06-06 23:29 -------
Created an attachment (id=6684)
patch

From becke@u.washington.edu  Fri Jun  6 23:31:08 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 24254 invoked from network); 6 Jun 2003 23:31:08 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 6 Jun 2003 23:31:08 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout2.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56NVF5R020313
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 16:31:15 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56NVD7j011671
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 16:31:14 -0700
Date: Fri, 6 Jun 2003 19:31:14 -0400
Subject: Re: HTTP Exception
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <004901c32c77$69740f50$0c00a8c0@peerit.com>
Message-Id: <F68F093A-9876-11D7-9B6A-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ross,

It looks like you've found a problem where HttpClient does not robustly
handle duplicate header values.  In general the server should not be
sending two "Connection: close" headers.  Still, HttpClient should be
able to handle it.  I've attached a patch to fix this to following bug:

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20569

If you can, please apply this patch and verify that it fixes the
problem.

Thanks,

Mike

On Friday, June 6, 2003, at 06:03 PM, <ross_r@bellsouth.net> wrote:

> I have an app that is pulling from about 6 different sites, all work
> but one
> site.  I get the following messages:
>
> The Console:
>
> Jun 6, 2003 3:14:34 PM org.apache.commons.httpclient.HttpMethodBase
> processRequest  INFO: Recoverable exception caught when processing
> request
>
> Jun 6, 2003 3:14:34 PM org.apache.commons.httpclient.HttpMethodBase
> processRequest  WARNING: Recoverable exception caught but
> MethodRetryHandler.retryMethod() returned false, rethrowing exception
>
>
>
> The exception:
>
>             Fri Jun 06 15:14:34 EDT
> 2003,org.apache.commons.httpclient.HttpRecoverableException: Error in
> parsing the status line from the response: unable to find line
> starting with
> "HTTP"
>
>
>
> The Results:
>
>             Unexpected failure
>
>
>
> The Code:
>
>                 String url = "/jobseeker/jobs/jobfindall.asp";
>
>         HttpClient client = new HttpClient();
>
>
> client.getHostConfiguration().setHost("www.careerbuilder.com",80,"http"
> );
>
>         HttpState httpstate = new HttpState();
>
>         client.getState().setCookiePolicy(CookiePolicy.COMPATIBILITY);
>
>         Header cjheader = new Header();
>
>         String responseBody = null;
>
>         org.apache.commons.httpclient.Cookie[] cookies = null;
>
> //        jobServlet.tools.writeLog("Initialized CJ Vars.");
>
>
>
>         client.setConnectionTimeout(30000); //30 seconds
>
>         Header[] requestHeaders = new Header[15];
>
>         GetMethod get = new GetMethod(url);
>
>         get.setFollowRedirects(true);
>
>         get.setStrictMode(false);
>
>         get.setHttp11(false);
>
>         client.getState().setCookiePolicy(CookiePolicy.COMPATIBILITY);
>
>         try{
>
> //            jobServlet.tools.writeLog("Executing CB Get");
>
>             int iResultCode = client.executeMethod(get);
>
> //            jobServlet.tools.writeLog("Get Result Code: " +
> iResultCode);
>
>             httpstate = client.getState();
>
>             responseBody = get.getResponseBodyAsString();
>
> //            jobServlet.tools.writeLog("Getting Cookies and Headers");
>
>             cookies = httpstate.getCookies();
>
>             requestHeaders = get.getRequestHeaders();
>
>         }
>
>         catch (HttpException he) {
>
>             jobServlet.tools.writeLog("Http error connecting to '" +
> url +
> "'");
>
>             jobServlet.tools.writeLog(he.getMessage());
>
>         }
>
>         catch (IOException ioe){
>
>             jobServlet.tools.writeLog("Unable to connect to '" + url +
> "'");
>
>         }
>
>         catch (NullPointerException np) {
>
>             jobServlet.tools.writeLog("Null Status: " +
> np.getMessage());
>
>         }
>
>
>
> Any ideas?  I'm using the Beta 2 release.  It looks similar to bug
> 19635,
> but it's a different GET so I'm not sure.
>
>
>
> Ross Rankin
>
>
>
>
>


From becke@u.washington.edu  Fri Jun  6 23:32:47 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 28115 invoked from network); 6 Jun 2003 23:32:47 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 6 Jun 2003 23:32:47 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout2.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56NWs5R020547
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 16:32:54 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h56NWqPx014635
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 6 Jun 2003 16:32:53 -0700
Date: Fri, 6 Jun 2003 19:32:53 -0400
Subject: Re: IOException Broken pipe
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <BAY2-DAV8aKFBYZ56G70001d756@hotmail.com>
Message-Id: <319EABE4-9877-11D7-9B6A-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, I think alpha 3 was the culprit.  It was known to have a number of
problems, particularly in the case of threading.  I'm glad beta 1 fixed
the problem.

Mike

On Friday, June 6, 2003, at 06:03 PM, Om Narayan wrote:

> Sorry, I don't think the server-side has anything to do with it since
> it is
> not being used for receiving data. It must have worked because I used
> the
> beta 1 release.
>
> Om.
>
> ----- Original Message -----
> From: "Om Narayan" <om5@hotmail.com>
> To: "Commons HttpClient Project"
> <commons-httpclient-dev@jakarta.apache.org>
> Sent: Friday, June 06, 2003 2:29 PM
> Subject: Re: IOException Broken pipe
>
>
>> I found the problem very quickly once figured out that the broken
>> pipe is
>> usually caused because the server terminates the communication before
>> the
>> client expects it.
>>
>> My problem was caused because the server-side had HttpClient 2.0 beta
>> 1
> code
>> and the client side was using 2.0 alpha 3!
>> Once I got the two in sync, everything went fine.
>>
>> Om.
>>
>> ----- Original Message -----
>> From: "Michael Becke" <becke@u.washington.edu>
>> To: "Commons HttpClient Project"
> <commons-httpclient-dev@jakarta.apache.org>
>> Sent: Friday, June 06, 2003 2:08 PM
>> Subject: Re: IOException Broken pipe
>>
>>
>>> Om,
>>>
>>> Which version of HttpClient are you using?  Could you give some more
>>> detail about when this error occurs?  Sample code or a log perhaps.
>>>
>>> Thanks,
>>>
>>> Mike
>>>
>>> Om Narayan wrote:
>>>> This is probably not directly related to HttpClient module, but I am
>> getting the following IOException, and am hoping that someone maybe
>> able
> to
>> enlighten me. It is not consistent, so makes it harder to track down.
>> Thanks.
>>>>
>>>> Om.
>>>>
>>>> DEBUG Thread-1 org.apache.commons.httpclient.HttpConnection -
>>>> HttpConnection: Exception while writing data
>>>> java.io.IOException: Broken pipe
>>>>         at java.net.SocketOutputStream.socketWrite(Native Method)
>>>>         at
> java.net.SocketOutputStream.write(SocketOutputStream.java:83)
>>>>         at
>>>>
> org.apache.commons.httpclient.HttpConnection.write(HttpConnection.java:
> 7
>>>> 53)
>>>>         at
>>>>
> org.apache.commons.httpclient.HttpConnection.write(HttpConnection.java:
> 7
>>>> 14)
>>>>         at
>>>>
> org.apache.commons.httpclient.HttpConnection.print(HttpConnection.java:
> 8
>>>> 31)
>>>>         at
>>>>
> org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpCo
> n
>>>> nectionAdapter.print(MultiThreadedHttpConnectionManager.java:661)
>>>>         at
>>>>
> org.apache.commons.httpclient.HttpMethodBase.writeRequestHeaders(HttpMe
> t
>>>> hodBase.java:2056)
>>>>         at
>>>>
> org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBas
> e
>>>> .java:1991)
>>>>         at
>>>>
> org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodB
> a
>>>> se.java:2282)
>>>>         at
>>>>
> org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.jav
> a
>>>> :960)
>>>>         at
>>>>
> org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:
> 5
>>>> 78)
>>>>         at
>>>>
> org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:
> 4
>>>> 77)
>>>>
>>>>
>>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From anonymous@nagoya.betaversion.org  Sat Jun  7 01:27:35 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 89783 invoked from network); 7 Jun 2003 01:27:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 7 Jun 2003 01:27:35 -0000
Received: (qmail 25622 invoked by uid 50); 7 Jun 2003 01:29:56 -0000
Date: 7 Jun 2003 01:29:56 -0000
Message-ID: <20030607012956.25621.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20569]  -
    error handling duplicate connection headers
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20569>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20569

error handling duplicate connection headers





------- Additional Comments From becke@u.washington.edu  2003-06-07 01:29 -------
Created an attachment (id=6685)
test case

From Slavik.Markovich@orange.co.il  Sun Jun  8 13:19:25 2003
Return-Path: <Slavik.Markovich@orange.co.il>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 38777 invoked from network); 8 Jun 2003 13:19:25 -0000
Received: from guy1.orange.co.il (HELO mailsweeper1.partnergsm.co.il) (192.118.10.10)
  by daedalus.apache.org with SMTP; 8 Jun 2003 13:19:25 -0000
Received: from mailcon2.partnergsm.co.il (unverified) by
    mailsweeper1.partnergsm.co.il (Content Technologies SMTPRS 4.3.6) with
    ESMTP id <T62b49fb419c0a801018dc@mailsweeper1.partnergsm.co.il> for
    <commons-httpclient-dev@jakarta.apache.org>; Sun, 8 Jun 2003 16:19:20
    +0200
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6375.0
Subject: RE: Timeout in HTTP
Date: Sun, 8 Jun 2003 16:19:19 +0200
Message-ID: <A4D63E93DCDC51429B45C404E8EC8F6C0D2DE752@ranexch3>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Timeout in HTTP
Thread-Index: AcMsT+ROeGtUI8HASWKsyQwUptyMqwBdjBzQ
From: "Slavik Markovich" <Slavik.Markovich@orange.co.il>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Socket connect timeout is dependent on the OS.
It is configurable since jdk1.4 through code by creating an unbound socket =
and using connect(SocketAddress, timeout)
If one uses java.net.URLConnection there are also:
	sun.net.client.defaultConnectTimeout (default: -1)
	sun.net.client.defaultReadTimeout (default: -1)
See http://java.sun.com/j2se/1.4.1/docs/guide/net/properties.html

Has anyone actually tried to contact a server that is down and received a t=
imeout?
In my experience, trying to interrupt a socket while it is trying to connec=
t (as in the TimeoutController) does nothing until the actual OS timeout ki=
cks in.
Maybe, instead of using the TimeoutController in JDK1.4 you should use the =
build-in functionality (using reflection to keep compatibility with older J=
VMs).

Slavik.

-----Original Message-----
From: Michael Becke [mailto:becke@u.washington.edu]
Sent: Friday, June 06, 2003 6:20 PM
To: Commons HttpClient Project
Subject: Re: Timeout in HTTP


Sorry, I misunderstood the question.  I agree, it is undefined.  It=20
appears Socket connect timeout is neither documented nor configurable.=20
My guess is that it's dependent on OS and server response.

Mike

Kalnichevski, Oleg wrote:
> Mike, The question is what is the effect of setting connectionTimeout
> to 0. As far as I can see from the code, it does not in fact
> guarantee that the connection will not timeout. What it means that
> HttpClient will not give up waiting on that connection, but it does
> not mean that Socket#Socket constructor would wait indefinitely. Am I
> missing something?
>=20
> Oleg
>=20
> -----Original Message----- From: Michael Becke
> [mailto:becke@u.washington.edu] Sent: Friday, June 06, 2003 16:23 To:
> Commons HttpClient Project Subject: Re: Timeout in HTTP
>=20
>=20
> I believe it is being set by HttpClient.execute().  The defaults for
>  soTimeout and connectionTimeout are both 0.
>=20
> Mike
>=20
> Kalnichevski, Oleg wrote:
>=20
>> Well, after having browsed through the source code, I am afraid the
>>  answer is 'undefined'. HttpConnection class invokes=20
>> socketFactory#createSocket method, which in its turn calls=20
>> Socket#Socket constructor, which in its turn can timeout at any
>> time it sees fit. Does anybody see that differently? I do not think
>>  there's much we can do about it
>>=20
>> Oleg
>>=20
>> -----Original Message----- From: George Gastaldi=20
>> [mailto:george.gastaldi@neogrid.com.br] Sent: Friday, June 06, 2003
>>  15:53 To: Commons HttpClient Project Subject: RE: Timeout in HTTP
>>=20
>>=20
>> Yes, that's the point. However, I do not set any value for
>> setTimeout in HTTPClient. And it is thrown after one minute in
>> average... What's the default value if nothing is set up ?
>>=20
>> -----Original Message----- From: Kalnichevski, Oleg=20
>> [mailto:oleg.kalnichevski@bearingpoint.com] Sent: Friday, June 06,=20
>> 2003 10:45 AM To: Commons HttpClient Project Subject: RE: Timeout
>> in HTTP
>>=20
>>=20
>> George,
>>=20
>> Please note that HttpConnection.ConnectionTimeoutException
>> represents a connection timeout (set with
>> HttpClient#setConnectionTimeout), not a read timeout (set with
>> HttpClient#setTimeout). Can it be that this confusion is the source
>> of the problem?
>>=20
>> Oleg
>>=20
>> -----Original Message----- From: George Gastaldi=20
>> [mailto:george.gastaldi@neogrid.com.br] Sent: Friday, June 06, 2003
>>  13:55 To: Commons HttpClient Project Subject: RE: Timeout in HTTP
>>=20
>>=20
>> That's strange, because even when I do not set anything, the=20
>> connection times out for about 1 minute, throwing a=20
>> HttpConnection.ConnectionTimeoutException. Setting explicitly to 0=20
>> will never timeout ?
>>=20
>> Thank you for the answer.
>>=20
>> -----Original Message----- From: Ortwin Gl=FCck=20
>> [mailto:ortwin.glueck@nose.ch] Sent: Friday, June 06, 2003 3:26 AM
>>  To: Commons HttpClient Project Subject: Re: Timeout in HTTP
>>=20
>>=20
>> Michael Becke wrote:
>>=20
>>=20
>>> I am assuming you are talking about SO_TIMEOUT set via=20
>>> HttpClient.setTimeout().  This is the amount of time to wait when
>>>  reading on an open socket.  This defaults to 0 which means that
>>> it will wait forever.
>>=20
>>=20
>> "forever" means "until the server is bored and closes the
>> connection" :-)
>>=20
>>=20
>> ---------------------------------------------------------------------
>>  To unsubscribe, e-mail:=20
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org For
>> additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>=20
>> ---------------------------------------------------------------------
>>  To unsubscribe, e-mail:=20
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org For
>> additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>=20
>> ---------------------------------------------------------------------
>>  To unsubscribe, e-mail:=20
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org For
>> additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
>  To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org For additional
> commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>=20
>=20
> ---------------------------------------------------------------------
>  To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org For additional
> commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.o=
rg
For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache=
.org



---------------------------------------------------------------------------=
------------------------------------
This message contains information that may be confidential or privileged.
If you are not the intended recipient, you may not use, copy or disclose
to anyone any of the information in this message. If you have received
this message and are not the intended recipient, kindly notify the sender
and delete this message from your computer.


From becke@u.washington.edu  Mon Jun  9 03:41:36 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 67515 invoked from network); 9 Jun 2003 03:41:36 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 9 Jun 2003 03:41:36 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout2.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h593fj5R015951
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 8 Jun 2003 20:41:46 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h593fiPx007104
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 8 Jun 2003 20:41:45 -0700
Date: Sun, 8 Jun 2003 23:41:42 -0400
Subject: Re: Timeout in HTTP
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <A4D63E93DCDC51429B45C404E8EC8F6C0D2DE752@ranexch3>
Message-Id: <49359CC6-9A2C-11D7-86B6-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Socket connect timeout is dependent on the OS.
> It is configurable since jdk1.4 through code by creating an unbound
> socket and using connect(SocketAddress, timeout)
> If one uses java.net.URLConnection there are also:
> 	sun.net.client.defaultConnectTimeout (default: -1)
> 	sun.net.client.defaultReadTimeout (default: -1)
> See http://java.sun.com/j2se/1.4.1/docs/guide/net/properties.html

Quite so.  I forgot this was added in 1.4.  Adding support for native
connect timeout in HttpClient will require an interface change I think,
so it will have to wait until at least 2.1.  As always other thoughts
are welcome.

> Has anyone actually tried to contact a server that is down and
> received a timeout?
> In my experience, trying to interrupt a socket while it is trying to
> connect (as in the TimeoutController) does nothing until the actual OS
> timeout kicks in.

I have and it seems to work.  After a little investigation I agree with
you.  It seems that interrupting a thread blocked in Socket() does
nothing.  In our case though this is not really a problem since the
socket is opened from a new thread.  Once the timeout occurs the
original thread interrupts the connect thread (which appears to do
nothing) and then throws an exception.  The timeout still occurs though
it doesn't keep the socket from being opened.  The only problem here is
the possibility of an orphaned thread blocked in Socket().

Mike


From olegk@apache.org  Mon Jun  9 19:35:16 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 80011 invoked from network); 9 Jun 2003 19:35:16 -0000
Received: from mail2.bluewin.ch (195.186.4.73)
  by daedalus.apache.org with SMTP; 9 Jun 2003 19:35:16 -0000
Received: from [192.168.1.48] (62.203.187.49) by mail2.bluewin.ch (Bluewin AG 7.0.016)
        id 3EDDAC130008634F for commons-httpclient-dev@jakarta.apache.org; Mon, 9 Jun 2003 19:35:20 +0000
Subject: Fwd: URI specification
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Content-Type: text/plain
Organization:
Message-Id: <1055187315.1947.19.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5)
Date: 09 Jun 2003 21:35:15 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Folks,

It looks like this directly applies to us (see below). It also raises a
question of how we go about URI support in the future. Since Sung-Gu has
pretty much retired from the project (he's been a no-show on this list
for several months already), URI stuff is ripe for a take over. Spinning
it off into a Commons project of its own would be the best option. I
think this may be the right moment.

Ideas, thoughts, comments?

Oleg

PS: Sung-Gu, if you are still monitoring this mailing list, please let
us know




-----Forwarded Message-----

> From: Roy T. Fielding <fielding@apache.org>
> To: community@apache.org
> Subject: URI specification
> Date: 09 Jun 2003 12:06:13 -0700
>
> I submitted draft 03 of the URI spec revision on Friday.  It can
> also be obtained via the issues list at
>
>     http://www.apache.org/~fielding/uri/rev-2002/issues.html
>
> This draft is close to final, with maybe a few editorial changes
> left before going to IESG last call.  It would be nice if the Apache
> software projects were checked/updated for conformance.  Please let
> me know if any implementations that should be listed when I send
> the IESG documentation on independent implementations.
>
> If you find a bug, please tell me within the next two weeks.
>
> Cheers,
>
> ....Roy
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: community-unsubscribe@apache.org
> For additional commands, e-mail: community-help@apache.org
>


From zumrani@novell.com  Tue Jun 10 00:25:22 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 86381 invoked from network); 10 Jun 2003 00:25:22 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 00:25:22 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Mon, 09 Jun 2003 18:25:30 -0600
Message-Id: <see4d11a.010@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Mon, 09 Jun 2003 15:24:52 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: Following code throws IllegalArgumentException: host parameter
	is null! Does any one know why?
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Following code throws IllegalArgumentException: host parameter is null!
Does any one know why?

HttpClient hc = new HttpClient();
	HttpState state = hc.getState();
	state.setCredentials("", new
UsernamePasswordCredentials("zulfi", "zulfi"));

	String urlstr = "http://localhost:9999/services1/test";
	URL url = new URL(urlstr);

	UrlPostMethod post = new UrlPostMethod(urlstr);
	post.setDoAuthentication(true);

	post.addRequestHeader("Connection", "Keep-Alive");
	post.addRequestHeader("Content-Length", ""+msg.length());
	post.addRequestHeader("Content-Type", "text/xml;
charset=utf-8");

	InputStream reqis = new ByteArrayInputStream(msg.getBytes());

	post.setRequestBody(reqis);

	hc.executeMethod(post);



Thanks,
Zulfi

From zumrani@novell.com  Tue Jun 10 00:35:27 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 93934 invoked from network); 10 Jun 2003 00:35:27 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 00:35:27 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Mon, 09 Jun 2003 18:35:35 -0600
Message-Id: <see4d377.016@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Mon, 09 Jun 2003 15:34:58 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: HttpURLconnection, POST & Authentication
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am trying to do POST using HttpURLConnection. Also I would like to do
Basic/Digest/NTLM Authentication at the same time. Since most of my
earlier code is done using java.net.HttpURLConnection, I would like to
maintain the APIs such as getOutputStream(), getInputStream() and
get/setHeader().
Does anyone know how can I do that using the 2.0 version?

Thanks,
Zulfi

From adrian@intencha.com  Tue Jun 10 00:45:31 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 5536 invoked from network); 10 Jun 2003 00:45:31 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 10 Jun 2003 00:45:31 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055050224@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Mon, 9 Jun 2003 18:42:59 -0600
Date: Tue, 10 Jun 2003 10:46:03 +1000
Subject: Re: Following code throws IllegalArgumentException: host parameter is null! Does any one know why?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <see4d11a.010@prv-mail20.provo.novell.com>
Message-Id: <E9DF42D0-9ADC-11D7-8308-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Tuesday, June 10, 2003, at 07:24  AM, Zulfi Umrani wrote:

> Following code throws IllegalArgumentException: host parameter is null!
> Does any one know why?

Because the host parameter is null...  somewhere, somehow.  When
reporting an exception with any Java product, please include the full
stack trace of the exception so that we know where to start looking.
You also need to tell us what version your using both of the JRE and
the product as well as what OS you're running on.  (Including sample
code is great, thanks!)

With HttpClient there's even more useful information you can extract as
well in the form of a debug log.  You should take a look at
http://jakarta.apache.org/commons/httpclient/troubleshooting.html which
outlines the steps to take when you have a problem with HttpClient.  In
particular take a look at the logging guide at
http://jakarta.apache.org/commons/httpclient/logging.html

With that information we're likely to be a lot more helpful.

Regards,

Adrian Sutton.


From adrian@intencha.com  Tue Jun 10 00:50:33 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 11007 invoked from network); 10 Jun 2003 00:50:33 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 10 Jun 2003 00:50:33 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055050873@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Mon, 9 Jun 2003 18:48:02 -0600
Date: Tue, 10 Jun 2003 10:51:06 +1000
Subject: Re: HttpURLconnection, POST & Authentication
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <see4d377.016@prv-mail20.provo.novell.com>
Message-Id: <9E996538-9ADD-11D7-8308-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello again,
HttpClient works differently to HttpURLConnection because despite
initial impressions they do different things.  If you want the ability
to change between Http libraries, you need to provide an abstraction
layer in the form of a single class that handles all the HTTP stuff for
your app and then you only have to change that class when you change
libraries (or implement subclasses for different libraries and use the
factory pattern).

So essentially the answer is no, unless you write a wrapper around
HttpClient to map HttpURLConnection type calls to HttpClient calls.
I'm not sure how much success you'll have with that.  I would strongly
urge you to take some time and redesign your Http code so that it's
more flexible and separate as your entire application will likely
benefit as a result.

Regards,

Adrian Sutton.

On Tuesday, June 10, 2003, at 07:34  AM, Zulfi Umrani wrote:

> I am trying to do POST using HttpURLConnection. Also I would like to do
> Basic/Digest/NTLM Authentication at the same time. Since most of my
> earlier code is done using java.net.HttpURLConnection, I would like to
> maintain the APIs such as getOutputStream(), getInputStream() and
> get/setHeader().
> Does anyone know how can I do that using the 2.0 version?
>
> Thanks,
> Zulfi
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From zumrani@novell.com  Tue Jun 10 00:55:06 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 14025 invoked from network); 10 Jun 2003 00:55:06 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 00:55:06 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Mon, 09 Jun 2003 18:55:15 -0600
Message-Id: <see4d813.018@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Mon, 09 Jun 2003 15:54:42 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Following code throws IllegalArgumentException: host
	parameter is null! Does any one know why?
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This problem got solved when I pass the HostConfiguration object in the
"executeMethod" method. Looks like it's redundant, but did get rid of
the exception!

>>> adrian@intencha.com 6/9/2003 8:46:03 PM >>>

On Tuesday, June 10, 2003, at 07:24  AM, Zulfi Umrani wrote:

> Following code throws IllegalArgumentException: host parameter is
null!
> Does any one know why?

Because the host parameter is null...  somewhere, somehow.  When
reporting an exception with any Java product, please include the full
stack trace of the exception so that we know where to start looking.
You also need to tell us what version your using both of the JRE and
the product as well as what OS you're running on.  (Including sample
code is great, thanks!)

With HttpClient there's even more useful information you can extract as

well in the form of a debug log.  You should take a look at
http://jakarta.apache.org/commons/httpclient/troubleshooting.html which

outlines the steps to take when you have a problem with HttpClient.  In

particular take a look at the logging guide at
http://jakarta.apache.org/commons/httpclient/logging.html u

With that information we're likely to be a lot more helpful.

Regards,

Adrian Sutton.


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From zumrani@novell.com  Tue Jun 10 01:00:33 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 16086 invoked from network); 10 Jun 2003 01:00:33 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 01:00:33 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Mon, 09 Jun 2003 19:00:41 -0600
Message-Id: <see4d959.042@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Mon, 09 Jun 2003 16:00:07 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: HttpURLconnection, POST & Authentication
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks for the info. I believe you have a HttpURLConnection class which
is a wrapper on java.net.HttpURLConnection. Wouldn't that work to do
POST+Authentication?

>>> adrian@intencha.com 6/9/2003 8:51:06 PM >>>
Hello again,
HttpClient works differently to HttpURLConnection because despite
initial impressions they do different things.  If you want the ability

to change between Http libraries, you need to provide an abstraction
layer in the form of a single class that handles all the HTTP stuff for

your app and then you only have to change that class when you change
libraries (or implement subclasses for different libraries and use the

factory pattern).

So essentially the answer is no, unless you write a wrapper around
HttpClient to map HttpURLConnection type calls to HttpClient calls.
I'm not sure how much success you'll have with that.  I would strongly

urge you to take some time and redesign your Http code so that it's
more flexible and separate as your entire application will likely
benefit as a result.

Regards,

Adrian Sutton.

On Tuesday, June 10, 2003, at 07:34  AM, Zulfi Umrani wrote:

> I am trying to do POST using HttpURLConnection. Also I would like to
do
> Basic/Digest/NTLM Authentication at the same time. Since most of my
> earlier code is done using java.net.HttpURLConnection, I would like
to
> maintain the APIs such as getOutputStream(), getInputStream() and
> get/setHeader().
> Does anyone know how can I do that using the 2.0 version?
>
> Thanks,
> Zulfi
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From becke@u.washington.edu  Tue Jun 10 01:05:56 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 19095 invoked from network); 10 Jun 2003 01:05:56 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 10 Jun 2003 01:05:56 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5A164SL004936
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 9 Jun 2003 18:06:04 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5A1627j021927
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 9 Jun 2003 18:06:03 -0700
Date: Mon, 9 Jun 2003 21:05:59 -0400
Subject: Re: Following code throws IllegalArgumentException: host parameter is null! Does any one know why?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <see4d11a.010@prv-mail20.provo.novell.com>
Message-Id: <B2CDF7FA-9ADF-11D7-8E29-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

As Adrian said it is difficult to say without some detail.  One thing I
can say is that you do not use UrlPostMethod.  This class is
deprecated.  PostMethod provides the same functionality.

Mike

On Monday, June 9, 2003, at 05:24 PM, Zulfi Umrani wrote:

> Following code throws IllegalArgumentException: host parameter is null!
> Does any one know why?
>
> HttpClient hc = new HttpClient();
> 	HttpState state = hc.getState();
> 	state.setCredentials("", new
> UsernamePasswordCredentials("zulfi", "zulfi"));
>
> 	String urlstr = "http://localhost:9999/services1/test";
> 	URL url = new URL(urlstr);
>
> 	UrlPostMethod post = new UrlPostMethod(urlstr);
> 	post.setDoAuthentication(true);
>
> 	post.addRequestHeader("Connection", "Keep-Alive");
> 	post.addRequestHeader("Content-Length", ""+msg.length());
> 	post.addRequestHeader("Content-Type", "text/xml;
> charset=utf-8");
>
> 	InputStream reqis = new ByteArrayInputStream(msg.getBytes());
>
> 	post.setRequestBody(reqis);
>
> 	hc.executeMethod(post);
>
>
>
> Thanks,
> Zulfi
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Tue Jun 10 01:08:49 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 20052 invoked from network); 10 Jun 2003 01:08:49 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 10 Jun 2003 01:08:49 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout2.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5A18v5R027639
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 9 Jun 2003 18:08:58 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5A18u7j022016
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 9 Jun 2003 18:08:57 -0700
Date: Mon, 9 Jun 2003 21:08:53 -0400
Subject: Re: HttpURLconnection, POST & Authentication
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <see4d959.042@prv-mail20.provo.novell.com>
Message-Id: <1A31268E-9AE0-11D7-8E29-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, this class unfortunately serves little purpose.  As specified in
the JavaDocs it only acts as a wrapper for an already executed
HttpMethod.  It really only provides access for querying an HttpClient
response with the java.net API.

Mike

On Monday, June 9, 2003, at 06:00 PM, Zulfi Umrani wrote:

> Thanks for the info. I believe you have a HttpURLConnection class which
> is a wrapper on java.net.HttpURLConnection. Wouldn't that work to do
> POST+Authentication?
>
>>>> adrian@intencha.com 6/9/2003 8:51:06 PM >>>
> Hello again,
> HttpClient works differently to HttpURLConnection because despite
> initial impressions they do different things.  If you want the ability
>
> to change between Http libraries, you need to provide an abstraction
> layer in the form of a single class that handles all the HTTP stuff for
>
> your app and then you only have to change that class when you change
> libraries (or implement subclasses for different libraries and use the
>
> factory pattern).
>
> So essentially the answer is no, unless you write a wrapper around
> HttpClient to map HttpURLConnection type calls to HttpClient calls.
> I'm not sure how much success you'll have with that.  I would strongly
>
> urge you to take some time and redesign your Http code so that it's
> more flexible and separate as your entire application will likely
> benefit as a result.
>
> Regards,
>
> Adrian Sutton.
>
> On Tuesday, June 10, 2003, at 07:34  AM, Zulfi Umrani wrote:
>
>> I am trying to do POST using HttpURLConnection. Also I would like to
> do
>> Basic/Digest/NTLM Authentication at the same time. Since most of my
>> earlier code is done using java.net.HttpURLConnection, I would like
> to
>> maintain the APIs such as getOutputStream(), getInputStream() and
>> get/setHeader().
>> Does anyone know how can I do that using the 2.0 version?
>>
>> Thanks,
>> Zulfi
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From zumrani@novell.com  Tue Jun 10 01:22:20 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 30390 invoked from network); 10 Jun 2003 01:22:20 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 01:22:20 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Mon, 09 Jun 2003 19:22:29 -0600
Message-Id: <see4de75.047@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Mon, 09 Jun 2003 16:21:57 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: HttpURLconnection, POST & Authentication
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

So what you are saying is that I can use HttpClient APIs and execute the
method and then wrap that method in HttpURLConnection so that I am using
java.net APIs to get the response? In other words I can not use it like
java.net API for making requests. Is that correct? If NOT, how can I use
this class to do Authentication? It does not have any methods which take
Credentials as argument. Neither does it take HttpState as one of the
arguments in the constructor. If you have a sample code that will be
great.

Thanks.

>>> becke@u.washington.edu 6/9/2003 9:08:53 PM >>>
Yes, this class unfortunately serves little purpose.  As specified in
the JavaDocs it only acts as a wrapper for an already executed
HttpMethod.  It really only provides access for querying an HttpClient

response with the java.net API.

Mike

On Monday, June 9, 2003, at 06:00 PM, Zulfi Umrani wrote:

> Thanks for the info. I believe you have a HttpURLConnection class
which
> is a wrapper on java.net.HttpURLConnection. Wouldn't that work to do
> POST+Authentication?
>
>>>> adrian@intencha.com 6/9/2003 8:51:06 PM >>>
> Hello again,
> HttpClient works differently to HttpURLConnection because despite
> initial impressions they do different things.  If you want the
ability
>
> to change between Http libraries, you need to provide an abstraction
> layer in the form of a single class that handles all the HTTP stuff
for
>
> your app and then you only have to change that class when you change
> libraries (or implement subclasses for different libraries and use
the
>
> factory pattern).
>
> So essentially the answer is no, unless you write a wrapper around
> HttpClient to map HttpURLConnection type calls to HttpClient calls.
> I'm not sure how much success you'll have with that.  I would
strongly
>
> urge you to take some time and redesign your Http code so that it's
> more flexible and separate as your entire application will likely
> benefit as a result.
>
> Regards,
>
> Adrian Sutton.
>
> On Tuesday, June 10, 2003, at 07:34  AM, Zulfi Umrani wrote:
>
>> I am trying to do POST using HttpURLConnection. Also I would like
to
> do
>> Basic/Digest/NTLM Authentication at the same time. Since most of my
>> earlier code is done using java.net.HttpURLConnection, I would like
> to
>> maintain the APIs such as getOutputStream(), getInputStream() and
>> get/setHeader().
>> Does anyone know how can I do that using the 2.0 version?
>>
>> Thanks,
>> Zulfi
>>
>>
>
---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From becke@u.washington.edu  Tue Jun 10 01:25:45 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 35581 invoked from network); 10 Jun 2003 01:25:45 -0000
Received: from mxout5.cac.washington.edu (140.142.32.135)
  by daedalus.apache.org with SMTP; 10 Jun 2003 01:25:45 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout5.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5A1Prt7013222
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 9 Jun 2003 18:25:53 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5A1Pp7j022402
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 9 Jun 2003 18:25:52 -0700
Date: Mon, 9 Jun 2003 21:25:49 -0400
Subject: Re: URI specification
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1055187315.1947.19.camel@kczrh-okt22.corp.bearingpoint.com>
Message-Id: <7792D310-9AE2-11D7-8E29-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I definitely agree that it would be best if URI had its own home
outside of HttpClient.  My impression was that we would try to have it
removed by 2.1 but I see that it is not deprecated.  Perhaps that is
due to the luke warm reception it has received from the commons
community at large.  I agree this might be a good time to drum up some
support for a separate URI package.  Any takers?

As far as compliance goes we're looking pretty good.  The only test
cases that do not work with HttpClient URI are "../../../g" and
"../../../../g".  I will look into these.

Mike

On Monday, June 9, 2003, at 03:35 PM, Oleg Kalnichevski wrote:

> Folks,
>
> It looks like this directly applies to us (see below). It also raises a
> question of how we go about URI support in the future. Since Sung-Gu
> has
> pretty much retired from the project (he's been a no-show on this list
> for several months already), URI stuff is ripe for a take over.
> Spinning
> it off into a Commons project of its own would be the best option. I
> think this may be the right moment.
>
> Ideas, thoughts, comments?
>
> Oleg
>
> PS: Sung-Gu, if you are still monitoring this mailing list, please let
> us know
>
>
>
>
> -----Forwarded Message-----
>
>> From: Roy T. Fielding <fielding@apache.org>
>> To: community@apache.org
>> Subject: URI specification
>> Date: 09 Jun 2003 12:06:13 -0700
>>
>> I submitted draft 03 of the URI spec revision on Friday.  It can
>> also be obtained via the issues list at
>>
>>     http://www.apache.org/~fielding/uri/rev-2002/issues.html
>>
>> This draft is close to final, with maybe a few editorial changes
>> left before going to IESG last call.  It would be nice if the Apache
>> software projects were checked/updated for conformance.  Please let
>> me know if any implementations that should be listed when I send
>> the IESG documentation on independent implementations.
>>
>> If you find a bug, please tell me within the next two weeks.
>>
>> Cheers,
>>
>> ....Roy
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: community-unsubscribe@apache.org
>> For additional commands, e-mail: community-help@apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Tue Jun 10 01:29:50 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 39023 invoked from network); 10 Jun 2003 01:29:50 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 10 Jun 2003 01:29:50 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5A1TxSL006685
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 9 Jun 2003 18:29:59 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5A1TvPx025626
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 9 Jun 2003 18:29:58 -0700
Date: Mon, 9 Jun 2003 21:29:54 -0400
Subject: Re: HttpURLconnection, POST & Authentication
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <see4de75.047@prv-mail20.provo.novell.com>
Message-Id: <09F346A2-9AE3-11D7-8E29-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Monday, June 9, 2003, at 06:21 PM, Zulfi Umrani wrote:

> So what you are saying is that I can use HttpClient APIs and execute
> the
> method and then wrap that method in HttpURLConnection so that I am
> using
> java.net APIs to get the response? In other words I can not use it like
> java.net API for making requests. Is that correct?

That is correct.  To use HttpClient in its full capacity one must
directly access the standard HttpClient API.  Most functionality has
not been exposed via HttpUrlConnection.

Mike


From zumrani@novell.com  Tue Jun 10 01:44:36 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 50648 invoked from network); 10 Jun 2003 01:44:36 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 01:44:36 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Mon, 09 Jun 2003 19:44:45 -0600
Message-Id: <see4e3ad.009@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Mon, 09 Jun 2003 16:44:14 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: preemptive
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Tried to use the Preemptive Authentication feature. Could not get it to
work. I used the HttpState.setAuthenticationPreemptive(true); to set the
preemptive authentication ON. It still send the first request without
the Authorization header. Code sample is below. Would like to know, how
to set up the Pre-emptive Authentication.

package test;

import java.io.*;
import java.net.URL;

import org.apache.commons.httpclient.*;
import org.apache.commons.httpclient.methods.*;
import org.apache.commons.httpclient.auth.*;
import org.apache.commons.httpclient.util.*;

public class JCTest {
    public static void main(String[] args) throws Exception {
	test0();
	test0();
	return;
    }

    public static void test0() throws Exception {
	System.out.println("running test0");

	String urlstr = "http://localhost:9999/services1/test";
	URL url = new URL(urlstr);

	HttpClient hc = new HttpClient();
	HttpState state = hc.getState();
	state.setAuthenticationPreemptive(true);
	state.setCredentials("", url.getHost(),
	    new UsernamePasswordCredentials("zulfi", "zulfi"));

	PostMethod post = new PostMethod(urlstr);
	post.setDoAuthentication(true);

	post.addRequestHeader("Connection", "Keep-Alive");
	post.addRequestHeader("Content-Length", ""+msg.length());
	post.addRequestHeader("Content-Type", "text/xml;
charset=utf-8");

	InputStream reqis = new ByteArrayInputStream(msg.getBytes());

	post.setRequestBody(reqis);

	HostConfiguration hconfig = new HostConfiguration();
	hconfig.setHost(new URI(urlstr));

	hc.executeMethod(hconfig, post);

	System.out.println(post.getResponseBodyAsString());
	System.out.println();

    }

    private static String msg = "Text Message";

}


Thanks.

From becke@u.washington.edu  Tue Jun 10 02:48:32 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 745 invoked from network); 10 Jun 2003 02:48:32 -0000
Received: from mxout5.cac.washington.edu (140.142.32.135)
  by daedalus.apache.org with SMTP; 10 Jun 2003 02:48:32 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout5.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5A2mft7018257
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 9 Jun 2003 19:48:41 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5A2md7j024196
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 9 Jun 2003 19:48:40 -0700
Date: Mon, 9 Jun 2003 22:48:36 -0400
Subject: Re: preemptive
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <see4e3ad.009@prv-mail20.provo.novell.com>
Message-Id: <08999217-9AEE-11D7-8E29-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Zulfi,

Please send a wire and trace log.  It is difficult to resolve these
sort of problems without them.  Take a look at
http://jakarta.apache.org/commons/httpclient/logging.html for details.

Mike

On Monday, June 9, 2003, at 06:44 PM, Zulfi Umrani wrote:

> Tried to use the Preemptive Authentication feature. Could not get it to
> work. I used the HttpState.setAuthenticationPreemptive(true); to set
> the
> preemptive authentication ON. It still send the first request without
> the Authorization header. Code sample is below. Would like to know, how
> to set up the Pre-emptive Authentication.
>
> package test;
>
> import java.io.*;
> import java.net.URL;
>
> import org.apache.commons.httpclient.*;
> import org.apache.commons.httpclient.methods.*;
> import org.apache.commons.httpclient.auth.*;
> import org.apache.commons.httpclient.util.*;
>
> public class JCTest {
>     public static void main(String[] args) throws Exception {
> 	test0();
> 	test0();
> 	return;
>     }
>
>     public static void test0() throws Exception {
> 	System.out.println("running test0");
>
> 	String urlstr = "http://localhost:9999/services1/test";
> 	URL url = new URL(urlstr);
>
> 	HttpClient hc = new HttpClient();
> 	HttpState state = hc.getState();
> 	state.setAuthenticationPreemptive(true);
> 	state.setCredentials("", url.getHost(),
> 	    new UsernamePasswordCredentials("zulfi", "zulfi"));
>
> 	PostMethod post = new PostMethod(urlstr);
> 	post.setDoAuthentication(true);
>
> 	post.addRequestHeader("Connection", "Keep-Alive");
> 	post.addRequestHeader("Content-Length", ""+msg.length());
> 	post.addRequestHeader("Content-Type", "text/xml;
> charset=utf-8");
>
> 	InputStream reqis = new ByteArrayInputStream(msg.getBytes());
>
> 	post.setRequestBody(reqis);
>
> 	HostConfiguration hconfig = new HostConfiguration();
> 	hconfig.setHost(new URI(urlstr));
>
> 	hc.executeMethod(hconfig, post);
>
> 	System.out.println(post.getResponseBodyAsString());
> 	System.out.println();
>
>     }
>
>     private static String msg = "Text Message";
>
> }
>
>
> Thanks.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From adrian@intencha.com  Tue Jun 10 02:57:45 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 7047 invoked from network); 10 Jun 2003 02:57:45 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 10 Jun 2003 02:57:45 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055063035@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Mon, 9 Jun 2003 20:55:05 -0600
Date: Tue, 10 Jun 2003 12:58:11 +1000
Subject: Re: preemptive
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <see4e3ad.009@prv-mail20.provo.novell.com>
Message-Id: <5F4AA902-9AEF-11D7-8308-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Zulfi,
*Please* at a minimum take a look at
http://jakarta.apache.org/commons/httpclient/logging.html and include a
debug log with any issue, it makes things so much easier at our end
because it saves us guessing.

You'll probably also want to take a look at
http://jakarta.apache.org/commons/httpclient/authentication.html though
I'm not sure it clearly provides the solution to your problem.  I'll
check that tonight and provide a patch if it needs improvments.

My best guess at this stage though is that you're not actually setting
the credentials to send.  The line quoted below will set the
credentials for:

Host: url.getHost()
Realm: (EMPTY STRING)

Now there are two problems with this:
1. Preemptive authentication happens before the realm is known so it
looks for credentials in the default realm which is signified by null.

2. Unless the realm your connecting to really doesn't have a name,
these credentials will likely never be found.

So what you probably meant to say is:

state.setCredentials(null, url.getHost(), new
UsernamePasswordCredentials("zulfi", "zulfi"));

If that doesn't work, also try passing in a null host but in that case
please log a bug for this as we should handle different default
credentials for different hosts (I think we do, just not too sure).

Regards,

Adrian Sutton.

On Tuesday, June 10, 2003, at 08:44  AM, Zulfi Umrani wrote:

>
> 	state.setCredentials("", url.getHost(),
> 	    new UsernamePasswordCredentials("zulfi", "zulfi"));


From jay@mlug.missouri.edu  Tue Jun 10 07:45:33 2003
Return-Path: <jay@mlug.missouri.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 93696 invoked from network); 10 Jun 2003 07:45:33 -0000
Received: from col-msxproto2.col.missouri.edu (128.206.3.152)
  by daedalus.apache.org with SMTP; 10 Jun 2003 07:45:33 -0000
Received: from mlug.missouri.edu ([12.216.226.230]) by col-msxproto2.col.missouri.edu over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6673);
	 Tue, 10 Jun 2003 02:45:46 -0500
Date: Tue, 10 Jun 2003 02:46:18 -0500
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: File Upload Progress Meter
From: Jay Buffington <jay@mlug.missouri.edu>
To: commons-httpclient-dev@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <9F0D1A86-9B17-11D7-874E-000393AB9F30@mlug.missouri.edu>
X-Mailer: Apple Mail (2.552)
X-OriginalArrivalTime: 10 Jun 2003 07:45:46.0078 (UTC) FILETIME=[4D6C57E0:01C32F24]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi.

I'm using the MultipartPostMethod to upload images to a server.  I want
to add a progress meter that shows what percentage has been uploaded
along with some other statistics (time remaining, speed, etc).

I spent some time looking around and it looks like the code that I need
to add to (the for loop that writes the actual bytes) is embedded deep
in the HTTPClient package.

Is there any easy way that I can do this?

Thanks,
Jay Buffington


From oleg.kalnichevski@bearingpoint.com  Tue Jun 10 07:47:21 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 94543 invoked from network); 10 Jun 2003 07:47:21 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 10 Jun 2003 07:47:20 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 10 Jun 2003 07:49:20 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: preemptive
Date: Tue, 10 Jun 2003 08:47:32 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE554@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: preemptive
Thread-Index: AcMu8eEx9bbHGiHARceTvNE/EDcFwwAL5dfQ
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 10 Jun 2003 07:49:20.0078 (UTC) FILETIME=[CCFA26E0:01C32F24]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Zulfi,

Try setting both realm & host to null. That should do the trick

	HttpClient hc =3D new HttpClient();
	HttpState state =3D hc.getState();
	state.setAuthenticationPreemptive(true);
      // Set default credentials (realm & host are null)
	state.setCredentials(null, null,=20
	    new UsernamePasswordCredentials("zulfi", "zulfi"));


Folks,

The present convention for setting a default set of credentials is =
utterly confusing and needs to be redesigned in 2.1. I believe we should =
be using HttpState#setCredentials(HttpAuthRealm, Credentials) instead of =
HttpState#setCredentials(String, String, Credentials). We should also =
provide a static final class to represent the default set of =
credentials:

public static final HttpAuthRealm DEFAULT_AUTH_CREDENTIALS =3D new =
HttpAuthRealm(null, null);

The end user code might look similar to that below

	state.setCredentials(DEFAULT_AUTH_CREDENTIALS,=20
	    new UsernamePasswordCredentials("zulfi", "zulfi"));


Cheers

Oleg


-----Original Message-----
From: Zulfi Umrani [mailto:zumrani@novell.com]
Sent: Tuesday, June 10, 2003 00:44
To: commons-httpclient-dev@jakarta.apache.org
Subject: preemptive


Tried to use the Preemptive Authentication feature. Could not get it to
work. I used the HttpState.setAuthenticationPreemptive(true); to set the
preemptive authentication ON. It still send the first request without
the Authorization header. Code sample is below. Would like to know, how
to set up the Pre-emptive Authentication.

package test;

import java.io.*;
import java.net.URL;

import org.apache.commons.httpclient.*;
import org.apache.commons.httpclient.methods.*;
import org.apache.commons.httpclient.auth.*;
import org.apache.commons.httpclient.util.*;

public class JCTest {
    public static void main(String[] args) throws Exception {
	test0();
	test0();
	return;
    }

    public static void test0() throws Exception {
	System.out.println("running test0");

	String urlstr =3D "http://localhost:9999/services1/test";
	URL url =3D new URL(urlstr);
=09
	HttpClient hc =3D new HttpClient();
	HttpState state =3D hc.getState();
	state.setAuthenticationPreemptive(true);
	state.setCredentials("", url.getHost(),=20
	    new UsernamePasswordCredentials("zulfi", "zulfi"));

	PostMethod post =3D new PostMethod(urlstr);
	post.setDoAuthentication(true);

	post.addRequestHeader("Connection", "Keep-Alive");
	post.addRequestHeader("Content-Length", ""+msg.length());
	post.addRequestHeader("Content-Type", "text/xml;
charset=3Dutf-8");

	InputStream reqis =3D new ByteArrayInputStream(msg.getBytes());
=09
	post.setRequestBody(reqis);

	HostConfiguration hconfig =3D new HostConfiguration();
	hconfig.setHost(new URI(urlstr));
=09
	hc.executeMethod(hconfig, post);

	System.out.println(post.getResponseBodyAsString());
	System.out.println();
	   =20
    }
   =20
    private static String msg =3D "Text Message";

}


Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From oleg.kalnichevski@bearingpoint.com  Tue Jun 10 07:54:16 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 99137 invoked from network); 10 Jun 2003 07:54:16 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 10 Jun 2003 07:54:16 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 10 Jun 2003 07:51:53 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: File Upload Progress Meter
Date: Tue, 10 Jun 2003 08:54:27 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE555@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: File Upload Progress Meter
Thread-Index: AcMvJFKDZjHMxxAEQTmCc2i4Jsv/TAAAIdXA
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 10 Jun 2003 07:51:53.0953 (UTC) FILETIME=[28B19D10:01C32F25]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Jay,
The only solution that I can think of is to get hold of HttpClient =
source code and extend it with a feedback mechanism of your liking. We, =
HttpClient developers, may consider adding events in 2.1 or 3.0 release =
as a standard feature. For the time being, a HttpClient fork appears =
your only option.

Cheers

Oleg

-----Original Message-----
From: Jay Buffington [mailto:jay@mlug.missouri.edu]
Sent: Tuesday, June 10, 2003 09:46
To: commons-httpclient-dev@jakarta.apache.org
Subject: File Upload Progress Meter


Hi.

I'm using the MultipartPostMethod to upload images to a server.  I want=20
to add a progress meter that shows what percentage has been uploaded=20
along with some other statistics (time remaining, speed, etc).

I spent some time looking around and it looks like the code that I need=20
to add to (the for loop that writes the actual bytes) is embedded deep=20
in the HTTPClient package.

Is there any easy way that I can do this?

Thanks,
Jay Buffington


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From ortwin.glueck@nose.ch  Tue Jun 10 08:13:22 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 13454 invoked from network); 10 Jun 2003 08:13:22 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 10 Jun 2003 08:13:22 -0000
Received: (qmail 18019 invoked from network); 10 Jun 2003 08:13:34 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 10 Jun 2003 08:13:34 -0000
Message-ID: <3EE5932D.3030800@nose.ch>
Date: Tue, 10 Jun 2003 10:13:33 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: File Upload Progress Meter
References: <825BF35A92B3F0479CC164ECBBE9376E0DE555@kccxoex06.corp.kpmgconsulting.com>
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE555@kccxoex06.corp.kpmgconsulting.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think it's easier to create a custom FilePartSource implementation
which creates the events or can be polled by your application.

Odi

Kalnichevski, Oleg wrote:

> Jay, The only solution that I can think of is to get hold of
> HttpClient source code and extend it with a feedback mechanism of
> your liking. We, HttpClient developers, may consider adding events in
> 2.1 or 3.0 release as a standard feature. For the time being, a
> HttpClient fork appears your only option.
>
> Cheers
>
> Oleg


From mcp219@tid.es  Tue Jun 10 09:49:46 2003
Return-Path: <mcp219@tid.es>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 44148 invoked from network); 10 Jun 2003 09:49:46 -0000
Received: from tidos.tid.es (HELO tid) (193.145.240.2)
  by daedalus.apache.org with SMTP; 10 Jun 2003 09:49:46 -0000
Received: from conversion-daemon.tid.hi.inet by tid.hi.inet
 (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 id <0HG900I01EQ9S0@tid.hi.inet> for commons-httpclient-dev@jakarta.apache.org;
 Tue, 10 Jun 2003 11:49:58 +0200 (MEST)
Received: from mcastro ([192.168.40.82])
 by tid.hi.inet (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 with ESMTP id <0HG900A5MFBA5H@tid.hi.inet> for
 commons-httpclient-dev@jakarta.apache.org; Tue,
 10 Jun 2003 11:49:58 +0200 (MEST)
Date: Tue, 10 Jun 2003 11:51:42 +0200
From: Manuel Castro Paliza <mcp219@tid.es>
Subject: MultiparPostMethod
In-reply-to: <3EE5932D.3030800@nose.ch>
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Message-id: <HMEOKHPKLIDBKMPFPPJDKENBCBAA.mcp219@tid.es>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Folks!

Is there any bug related with MultipartPostMethod?.

The servlet that receives my file throws an exception reading the part.

2003-06-05 12:13:22,890 [jcp-11] ERROR excepcion  -
1054811602890|java.lang.String.incluirAnexoBD|java.io.IOException|Fin de
arte inexperado
		java.io.IOException: Fin de parte inexperado
(Spanish Development ;C)

in English, Unexpected End of part.

I'm using 2.0 Beta 1 + jdk1.4.

The Creation of the MultipartPostMethod:

 MultipartPostMethod filePost =  new MultipartPostMethod();
...
 FileItem fi=(FileItem) fileUploadParameters.elementAt(i);
 FilePart fp= new FilePart(
            fi.getFieldName(),
            new ByteArrayPartSource (fi.getName(), fi.get()),
            fi.getContentType(),
            CHARSET);
 filePost.addPart(fp);

As my component is a kind of proxy, I'm using also commons-fileupload
(FileItem), that works fine!.

The wire log seems well, no exception, no warning.
The servlet that receives files works fine with M$ iexplorer.

any guess?
something about the boundary?

Thanks for all!
Manuel Castro




From becke@u.washington.edu  Tue Jun 10 12:21:34 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 72673 invoked from network); 10 Jun 2003 12:21:34 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 10 Jun 2003 12:21:34 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5ACLYSL002135
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 05:21:34 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5ACLW7j001637
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 05:21:34 -0700
Date: Tue, 10 Jun 2003 08:21:30 -0400
Subject: Re: File Upload Progress Meter
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <3EE5932D.3030800@nose.ch>
Message-Id: <10BE321C-9B3E-11D7-B444-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, this is how I have used it in the past.  I wrapped the InputStream=20=

to be returned from PartSource.createInputStream() in a class that=20
counted the number of bytes read and periodically fired an event.

Mike

On Tuesday, June 10, 2003, at 04:13 AM, Ortwin Gl=FCck wrote:

> I think it's easier to create a custom FilePartSource implementation=20=

> which creates the events or can be polled by your application.
>
> Odi
>
> Kalnichevski, Oleg wrote:
>
>> Jay, The only solution that I can think of is to get hold of
>> HttpClient source code and extend it with a feedback mechanism of
>> your liking. We, HttpClient developers, may consider adding events in
>> 2.1 or 3.0 release as a standard feature. For the time being, a
>> HttpClient fork appears your only option.
>> Cheers
>> Oleg
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:=20
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:=20
> commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Tue Jun 10 12:49:27 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 19324 invoked from network); 10 Jun 2003 12:49:27 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 10 Jun 2003 12:49:27 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout1.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5ACnSRG032264
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 05:49:28 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5ACnQPx005530
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 05:49:27 -0700
Date: Tue, 10 Jun 2003 08:49:23 -0400
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: Fwd: org.apache.commons.httpclient.util.DateParser
From: Michael Becke <becke@u.washington.edu>
To: Commons Project <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
Message-Id: <F6258D0E-9B41-11D7-B444-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Please note the following questions/comments regarding DateParser.

Mike

Begin forwarded message:

> From: "Christopher Brown" <cbrown@reflexe.fr>
> Date: Tue Jun 10, 2003  5:34:51 AM US/Eastern
> To: "Michael Becke" <becke@u.washington.edu>
> Subject: org.apache.commons.httpclient.util.DateParser
>
>
> Hi Michael,
>
> It's nice to see how you've implemented the DateParser stuff in
> HttpClient
> beta-1.  Just some suggestions if you've got time (I'd like to
> contribute
> more than ideas, but I really regret not having the time...).
>
> The "private static final String[] DATE_PATTERNS" might be more
> efficiently
> declared as an array of DateFormat instances (never publicly
> accessible, as
> that could be tampered with using the "apply" method for example), as
> that
> avoids repeat parsing of the date format pattern.
>
> Other comment: it might be worth implementing a "getLastModified"
> method in
> HttpMethodBase (or even declaring it in the HttpMethod interface) so
> that
> common functionality (common with java.net.HttpURLConnection) can be
> provided.  This would simply parse the value of the "Last-Modified"
> response
> header (if present) by delegating to this method.
>
> Going further, it might be worth providing a method in DateParser that
> uses
> the "java.text.DateFormat.format(java.util.Date)" method to format
> request
> headers ("public static String DateParse.toDateHeader(Date)" ?), such
> as
> If-Modified-Since, and even implementing convenience methods on some
> Method
> implementations to apply the appropriate headers that translates
> "java.util.Date" objects or "long" values into a date header.
>
> Feel free to forward this onto the mailing list if you think it merits
> further discussion.
>
> - Christopher Brown
>
>


From becke@u.washington.edu  Tue Jun 10 12:50:38 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 20170 invoked from network); 10 Jun 2003 12:50:38 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 10 Jun 2003 12:50:38 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5ACocSL002963;
	Tue, 10 Jun 2003 05:50:38 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5ACoa7j002031
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT);
	Tue, 10 Jun 2003 05:50:37 -0700
Date: Tue, 10 Jun 2003 08:50:35 -0400
Subject: Re: org.apache.commons.httpclient.util.DateParser
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
Cc: Christopher Brown <cbrown@reflexe.fr>
To: Commons Project <commons-httpclient-dev@jakarta.apache.org>
From: Michael Becke <becke@u.washington.edu>
In-Reply-To: <050901c32f33$8abbb1e0$0a14a8c0@terre>
Message-Id: <211C7F39-9B42-11D7-B444-00306557E112@u.washington.edu>
Content-Transfer-Encoding: 7bit
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Christopher,

Please note my comments below.

> The "private static final String[] DATE_PATTERNS" might be more
> efficiently
> declared as an array of DateFormat instances (never publicly
> accessible, as
> that could be tampered with using the "apply" method for example), as
> that
> avoids repeat parsing of the date format pattern.

Unfortunately SimpleDateFormat is not thread safe.  This means that we
cannot rely on a static set of DateFormat instances.  Take a look at
the synchronization section in
http://java.sun.com/j2se/1.4.1/docs/api/java/text/SimpleDateFormat.html.

> Other comment: it might be worth implementing a "getLastModified"
> method in
> HttpMethodBase (or even declaring it in the HttpMethod interface) so
> that
> common functionality (common with java.net.HttpURLConnection) can be
> provided.  This would simply parse the value of the "Last-Modified"
> response
> header (if present) by delegating to this method.

Though a method does not explicitly exist for getting the last modified
header it can be retrieved using
HttpMethod.getResponseHeader("Last-Modified").  Adding a method
getLastModified() is not an option for 2.0 as we cannot change the API
for HttpMethod at this point.  Please feel free to add a Bugzilla
enhancement request for a later release.

> Going further, it might be worth providing a method in DateParser that
> uses
> the "java.text.DateFormat.format(java.util.Date)" method to format
> request
> headers ("public static String DateParse.toDateHeader(Date)" ?), such
> as
> If-Modified-Since, and even implementing convenience methods on some
> Method
> implementations to apply the appropriate headers that translates
> "java.util.Date" objects or "long" values into a date header.

Agreed, this would be handy.  Currently this can be accomplished with
the following:

SimpleDateFormat format = new
SimpleDateFormat(DateParser.PATTERN_RFC1123);
String formattedDate = format.format(someDate);

In general I think it would be nice for HttpClient to have more tools
for handling headers.  One option would be to add a bunch of methods to
HttpMethod, but I think this would add too much clutter.  Perhaps we
should have a "HeaderUtil" class with convenience methods for parsing,
formatting, etc.  Thoughts?

Mike


From anonymous@nagoya.betaversion.org  Tue Jun 10 14:58:21 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 31058 invoked from network); 10 Jun 2003 14:58:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jun 2003 14:58:21 -0000
Received: (qmail 11164 invoked by uid 50); 10 Jun 2003 15:00:39 -0000
Date: 10 Jun 2003 15:00:39 -0000
Message-ID: <20030610150039.11163.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20646] New:  -
    Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646

Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1

           Summary: Via NTLM proxy to SSL Apache/BasicAuth. - worked in may
                    22nd, but broken in beta1
           Product: Commons
           Version: 2.0 Beta 1
          Platform: All
        OS/Version: Windows NT/2K
            Status: NEW
          Severity: Normal
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: rtoma@abz.nl


Hi there,

This morning I downloaded beta 1 and tried a small piece of code to connect to
a SSLified apache server (using basic authentication) via a MS-Proxy 2.0 with
NTLM enabled. The sourcecode of my crashme is based on the 1st attachment for
bug #16645. It differs from the original in using basic authentication for the
webserver instead of NTLM.

It failed with this error:

--
10-jun-2003 16:39:05 org.apache.commons.httpclient.HttpMethodBase
processAuthenticationResponse
INFO: Already tried to authenticate to "website#" but still receiving 407.
Status: 407 : Proxy authentication required
--

Then I downloaded a fresh night build (commons-httpclient-20030605) which also
failed :/

Then I went back to an old build from May (commons-httpclient-20030522) which
worked like a charm!!!

Using MSIE I can succesfully connect to the apache server. I know it's not a
problem with typos because I have MSIE ask me for all creds.

Seems somethings got broken along the way. If I can help, please ask!

Cheers.

From anonymous@nagoya.betaversion.org  Tue Jun 10 15:05:05 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 47833 invoked from network); 10 Jun 2003 15:05:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jun 2003 15:05:05 -0000
Received: (qmail 11424 invoked by uid 50); 10 Jun 2003 15:07:20 -0000
Date: 10 Jun 2003 15:07:20 -0000
Message-ID: <20030610150720.11423.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20646]  -
    Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646

Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1





------- Additional Comments From olegk@apache.org  2003-06-10 15:07 -------
Could you please produce the wire log of the HTTP session that works (using
build 20030522) and the one that does not (using beta-1)?

Please refer to the HttpClient logging guide below for more details:

http://jakarta.apache.org/commons/httpclient/logging.html

Oleg

From anonymous@nagoya.betaversion.org  Tue Jun 10 15:22:16 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 82164 invoked from network); 10 Jun 2003 15:22:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jun 2003 15:22:16 -0000
Received: (qmail 12008 invoked by uid 50); 10 Jun 2003 15:24:33 -0000
Date: 10 Jun 2003 15:24:33 -0000
Message-ID: <20030610152433.12007.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20646]  -
    Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646

Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1





------- Additional Comments From rtoma@abz.nl  2003-06-10 15:24 -------
Created an attachment (id=6737)
works with 20030522 (alpha3)

From anonymous@nagoya.betaversion.org  Tue Jun 10 15:22:33 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 83045 invoked from network); 10 Jun 2003 15:22:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jun 2003 15:22:33 -0000
Received: (qmail 12032 invoked by uid 50); 10 Jun 2003 15:24:51 -0000
Date: 10 Jun 2003 15:24:51 -0000
Message-ID: <20030610152451.12031.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20646]  -
    Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646

Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1





------- Additional Comments From rtoma@abz.nl  2003-06-10 15:24 -------
Created an attachment (id=6738)
fails with 2.0 beta1

From mcp219@tid.es  Tue Jun 10 15:41:23 2003
Return-Path: <mcp219@tid.es>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 37475 invoked from network); 10 Jun 2003 15:41:23 -0000
Received: from tidos.tid.es (HELO tid) (193.145.240.2)
  by daedalus.apache.org with SMTP; 10 Jun 2003 15:41:23 -0000
Received: from conversion-daemon.tid.hi.inet by tid.hi.inet
 (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 id <0HG900801VDXGP@tid.hi.inet> for commons-httpclient-dev@jakarta.apache.org;
 Tue, 10 Jun 2003 17:41:24 +0200 (MEST)
Received: from mcastro ([192.168.40.82])
 by tid.hi.inet (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 with ESMTP id <0HG900B1SVL0ES@tid.hi.inet> for
 commons-httpclient-dev@jakarta.apache.org; Tue,
 10 Jun 2003 17:41:24 +0200 (MEST)
Date: Tue, 10 Jun 2003 17:43:07 +0200
From: Manuel Castro Paliza <mcp219@tid.es>
Subject: Post Method
In-reply-to: <20030610150720.11423.qmail@nagoya.betaversion.org>
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Message-id: <HMEOKHPKLIDBKMPFPPJDAENGCBAA.mcp219@tid.es>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 8BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Strange Behavior in Post Methods.
	generateRequestBody()
...
 queryName = URIUtil.encodeWithinQuery(parameter.getName(), charset);
...
 queryValue = URIUtil.encodeWithinQuery(parameter.getValue(), charset);
...

must the body of a post request be encoded as a URL Query?
This is because some servlets fail when receiving POST parameters with white
spaces.
"WhatEver   " --> "WhatEver%20%20%20%20".

Another thing about is addParameters Stuff.

addParameters(NameValuePair parameters[])
calls
 addParameter(parameters[i]);
and calls
	addParameter(param.getName(), param.getValue());
that calls
	params.add(new NameValuePair(paramName, paramValue));

From NameValuePair to NameValuePair?¿?.
Sorry by my lack of java knowledge but I don't understand this conversion,
is something about memory?.

Thanks!




From anonymous@nagoya.betaversion.org  Tue Jun 10 15:44:05 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 43506 invoked from network); 10 Jun 2003 15:44:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jun 2003 15:44:05 -0000
Received: (qmail 12838 invoked by uid 50); 10 Jun 2003 15:46:23 -0000
Date: 10 Jun 2003 15:46:23 -0000
Message-ID: <20030610154623.12837.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20646]  -
    Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646

Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |ASSIGNED
           Priority|Other                       |High
   Target Milestone|---                         |2.0 Beta 2



------- Additional Comments From olegk@apache.org  2003-06-10 15:46 -------
I'll look into this one sometime this week. I can't promise an instantaneous
response, though. What JDK are you using, btw? If you are running anything below
JDK 1.4, do you mind trying to reproduce the problem using the newest JDK from Sun?

Oleg

From anonymous@nagoya.betaversion.org  Tue Jun 10 15:54:13 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 69885 invoked from network); 10 Jun 2003 15:54:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jun 2003 15:54:13 -0000
Received: (qmail 13335 invoked by uid 50); 10 Jun 2003 15:56:30 -0000
Date: 10 Jun 2003 15:56:30 -0000
Message-ID: <20030610155630.13334.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20646]  -
    Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646

Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1





------- Additional Comments From rtoma@abz.nl  2003-06-10 15:56 -------

I am running 1.4.1_02.

I don't mind running with a nighty build for a while, but I hope you can find
the time to put it in the 2.0 final release.

Thanks for the quick feedback!

And again, if you need help or extra info please do contact me.

From ortwin.glueck@nose.ch  Tue Jun 10 15:54:47 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 71832 invoked from network); 10 Jun 2003 15:54:47 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 10 Jun 2003 15:54:47 -0000
Received: (qmail 26026 invoked from network); 10 Jun 2003 15:54:48 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 10 Jun 2003 15:54:48 -0000
Message-ID: <3EE5FF46.80301@nose.ch>
Date: Tue, 10 Jun 2003 17:54:46 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Post Method
References: <HMEOKHPKLIDBKMPFPPJDAENGCBAA.mcp219@tid.es>
In-Reply-To: <HMEOKHPKLIDBKMPFPPJDAENGCBAA.mcp219@tid.es>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



Manuel Castro Paliza wrote:
>>From NameValuePair to NameValuePair?¿?.
> Sorry by my lack of java knowledge but I don't understand this conversion,
> is something about memory?.


no. we generally call it bad design, or spaghetti code.


From oleg.kalnichevski@bearingpoint.com  Tue Jun 10 16:34:12 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 37407 invoked from network); 10 Jun 2003 16:34:12 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 10 Jun 2003 16:34:12 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 10 Jun 2003 16:31:40 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Post Method
Date: Tue, 10 Jun 2003 17:34:14 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE556@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Post Method
Thread-Index: AcMvZsM8DCX2bOQEQUmfraa1tkBdMQAAOAUw
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 10 Jun 2003 16:31:40.0906 (UTC) FILETIME=[C590FCA0:01C32F6D]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> must the body of a post request be encoded as a URL Query?

Yes, it must, when the post body content is specified as a set of =
name/value pairs.=20

For more details you may refer to

http://www.w3.org/MarkUp/html-spec/html-spec_8.html#SEC8.2.1

One can still provide a raw post body and a custom content type

> Sorry by my lack of java knowledge but I don't understand this =
conversion,
> is something about memory?.

This is no conversion, this is just plain garbage. I'll try to clean =
things up a bit before beta-2

Oleg

From becke@u.washington.edu  Tue Jun 10 16:53:08 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 76979 invoked from network); 10 Jun 2003 16:53:08 -0000
Received: from mxout5.cac.washington.edu (140.142.32.135)
  by daedalus.apache.org with SMTP; 10 Jun 2003 16:53:08 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout5.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5AGrBt7004393
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 09:53:11 -0700
Received: from u.washington.edu (ss05.co.us.ibm.com [32.97.110.70])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5AGr7Px015140
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 09:53:10 -0700
Message-ID: <3EE60CB3.4040207@u.washington.edu>
Date: Tue, 10 Jun 2003 12:52:03 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Post Method
References: <825BF35A92B3F0479CC164ECBBE9376E0DE556@kccxoex06.corp.kpmgconsulting.com>
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE556@kccxoex06.corp.kpmgconsulting.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think there may be a bug here as well.  According to the spec, space
characters should be represented as '+' but URIUtil is encoding them as
'%20'.  I think the resevered character set is perhaps also incorrect.
According to rfc 1738 ";", "/", "?", ":", "@", "=" and "&" are the
reserved chars but URI is also uncluding "+", "$" and ",".  My guess is
that most servers translate all hex encoded characters but it seems that
we are not quite to spec.

Mike


Kalnichevski, Oleg wrote:
>>must the body of a post request be encoded as a URL Query?
>
>
> Yes, it must, when the post body content is specified as a set of name/value pairs.
>
> For more details you may refer to
>
> http://www.w3.org/MarkUp/html-spec/html-spec_8.html#SEC8.2.1
>
> One can still provide a raw post body and a custom content type
>
>
>>Sorry by my lack of java knowledge but I don't understand this conversion,
>>is something about memory?.
>
>
> This is no conversion, this is just plain garbage. I'll try to clean things up a bit before beta-2
>
> Oleg
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From zumrani@novell.com  Tue Jun 10 17:08:11 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 9027 invoked from network); 10 Jun 2003 17:08:11 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 17:08:11 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Tue, 10 Jun 2003 11:08:15 -0600
Message-Id: <see5bc1f.086@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Tue, 10 Jun 2003 08:07:38 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: preemptive
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Mike,
I set the properties as specified by the link you sent. It did not
produce any log on the stdout! If you have a piece of the code that does
that, please send that to me.

Thanks.

>>> becke@u.washington.edu 6/9/2003 10:48:36 PM >>>
Zulfi,

Please send a wire and trace log.  It is difficult to resolve these
sort of problems without them.  Take a look at
http://jakarta.apache.org/commons/httpclient/logging.html for details.

Mike

On Monday, June 9, 2003, at 06:44 PM, Zulfi Umrani wrote:

> Tried to use the Preemptive Authentication feature. Could not get it
to
> work. I used the HttpState.setAuthenticationPreemptive(true); to set

> the
> preemptive authentication ON. It still send the first request
without
> the Authorization header. Code sample is below. Would like to know,
how
> to set up the Pre-emptive Authentication.
>
> package test;
>
> import java.io.*;
> import java.net.URL;
>
> import org.apache.commons.httpclient.*;
> import org.apache.commons.httpclient.methods.*;
> import org.apache.commons.httpclient.auth.*;
> import org.apache.commons.httpclient.util.*;
>
> public class JCTest {
>     public static void main(String[] args) throws Exception {
> 	test0();
> 	test0();
> 	return;
>     }
>
>     public static void test0() throws Exception {
> 	System.out.println("running test0");
>
> 	String urlstr = "http://localhost:9999/services1/test";
> 	URL url = new URL(urlstr);
>
> 	HttpClient hc = new HttpClient();
> 	HttpState state = hc.getState();
> 	state.setAuthenticationPreemptive(true);
> 	state.setCredentials("", url.getHost(),
> 	    new UsernamePasswordCredentials("zulfi", "zulfi"));
>
> 	PostMethod post = new PostMethod(urlstr);
> 	post.setDoAuthentication(true);
>
> 	post.addRequestHeader("Connection", "Keep-Alive");
> 	post.addRequestHeader("Content-Length", ""+msg.length());
> 	post.addRequestHeader("Content-Type", "text/xml;
> charset=utf-8");
>
> 	InputStream reqis = new ByteArrayInputStream(msg.getBytes());
>
> 	post.setRequestBody(reqis);
>
> 	HostConfiguration hconfig = new HostConfiguration();
> 	hconfig.setHost(new URI(urlstr));
>
> 	hc.executeMethod(hconfig, post);
>
> 	System.out.println(post.getResponseBodyAsString());
> 	System.out.println();
>
>     }
>
>     private static String msg = "Text Message";
>
> }
>
>
> Thanks.
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From mike_moran@mac.com  Tue Jun 10 17:13:53 2003
Return-Path: <mike_moran@mac.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 16463 invoked from network); 10 Jun 2003 17:13:53 -0000
Received: from a17-250-248-88.apple.com (HELO smtpout.mac.com) (17.250.248.88)
  by daedalus.apache.org with SMTP; 10 Jun 2003 17:13:53 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id h5AHDv97016617
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 10:13:57 -0700 (PDT)
Received: from mac.com ([212.20.254.120])
	(authenticated bits=0)
	by mac.com (Xserve/8.12.9/MantshX 2.0) with ESMTP id h5AHDpab015734
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 10:13:55 -0700 (PDT)
Message-ID: <3EE611B2.7030801@mac.com>
Date: Tue, 10 Jun 2003 18:13:22 +0100
From: Mike Moran <mike_moran@mac.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030210
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Post Method
References: <825BF35A92B3F0479CC164ECBBE9376E0DE556@kccxoex06.corp.kpmgconsulting.com> <3EE60CB3.4040207@u.washington.edu>
In-Reply-To: <3EE60CB3.4040207@u.washington.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michael Becke wrote:
> I think there may be a bug here as well.  According to the spec, space
> characters should be represented as '+' but URIUtil is encoding them as
> '%20'.  I think the resevered character set is perhaps also incorrect.
> According to rfc 1738 ";", "/", "?", ":", "@", "=" and "&" are the
> reserved chars but URI is also uncluding "+", "$" and ",".  My guess is
> that most servers translate all hex encoded characters but it seems that
> we are not quite to spec.

You may want to double-check this with rfc2396, which updates rfc1738.
My interpretation of the '+'/'%20' issue was that both were legal
escapings of space, however it may be worth another reading on my part.

--
Mike Moran


From zumrani@novell.com  Tue Jun 10 17:27:57 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 39744 invoked from network); 10 Jun 2003 17:27:57 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 17:27:57 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Tue, 10 Jun 2003 11:28:01 -0600
Message-Id: <see5c0c1.082@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Tue, 10 Jun 2003 08:27:25 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: preemptive
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

By setting realm as null, the pre-emptive authentication worked! But, it
sends a Basic Authorization header even if the URL is protected by
Digest! For Digest it is still making 2 trips in order to authenticate.
Which is fine for the first request, but it repeats the same thing for
the second request as well. Is there a way to tell the state, method or
client what kind of scheme is desired for pre-emptive authentication.
Sorry, no logs here as log did not work.

>>> oleg.kalnichevski@bearingpoint.com 6/10/2003 3:47:32 AM >>>
Zulfi,

Try setting both realm & host to null. That should do the trick

	HttpClient hc = new HttpClient();
	HttpState state = hc.getState();
	state.setAuthenticationPreemptive(true);
      // Set default credentials (realm & host are null)
	state.setCredentials(null, null,
	    new UsernamePasswordCredentials("zulfi", "zulfi"));


Folks,

The present convention for setting a default set of credentials is
utterly confusing and needs to be redesigned in 2.1. I believe we should
be using HttpState#setCredentials(HttpAuthRealm, Credentials) instead of
HttpState#setCredentials(String, String, Credentials). We should also
provide a static final class to represent the default set of
credentials:

public static final HttpAuthRealm DEFAULT_AUTH_CREDENTIALS = new
HttpAuthRealm(null, null);

The end user code might look similar to that below

	state.setCredentials(DEFAULT_AUTH_CREDENTIALS,
	    new UsernamePasswordCredentials("zulfi", "zulfi"));


Cheers

Oleg


-----Original Message-----
From: Zulfi Umrani [mailto:zumrani@novell.com]
Sent: Tuesday, June 10, 2003 00:44
To: commons-httpclient-dev@jakarta.apache.org
Subject: preemptive


Tried to use the Preemptive Authentication feature. Could not get it
to
work. I used the HttpState.setAuthenticationPreemptive(true); to set
the
preemptive authentication ON. It still send the first request without
the Authorization header. Code sample is below. Would like to know,
how
to set up the Pre-emptive Authentication.

package test;

import java.io.*;
import java.net.URL;

import org.apache.commons.httpclient.*;
import org.apache.commons.httpclient.methods.*;
import org.apache.commons.httpclient.auth.*;
import org.apache.commons.httpclient.util.*;

public class JCTest {
    public static void main(String[] args) throws Exception {
	test0();
	test0();
	return;
    }

    public static void test0() throws Exception {
	System.out.println("running test0");

	String urlstr = "http://localhost:9999/services1/test";
	URL url = new URL(urlstr);

	HttpClient hc = new HttpClient();
	HttpState state = hc.getState();
	state.setAuthenticationPreemptive(true);
	state.setCredentials("", url.getHost(),
	    new UsernamePasswordCredentials("zulfi", "zulfi"));

	PostMethod post = new PostMethod(urlstr);
	post.setDoAuthentication(true);

	post.addRequestHeader("Connection", "Keep-Alive");
	post.addRequestHeader("Content-Length", ""+msg.length());
	post.addRequestHeader("Content-Type", "text/xml;
charset=utf-8");

	InputStream reqis = new ByteArrayInputStream(msg.getBytes());

	post.setRequestBody(reqis);

	HostConfiguration hconfig = new HostConfiguration();
	hconfig.setHost(new URI(urlstr));

	hc.executeMethod(hconfig, post);

	System.out.println(post.getResponseBodyAsString());
	System.out.println();

    }

    private static String msg = "Text Message";

}


Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From oleg.kalnichevski@bearingpoint.com  Tue Jun 10 17:36:54 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 66015 invoked from network); 10 Jun 2003 17:36:54 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 10 Jun 2003 17:36:54 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 10 Jun 2003 17:34:23 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: preemptive
Date: Tue, 10 Jun 2003 18:36:57 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE558@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: preemptive
Thread-Index: AcMvdbijbWqS27IPTgiOR9d7zp7VNgAACfxA
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 10 Jun 2003 17:34:23.0859 (UTC) FILETIME=[88760C30:01C32F76]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Zulfi,
Only Basic authentication scheme can be used preemptively. If you want =
to eliminate the authentication overhead associated with Digest or NTLM =
schemes you have to ensure that the HTTP server keeps connections alive =
when possible.

Please get logging to work. That should not be too difficult. Please =
note that application servers and servlet engines usually redirect =
standard output and standard error. If you are unable to figure out what =
is going you might want to use Log4j toolkit that allows greater control =
over logging (for instance, you can specify a separate log file for a =
specific category of events). We will not be able to help you unless we =
can see the logs.=20

Oleg

-----Original Message-----
From: Zulfi Umrani [mailto:zumrani@novell.com]
Sent: Tuesday, June 10, 2003 16:27
To: commons-httpclient-dev@jakarta.apache.org
Subject: RE: preemptive


By setting realm as null, the pre-emptive authentication worked! But, it
sends a Basic Authorization header even if the URL is protected by
Digest! For Digest it is still making 2 trips in order to authenticate.
Which is fine for the first request, but it repeats the same thing for
the second request as well. Is there a way to tell the state, method or
client what kind of scheme is desired for pre-emptive authentication.
Sorry, no logs here as log did not work.

>>> oleg.kalnichevski@bearingpoint.com 6/10/2003 3:47:32 AM >>>
Zulfi,

Try setting both realm & host to null. That should do the trick

	HttpClient hc =3D new HttpClient();
	HttpState state =3D hc.getState();
	state.setAuthenticationPreemptive(true);
      // Set default credentials (realm & host are null)
	state.setCredentials(null, null,=20
	    new UsernamePasswordCredentials("zulfi", "zulfi"));


Folks,

The present convention for setting a default set of credentials is
utterly confusing and needs to be redesigned in 2.1. I believe we should
be using HttpState#setCredentials(HttpAuthRealm, Credentials) instead of
HttpState#setCredentials(String, String, Credentials). We should also
provide a static final class to represent the default set of
credentials:

public static final HttpAuthRealm DEFAULT_AUTH_CREDENTIALS =3D new
HttpAuthRealm(null, null);

The end user code might look similar to that below

	state.setCredentials(DEFAULT_AUTH_CREDENTIALS,=20
	    new UsernamePasswordCredentials("zulfi", "zulfi"));


Cheers

Oleg


-----Original Message-----
From: Zulfi Umrani [mailto:zumrani@novell.com]=20
Sent: Tuesday, June 10, 2003 00:44
To: commons-httpclient-dev@jakarta.apache.org=20
Subject: preemptive


Tried to use the Preemptive Authentication feature. Could not get it
to
work. I used the HttpState.setAuthenticationPreemptive(true); to set
the
preemptive authentication ON. It still send the first request without
the Authorization header. Code sample is below. Would like to know,
how
to set up the Pre-emptive Authentication.

package test;

import java.io.*;
import java.net.URL;

import org.apache.commons.httpclient.*;
import org.apache.commons.httpclient.methods.*;
import org.apache.commons.httpclient.auth.*;
import org.apache.commons.httpclient.util.*;

public class JCTest {
    public static void main(String[] args) throws Exception {
	test0();
	test0();
	return;
    }

    public static void test0() throws Exception {
	System.out.println("running test0");

	String urlstr =3D "http://localhost:9999/services1/test";
	URL url =3D new URL(urlstr);
=09
	HttpClient hc =3D new HttpClient();
	HttpState state =3D hc.getState();
	state.setAuthenticationPreemptive(true);
	state.setCredentials("", url.getHost(),=20
	    new UsernamePasswordCredentials("zulfi", "zulfi"));

	PostMethod post =3D new PostMethod(urlstr);
	post.setDoAuthentication(true);

	post.addRequestHeader("Connection", "Keep-Alive");
	post.addRequestHeader("Content-Length", ""+msg.length());
	post.addRequestHeader("Content-Type", "text/xml;
charset=3Dutf-8");

	InputStream reqis =3D new ByteArrayInputStream(msg.getBytes());
=09
	post.setRequestBody(reqis);

	HostConfiguration hconfig =3D new HostConfiguration();
	hconfig.setHost(new URI(urlstr));
=09
	hc.executeMethod(hconfig, post);

	System.out.println(post.getResponseBodyAsString());
	System.out.println();
	   =20
    }
   =20
    private static String msg =3D "Text Message";

}


Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org=20


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org=20


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From laura@lwerner.org  Tue Jun 10 17:46:30 2003
Return-Path: <laura@lwerner.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 86057 invoked from network); 10 Jun 2003 17:46:30 -0000
Received: from unknown (HELO vocalsend.bevocal.com) (66.147.154.130)
  by daedalus.apache.org with SMTP; 10 Jun 2003 17:46:30 -0000
Received: from lwerner.org (speedtrap.bevocal.com [172.16.2.66])
	by vocalsend.bevocal.com (8.11.0/8.11.0) with ESMTP id h5AFxwE17151
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 08:59:58 -0700
Message-ID: <3EE6197A.6080608@lwerner.org>
Date: Tue, 10 Jun 2003 10:46:34 -0700
From: Laura Werner <laura@lwerner.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030529
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Post Method
References: <825BF35A92B3F0479CC164ECBBE9376E0DE556@kccxoex06.corp.kpmgconsulting.com>
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE556@kccxoex06.corp.kpmgconsulting.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Kalnichevski, Oleg wrote:

>>must the body of a post request be encoded as a URL Query?
>>
>>
>
>Yes, it must, when the post body content is specified as a set of name/value pairs.
>

I think you're also allowed to use the multipart/form-data MIME type
rather than application/x-url-encoded (or whatever it's called).
Multipart/form-data is very handy if one or more of the values you're
posting is binary.  (Our VoiceXML interpreter lets applications use it
to send captured audio files to a server.)

-- Laura


From zumrani@novell.com  Tue Jun 10 18:03:09 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 24045 invoked from network); 10 Jun 2003 18:03:09 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 18:03:09 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Tue, 10 Jun 2003 12:03:13 -0600
Message-Id: <see5c901.043@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Tue, 10 Jun 2003 09:02:33 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <oleg.kalnichevski@bearingpoint.com>,
	<commons-httpclient-dev@jakarta.apache.org>
Subject: RE: preemptive
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What do you mean by "eliminating the authentication overhead"? Does this
mean keeping the already Authenticated header and adding it next time
the URL is being invoked? I am using Apache Tomcat Server to host a
couple of protected URLs. One more Basic and other for Digest. I believe
it does the necessary connection management specified by the HTTP
1.0/1.1. For logging I execute the following before I do anything.
log4j-1.2.8 and commons-logging-1.0.2. I do not any other documentation
for logging. If you have a sample code which enables logging even to a
file, please send that to me. I am using JDK1.4  on Sun Solaris without
any container to run the client. So I do not think it is redirecting
stdout or stderr to somewhere else.

System.setProperty("org.apache.commons.logging.simplelog.defaultlog",
"debug");
System.setProperty("org.apache.commons.logging.Log",
"org.apache.commons.logging.impl.SimpleLog");
System.setProperty("org.apache.commons.logging.simplelog.showdatetime",
"true");
System.setProperty("org.apache.commons.logging.simplelog.log.httpclient.wire",
"debug");
System.setProperty("org.apache.commons.logging.simplelog.log.org.apache.commons.httpclient",
"trace");


>>> oleg.kalnichevski@bearingpoint.com 6/10/2003 1:36:57 PM >>>
Zulfi,
Only Basic authentication scheme can be used preemptively. If you want
to eliminate the authentication overhead associated with Digest or NTLM
schemes you have to ensure that the HTTP server keeps connections alive
when possible.

Please get logging to work. That should not be too difficult. Please
note that application servers and servlet engines usually redirect
standard output and standard error. If you are unable to figure out what
is going you might want to use Log4j toolkit that allows greater control
over logging (for instance, you can specify a separate log file for a
specific category of events). We will not be able to help you unless we
can see the logs.

Oleg

-----Original Message-----
From: Zulfi Umrani [mailto:zumrani@novell.com]
Sent: Tuesday, June 10, 2003 16:27
To: commons-httpclient-dev@jakarta.apache.org
Subject: RE: preemptive


By setting realm as null, the pre-emptive authentication worked! But,
it
sends a Basic Authorization header even if the URL is protected by
Digest! For Digest it is still making 2 trips in order to
authenticate.
Which is fine for the first request, but it repeats the same thing for
the second request as well. Is there a way to tell the state, method
or
client what kind of scheme is desired for pre-emptive authentication.
Sorry, no logs here as log did not work.

>>> oleg.kalnichevski@bearingpoint.com 6/10/2003 3:47:32 AM >>>
Zulfi,

Try setting both realm & host to null. That should do the trick

	HttpClient hc = new HttpClient();
	HttpState state = hc.getState();
	state.setAuthenticationPreemptive(true);
      // Set default credentials (realm & host are null)
	state.setCredentials(null, null,
	    new UsernamePasswordCredentials("zulfi", "zulfi"));


Folks,

The present convention for setting a default set of credentials is
utterly confusing and needs to be redesigned in 2.1. I believe we
should
be using HttpState#setCredentials(HttpAuthRealm, Credentials) instead
of
HttpState#setCredentials(String, String, Credentials). We should also
provide a static final class to represent the default set of
credentials:

public static final HttpAuthRealm DEFAULT_AUTH_CREDENTIALS = new
HttpAuthRealm(null, null);

The end user code might look similar to that below

	state.setCredentials(DEFAULT_AUTH_CREDENTIALS,
	    new UsernamePasswordCredentials("zulfi", "zulfi"));


Cheers

Oleg


-----Original Message-----
From: Zulfi Umrani [mailto:zumrani@novell.com]
Sent: Tuesday, June 10, 2003 00:44
To: commons-httpclient-dev@jakarta.apache.org
Subject: preemptive


Tried to use the Preemptive Authentication feature. Could not get it
to
work. I used the HttpState.setAuthenticationPreemptive(true); to set
the
preemptive authentication ON. It still send the first request without
the Authorization header. Code sample is below. Would like to know,
how
to set up the Pre-emptive Authentication.

package test;

import java.io.*;
import java.net.URL;

import org.apache.commons.httpclient.*;
import org.apache.commons.httpclient.methods.*;
import org.apache.commons.httpclient.auth.*;
import org.apache.commons.httpclient.util.*;

public class JCTest {
    public static void main(String[] args) throws Exception {
	test0();
	test0();
	return;
    }

    public static void test0() throws Exception {
	System.out.println("running test0");

	String urlstr = "http://localhost:9999/services1/test";
	URL url = new URL(urlstr);

	HttpClient hc = new HttpClient();
	HttpState state = hc.getState();
	state.setAuthenticationPreemptive(true);
	state.setCredentials("", url.getHost(),
	    new UsernamePasswordCredentials("zulfi", "zulfi"));

	PostMethod post = new PostMethod(urlstr);
	post.setDoAuthentication(true);

	post.addRequestHeader("Connection", "Keep-Alive");
	post.addRequestHeader("Content-Length", ""+msg.length());
	post.addRequestHeader("Content-Type", "text/xml;
charset=utf-8");

	InputStream reqis = new ByteArrayInputStream(msg.getBytes());

	post.setRequestBody(reqis);

	HostConfiguration hconfig = new HostConfiguration();
	hconfig.setHost(new URI(urlstr));

	hc.executeMethod(hconfig, post);

	System.out.println(post.getResponseBodyAsString());
	System.out.println();

    }

    private static String msg = "Text Message";

}


Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From becke@u.washington.edu  Tue Jun 10 18:07:13 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 27405 invoked from network); 10 Jun 2003 18:07:13 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 10 Jun 2003 18:07:13 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout2.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5AI7H5R003394
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 11:07:17 -0700
Received: from u.washington.edu (ss02.co.us.ibm.com [32.97.110.67])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5AI7FPx020350
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 11:07:16 -0700
Message-ID: <3EE61E10.1050907@u.washington.edu>
Date: Tue, 10 Jun 2003 14:06:08 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: preemptive
References: <see5c901.043@prv-mail20.provo.novell.com>
In-Reply-To: <see5c901.043@prv-mail20.provo.novell.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

For logging to work when just setting the system properties, log4j
cannot be on the classpath.  Log4j will override any settings specified
via system property.  If you have log4j on the classpath you will have
to configure it via standard log4j mechanisms.

Mike

Zulfi Umrani wrote:
> What do you mean by "eliminating the authentication overhead"? Does this
> mean keeping the already Authenticated header and adding it next time
> the URL is being invoked? I am using Apache Tomcat Server to host a
> couple of protected URLs. One more Basic and other for Digest. I believe
> it does the necessary connection management specified by the HTTP
> 1.0/1.1. For logging I execute the following before I do anything.
> log4j-1.2.8 and commons-logging-1.0.2. I do not any other documentation
> for logging. If you have a sample code which enables logging even to a
> file, please send that to me. I am using JDK1.4  on Sun Solaris without
> any container to run the client. So I do not think it is redirecting
> stdout or stderr to somewhere else.
>
> System.setProperty("org.apache.commons.logging.simplelog.defaultlog",
> "debug");
> System.setProperty("org.apache.commons.logging.Log",
> "org.apache.commons.logging.impl.SimpleLog");
> System.setProperty("org.apache.commons.logging.simplelog.showdatetime",
> "true");
> System.setProperty("org.apache.commons.logging.simplelog.log.httpclient.wire",
> "debug");
> System.setProperty("org.apache.commons.logging.simplelog.log.org.apache.commons.httpclient",
> "trace");
>
>
>
>>>>oleg.kalnichevski@bearingpoint.com 6/10/2003 1:36:57 PM >>>
>
> Zulfi,
> Only Basic authentication scheme can be used preemptively. If you want
> to eliminate the authentication overhead associated with Digest or NTLM
> schemes you have to ensure that the HTTP server keeps connections alive
> when possible.
>
> Please get logging to work. That should not be too difficult. Please
> note that application servers and servlet engines usually redirect
> standard output and standard error. If you are unable to figure out what
> is going you might want to use Log4j toolkit that allows greater control
> over logging (for instance, you can specify a separate log file for a
> specific category of events). We will not be able to help you unless we
> can see the logs.
>
> Oleg
>
> -----Original Message-----
> From: Zulfi Umrani [mailto:zumrani@novell.com]
> Sent: Tuesday, June 10, 2003 16:27
> To: commons-httpclient-dev@jakarta.apache.org
> Subject: RE: preemptive
>
>
> By setting realm as null, the pre-emptive authentication worked! But,
> it
> sends a Basic Authorization header even if the URL is protected by
> Digest! For Digest it is still making 2 trips in order to
> authenticate.
> Which is fine for the first request, but it repeats the same thing for
> the second request as well. Is there a way to tell the state, method
> or
> client what kind of scheme is desired for pre-emptive authentication.
> Sorry, no logs here as log did not work.
>
>
>>>>oleg.kalnichevski@bearingpoint.com 6/10/2003 3:47:32 AM >>>
>
> Zulfi,
>
> Try setting both realm & host to null. That should do the trick
>
> 	HttpClient hc = new HttpClient();
> 	HttpState state = hc.getState();
> 	state.setAuthenticationPreemptive(true);
>       // Set default credentials (realm & host are null)
> 	state.setCredentials(null, null,
> 	    new UsernamePasswordCredentials("zulfi", "zulfi"));
>
>
> Folks,
>
> The present convention for setting a default set of credentials is
> utterly confusing and needs to be redesigned in 2.1. I believe we
> should
> be using HttpState#setCredentials(HttpAuthRealm, Credentials) instead
> of
> HttpState#setCredentials(String, String, Credentials). We should also
> provide a static final class to represent the default set of
> credentials:
>
> public static final HttpAuthRealm DEFAULT_AUTH_CREDENTIALS = new
> HttpAuthRealm(null, null);
>
> The end user code might look similar to that below
>
> 	state.setCredentials(DEFAULT_AUTH_CREDENTIALS,
> 	    new UsernamePasswordCredentials("zulfi", "zulfi"));
>
>
> Cheers
>
> Oleg
>
>
> -----Original Message-----
> From: Zulfi Umrani [mailto:zumrani@novell.com]
> Sent: Tuesday, June 10, 2003 00:44
> To: commons-httpclient-dev@jakarta.apache.org
> Subject: preemptive
>
>
> Tried to use the Preemptive Authentication feature. Could not get it
> to
> work. I used the HttpState.setAuthenticationPreemptive(true); to set
> the
> preemptive authentication ON. It still send the first request without
> the Authorization header. Code sample is below. Would like to know,
> how
> to set up the Pre-emptive Authentication.
>
> package test;
>
> import java.io.*;
> import java.net.URL;
>
> import org.apache.commons.httpclient.*;
> import org.apache.commons.httpclient.methods.*;
> import org.apache.commons.httpclient.auth.*;
> import org.apache.commons.httpclient.util.*;
>
> public class JCTest {
>     public static void main(String[] args) throws Exception {
> 	test0();
> 	test0();
> 	return;
>     }
>
>     public static void test0() throws Exception {
> 	System.out.println("running test0");
>
> 	String urlstr = "http://localhost:9999/services1/test";
> 	URL url = new URL(urlstr);
>
> 	HttpClient hc = new HttpClient();
> 	HttpState state = hc.getState();
> 	state.setAuthenticationPreemptive(true);
> 	state.setCredentials("", url.getHost(),
> 	    new UsernamePasswordCredentials("zulfi", "zulfi"));
>
> 	PostMethod post = new PostMethod(urlstr);
> 	post.setDoAuthentication(true);
>
> 	post.addRequestHeader("Connection", "Keep-Alive");
> 	post.addRequestHeader("Content-Length", ""+msg.length());
> 	post.addRequestHeader("Content-Type", "text/xml;
> charset=utf-8");
>
> 	InputStream reqis = new ByteArrayInputStream(msg.getBytes());
>
> 	post.setRequestBody(reqis);
>
> 	HostConfiguration hconfig = new HostConfiguration();
> 	hconfig.setHost(new URI(urlstr));
>
> 	hc.executeMethod(hconfig, post);
>
> 	System.out.println(post.getResponseBodyAsString());
> 	System.out.println();
>
>     }
>
>     private static String msg = "Text Message";
>
> }
>
>
> Thanks.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From oleg.kalnichevski@bearingpoint.com  Tue Jun 10 18:17:51 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 48575 invoked from network); 10 Jun 2003 18:17:51 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 10 Jun 2003 18:17:51 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 10 Jun 2003 18:15:20 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: preemptive
Date: Tue, 10 Jun 2003 19:17:54 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE559@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: preemptive
Thread-Index: AcMvepIhcuPDHvosSH60Tpiq8md70QAAFYPg
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 10 Jun 2003 18:15:20.0875 (UTC) FILETIME=[40F4EFB0:01C32F7C]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Zulfi=20

Both Digest & NTLM authentication schemes are connection oriented. Every =
time a new connection is open to a Digest & NTLM protected resource, the =
user has to be re-authenticated. Per default HttpClient does its best to =
keep connections alive, provided that the server supports connection =
reuse, thus eliminating the need to re-authenticate the user.=20

Since you are using Log4J toolkit you have to ensure it's been =
configured to log 'httpclient.wire' and 'org.apache.commons.httpclient' =
category of events at DEBUG verbosity. Please refer to commons-logging & =
Log4J documentation for details

Oleg

-----Original Message-----
From: Zulfi Umrani [mailto:zumrani@novell.com]
Sent: Tuesday, June 10, 2003 17:03
To: Kalnichevski, Oleg; commons-httpclient-dev@jakarta.apache.org
Subject: RE: preemptive


What do you mean by "eliminating the authentication overhead"? Does this
mean keeping the already Authenticated header and adding it next time
the URL is being invoked? I am using Apache Tomcat Server to host a
couple of protected URLs. One more Basic and other for Digest. I believe
it does the necessary connection management specified by the HTTP
1.0/1.1. For logging I execute the following before I do anything.
log4j-1.2.8 and commons-logging-1.0.2. I do not any other documentation
for logging. If you have a sample code which enables logging even to a
file, please send that to me. I am using JDK1.4  on Sun Solaris without
any container to run the client. So I do not think it is redirecting
stdout or stderr to somewhere else.

System.setProperty("org.apache.commons.logging.simplelog.defaultlog",
"debug");=20
System.setProperty("org.apache.commons.logging.Log",
"org.apache.commons.logging.impl.SimpleLog");=20
System.setProperty("org.apache.commons.logging.simplelog.showdatetime",
"true");=20
System.setProperty("org.apache.commons.logging.simplelog.log.httpclient.w=
ire",
"debug");=20
System.setProperty("org.apache.commons.logging.simplelog.log.org.apache.c=
ommons.httpclient",
"trace");=20


>>> oleg.kalnichevski@bearingpoint.com 6/10/2003 1:36:57 PM >>>
Zulfi,
Only Basic authentication scheme can be used preemptively. If you want
to eliminate the authentication overhead associated with Digest or NTLM
schemes you have to ensure that the HTTP server keeps connections alive
when possible.

Please get logging to work. That should not be too difficult. Please
note that application servers and servlet engines usually redirect
standard output and standard error. If you are unable to figure out what
is going you might want to use Log4j toolkit that allows greater control
over logging (for instance, you can specify a separate log file for a
specific category of events). We will not be able to help you unless we
can see the logs.=20

Oleg

-----Original Message-----
From: Zulfi Umrani [mailto:zumrani@novell.com]=20
Sent: Tuesday, June 10, 2003 16:27
To: commons-httpclient-dev@jakarta.apache.org=20
Subject: RE: preemptive


By setting realm as null, the pre-emptive authentication worked! But,
it
sends a Basic Authorization header even if the URL is protected by
Digest! For Digest it is still making 2 trips in order to
authenticate.
Which is fine for the first request, but it repeats the same thing for
the second request as well. Is there a way to tell the state, method
or
client what kind of scheme is desired for pre-emptive authentication.
Sorry, no logs here as log did not work.

>>> oleg.kalnichevski@bearingpoint.com 6/10/2003 3:47:32 AM >>>
Zulfi,

Try setting both realm & host to null. That should do the trick

	HttpClient hc =3D new HttpClient();
	HttpState state =3D hc.getState();
	state.setAuthenticationPreemptive(true);
      // Set default credentials (realm & host are null)
	state.setCredentials(null, null,=20
	    new UsernamePasswordCredentials("zulfi", "zulfi"));


Folks,

The present convention for setting a default set of credentials is
utterly confusing and needs to be redesigned in 2.1. I believe we
should
be using HttpState#setCredentials(HttpAuthRealm, Credentials) instead
of
HttpState#setCredentials(String, String, Credentials). We should also
provide a static final class to represent the default set of
credentials:

public static final HttpAuthRealm DEFAULT_AUTH_CREDENTIALS =3D new
HttpAuthRealm(null, null);

The end user code might look similar to that below

	state.setCredentials(DEFAULT_AUTH_CREDENTIALS,=20
	    new UsernamePasswordCredentials("zulfi", "zulfi"));


Cheers

Oleg


-----Original Message-----
From: Zulfi Umrani [mailto:zumrani@novell.com]=20
Sent: Tuesday, June 10, 2003 00:44
To: commons-httpclient-dev@jakarta.apache.org=20
Subject: preemptive


Tried to use the Preemptive Authentication feature. Could not get it
to
work. I used the HttpState.setAuthenticationPreemptive(true); to set
the
preemptive authentication ON. It still send the first request without
the Authorization header. Code sample is below. Would like to know,
how
to set up the Pre-emptive Authentication.

package test;

import java.io.*;
import java.net.URL;

import org.apache.commons.httpclient.*;
import org.apache.commons.httpclient.methods.*;
import org.apache.commons.httpclient.auth.*;
import org.apache.commons.httpclient.util.*;

public class JCTest {
    public static void main(String[] args) throws Exception {
	test0();
	test0();
	return;
    }

    public static void test0() throws Exception {
	System.out.println("running test0");

	String urlstr =3D "http://localhost:9999/services1/test";
	URL url =3D new URL(urlstr);
=09
	HttpClient hc =3D new HttpClient();
	HttpState state =3D hc.getState();
	state.setAuthenticationPreemptive(true);
	state.setCredentials("", url.getHost(),=20
	    new UsernamePasswordCredentials("zulfi", "zulfi"));

	PostMethod post =3D new PostMethod(urlstr);
	post.setDoAuthentication(true);

	post.addRequestHeader("Connection", "Keep-Alive");
	post.addRequestHeader("Content-Length", ""+msg.length());
	post.addRequestHeader("Content-Type", "text/xml;
charset=3Dutf-8");

	InputStream reqis =3D new ByteArrayInputStream(msg.getBytes());
=09
	post.setRequestBody(reqis);

	HostConfiguration hconfig =3D new HostConfiguration();
	hconfig.setHost(new URI(urlstr));
=09
	hc.executeMethod(hconfig, post);

	System.out.println(post.getResponseBodyAsString());
	System.out.println();
	   =20
    }
   =20
    private static String msg =3D "Text Message";

}


Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org=20


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org=20


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org=20


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org=20


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From zumrani@novell.com  Tue Jun 10 18:34:43 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 82026 invoked from network); 10 Jun 2003 18:34:43 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 18:34:43 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Tue, 10 Jun 2003 12:34:47 -0600
Message-Id: <see5d067.089@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Tue, 10 Jun 2003 09:34:06 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: preemptive
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="=__NextPart_0__="
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=__NextPart_0__=
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I removed the Log4J from my classpath and could produce debug info.
Attached is the trace I got when authenticating for Diegest on Tomcat.
As per what I understand, Tomcat supports connection reuse. What I would
like to see is that HttpClient store the Authorization header for a URL
and resend it whenever it is invoking the URL again. If the server does
not authenticate, it should re-authenticate the connection/url. Please
let me know if I can set it up that way. Also is there a way to tell
client,state or method about the scheme being used for pre-emptive
authentication? This is so that it sends the right Authorization header
even for the first time.

Thanks.

>>> oleg.kalnichevski@bearingpoint.com 6/10/2003 2:17:54 PM >>>
Zulfi

Both Digest & NTLM authentication schemes are connection oriented.
Every time a new connection is open to a Digest & NTLM protected
resource, the user has to be re-authenticated. Per default HttpClient
does its best to keep connections alive, provided that the server
supports connection reuse, thus eliminating the need to re-authenticate
the user.

Since you are using Log4J toolkit you have to ensure it's been
configured to log 'httpclient.wire' and 'org.apache.commons.httpclient'
category of events at DEBUG verbosity. Please refer to commons-logging &
Log4J documentation for details

Oleg

-----Original Message-----
From: Zulfi Umrani [mailto:zumrani@novell.com]
Sent: Tuesday, June 10, 2003 17:03
To: Kalnichevski, Oleg; commons-httpclient-dev@jakarta.apache.org
Subject: RE: preemptive


What do you mean by "eliminating the authentication overhead"? Does
this
mean keeping the already Authenticated header and adding it next time
the URL is being invoked? I am using Apache Tomcat Server to host a
couple of protected URLs. One more Basic and other for Digest. I
believe
it does the necessary connection management specified by the HTTP
1.0/1.1. For logging I execute the following before I do anything.
log4j-1.2.8 and commons-logging-1.0.2. I do not any other
documentation
for logging. If you have a sample code which enables logging even to a
file, please send that to me. I am using JDK1.4  on Sun Solaris
without
any container to run the client. So I do not think it is redirecting
stdout or stderr to somewhere else.

System.setProperty("org.apache.commons.logging.simplelog.defaultlog",
"debug");
System.setProperty("org.apache.commons.logging.Log",
"org.apache.commons.logging.impl.SimpleLog");
System.setProperty("org.apache.commons.logging.simplelog.showdatetime",
"true");
System.setProperty("org.apache.commons.logging.simplelog.log.httpclient.wire",
"debug");
System.setProperty("org.apache.commons.logging.simplelog.log.org.apache.commons.httpclient",
"trace");


>>> oleg.kalnichevski@bearingpoint.com 6/10/2003 1:36:57 PM >>>
Zulfi,
Only Basic authentication scheme can be used preemptively. If you want
to eliminate the authentication overhead associated with Digest or
NTLM
schemes you have to ensure that the HTTP server keeps connections
alive
when possible.

Please get logging to work. That should not be too difficult. Please
note that application servers and servlet engines usually redirect
standard output and standard error. If you are unable to figure out
what
is going you might want to use Log4j toolkit that allows greater
control
over logging (for instance, you can specify a separate log file for a
specific category of events). We will not be able to help you unless
we
can see the logs.

Oleg

-----Original Message-----
From: Zulfi Umrani [mailto:zumrani@novell.com]
Sent: Tuesday, June 10, 2003 16:27
To: commons-httpclient-dev@jakarta.apache.org
Subject: RE: preemptive


By setting realm as null, the pre-emptive authentication worked! But,
it
sends a Basic Authorization header even if the URL is protected by
Digest! For Digest it is still making 2 trips in order to
authenticate.
Which is fine for the first request, but it repeats the same thing for
the second request as well. Is there a way to tell the state, method
or
client what kind of scheme is desired for pre-emptive authentication.
Sorry, no logs here as log did not work.

>>> oleg.kalnichevski@bearingpoint.com 6/10/2003 3:47:32 AM >>>
Zulfi,

Try setting both realm & host to null. That should do the trick

	HttpClient hc = new HttpClient();
	HttpState state = hc.getState();
	state.setAuthenticationPreemptive(true);
      // Set default credentials (realm & host are null)
	state.setCredentials(null, null,
	    new UsernamePasswordCredentials("zulfi", "zulfi"));


Folks,

The present convention for setting a default set of credentials is
utterly confusing and needs to be redesigned in 2.1. I believe we
should
be using HttpState#setCredentials(HttpAuthRealm, Credentials) instead
of
HttpState#setCredentials(String, String, Credentials). We should also
provide a static final class to represent the default set of
credentials:

public static final HttpAuthRealm DEFAULT_AUTH_CREDENTIALS = new
HttpAuthRealm(null, null);

The end user code might look similar to that below

	state.setCredentials(DEFAULT_AUTH_CREDENTIALS,
	    new UsernamePasswordCredentials("zulfi", "zulfi"));


Cheers

Oleg


-----Original Message-----
From: Zulfi Umrani [mailto:zumrani@novell.com]
Sent: Tuesday, June 10, 2003 00:44
To: commons-httpclient-dev@jakarta.apache.org
Subject: preemptive


Tried to use the Preemptive Authentication feature. Could not get it
to
work. I used the HttpState.setAuthenticationPreemptive(true); to set
the
preemptive authentication ON. It still send the first request without
the Authorization header. Code sample is below. Would like to know,
how
to set up the Pre-emptive Authentication.

package test;

import java.io.*;
import java.net.URL;

import org.apache.commons.httpclient.*;
import org.apache.commons.httpclient.methods.*;
import org.apache.commons.httpclient.auth.*;
import org.apache.commons.httpclient.util.*;

public class JCTest {
    public static void main(String[] args) throws Exception {
	test0();
	test0();
	return;
    }

    public static void test0() throws Exception {
	System.out.println("running test0");

	String urlstr = "http://localhost:9999/services1/test";
	URL url = new URL(urlstr);

	HttpClient hc = new HttpClient();
	HttpState state = hc.getState();
	state.setAuthenticationPreemptive(true);
	state.setCredentials("", url.getHost(),
	    new UsernamePasswordCredentials("zulfi", "zulfi"));

	PostMethod post = new PostMethod(urlstr);
	post.setDoAuthentication(true);

	post.addRequestHeader("Connection", "Keep-Alive");
	post.addRequestHeader("Content-Length", ""+msg.length());
	post.addRequestHeader("Content-Type", "text/xml;
charset=utf-8");

	InputStream reqis = new ByteArrayInputStream(msg.getBytes());

	post.setRequestBody(reqis);

	HostConfiguration hconfig = new HostConfiguration();
	hconfig.setHost(new URI(urlstr));

	hc.executeMethod(hconfig, post);

	System.out.println(post.getResponseBodyAsString());
	System.out.println();

    }

    private static String msg = "Text Message";

}


Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


--=__NextPart_0__=
Content-Type: text/plain; name="debug.txt"
Content-Transfer-Encoding: 8bit
Content-Disposition: attachment; filename="debug.txt"

running test0
[DEBUG] HttpClient - -Java version: 1.3.1_06
[DEBUG] HttpClient - -Java vendor: Sun Microsystems Inc.
[DEBUG] HttpClient - -Java class path: :/export/home/zumrani/work/web/lib:/export/home/zumrani/work/web/lib/activation.jar:/export/home/zumrani/work/web/lib/agrootca.jar:/export/home/zumrani/work/web/lib/jakarta-regexp-1.2.jar:/export/home/zumrani/work/web/lib/jaxp-api.jar:/export/home/zumrani/work/web/lib/jbroker-ssl.jar:/export/home/zumrani/work/web/lib/jbroker-web.jar:/export/home/zumrani/work/web/lib/mail.jar:/export/home/zumrani/work/web/lib/servlet.jar:/export/home/zumrani/work/web/lib/xercesImpl.jar:/export/home/zumrani/work/web/lib/xmlParserAPIs.jar:/jbroker/env/java1.3/lib/tools.jar:/jbroker/env/jakarta-regexp-1.2/jakarta-regexp-1.2.jar:WEB-INF/classes:/jbroker/downloads/httpclient/commons-httpclient-2.0-beta1/commons-httpclient-2.0-beta1.jar:/jbroker/downloads/httpclient/commons-logging-1.0.2/commons-logging-api.jar
[DEBUG] HttpClient - -Operating system name: SunOS
[DEBUG] HttpClient - -Operating system architecture: sparc
[DEBUG] HttpClient - -Operating system version: 5.7
[DEBUG] HttpClient - -SUN 1.2: SUN (DSA key/parameter generation; DSA signing; SHA-1, MD5 digests; SecureRandom; X.509 certificates; JKS keystore)
[DEBUG] HttpClient - -SunRsaSign 1.0: SUN's provider for RSA signatures
[DEBUG] HttpConnection - -Creating connection for localhost using protocol http:80
[DEBUG] HttpConnection - -HttpConnection.setSoTimeout(0)
[DEBUG] HttpMethod - -Preemptively sending default basic credentials
[DEBUG] HttpMethod - -Default basic credentials applied
[DEBUG] HttpMethod - -Execute loop try 1
[DEBUG] wire - ->> "POST /services2/test HTTP/1.1[\r][\n]"
[DEBUG] HttpMethod - -Adding Host request header
[DEBUG] wire - ->> "Connection: Keep-Alive[\r][\n]"
[DEBUG] wire - ->> "Content-Length: 421[\r][\n]"
[DEBUG] wire - ->> "Content-Type: text/xml; charset=utf-8[\r][\n]"
[DEBUG] wire - ->> "Authorization: Basic enVsZmk6enVsZmk=[\r][\n]"
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost:9999[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] EntityEnclosingMethod - -Using buffered request body
[DEBUG] wire - ->> "<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://schemas.xmlsoap.org/soap/envelope/' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:SOAP-ENC='http://schemas.xmlsoap.org/soap/encoding/'><SOAP-ENV:Body><ns1:sayHello SOAP-ENV:encodingStyle='http://schemas.xmlsoap.org/soap/encoding/' xmlns='' xmlns:ns1='http://www.hello'></ns1:sayHello></SOAP-ENV:Body></SOAP-ENV:Envelope>"
[DEBUG] EntityEnclosingMethod - -Request body sent
[DEBUG] wire - -<< "HTTP/1.1 401 Unauthorized[\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/html[\r][\n]"
[DEBUG] wire - -<< "Date: Tue, 10 Jun 2003 18:24:30 GMT[\r][\n]"
[DEBUG] wire - -<< "Pragma: No-cache[\r][\n]"
[DEBUG] wire - -<< "Transfer-Encoding: chunked[\r][\n]"
[DEBUG] wire - -<< "Server: Apache Tomcat/4.0.4 (HTTP/1.1 Connector)[\r][\n]"
[DEBUG] wire - -<< "Cache-Control: no-cache[\r][\n]"
[DEBUG] wire - -<< "WWW-Authenticate: Digest realm="", qop="auth", nonce="3edc9bf68495d89882d6da8353d1d671", opaque="87942207362689a2abbee15fa915535a"[\r][\n]"
[DEBUG] wire - -<< "Expires: Thu, 01 Jan 1970 00:00:00 GMT[\r][\n]"
[DEBUG] HttpConnection - -HttpConnection.getSoTimeout()
[DEBUG] HttpMethod - -Authorization required
[DEBUG] HttpAuthenticator - -Using '' authentication realm
[DEBUG] HttpMethod - -HttpMethodBase.execute(): Server demanded authentication credentials, will try again.
[DEBUG] wire - -<< "2"
[DEBUG] wire - -<< "6"
[DEBUG] wire - -<< "3"
[DEBUG] wire - -<< "[\r]"
[DEBUG] wire - -<< "[\n]"
[DEBUG] wire - -<< "<html><head><title>Apache Tomcat/4.0.4 - Error report</title><STYLE><!--H1{font-family : sans-serif,Arial,Tahoma;color : white;background-color : #0086b2;} BODY{font-family : sans-serif,Arial,Tahoma;color : black;background-color : white;} B{color : white;background-color : #0086b2;} HR{color : #0086b2;} --></STYLE> </head><body><h1>Apache Tomcat/4.0.4 - HTTP Status 401 - Unauthorized</h1><HR size="1" noshade><p><b>type</b> Status report</p><p><b>message</b> <u>Unauthorized</u></p><p><b>description</b> <u>This request requires HTTP authentication (Unauthorized).</u></p><HR size="1" noshade></body></html>"
[DEBUG] wire - -<< "[\r]"
[DEBUG] wire - -<< "[\n]"
[DEBUG] wire - -<< "0"
[DEBUG] wire - -<< "[\r]"
[DEBUG] wire - -<< "[\n]"
[DEBUG] wire - -<< "[\r]"
[DEBUG] wire - -<< "[\n]"
[DEBUG] HttpMethod - -Resorting to protocol version default close connection policy
[DEBUG] HttpMethod - -Should NOT close connection, using HTTP/1.1.
[DEBUG] HttpMethod - -Execute loop try 2
[DEBUG] wire - ->> "POST /services2/test HTTP/1.1[\r][\n]"
[DEBUG] HttpMethod - -Request to add Host header ignored: header already added
[DEBUG] wire - ->> "Connection: Keep-Alive[\r][\n]"
[DEBUG] wire - ->> "Content-Length: 421[\r][\n]"
[DEBUG] wire - ->> "Content-Type: text/xml; charset=utf-8[\r][\n]"
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost:9999[\r][\n]"
[DEBUG] wire - ->> "Authorization: Digest username="zulfi", realm="", nonce="3edc9bf68495d89882d6da8353d1d671", uri="/services2/test", qop="auth", algorithm="MD5", nc=00000001, cnonce="7ce99bd259c965b0ba683f46bbe7e4bc", response="5ee2101b980780787f48b98053c06d68", opaque="87942207362689a2abbee15fa915535a"[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] EntityEnclosingMethod - -Using buffered request body
[DEBUG] wire - ->> "<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://schemas.xmlsoap.org/soap/envelope/' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:SOAP-ENC='http://schemas.xmlsoap.org/soap/encoding/'><SOAP-ENV:Body><ns1:sayHello SOAP-ENV:encodingStyle='http://schemas.xmlsoap.org/soap/encoding/' xmlns='' xmlns:ns1='http://www.hello'></ns1:sayHello></SOAP-ENV:Body></SOAP-ENV:Envelope>"
[DEBUG] EntityEnclosingMethod - -Request body sent
[DEBUG] wire - -<< "HTTP/1.1 200 OK[\r][\n]"
[DEBUG] wire - -<< "Content-Length: 547[\r][\n]"
[DEBUG] wire - -<< "Date: Tue, 10 Jun 2003 18:24:30 GMT[\r][\n]"
[DEBUG] wire - -<< "Pragma: No-cache[\r][\n]"
[DEBUG] wire - -<< "Server: Apache Tomcat/4.0.4 (HTTP/1.1 Connector)[\r][\n]"
[DEBUG] wire - -<< "Cache-Control: no-cache[\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/xml; charset=utf-8[\r][\n]"
[DEBUG] wire - -<< "Expires: Thu, 01 Jan 1970 00:00:00 GMT[\r][\n]"
[DEBUG] wire - -<< "<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://schemas.xmlsoap.org/soap/envelope/' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:SOAP-ENC='http://schemas.xmlsoap.org/soap/encoding/'><SOAP-ENV:Body><ns1:sayHelloResponse SOAP-ENV:encodingStyle='http://schemas.xmlsoap.org/soap/encoding/' xmlns='' xmlns:ns1='http://www.hello'><arg0 xmlns="" xsi:type="xsd:string" xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'>Hello World!</arg0></ns1:sayHelloResponse></SOAP-ENV:Body></SOAP-ENV:Envelope>"
[DEBUG] HttpMethod - -Resorting to protocol version default close connection policy
[DEBUG] HttpMethod - -Should NOT close connection, using HTTP/1.1.
[DEBUG] HttpMethod - -buffering response body
<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://schemas.xmlsoap.org/soap/envelope/' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:SOAP-ENC='http://schemas.xmlsoap.org/soap/encoding/'><SOAP-ENV:Body><ns1:sayHelloResponse SOAP-ENV:encodingStyle='http://schemas.xmlsoap.org/soap/encoding/' xmlns='' xmlns:ns1='http://www.hello'><arg0 xmlns="" xsi:type="xsd:string" xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'>Hello World!</arg0></ns1:sayHelloResponse></SOAP-ENV:Body></SOAP-ENV:Envelope>

running test0
[DEBUG] HttpConnection - -Creating connection for localhost using protocol http:80
[DEBUG] HttpConnection - -HttpConnection.setSoTimeout(0)
[DEBUG] HttpMethod - -Preemptively sending default basic credentials
[DEBUG] HttpMethod - -Default basic credentials applied
[DEBUG] HttpMethod - -Execute loop try 1
[DEBUG] wire - ->> "POST /services2/test HTTP/1.1[\r][\n]"
[DEBUG] HttpMethod - -Adding Host request header
[DEBUG] wire - ->> "Connection: Keep-Alive[\r][\n]"
[DEBUG] wire - ->> "Content-Length: 421[\r][\n]"
[DEBUG] wire - ->> "Content-Type: text/xml; charset=utf-8[\r][\n]"
[DEBUG] wire - ->> "Authorization: Basic enVsZmk6enVsZmk=[\r][\n]"
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost:9999[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] EntityEnclosingMethod - -Using buffered request body
[DEBUG] wire - ->> "<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://schemas.xmlsoap.org/soap/envelope/' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:SOAP-ENC='http://schemas.xmlsoap.org/soap/encoding/'><SOAP-ENV:Body><ns1:sayHello SOAP-ENV:encodingStyle='http://schemas.xmlsoap.org/soap/encoding/' xmlns='' xmlns:ns1='http://www.hello'></ns1:sayHello></SOAP-ENV:Body></SOAP-ENV:Envelope>"
[DEBUG] EntityEnclosingMethod - -Request body sent
[DEBUG] wire - -<< "HTTP/1.1 401 Unauthorized[\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/html[\r][\n]"
[DEBUG] wire - -<< "Date: Tue, 10 Jun 2003 18:24:30 GMT[\r][\n]"
[DEBUG] wire - -<< "Pragma: No-cache[\r][\n]"
[DEBUG] wire - -<< "Transfer-Encoding: chunked[\r][\n]"
[DEBUG] wire - -<< "Server: Apache Tomcat/4.0.4 (HTTP/1.1 Connector)[\r][\n]"
[DEBUG] wire - -<< "Cache-Control: no-cache[\r][\n]"
[DEBUG] wire - -<< "WWW-Authenticate: Digest realm="", qop="auth", nonce="a9ccb153148434c2dd4e77c13cc397e2", opaque="03e2af6f36b0f08e29631a3c3913bba9"[\r][\n]"
[DEBUG] wire - -<< "Expires: Thu, 01 Jan 1970 00:00:00 GMT[\r][\n]"
[DEBUG] HttpConnection - -HttpConnection.getSoTimeout()
[DEBUG] HttpMethod - -Authorization required
[DEBUG] HttpAuthenticator - -Using '' authentication realm
[DEBUG] HttpMethod - -HttpMethodBase.execute(): Server demanded authentication credentials, will try again.
[DEBUG] wire - -<< "2"
[DEBUG] wire - -<< "6"
[DEBUG] wire - -<< "3"
[DEBUG] wire - -<< "[\r]"
[DEBUG] wire - -<< "[\n]"
[DEBUG] wire - -<< "<html><head><title>Apache Tomcat/4.0.4 - Error report</title><STYLE><!--H1{font-family : sans-serif,Arial,Tahoma;color : white;background-color : #0086b2;} BODY{font-family : sans-serif,Arial,Tahoma;color : black;background-color : white;} B{color : white;background-color : #0086b2;} HR{color : #0086b2;} --></STYLE> </head><body><h1>Apache Tomcat/4.0.4 - HTTP Status 401 - Unauthorized</h1><HR size="1" noshade><p><b>type</b> Status report</p><p><b>message</b> <u>Unauthorized</u></p><p><b>description</b> <u>This request requires HTTP authentication (Unauthorized).</u></p><HR size="1" noshade></body></html>"
[DEBUG] wire - -<< "[\r]"
[DEBUG] wire - -<< "[\n]"
[DEBUG] wire - -<< "0"
[DEBUG] wire - -<< "[\r]"
[DEBUG] wire - -<< "[\n]"
[DEBUG] wire - -<< "[\r]"
[DEBUG] wire - -<< "[\n]"
[DEBUG] HttpMethod - -Resorting to protocol version default close connection policy
[DEBUG] HttpMethod - -Should NOT close connection, using HTTP/1.1.
[DEBUG] HttpMethod - -Execute loop try 2
[DEBUG] wire - ->> "POST /services2/test HTTP/1.1[\r][\n]"
[DEBUG] HttpMethod - -Request to add Host header ignored: header already added
[DEBUG] wire - ->> "Connection: Keep-Alive[\r][\n]"
[DEBUG] wire - ->> "Content-Length: 421[\r][\n]"
[DEBUG] wire - ->> "Content-Type: text/xml; charset=utf-8[\r][\n]"
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost:9999[\r][\n]"
[DEBUG] wire - ->> "Authorization: Digest username="zulfi", realm="", nonce="a9ccb153148434c2dd4e77c13cc397e2", uri="/services2/test", qop="auth", algorithm="MD5", nc=00000001, cnonce="0fd6ae8f38eeda3daceb5f62805e4c91", response="7dd069dd09cae70feeb0d610fbb54f6e", opaque="03e2af6f36b0f08e29631a3c3913bba9"[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] EntityEnclosingMethod - -Using buffered request body
[DEBUG] wire - ->> "<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://schemas.xmlsoap.org/soap/envelope/' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:SOAP-ENC='http://schemas.xmlsoap.org/soap/encoding/'><SOAP-ENV:Body><ns1:sayHello SOAP-ENV:encodingStyle='http://schemas.xmlsoap.org/soap/encoding/' xmlns='' xmlns:ns1='http://www.hello'></ns1:sayHello></SOAP-ENV:Body></SOAP-ENV:Envelope>"
[DEBUG] EntityEnclosingMethod - -Request body sent
[DEBUG] wire - -<< "HTTP/1.1 200 OK[\r][\n]"
[DEBUG] wire - -<< "Content-Length: 547[\r][\n]"
[DEBUG] wire - -<< "Date: Tue, 10 Jun 2003 18:24:31 GMT[\r][\n]"
[DEBUG] wire - -<< "Pragma: No-cache[\r][\n]"
[DEBUG] wire - -<< "Server: Apache Tomcat/4.0.4 (HTTP/1.1 Connector)[\r][\n]"
[DEBUG] wire - -<< "Cache-Control: no-cache[\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/xml; charset=utf-8[\r][\n]"
[DEBUG] wire - -<< "Expires: Thu, 01 Jan 1970 00:00:00 GMT[\r][\n]"
[DEBUG] wire - -<< "<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://schemas.xmlsoap.org/soap/envelope/' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:SOAP-ENC='http://schemas.xmlsoap.org/soap/encoding/'><SOAP-ENV:Body><ns1:sayHelloResponse SOAP-ENV:encodingStyle='http://schemas.xmlsoap.org/soap/encoding/' xmlns='' xmlns:ns1='http://www.hello'><arg0 xmlns="" xsi:type="xsd:string" xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'>Hello World!</arg0></ns1:sayHelloResponse></SOAP-ENV:Body></SOAP-ENV:Envelope>"
[DEBUG] HttpMethod - -Resorting to protocol version default close connection policy
[DEBUG] HttpMethod - -Should NOT close connection, using HTTP/1.1.
[DEBUG] HttpMethod - -buffering response body
<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://schemas.xmlsoap.org/soap/envelope/' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:SOAP-ENC='http://schemas.xmlsoap.org/soap/encoding/'><SOAP-ENV:Body><ns1:sayHelloResponse SOAP-ENV:encodingStyle='http://schemas.xmlsoap.org/soap/encoding/' xmlns='' xmlns:ns1='http://www.hello'><arg0 xmlns="" xsi:type="xsd:string" xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'>Hello World!</arg0></ns1:sayHelloResponse></SOAP-ENV:Body></SOAP-ENV:Envelope>


--=__NextPart_0__=--

From zumrani@novell.com  Tue Jun 10 19:28:46 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 19585 invoked from network); 10 Jun 2003 19:28:46 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 19:28:46 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Tue, 10 Jun 2003 13:28:51 -0600
Message-Id: <see5dd13.092@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Tue, 10 Jun 2003 10:28:14 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: NTLM
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="=__NextPart_0__="
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=__NextPart_0__=
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Tried to Authenticate using NTLM. Attached is JCTest.java sample code
and debug trace in debug.txt. It comes back finally as "Access Denied".
Does anyone has a clue?

Thanks.

--=__NextPart_0__=
Content-Type: text/plain; name="debug.txt"
Content-Transfer-Encoding: 8bit
Content-Disposition: attachment; filename="debug.txt"

[DEBUG] HttpConnection - -Creating connection for localhost using protocol http:80
[DEBUG] HttpConnection - -HttpConnection.setSoTimeout(0)
[DEBUG] HttpMethod - -Preemptively sending default basic credentials
[DEBUG] HttpMethod - -Default basic credentials applied
[DEBUG] HttpMethod - -Execute loop try 1
[DEBUG] wire - ->> "GET / HTTP/1.1[\r][\n]"
[DEBUG] HttpMethod - -Adding Host request header
[DEBUG] wire - ->> "Connection: Keep-Alive[\r][\n]"
[DEBUG] wire - ->> "Authorization: Basic enVsZmk6enVsZmk=[\r][\n]"
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost:9999[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - -<< "HTTP/1.0 401 Access Denied[\r][\n]"
[DEBUG] wire - -<< "WWW-Authenticate: NTLM[\r][\n]"
[DEBUG] wire - -<< "Content-Length: 24[\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/html[\r][\n]"
[DEBUG] HttpMethod - -Authorization required
[DEBUG] HttpAuthenticator - -Using 'localhost:9999' authentication realm
[DEBUG] HttpMethod - -HttpMethodBase.execute(): Server demanded authentication credentials, will try again.
[DEBUG] wire - -<< "Error: Access is Denied."
[DEBUG] HttpMethod - -Resorting to protocol version default close connection policy
[DEBUG] HttpMethod - -Should close connection, using HTTP/1.0.
[DEBUG] HttpMethod - -Execute loop try 2
[DEBUG] HttpMethod - -Opening the connection.
[DEBUG] wire - ->> "GET / HTTP/1.0[\r][\n]"
[DEBUG] HttpMethod - -Request to add Host header ignored: header already added
[DEBUG] wire - ->> "Connection: Keep-Alive[\r][\n]"
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost:9999[\r][\n]"
[DEBUG] wire - ->> "Authorization: NTLM TlRMTVNTUAABAAAABlIAAAcABwAuAAAADgAOACAAAAAxNjQuOTkuMjAwLjExN0pCUk9LRVI=[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - -<< "HTTP/1.0 401 Access Denied[\r][\n]"
[DEBUG] wire - -<< "WWW-Authenticate: NTLM TlRMTVNTUAACAAAABwAHACgAAAAGAgEApc/XZoSW+10AAAAAAAAAAEpCUk9LRVI=[\r][\n]"
[DEBUG] wire - -<< "Connection: keep-alive[\r][\n]"
[DEBUG] wire - -<< "Content-Length: 24[\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/html[\r][\n]"
[DEBUG] HttpMethod - -Authorization required
[DEBUG] HttpAuthenticator - -Using 'localhost:9999' authentication realm
[DEBUG] HttpMethod - -HttpMethodBase.execute(): Server demanded authentication credentials, will try again.
[DEBUG] wire - -<< "Error: Access is Denied."
[DEBUG] HttpMethod - -Should NOT close connection in response to Connection: keep-alive

[DEBUG] HttpMethod - -Execute loop try 3
[DEBUG] wire - ->> "GET / HTTP/1.0[\r][\n]"
[DEBUG] HttpMethod - -Request to add Host header ignored: header already added
[DEBUG] wire - ->> "Connection: Keep-Alive[\r][\n]"
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost:9999[\r][\n]"
[DEBUG] wire - ->> "Authorization: NTLM TlRMTVNTUAADAAAAGAAYAFoAAAAAAAAAcgAAAAcABwBAAAAABQAFAEcAAAAOAA4ATAAAAAAAAAByAAAABlIAAEpCUk9LRVJaVUxGSTE2NC45OS4yMDAuMTE3fAGOcZBmykBT1Tg7pVHny7HNkqKRMke5[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - -<< "HTTP/1.0 401 Access Denied[\r][\n]"
[DEBUG] wire - -<< "WWW-Authenticate: NTLM[\r][\n]"
[DEBUG] wire - -<< "Content-Length: 24[\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/html[\r][\n]"
[DEBUG] HttpMethod - -Authorization required
[INFO] HttpMethod - -Already tried to authenticate to "localhost:9999#" but still receiving 401.
[DEBUG] wire - -<< "Error: Access is Denied."
[DEBUG] HttpMethod - -Resorting to protocol version default close connection policy
[DEBUG] HttpMethod - -Should close connection, using HTTP/1.0.
[DEBUG] HttpMethod - -buffering response body
[DEBUG] HttpMethod - -Default charset used: ISO-8859-1
Error: Access is Denied.


--=__NextPart_0__=--

From olegk@apache.org  Tue Jun 10 20:18:29 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 30504 invoked from network); 10 Jun 2003 20:18:29 -0000
Received: from mail1.bluewin.ch (195.186.1.74)
  by daedalus.apache.org with SMTP; 10 Jun 2003 20:18:29 -0000
Received: from [192.168.1.48] (213.3.37.16) by mail1.bluewin.ch (Bluewin AG 7.0.016)
        id 3EDB407E000F0C09 for commons-httpclient-dev@jakarta.apache.org; Tue, 10 Jun 2003 20:18:33 +0000
Subject: RE: preemptive
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <see5d067.089@prv-mail20.provo.novell.com>
References: <see5d067.089@prv-mail20.provo.novell.com>
Content-Type: text/plain
Organization:
Message-Id: <1055276310.1913.33.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5)
Date: 10 Jun 2003 22:18:30 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

As I said before, currently only Basic authentication can be used
preemptively. As far Digest scheme goes, theoretically it may be
possible to preemptively authenticate against a Digest protected
resource for which 'nonce', 'nonce count' and 'opaque' values are known.
There's no guarantee that a target HTTP server would accept it, though.
Currently HttpClient does not provide for Digest scheme preemptive
authentication. Feel free to file a feature request for the future
releases.

http://jakarta.apache.org/commons/httpclient/issue-tracking.html

Alternatively, you could implement preemptive Digest authentication on
top of standard HttpClient functionality by using AuthChallengeParser
and DigestScheme classes

As a side note I would advise you to use 'expect: 100-continue'
handshake with your POST requests in order to avoid sending the request
body until request is fully authenticated. That should speed things up
by quite a bit. See PostMethod#setUseExpectHeader(boolean)

Oleg


On Tue, 2003-06-10 at 17:34, Zulfi Umrani wrote:
> I removed the Log4J from my classpath and could produce debug info.
> Attached is the trace I got when authenticating for Diegest on Tomcat.
> As per what I understand, Tomcat supports connection reuse. What I would
> like to see is that HttpClient store the Authorization header for a URL
> and resend it whenever it is invoking the URL again. If the server does
> not authenticate, it should re-authenticate the connection/url. Please
> let me know if I can set it up that way. Also is there a way to tell
> client,state or method about the scheme being used for pre-emptive
> authentication? This is so that it sends the right Authorization header
> even for the first time.
>
> Thanks.
>
> >>> oleg.kalnichevski@bearingpoint.com 6/10/2003 2:17:54 PM >>>
> Zulfi
>
> Both Digest & NTLM authentication schemes are connection oriented.
> Every time a new connection is open to a Digest & NTLM protected
> resource, the user has to be re-authenticated. Per default HttpClient
> does its best to keep connections alive, provided that the server
> supports connection reuse, thus eliminating the need to re-authenticate
> the user.
>
> Since you are using Log4J toolkit you have to ensure it's been
> configured to log 'httpclient.wire' and 'org.apache.commons.httpclient'
> category of events at DEBUG verbosity. Please refer to commons-logging &
> Log4J documentation for details
>
> Oleg
>
> -----Original Message-----
> From: Zulfi Umrani [mailto:zumrani@novell.com]
> Sent: Tuesday, June 10, 2003 17:03
> To: Kalnichevski, Oleg; commons-httpclient-dev@jakarta.apache.org
> Subject: RE: preemptive
>
>
> What do you mean by "eliminating the authentication overhead"? Does
> this
> mean keeping the already Authenticated header and adding it next time
> the URL is being invoked? I am using Apache Tomcat Server to host a
> couple of protected URLs. One more Basic and other for Digest. I
> believe
> it does the necessary connection management specified by the HTTP
> 1.0/1.1. For logging I execute the following before I do anything.
> log4j-1.2.8 and commons-logging-1.0.2. I do not any other
> documentation
> for logging. If you have a sample code which enables logging even to a
> file, please send that to me. I am using JDK1.4  on Sun Solaris
> without
> any container to run the client. So I do not think it is redirecting
> stdout or stderr to somewhere else.
>
> System.setProperty("org.apache.commons.logging.simplelog.defaultlog",
> "debug");
> System.setProperty("org.apache.commons.logging.Log",
> "org.apache.commons.logging.impl.SimpleLog");
> System.setProperty("org.apache.commons.logging.simplelog.showdatetime",
> "true");
> System.setProperty("org.apache.commons.logging.simplelog.log.httpclient.wire",
> "debug");
> System.setProperty("org.apache.commons.logging.simplelog.log.org.apache.commons.httpclient",
> "trace");
>
>
> >>> oleg.kalnichevski@bearingpoint.com 6/10/2003 1:36:57 PM >>>
> Zulfi,
> Only Basic authentication scheme can be used preemptively. If you want
> to eliminate the authentication overhead associated with Digest or
> NTLM
> schemes you have to ensure that the HTTP server keeps connections
> alive
> when possible.
>
> Please get logging to work. That should not be too difficult. Please
> note that application servers and servlet engines usually redirect
> standard output and standard error. If you are unable to figure out
> what
> is going you might want to use Log4j toolkit that allows greater
> control
> over logging (for instance, you can specify a separate log file for a
> specific category of events). We will not be able to help you unless
> we
> can see the logs.
>
> Oleg
>
> -----Original Message-----
> From: Zulfi Umrani [mailto:zumrani@novell.com]
> Sent: Tuesday, June 10, 2003 16:27
> To: commons-httpclient-dev@jakarta.apache.org
> Subject: RE: preemptive
>
>
> By setting realm as null, the pre-emptive authentication worked! But,
> it
> sends a Basic Authorization header even if the URL is protected by
> Digest! For Digest it is still making 2 trips in order to
> authenticate.
> Which is fine for the first request, but it repeats the same thing for
> the second request as well. Is there a way to tell the state, method
> or
> client what kind of scheme is desired for pre-emptive authentication.
> Sorry, no logs here as log did not work.
>
> >>> oleg.kalnichevski@bearingpoint.com 6/10/2003 3:47:32 AM >>>
> Zulfi,
>
> Try setting both realm & host to null. That should do the trick
>
> 	HttpClient hc = new HttpClient();
> 	HttpState state = hc.getState();
> 	state.setAuthenticationPreemptive(true);
>       // Set default credentials (realm & host are null)
> 	state.setCredentials(null, null,
> 	    new UsernamePasswordCredentials("zulfi", "zulfi"));
>
>
> Folks,
>
> The present convention for setting a default set of credentials is
> utterly confusing and needs to be redesigned in 2.1. I believe we
> should
> be using HttpState#setCredentials(HttpAuthRealm, Credentials) instead
> of
> HttpState#setCredentials(String, String, Credentials). We should also
> provide a static final class to represent the default set of
> credentials:
>
> public static final HttpAuthRealm DEFAULT_AUTH_CREDENTIALS = new
> HttpAuthRealm(null, null);
>
> The end user code might look similar to that below
>
> 	state.setCredentials(DEFAULT_AUTH_CREDENTIALS,
> 	    new UsernamePasswordCredentials("zulfi", "zulfi"));
>
>
> Cheers
>
> Oleg
>
>
> -----Original Message-----
> From: Zulfi Umrani [mailto:zumrani@novell.com]
> Sent: Tuesday, June 10, 2003 00:44
> To: commons-httpclient-dev@jakarta.apache.org
> Subject: preemptive
>
>
> Tried to use the Preemptive Authentication feature. Could not get it
> to
> work. I used the HttpState.setAuthenticationPreemptive(true); to set
> the
> preemptive authentication ON. It still send the first request without
> the Authorization header. Code sample is below. Would like to know,
> how
> to set up the Pre-emptive Authentication.
>
> package test;
>
> import java.io.*;
> import java.net.URL;
>
> import org.apache.commons.httpclient.*;
> import org.apache.commons.httpclient.methods.*;
> import org.apache.commons.httpclient.auth.*;
> import org.apache.commons.httpclient.util.*;
>
> public class JCTest {
>     public static void main(String[] args) throws Exception {
> 	test0();
> 	test0();
> 	return;
>     }
>
>     public static void test0() throws Exception {
> 	System.out.println("running test0");
>
> 	String urlstr = "http://localhost:9999/services1/test";
> 	URL url = new URL(urlstr);
>
> 	HttpClient hc = new HttpClient();
> 	HttpState state = hc.getState();
> 	state.setAuthenticationPreemptive(true);
> 	state.setCredentials("", url.getHost(),
> 	    new UsernamePasswordCredentials("zulfi", "zulfi"));
>
> 	PostMethod post = new PostMethod(urlstr);
> 	post.setDoAuthentication(true);
>
> 	post.addRequestHeader("Connection", "Keep-Alive");
> 	post.addRequestHeader("Content-Length", ""+msg.length());
> 	post.addRequestHeader("Content-Type", "text/xml;
> charset=utf-8");
>
> 	InputStream reqis = new ByteArrayInputStream(msg.getBytes());
>
> 	post.setRequestBody(reqis);
>
> 	HostConfiguration hconfig = new HostConfiguration();
> 	hconfig.setHost(new URI(urlstr));
>
> 	hc.executeMethod(hconfig, post);
>
> 	System.out.println(post.getResponseBodyAsString());
> 	System.out.println();
>
>     }
>
>     private static String msg = "Text Message";
>
> }
>
>
> Thanks.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ______________________________________________________________________
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org


From anonymous@nagoya.betaversion.org  Tue Jun 10 20:34:21 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 54141 invoked from network); 10 Jun 2003 20:34:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jun 2003 20:34:21 -0000
Received: (qmail 21790 invoked by uid 50); 10 Jun 2003 20:36:42 -0000
Date: 10 Jun 2003 20:36:42 -0000
Message-ID: <20030610203642.21789.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20569]  -
    error handling duplicate connection headers
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20569>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20569

error handling duplicate connection headers





------- Additional Comments From olegk@apache.org  2003-06-10 20:36 -------
Mike, makes sense to me. Go ahead and commit the patch

Oleg

From olegk@apache.org  Tue Jun 10 20:53:52 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 77115 invoked from network); 10 Jun 2003 20:53:52 -0000
Received: from mail5.bluewin.ch (195.186.1.207)
  by daedalus.apache.org with SMTP; 10 Jun 2003 20:53:52 -0000
Received: from [192.168.1.48] (213.3.37.16) by mail5.bluewin.ch (Bluewin AG 7.0.015)
        id 3ECE03BE0021CDC5 for commons-httpclient-dev@jakarta.apache.org; Tue, 10 Jun 2003 20:53:56 +0000
Subject: Re: URI specification
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <7792D310-9AE2-11D7-8E29-00306557E112@u.washington.edu>
References: <7792D310-9AE2-11D7-8E29-00306557E112@u.washington.edu>
Content-Type: text/plain
Organization:
Message-Id: <1055278435.1913.49.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5)
Date: 10 Jun 2003 22:53:55 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Mike,
I think you should give it another shot and file a proposal for URI
classes to be moved into Commons sandbox project of its own. I do not
think of deprecation of URI classes as a big issue. We may continue
supporting our own copy of URI classes while commons-uri is the sandbox.
I really think URL classes would clearly benefit from a greater
visibility and a few more people looking at it on a regular basis.

As a last resort we can think of bringing our case to the entire Jakarta
community where we may stand a better chance of getting enough
interested people to justify the promotion of URI classes into a
separate project

Oleg




On Tue, 2003-06-10 at 03:25, Michael Becke wrote:
> I definitely agree that it would be best if URI had its own home
> outside of HttpClient.  My impression was that we would try to have it
> removed by 2.1 but I see that it is not deprecated.  Perhaps that is
> due to the luke warm reception it has received from the commons
> community at large.  I agree this might be a good time to drum up some
> support for a separate URI package.  Any takers?
>
> As far as compliance goes we're looking pretty good.  The only test
> cases that do not work with HttpClient URI are "../../../g" and
> "../../../../g".  I will look into these.
>
> Mike
>
> On Monday, June 9, 2003, at 03:35 PM, Oleg Kalnichevski wrote:
>
> > Folks,
> >
> > It looks like this directly applies to us (see below). It also raises a
> > question of how we go about URI support in the future. Since Sung-Gu
> > has
> > pretty much retired from the project (he's been a no-show on this list
> > for several months already), URI stuff is ripe for a take over.
> > Spinning
> > it off into a Commons project of its own would be the best option. I
> > think this may be the right moment.
> >
> > Ideas, thoughts, comments?
> >
> > Oleg
> >
> > PS: Sung-Gu, if you are still monitoring this mailing list, please let
> > us know
> >
> >
> >
> >
> > -----Forwarded Message-----
> >
> >> From: Roy T. Fielding <fielding@apache.org>
> >> To: community@apache.org
> >> Subject: URI specification
> >> Date: 09 Jun 2003 12:06:13 -0700
> >>
> >> I submitted draft 03 of the URI spec revision on Friday.  It can
> >> also be obtained via the issues list at
> >>
> >>     http://www.apache.org/~fielding/uri/rev-2002/issues.html
> >>
> >> This draft is close to final, with maybe a few editorial changes
> >> left before going to IESG last call.  It would be nice if the Apache
> >> software projects were checked/updated for conformance.  Please let
> >> me know if any implementations that should be listed when I send
> >> the IESG documentation on independent implementations.
> >>
> >> If you find a bug, please tell me within the next two weeks.
> >>
> >> Cheers,
> >>
> >> ....Roy
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: community-unsubscribe@apache.org
> >> For additional commands, e-mail: community-help@apache.org
> >>
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > commons-httpclient-dev-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From olegk@apache.org  Tue Jun 10 21:03:13 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 87649 invoked from network); 10 Jun 2003 21:03:13 -0000
Received: from mail1.bluewin.ch (195.186.1.74)
  by daedalus.apache.org with SMTP; 10 Jun 2003 21:03:13 -0000
Received: from [192.168.1.48] (213.3.37.16) by mail1.bluewin.ch (Bluewin AG 7.0.016)
        id 3EDB407E000F2553 for commons-httpclient-dev@jakarta.apache.org; Tue, 10 Jun 2003 21:03:18 +0000
Subject: Re: org.apache.commons.httpclient.util.DateParser
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <211C7F39-9B42-11D7-B444-00306557E112@u.washington.edu>
References: <211C7F39-9B42-11D7-B444-00306557E112@u.washington.edu>
Content-Type: text/plain
Organization:
Message-Id: <1055278997.1913.56.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5)
Date: 10 Jun 2003 23:03:17 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


> In general I think it would be nice for HttpClient to have more tools
> for handling headers.  One option would be to add a bunch of methods to
> HttpMethod, but I think this would add too much clutter.  Perhaps we
> should have a "HeaderUtil" class with convenience methods for parsing,
> formatting, etc.  Thoughts?
>

Mike, I'd say that after having HttpMethod interface split into
HttpRequest/HttpResponse pair, adding a few convenience methods would
not result in too much of a clutter. That will have to wait until 3.0,
though.

Oleg


From zumrani@novell.com  Tue Jun 10 21:29:14 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 30238 invoked from network); 10 Jun 2003 21:29:14 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 21:29:14 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Tue, 10 Jun 2003 15:29:21 -0600
Message-Id: <see5f951.091@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Tue, 10 Jun 2003 12:28:41 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: SSL
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Does anyone has sample code to do GET/POST on a https url?

From adrian@intencha.com  Tue Jun 10 21:45:57 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 46317 invoked from network); 10 Jun 2003 21:45:57 -0000
Received: from mail3.nshosts.com (216.58.174.138)
  by daedalus.apache.org with SMTP; 10 Jun 2003 21:45:57 -0000
Received: from intencha.com (unverified [150.101.177.52]) by mail3.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0054905078@mail3.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Tue, 10 Jun 2003 15:45:37 -0600
Date: Wed, 11 Jun 2003 07:46:24 +1000
Subject: Re: NTLM
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <see5dd13.092@prv-mail20.provo.novell.com>
Message-Id: <FB0C39D0-9B8C-11D7-8308-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Your username, password and/or domain are incorrect.  The wire log
shows everything technically going smoothly but the server still
rejects the credentials.

If you are absolutely certain that your credentials are correct, please
send through the exact details of the webserver your using along with
every last little bit of it's configuration information so that I can
try to reproduce the problem.  If there's a problem with the
implementation of the protocol it will be exceptionally hard to track
down so I need as much info as possible.

Regards,

Adrian Sutton.

On Wednesday, June 11, 2003, at 02:28  AM, Zulfi Umrani wrote:

> Tried to Authenticate using NTLM. Attached is JCTest.java sample code
> and debug trace in debug.txt. It comes back finally as "Access Denied".
> Does anyone has a clue?
>
> Thanks.
> <debug.txt>------------------------------------------------------------
> ---------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org


From zumrani@novell.com  Tue Jun 10 22:00:57 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 63271 invoked from network); 10 Jun 2003 22:00:57 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 22:00:57 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Tue, 10 Jun 2003 16:01:04 -0600
Message-Id: <see600c0.008@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Tue, 10 Jun 2003 13:00:29 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: NTLM
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Adrian,
Thanks for pointing. The credentials were wrong. Fixed the credentials
and that fixed the problem.

Thanks.

>>> adrian@intencha.com 6/10/2003 5:46:24 PM >>>
Your username, password and/or domain are incorrect.  The wire log
shows everything technically going smoothly but the server still
rejects the credentials.

If you are absolutely certain that your credentials are correct, please

send through the exact details of the webserver your using along with

every last little bit of it's configuration information so that I can

try to reproduce the problem.  If there's a problem with the
implementation of the protocol it will be exceptionally hard to track

down so I need as much info as possible.

Regards,

Adrian Sutton.

On Wednesday, June 11, 2003, at 02:28  AM, Zulfi Umrani wrote:

> Tried to Authenticate using NTLM. Attached is JCTest.java sample
code
> and debug trace in debug.txt. It comes back finally as "Access
Denied".
> Does anyone has a clue?
>
> Thanks.
>
<debug.txt>------------------------------------------------------------

> ---------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From zumrani@novell.com  Tue Jun 10 22:30:24 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 86887 invoked from network); 10 Jun 2003 22:30:24 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 10 Jun 2003 22:30:24 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Tue, 10 Jun 2003 16:30:31 -0600
Message-Id: <see607a7.095@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Tue, 10 Jun 2003 13:29:53 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: SSL & Phaos
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I guess what I am looking for is SSL using Phaos implementation. What I
really want to be able to do is, configure the SSL related parameters on
a per connection basis. I will appreciate if anyone can help me on
this.

Thanks.

>>> zumrani@novell.com 6/10/2003 2:28:41 PM >>>
Does anyone has sample code to do GET/POST on a https url?

---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From anonymous@nagoya.betaversion.org  Tue Jun 10 22:43:19 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 99188 invoked from network); 10 Jun 2003 22:43:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jun 2003 22:43:19 -0000
Received: (qmail 24282 invoked by uid 50); 10 Jun 2003 22:45:41 -0000
Date: 10 Jun 2003 22:45:41 -0000
Message-ID: <20030610224541.24281.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20569]  -
    error handling duplicate connection headers
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20569>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20569

error handling duplicate connection headers

becke@u.washington.edu changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |FIXED

From anonymous@nagoya.betaversion.org  Tue Jun 10 22:48:59 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 3268 invoked from network); 10 Jun 2003 22:48:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jun 2003 22:48:59 -0000
Received: (qmail 24328 invoked by uid 50); 10 Jun 2003 22:51:21 -0000
Date: 10 Jun 2003 22:51:21 -0000
Message-ID: <20030610225121.24327.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20665] New:  -
    URI path resolution problems.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665

URI path resolution problems.

           Summary: URI path resolution problems.
           Product: Commons
           Version: 2.0 Beta 1
          Platform: Other
               URL: http://www.apache.org/~fielding/uri/rev-2002/issues.html
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: becke@u.washington.edu


URI does not completely conform to RFC 2396.  In particular it does not handle the following
relative URIs correctly:

../../../g
../../../../g

From anonymous@nagoya.betaversion.org  Tue Jun 10 22:49:35 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 4960 invoked from network); 10 Jun 2003 22:49:35 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 10 Jun 2003 22:49:35 -0000
Received: (qmail 24354 invoked by uid 50); 10 Jun 2003 22:51:58 -0000
Date: 10 Jun 2003 22:51:58 -0000
Message-ID: <20030610225158.24353.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20665]  -
    URI path resolution problems.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665

URI path resolution problems.





------- Additional Comments From becke@u.washington.edu  2003-06-10 22:51 -------
Created an attachment (id=6745)
fix 1

From becke@u.washington.edu  Wed Jun 11 02:03:20 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 58708 invoked from network); 11 Jun 2003 02:03:20 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 11 Jun 2003 02:03:20 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout2.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5B23S5R018696
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 19:03:28 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5B23R7j012457
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 19:03:28 -0700
Date: Tue, 10 Jun 2003 22:03:26 -0400
Subject: Re: Post Method
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EE6197A.6080608@lwerner.org>
Message-Id: <E34B9820-9BB0-11D7-8B07-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, this can be accomplished with the MultipartPostMethod.  But as you
mentioned I think this is meant for posting larger, perhaps binary,
content in combination with standard text parameters.

Mike

On Tuesday, June 10, 2003, at 01:46 PM, Laura Werner wrote:

> Kalnichevski, Oleg wrote:
>
>>> must the body of a post request be encoded as a URL Query?
>>>
>>
>> Yes, it must, when the post body content is specified as a set of
>> name/value pairs.
>
> I think you're also allowed to use the multipart/form-data MIME type
> rather than application/x-url-encoded (or whatever it's called).
> Multipart/form-data is very handy if one or more of the values you're
> posting is binary.  (Our VoiceXML interpreter lets applications use it
> to send captured audio files to a server.)
>
> -- Laura
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Wed Jun 11 02:29:02 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 81950 invoked from network); 11 Jun 2003 02:29:02 -0000
Received: from mxout4.cac.washington.edu (140.142.33.19)
  by daedalus.apache.org with SMTP; 11 Jun 2003 02:29:02 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout4.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5B2TBTc026599
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 19:29:11 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5B2T9Px015132
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 19:29:10 -0700
Date: Tue, 10 Jun 2003 22:29:08 -0400
Subject: Re: Post Method
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EE611B2.7030801@mac.com>
Message-Id: <7AC92EE6-9BB4-11D7-8B07-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

There seems to be quite a bit of discussion regarding this question but
not too much that seems ultimately definitive.  This one seems to be
the best:

http://groups.google.com/groups?oi=djq&selm=an_537840002

Essentially the author says that form encoding and URI encoding are two
unrelated things.  When posting via a form the data should be encoded
as per (http://www.w3.org/MarkUp/html-spec/html-spec_8.html#SEC8.2.1).
When building a URI rfc2396 should be used.

If this is correct, which I think it is, PostMethod is incorrectly
encoding values.  It also seems that query parameters are being
incorrectly encoded as they should be using x-www-form-urlencoded. My
guess is that most web servers will accept data encoded either way as
there is some general confusion regarding this.  My feeling is that
PostMethod and HttpMethodBase should be changed to conform to the
x-www-form-urlencoded standard.  What does everyone think?

Mike

On Tuesday, June 10, 2003, at 01:13 PM, Mike Moran wrote:

> Michael Becke wrote:
>> I think there may be a bug here as well.  According to the spec,
>> space characters should be represented as '+' but URIUtil is encoding
>> them as '%20'.  I think the resevered character set is perhaps also
>> incorrect. According to rfc 1738 ";", "/", "?", ":", "@", "=" and "&"
>> are the reserved chars but URI is also uncluding "+", "$" and ",".
>> My guess is that most servers translate all hex encoded characters
>> but it seems that we are not quite to spec.
>
> You may want to double-check this with rfc2396, which updates rfc1738.
> My interpretation of the '+'/'%20' issue was that both were legal
> escapings of space, however it may be worth another reading on my > part.
>
> --
> Mike Moran
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From philion@acmerocket.com  Wed Jun 11 03:40:51 2003
Return-Path: <philion@acmerocket.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 33612 invoked from network); 11 Jun 2003 03:40:51 -0000
Received: from hall.mail.mindspring.net (207.69.200.60)
  by daedalus.apache.org with SMTP; 11 Jun 2003 03:40:51 -0000
Received: from user-112urtp.biz.mindspring.com ([66.47.111.185] helo=Helios)
	by hall.mail.mindspring.net with esmtp (Exim 3.33 #1)
	id 19PwTt-0008Lo-00
	for commons-httpclient-dev@jakarta.apache.org; Tue, 10 Jun 2003 23:41:01 -0400
Message-ID: <00a101c32fcb$528dd800$0801a8c0@Helios>
From: "Paul Philion" <philion@acmerocket.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <7AC92EE6-9BB4-11D7-8B07-00306557E112@u.washington.edu>
Subject: Re: Post Method
Date: Tue, 10 Jun 2003 23:41:20 -0400
Organization: Acme Rocket Company
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

In theory I agree, but I see a lot of uses of the O'Reilly multipart stuff,
which expects "multipart/form-data" (see:
http://www.servlets.com/cos/javadoc/com/oreilly/servlet/multipart/MultipartParser.html)

I had a specific problem with the and x-www-form-urlencoded last week, which
is why I'm using PostMethod instead of the multipart version.

What I would really like to see is the ability to set an encoding for a POST
method, and have the data be correctly encoded when the method is executed.
At very least, it would be nice to be able to set the encoding and enforce
the encoding myself when adding the name/values.

----
Paul Philion
philion@acmerocket.com

----- Original Message -----
From: "Michael Becke" <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Tuesday, June 10, 2003 10:29 PM
Subject: Re: Post Method


> There seems to be quite a bit of discussion regarding this question but
> not too much that seems ultimately definitive.  This one seems to be
> the best:
>
> http://groups.google.com/groups?oi=djq&selm=an_537840002
>
> Essentially the author says that form encoding and URI encoding are two
> unrelated things.  When posting via a form the data should be encoded
> as per (http://www.w3.org/MarkUp/html-spec/html-spec_8.html#SEC8.2.1).
> When building a URI rfc2396 should be used.
>
> If this is correct, which I think it is, PostMethod is incorrectly
> encoding values.  It also seems that query parameters are being
> incorrectly encoded as they should be using x-www-form-urlencoded. My
> guess is that most web servers will accept data encoded either way as
> there is some general confusion regarding this.  My feeling is that
> PostMethod and HttpMethodBase should be changed to conform to the
> x-www-form-urlencoded standard.  What does everyone think?
>
> Mike
>
> On Tuesday, June 10, 2003, at 01:13 PM, Mike Moran wrote:
>
> > Michael Becke wrote:
> >> I think there may be a bug here as well.  According to the spec,
> >> space characters should be represented as '+' but URIUtil is encoding
> >> them as '%20'.  I think the resevered character set is perhaps also
> >> incorrect. According to rfc 1738 ";", "/", "?", ":", "@", "=" and "&"
> >> are the reserved chars but URI is also uncluding "+", "$" and ",".
> >> My guess is that most servers translate all hex encoded characters
> >> but it seems that we are not quite to spec.
> >
> > You may want to double-check this with rfc2396, which updates rfc1738.
> > My interpretation of the '+'/'%20' issue was that both were legal
> > escapings of space, however it may be worth another reading on my >
part.
> >
> > --
> > Mike Moran
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > commons-httpclient-dev-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>
>


From becke@u.washington.edu  Wed Jun 11 03:46:03 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 41539 invoked from network); 11 Jun 2003 03:46:03 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 11 Jun 2003 03:46:03 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5B3kDSL002774
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 20:46:13 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5B3kB7j014784
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 20:46:12 -0700
Date: Tue, 10 Jun 2003 23:46:10 -0400
Subject: Re: SSL & Phaos
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <see607a7.095@prv-mail20.provo.novell.com>
Message-Id: <3DD862C4-9BBF-11D7-8B07-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I don't know much about Phaos but it looks like they extend the Java
Socket class.  If this is the case it should be pretty easy.  There is
not any released documentation talking about how to use a custom SSL
implementation but there is something pre-release if you would like to
take a look.  Please take a look at the last attachment to this bug
(http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809).  In general
you need to create an implementation of SecureProtocolSocketFactory and
register it with Protocol.

Mike


From becke@u.washington.edu  Wed Jun 11 04:00:28 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 52930 invoked from network); 11 Jun 2003 04:00:28 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 11 Jun 2003 04:00:28 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5B40cSL003614
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 21:00:38 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5B40a7j015099
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 10 Jun 2003 21:00:37 -0700
Date: Wed, 11 Jun 2003 00:00:36 -0400
Subject: Re: Post Method
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <00a101c32fcb$528dd800$0801a8c0@Helios>
Message-Id: <41A53C46-9BC1-11D7-8B07-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> In theory I agree, but I see a lot of uses of the O'Reilly multipart
> stuff,
> which expects "multipart/form-data" (see:
> http://www.servlets.com/cos/javadoc/com/oreilly/servlet/multipart/
> MultipartParser.html)

Yes, please take a look at MultipartPostMethod.

> I had a specific problem with the and x-www-form-urlencoded last week,
> which
> is why I'm using PostMethod instead of the multipart version.

Were you experiencing a problem with PostMethod and encoding? Do you
have any specifics?

> What I would really like to see is the ability to set an encoding for
> a POST
> method, and have the data be correctly encoded when the method is
> executed.
> At very least, it would be nice to be able to set the encoding and
> enforce
> the encoding myself when adding the name/values.

This is possible now.  You can set the content type with
post.setRequestHeader("Content-Type", "whatever").  Then the content
can be set with post.setRequestBody(InputStream) or
post.setRequestBody(String).

Mike


From oleg.kalnichevski@bearingpoint.com  Wed Jun 11 07:51:46 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 37897 invoked from network); 11 Jun 2003 07:51:46 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 11 Jun 2003 07:51:46 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 11 Jun 2003 07:53:45 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable
Subject: HttpURLConnection implementation based on HttpClient
Date: Wed, 11 Jun 2003 08:51:56 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE55A@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: HttpURLConnection implementation based on HttpClient
Thread-Index: AcMv7lQ0vg28c8WZTaKQiWBXwu8Yvw==
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: <langbehn@netcologne.de>
Cc: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 11 Jun 2003 07:53:45.0546 (UTC) FILETIME=[959F1AA0:01C32FEE]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Rainer

I am one of the Apache Jakarta Commons HttpClient developers.=20

http://jakarta.apache.org/commons/httpclient/index.html

I have stumbled upon your post on Sun's Java Technology Forums pretty =
much by chance. As far as I understand you have been working on a =
HttpURLConnection implementation based on Jakarta Commons HttpClient.

http://forum.java.sun.com/thread.jsp?thread=3D242780&forum=3D45&message=3D=
1000135=09

Our existing implementation of URLConnection compatibility layer, =
frankly put, leaves much more to be desired and needs to be radically =
improved. At the moment none of the HttpClient regular developers does =
not seem to have bandwidth for that work. I wonder if you might be =
interested to contribute your code to the HttpClient project?

Cheers

Oleg

From michael.mattox@verideon.com  Wed Jun 11 14:42:26 2003
Return-Path: <michael.mattox@verideon.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 90773 invoked from network); 11 Jun 2003 14:42:26 -0000
Received: from smtp4.wanadoo.fr (HELO mwinf0503.wanadoo.fr) (193.252.22.26)
  by daedalus.apache.org with SMTP; 11 Jun 2003 14:42:26 -0000
Received: from Paris (unknown [81.51.87.205])
	by mwinf0503.wanadoo.fr (SMTP Server) with ESMTP id 442DB680014A
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 16:42:26 +0200 (CEST)
Reply-To: <michael.mattox@verideon.com>
From: "Michael Mattox" <michael.mattox@verideon.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: HttpConnection.ConnectionTimeoutException with certain site
Date: Wed, 11 Jun 2003 16:42:35 +0200
Message-ID: <CJEBLDCHAADCLAGIGCOOAEHICJAA.michael.mattox@verideon.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I get a HttpConnection.ConnectionTimeoutException with a certain site
(http://www.fnac.com) but I don't get it with other sites.  And I don't get
it 100% of the time.  I set my connect timeout to 10 seconds and I get it
frequently.  I set my timeout to 20 seconds and I get only a few.  I'm
suspicious because when I visit the site with my browser, it loads up in
just a couple seconds.  I'm using DSL so I don't see how it could take 20
seconds to connect with HttpClient and only 2 seconds with my browser.

I'm curious if anyone has seen this before?

Michael Mattox




From ortwin.glueck@nose.ch  Wed Jun 11 14:50:50 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 20412 invoked from network); 11 Jun 2003 14:50:50 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 11 Jun 2003 14:50:50 -0000
Received: (qmail 8337 invoked from network); 11 Jun 2003 14:50:50 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 11 Jun 2003 14:50:50 -0000
Message-ID: <3EE741C9.1040906@nose.ch>
Date: Wed, 11 Jun 2003 16:50:49 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: HttpConnection.ConnectionTimeoutException with certain site
References: <CJEBLDCHAADCLAGIGCOOAEHICJAA.michael.mattox@verideon.com>
In-Reply-To: <CJEBLDCHAADCLAGIGCOOAEHICJAA.michael.mattox@verideon.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michael,

Could you please post a wirelog of the session in question? Please refer
to the logging guide on the HttpClient website to learn how to get a log.

Odi

Michael Mattox wrote:
> I get a HttpConnection.ConnectionTimeoutException with a certain site
> (http://www.fnac.com) but I don't get it with other sites.  And I don't get
> it 100% of the time.  I set my connect timeout to 10 seconds and I get it
> frequently.  I set my timeout to 20 seconds and I get only a few.  I'm
> suspicious because when I visit the site with my browser, it loads up in
> just a couple seconds.  I'm using DSL so I don't see how it could take 20
> seconds to connect with HttpClient and only 2 seconds with my browser.
>
> I'm curious if anyone has seen this before?
>
> Michael Mattox


From michael.mattox@verideon.com  Wed Jun 11 15:17:09 2003
Return-Path: <michael.mattox@verideon.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 95830 invoked from network); 11 Jun 2003 15:17:09 -0000
Received: from smtp4.wanadoo.fr (HELO mwinf0501.wanadoo.fr) (193.252.22.26)
  by daedalus.apache.org with SMTP; 11 Jun 2003 15:17:09 -0000
Received: from Paris (unknown [81.51.87.205])
	by mwinf0501.wanadoo.fr (SMTP Server) with ESMTP
	id AECBA4002E0; Wed, 11 Jun 2003 17:17:10 +0200 (CEST)
Reply-To: <michael.mattox@verideon.com>
From: "Michael Mattox" <michael.mattox@verideon.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Cc: <olegk@apache.org>
Subject: Status of bug FollowRedirects 302
Date: Wed, 11 Jun 2003 17:17:20 +0200
Message-ID: <CJEBLDCHAADCLAGIGCOOIEIHCJAA.michael.mattox@verideon.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm curious if this is being worked on?  I just switched over to Apache's
HttpClient from SUN's (full of bugs) and I notice that many websites such as
msnbc.com and google.com return a 302 for queries for their homepages.  If
no one is currently working on this I'd be interested in having a look at
the source to see what's involved.  Any pointers would be appreciated.  I
just checked and the nightly build from June 5 still has this problem.

Here is the Bugzilla entry:

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=16729

Thanks,
Michael



From ortwin.glueck@nose.ch  Wed Jun 11 15:53:14 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 71813 invoked from network); 11 Jun 2003 15:53:14 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 11 Jun 2003 15:53:14 -0000
Received: (qmail 9188 invoked from network); 11 Jun 2003 15:53:16 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 11 Jun 2003 15:53:16 -0000
Message-ID: <3EE75069.6070201@nose.ch>
Date: Wed, 11 Jun 2003 17:53:13 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Status of bug FollowRedirects 302
References: <CJEBLDCHAADCLAGIGCOOIEIHCJAA.michael.mattox@verideon.com>
In-Reply-To: <CJEBLDCHAADCLAGIGCOOIEIHCJAA.michael.mattox@verideon.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michael Mattox wrote:
> http://nagoya.apache.org/bugzilla/show_bug.cgi?id=16729

Michael,

We are aware of the problem. The problem is caused by a design flaw
which can not be overcome in the current version. We can not do anything
until we have branched 2.0 out and start working on 2.1. There is a work
around by handling 302 codes yourself.

I appreciate your interest and will to contribute. But do not waste your
time on this particular issue currently.

Odi


From JGonsalves@xtensible.com  Wed Jun 11 17:54:06 2003
Return-Path: <JGonsalves@xtensible.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 1513 invoked from network); 11 Jun 2003 17:54:06 -0000
Received: from smtp01.mrf.mail.rcn.net (207.172.4.60)
  by daedalus.apache.org with SMTP; 11 Jun 2003 17:54:06 -0000
X-Info: This message was accepted for relay by
	smtp01.mrf.mail.rcn.net as the sender used SMTP authentication
X-Trace: UmFuZG9tSVb3engscwzOfUMN2YCRvgjwJNM+nODAhnwqE4pd7AJwiqDucUv5uutMjdg33p0+VcY=
Received: from pool-64-223-173-35.man.east.verizon.net ([64.223.173.35] helo=Xtensible.com)
	by smtp01.mrf.mail.rcn.net with asmtp (Exim 3.35 #4)
	id 19Q9nW-00000y-00
	for commons-httpclient-dev@jakarta.apache.org; Wed, 11 Jun 2003 13:54:11 -0400
Message-ID: <3EE76CCA.8050401@Xtensible.com>
Date: Wed, 11 Jun 2003 13:54:18 -0400
From: Jan Gonsalves <JGonsalves@Xtensible.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Multiple httpclient sessions and hanging??
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm seeing a problem where I have two very similar HttpClient apps
running in different JVMs.  I ran App1 with Beta1 for 20+ ours straight
and it just chugged along and did it's thing.  I started App2 with
Alpha3 this morning and the minute it came up, App1 hung.  Definition of
Hung: "In the middle of downloading information, often from a file on a
foriegn FTP server using a ZipInputStream, program never returns from
reading stream. How ever, sometimes it has "hung" when doing a
ExecuteMethod cal."  We have seen cases where App1 has been hanging and
we were hoping it was some timeout or something that had been fixed in
Beta 1.  I changed the second app to use BEta1 and ran them together for
a 5+ hours and just recently noticed App1 hung again.  It only seems to
happen when App2 is running on the same machine, I never ran into this
while in development because App2 was developed on a separate machine.

The thing that kills me is App2 never has this issue.  Some application
notes:
Incremental Updates - Both Apps run for a couple minutes and then sleep
for 10.  While sleeping no connections are kept open.
App1 reads zip files on a FTP server, App2 reads input streams from the
response body
App1 performs signifigantly less POST/GET calls than App2.  App1
requests information to be created and then put on the FTP server, Files
are read from there and not downloaded(Most, not all hangs happen here),
App2 requests information and it's sent via the response body.

I know this is vague, I'm just wondering if anyone knows of problems
running multiple HttpClient Apps.  I'm going to run with the log on from
now on, but it can take so long for the problem to occur it fills up
disk space pretty rapidly.

Any ideas would be greatly appreciated.

Jan Gonsalves


From becke@u.washington.edu  Wed Jun 11 19:09:47 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 59209 invoked from network); 11 Jun 2003 19:09:47 -0000
Received: from mxout5.cac.washington.edu (140.142.32.135)
  by daedalus.apache.org with SMTP; 11 Jun 2003 19:09:47 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout5.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5BJ9pt7021228
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 12:09:51 -0700
Received: from u.washington.edu (ss05.co.us.ibm.com [32.97.110.70])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5BJ9j7j011246
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 12:09:50 -0700
Message-ID: <3EE77E65.1050105@u.washington.edu>
Date: Wed, 11 Jun 2003 15:09:25 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Multiple httpclient sessions and hanging??
References: <3EE76CCA.8050401@Xtensible.com>
In-Reply-To: <3EE76CCA.8050401@Xtensible.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Jan,

It is difficult to be sure without a little more detail.  At this point
my only guess is that you are running out of sockets (on either the
client or server) and/or HttpConnections.  It is good that you are using
Beta1.  Alpha3 had some serious problems, particularly with posts and
threading.  Here are a few things that will help to narrow this problem
down:

  - are you using the MultiThreadedHttpConnectionManager?
    - if so, are you using a connectionFactory timeout? see
HttpClient.setHttpConnectionFactoryTimeout()
    - if not, how are you managing connection resources?  Are you sure
that connections are being closed?
  - are any exceptions being printed?
  - are you calling HttpMethod.releaseConnection() after each execution?
  - also, try setting SO_TIMEOUT to something reasonable using either
HttpClient.setTimeout() or HttpConnection.setSoTimeout().  If the
execution of a method is stalling in the middle of a read this will
force an exception.

Mike

Jan Gonsalves wrote:
> I'm seeing a problem where I have two very similar HttpClient apps
> running in different JVMs.  I ran App1 with Beta1 for 20+ ours straight
> and it just chugged along and did it's thing.  I started App2 with
> Alpha3 this morning and the minute it came up, App1 hung.  Definition of
> Hung: "In the middle of downloading information, often from a file on a
> foriegn FTP server using a ZipInputStream, program never returns from
> reading stream. How ever, sometimes it has "hung" when doing a
> ExecuteMethod cal."  We have seen cases where App1 has been hanging and
> we were hoping it was some timeout or something that had been fixed in
> Beta 1.  I changed the second app to use BEta1 and ran them together for
> a 5+ hours and just recently noticed App1 hung again.  It only seems to
> happen when App2 is running on the same machine, I never ran into this
> while in development because App2 was developed on a separate machine.
> The thing that kills me is App2 never has this issue.  Some application
> notes:
> Incremental Updates - Both Apps run for a couple minutes and then sleep
> for 10.  While sleeping no connections are kept open.
> App1 reads zip files on a FTP server, App2 reads input streams from the
> response body
> App1 performs signifigantly less POST/GET calls than App2.  App1
> requests information to be created and then put on the FTP server, Files
> are read from there and not downloaded(Most, not all hangs happen here),
> App2 requests information and it's sent via the response body.
>
> I know this is vague, I'm just wondering if anyone knows of problems
> running multiple HttpClient Apps.  I'm going to run with the log on from
> now on, but it can take so long for the problem to occur it fills up
> disk space pretty rapidly.
>
> Any ideas would be greatly appreciated.
> Jan Gonsalves
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From anonymous@nagoya.betaversion.org  Wed Jun 11 19:12:13 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 70280 invoked from network); 11 Jun 2003 19:12:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Jun 2003 19:12:13 -0000
Received: (qmail 24177 invoked by uid 50); 11 Jun 2003 19:14:34 -0000
Date: 11 Jun 2003 19:14:34 -0000
Message-ID: <20030611191434.24176.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20646]  -
    Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646

Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1





------- Additional Comments From olegk@apache.org  2003-06-11 19:14 -------
NTLM proxy support in Beta-1 is indeed broken. I believe I have found the cause
of the problem. Expect a patch soon.

Oleg

From JGonsalves@xtensible.com  Wed Jun 11 19:44:33 2003
Return-Path: <JGonsalves@xtensible.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 56237 invoked from network); 11 Jun 2003 19:44:33 -0000
Received: from smtp01.mrf.mail.rcn.net (207.172.4.60)
  by daedalus.apache.org with SMTP; 11 Jun 2003 19:44:33 -0000
X-Info: This message was accepted for relay by
	smtp01.mrf.mail.rcn.net as the sender used SMTP authentication
X-Trace: UmFuZG9tSVYH970kxktmD63+W9BGQkDm80DnI2TdNIYGaHkUm7zQTGS8UDImGeaSaVc/6p8jSm0=
Received: from pool-64-223-173-35.man.east.verizon.net ([64.223.173.35] helo=Xtensible.com)
	by smtp01.mrf.mail.rcn.net with asmtp (Exim 3.35 #4)
	id 19QBWP-0004tb-00
	for commons-httpclient-dev@jakarta.apache.org; Wed, 11 Jun 2003 15:44:37 -0400
Message-ID: <3EE786AD.4080001@Xtensible.com>
Date: Wed, 11 Jun 2003 15:44:45 -0400
From: Jan Gonsalves <JGonsalves@Xtensible.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Multiple httpclient sessions and hanging??
References: <3EE76CCA.8050401@Xtensible.com> <3EE77E65.1050105@u.washington.edu>
In-Reply-To: <3EE77E65.1050105@u.washington.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Mike,

Ipersonally don't think it's HTTPClient, however, the running out of
sockets idea is interesting.  I recently hung reading a file with the
following last four lines of the stack trace being:
at java.net.SocketInputStream.socketRead0(Native Method)
at java.net.SocketInputStream.read(SocketInputStream.java:129)
at java.io.BufferedInputStream.fill(BufferedInputStream.java:183)
at java.io.BufferedInputStream.read(BufferedInputStream.java:201)
- locked (a java.io.BufferedInputStream)

Both applications are single threaded, and I haven't done anything with
MultiThreadedHttpConnectionManager.  All I did to "go to Beta 1" was
chang out the Jar File.

I also do not close the connection after each request, I close it after
each update, which can be a series of request.  I'm assuming each time I
close the connection I'd have to "log back in" to the website, IE where
the files are kept.  There login page simple consists of a POST command
with a username and password stuck inside, for all to see...  Is it your
recomendation that after each request I close the connection instead of
recycle?  Since I only open the connection once per update, unless I run
into socket timeouts and other catched exceptions in which I first run
close connection then reopen the connection, I believe my single close
at the end is sufficient.

I get no exceptions, without a kill -3, it looks as though it's running
fine and poof, hung.  How can I check my System Socket Usage, is there
some safeguards I can put in to not open unless available?
Thanks for your help!

Jan

Michael Becke wrote:

> Hi Jan,
>
> It is difficult to be sure without a little more detail.  At this
> point my only guess is that you are running out of sockets (on either
> the client or server) and/or HttpConnections.  It is good that you are
> using Beta1.  Alpha3 had some serious problems, particularly with
> posts and threading.  Here are a few things that will help to narrow
> this problem down:
>
>  - are you using the MultiThreadedHttpConnectionManager?
>    - if so, are you using a connectionFactory timeout? see
> HttpClient.setHttpConnectionFactoryTimeout()
>    - if not, how are you managing connection resources?  Are you sure
> that connections are being closed?
>  - are any exceptions being printed?
>  - are you calling HttpMethod.releaseConnection() after each execution?
>  - also, try setting SO_TIMEOUT to something reasonable using either
> HttpClient.setTimeout() or HttpConnection.setSoTimeout().  If the
> execution of a method is stalling in the middle of a read this will
> force an exception.
>
> Mike
>
> Jan Gonsalves wrote:
>
>> I'm seeing a problem where I have two very similar HttpClient apps
>> running in different JVMs.  I ran App1 with Beta1 for 20+ ours
>> straight and it just chugged along and did it's thing.  I started
>> App2 with Alpha3 this morning and the minute it came up, App1 hung.
>> Definition of Hung: "In the middle of downloading information, often
>> from a file on a foriegn FTP server using a ZipInputStream, program
>> never returns from reading stream. How ever, sometimes it has "hung"
>> when doing a ExecuteMethod cal."  We have seen cases where App1 has
>> been hanging and we were hoping it was some timeout or something that
>> had been fixed in Beta 1.  I changed the second app to use BEta1 and
>> ran them together for a 5+ hours and just recently noticed App1 hung
>> again.  It only seems to happen when App2 is running on the same
>> machine, I never ran into this while in development because App2 was
>> developed on a separate machine.
>> The thing that kills me is App2 never has this issue.  Some
>> application notes:
>> Incremental Updates - Both Apps run for a couple minutes and then
>> sleep for 10.  While sleeping no connections are kept open.
>> App1 reads zip files on a FTP server, App2 reads input streams from
>> the response body
>> App1 performs signifigantly less POST/GET calls than App2.  App1
>> requests information to be created and then put on the FTP server,
>> Files are read from there and not downloaded(Most, not all hangs
>> happen here), App2 requests information and it's sent via the
>> response body.
>>
>> I know this is vague, I'm just wondering if anyone knows of problems
>> running multiple HttpClient Apps.  I'm going to run with the log on
>> from now on, but it can take so long for the problem to occur it
>> fills up disk space pretty rapidly.
>>
>> Any ideas would be greatly appreciated.
>> Jan Gonsalves
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>


From michael.mattox@verideon.com  Wed Jun 11 20:19:26 2003
Return-Path: <michael.mattox@verideon.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 13961 invoked from network); 11 Jun 2003 20:19:26 -0000
Received: from smtp6.wanadoo.fr (HELO mwinf0303.wanadoo.fr) (193.252.22.28)
  by daedalus.apache.org with SMTP; 11 Jun 2003 20:19:26 -0000
Received: from Paris (unknown [81.51.87.205])
	by mwinf0303.wanadoo.fr (SMTP Server) with ESMTP id 33F84500092C
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 22:19:31 +0200 (CEST)
Reply-To: <michael.mattox@verideon.com>
From: "Michael Mattox" <michael.mattox@verideon.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: Is it possible to set a timeout for HttpMethod.execute ?
Date: Wed, 11 Jun 2003 22:19:31 +0200
Message-ID: <CJEBLDCHAADCLAGIGCOOOEKBCJAA.michael.mattox@verideon.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm using HttpMethod.execute(state, connection) to execute a GET.  However
with Amazon.com it seems to hang occasionally.  Is it possible to set a
timeout for the execute method?  I had this same problem with SUN's
HttpURLConnection class.  It was blocking on a socket read.  This is one of
the reasons I switched to the Apache HttpClient and now I'm suprised to see
the same behavior!

Thanks,
Michael



From becke@u.washington.edu  Wed Jun 11 20:25:07 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 24820 invoked from network); 11 Jun 2003 20:25:07 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 11 Jun 2003 20:25:07 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5BKPCYV024438
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 13:25:12 -0700
Received: from u.washington.edu (ss07.co.us.ibm.com [32.97.110.72])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5BKPB7j015524
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 13:25:12 -0700
Message-ID: <3EE79017.9070203@u.washington.edu>
Date: Wed, 11 Jun 2003 16:24:55 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Is it possible to set a timeout for HttpMethod.execute ?
References: <CJEBLDCHAADCLAGIGCOOOEKBCJAA.michael.mattox@verideon.com>
In-Reply-To: <CJEBLDCHAADCLAGIGCOOOEKBCJAA.michael.mattox@verideon.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You want to set the SO_TIMEOUT.  This can be done with
HttpClient.setTimeout().

Mike

Michael Mattox wrote:
> I'm using HttpMethod.execute(state, connection) to execute a GET.  However
> with Amazon.com it seems to hang occasionally.  Is it possible to set a
> timeout for the execute method?  I had this same problem with SUN's
> HttpURLConnection class.  It was blocking on a socket read.  This is one of
> the reasons I switched to the Apache HttpClient and now I'm suprised to see
> the same behavior!
>
> Thanks,
> Michael
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From anonymous@nagoya.betaversion.org  Wed Jun 11 20:47:46 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 64982 invoked from network); 11 Jun 2003 20:47:46 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Jun 2003 20:47:46 -0000
Received: (qmail 26697 invoked by uid 50); 11 Jun 2003 20:50:07 -0000
Date: 11 Jun 2003 20:50:07 -0000
Message-ID: <20030611205007.26696.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20646]  -
    Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646

Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1





------- Additional Comments From olegk@apache.org  2003-06-11 20:50 -------
Created an attachment (id=6771)
Patch (take 1)

From anonymous@nagoya.betaversion.org  Wed Jun 11 21:29:09 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 31392 invoked from network); 11 Jun 2003 21:29:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 11 Jun 2003 21:29:09 -0000
Received: (qmail 28285 invoked by uid 50); 11 Jun 2003 21:31:31 -0000
Date: 11 Jun 2003 21:31:31 -0000
Message-ID: <20030611213131.28284.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20646]  -
    Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646

Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1





------- Additional Comments From adrian@ephox.com  2003-06-11 21:31 -------
hmm yeah, that current code would break NTLM.. :)  Oleg, you're patch looks good to me.  We'll
have to create full tests for NTLM to ensure connections stay open properly.  I can take a look at
that once I get this whole committer thing sorted out.

From olegk@apache.org  Wed Jun 11 21:51:13 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 65047 invoked from network); 11 Jun 2003 21:51:13 -0000
Received: from mail6.bluewin.ch (195.186.4.229)
  by daedalus.apache.org with SMTP; 11 Jun 2003 21:51:13 -0000
Received: from olddude.tislab.ch (81.62.52.173) by mail6.bluewin.ch (Bluewin AG 7.0.016)
        id 3EDDD4F3000C614E for commons-httpclient-dev@jakarta.apache.org; Wed, 11 Jun 2003 21:51:18 +0000
Subject: Proxy unit tests
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <20030611213131.28284.qmail@nagoya.betaversion.org>
References: <20030611213131.28284.qmail@nagoya.betaversion.org>
Content-Type: text/plain
Message-Id: <1055368276.1937.19.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 11 Jun 2003 23:51:16 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian,
I whole-heartedly support the idea of developing a suite of unit tests
dedicated to the proxied HTTP communication. The only catch here is that
such test cases would require a full blown proxy server. There seems to
be no way around it. In order to be able to test proxy related stuff I
ended up setting up a local 'squid' server. It was a major pain in the
rear to get it configured properly. So, decent documentation of the
entire process will be paramount. Somebody would also have to set up MS
proxy server, as it often happens to be causing specific problems,
especially related to NTLM authentication.

How is your committer agreement shaping up? I would really LOVE to see
that damn SSL guide massaged a bit and finally deployed on our web site.
Cheers

Oleg

> ------- Additional Comments From adrian@ephox.com  2003-06-11 21:31 -------
> hmm yeah, that current code would break NTLM.. :)  Oleg, you're patch looks good to me.  We'll
> have to create full tests for NTLM to ensure connections stay open properly.  I can take a look at
> that once I get this whole committer thing sorted out.
>



From rg1915@dslextreme.com  Wed Jun 11 23:01:08 2003
Return-Path: <rg1915@dslextreme.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 48372 invoked from network); 11 Jun 2003 23:01:08 -0000
Received: from securemail3.diginsite.com (HELO securemail.diginsite.com) (206.107.78.16)
  by daedalus.apache.org with SMTP; 11 Jun 2003 23:01:08 -0000
Received: from warden.diginsite.com (warden-p.diginsite.com [208.29.163.248] (may be forged))
	by securemail.diginsite.com (8.12.9/8.12.4) with SMTP id h5BN1FBB002370
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 16:01:15 -0700
Received: from calart01.diginsite.com by warden.diginsite.com
          via smtpd (for securemail.diginsite.com [206.107.78.4]) with SMTP; Wed, 11 Jun 2003 16:01:15 -0700
Message-ID: <000a01c3306d$5c89f760$c90ac80a@DI3266>
From: "Ralph Goers" <rg1915@dslextreme.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: HttpState not serializable
Date: Wed, 11 Jun 2003 16:01:15 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0007_01C33032.AFF8EBD0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0007_01C33032.AFF8EBD0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I am trying to save the HttpState object in the session and am getting a =
message from Weblogic Server saying the attribute is not serializable =
and will be lost upon redeployment.  How can I address this?

Ralph
------=_NextPart_000_0007_01C33032.AFF8EBD0--


From adrian@intencha.com  Wed Jun 11 23:13:42 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 64023 invoked from network); 11 Jun 2003 23:13:42 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 11 Jun 2003 23:13:42 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055276790@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Wed, 11 Jun 2003 17:11:05 -0600
Date: Thu, 12 Jun 2003 09:14:17 +1000
Subject: Re: HttpState not serializable
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000a01c3306d$5c89f760$c90ac80a@DI3266>
Message-Id: <6CCCEE4A-9C62-11D7-8308-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Create a new class that extends HttpState and make it serializable.
I'm not sure exactly what information you want to serialize with it,
the cookies would be good to keep I suppose but there may be references
to a bunch of stuff you don't want to keep.  If you come up with
something that works for you it would be great if you'd consider
contributing it back to HttpClient.  Initially I think it would be
something for the contrib package but it could be good to merge it with
HttpState after 2.0 is released.

Let me know if you need more details.

Regards,

Adrian Sutton.

On Thursday, June 12, 2003, at 09:01  AM, Ralph Goers wrote:

> I am trying to save the HttpState object in the session and am getting
> a message from Weblogic Server saying the attribute is not
> serializable and will be lost upon redeployment.  How can I address
> this?
>
> Ralph


From becke@u.washington.edu  Wed Jun 11 23:33:39 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 85683 invoked from network); 11 Jun 2003 23:33:39 -0000
Received: from mxout4.cac.washington.edu (140.142.33.19)
  by daedalus.apache.org with SMTP; 11 Jun 2003 23:33:39 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout4.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5BNXkTc027561
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 16:33:46 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5BNXiPx030187
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 16:33:45 -0700
Date: Wed, 11 Jun 2003 19:33:41 -0400
Subject: Re: HttpState not serializable
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <6CCCEE4A-9C62-11D7-8308-000393016056@intencha.com>
Message-Id: <22A8597C-9C65-11D7-89D4-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think this will work for most of the variables, except the connection
manager.  I do not believe the connections can be safely serialized.
The connection manager will need to be marked transient and handed
manually I think.

Mike

On Wednesday, June 11, 2003, at 07:14 PM, Adrian Sutton wrote:

> Create a new class that extends HttpState and make it serializable.
> I'm not sure exactly what information you want to serialize with it,
> the cookies would be good to keep I suppose but there may be
> references to a bunch of stuff you don't want to keep.  If you come up
> with something that works for you it would be great if you'd consider
> contributing it back to HttpClient.  Initially I think it would be
> something for the contrib package but it could be good to merge it
> with HttpState after 2.0 is released.
>
> Let me know if you need more details.
>
> Regards,
>
> Adrian Sutton.
>
> On Thursday, June 12, 2003, at 09:01  AM, Ralph Goers wrote:
>
>> I am trying to save the HttpState object in the session and am
>> getting a message from Weblogic Server saying the attribute is not
>> serializable and will be lost upon redeployment.  How can I address
>> this?
>>
>> Ralph
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From adrian@intencha.com  Wed Jun 11 23:49:52 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 11483 invoked from network); 11 Jun 2003 23:49:52 -0000
Received: from mail3.nshosts.com (216.58.174.138)
  by daedalus.apache.org with SMTP; 11 Jun 2003 23:49:52 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail3.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0054992706@mail3.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Wed, 11 Jun 2003 17:49:40 -0600
Date: Thu, 12 Jun 2003 09:50:30 +1000
Subject: Re: Proxy unit tests
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1055368276.1937.19.camel@kczrh-okt22.corp.bearingpoint.com>
Message-Id: <7C14259E-9C67-11D7-8308-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Thursday, June 12, 2003, at 07:51  AM, Oleg Kalnichevski wrote:

> Adrian,
> I whole-heartedly support the idea of developing a suite of unit tests
> dedicated to the proxied HTTP communication. The only catch here is
> that
> such test cases would require a full blown proxy server. There seems to
> be no way around it. In order to be able to test proxy related stuff I
> ended up setting up a local 'squid' server. It was a major pain in the
> rear to get it configured properly. So, decent documentation of the
> entire process will be paramount. Somebody would also have to set up MS
> proxy server, as it often happens to be causing specific problems,
> especially related to NTLM authentication.

Yes, we should document those steps well so more people have proxy
testing setups available.  We should also write test stubs that pretend
to be proxy servers as that would catch most of the NTLM bugs we've
seen since it would be able to test that the connection stays open.

> How is your committer agreement shaping up? I would really LOVE to see
> that damn SSL guide massaged a bit and finally deployed on our web
> site.

Well, two days ago I had approval from the chairman of the board and
was waiting for the documentation to come through.  Now I'm waiting on
an evaluation from our US legal firm so I don't really know what's
going on or how long it's going to take.  I do apologize for the
trouble involved, hopefully our legal firm will be in touch with
software development practices and put an end to this farce.

As for the SSL guide, I'd just commit it as is and deploy it.  It's
good enough that it will be useful to people and I can do the cleanup
work on it when this all gets sorted out to make it a little easier to
read and make it fit in with the same style as the rest of our
documentation.

> Oleg

Regards,

Adrian Sutton.


From adrian@intencha.com  Thu Jun 12 03:33:12 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 96297 invoked from network); 12 Jun 2003 03:33:12 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 12 Jun 2003 03:33:12 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055291074@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Wed, 11 Jun 2003 21:30:37 -0600
Date: Thu, 12 Jun 2003 13:33:53 +1000
Subject: Adrian as Committer
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <7C14259E-9C67-11D7-8308-000393016056@intencha.com>
Message-Id: <B085192E-9C86-11D7-8308-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

>> How is your committer agreement shaping up? I would really LOVE to see
>> that damn SSL guide massaged a bit and finally deployed on our web
>> site.
>
> Well, two days ago I had approval from the chairman of the board and
> was waiting for the documentation to come through.  Now I'm waiting on
> an evaluation from our US legal firm so I don't really know what's
> going on or how long it's going to take.  I do apologize for the
> trouble involved, hopefully our legal firm will be in touch with
> software development practices and put an end to this farce.
>
> As for the SSL guide, I'd just commit it as is and deploy it.  It's
> good enough that it will be useful to people and I can do the cleanup
> work on it when this all gets sorted out to make it a little easier to
> read and make it fit in with the same style as the rest of our
> documentation.

Somewhere there's a chorus of angels singing the hallelujah chorus
because I've got final approval and have faxed in my contributor
agreement.  I'll convert my copy of the HttpClient source to use the
SSH committer login and update the project.xml tonight.  Then it's on
to the polishing of the ssl guide. :)

That sure takes a load off my mind!

Regards,

Adrian Sutton.


From anonymous@nagoya.betaversion.org  Thu Jun 12 03:39:30 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 99103 invoked from network); 12 Jun 2003 03:39:30 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 03:39:30 -0000
Received: (qmail 4391 invoked by uid 50); 12 Jun 2003 03:41:56 -0000
Date: 12 Jun 2003 03:41:56 -0000
Message-ID: <20030612034156.4390.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From becke@u.washington.edu  2003-06-12 03:41 -------
SSL Guide committed.

From becke@u.washington.edu  Thu Jun 12 03:45:10 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 4460 invoked from network); 12 Jun 2003 03:45:10 -0000
Received: from mxout5.cac.washington.edu (140.142.32.135)
  by daedalus.apache.org with SMTP; 12 Jun 2003 03:45:10 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout5.cac.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5C3jKt7025184
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 20:45:20 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5C3jI7j001858
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 20:45:19 -0700
Date: Wed, 11 Jun 2003 23:29:28 -0400
Subject: Re: Proxy unit tests
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <7C14259E-9C67-11D7-8308-000393016056@intencha.com>
Message-Id: <12F6CEFF-9C86-11D7-89D4-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> As for the SSL guide, I'd just commit it as is and deploy it.  It's
> good enough that it will be useful to people and I can do the cleanup
> work on it when this all gets sorted out to make it a little easier to
> read and make it fit in with the same style as the rest of our
> documentation.

Agreed.  I'll check it in and deploy tonight.

Mike


From becke@u.washington.edu  Thu Jun 12 03:45:12 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 4574 invoked from network); 12 Jun 2003 03:45:12 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 12 Jun 2003 03:45:12 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5C3jMYV015709
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 20:45:22 -0700
Received: from u.washington.edu (pool-151-199-20-46.bos.east.verizon.net [151.199.20.46])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.1+UW03.04/8.12.1+UW02.12) with ESMTP id h5C3jK7j001861
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 11 Jun 2003 20:45:21 -0700
Date: Wed, 11 Jun 2003 23:43:02 -0400
Subject: Re: Adrian as Committer
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <B085192E-9C86-11D7-8308-000393016056@intencha.com>
Message-Id: <F7A87C4F-9C87-11D7-89D4-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yea!!  I'm glad everything worked out.

Mike

On Wednesday, June 11, 2003, at 11:33 PM, Adrian Sutton wrote:

>>> How is your committer agreement shaping up? I would really LOVE to
>>> see
>>> that damn SSL guide massaged a bit and finally deployed on our web
>>> site.
>>
>> Well, two days ago I had approval from the chairman of the board and
>> was waiting for the documentation to come through.  Now I'm waiting
>> on an evaluation from our US legal firm so I don't really know what's
>> going on or how long it's going to take.  I do apologize for the
>> trouble involved, hopefully our legal firm will be in touch with
>> software development practices and put an end to this farce.
>>
>> As for the SSL guide, I'd just commit it as is and deploy it.  It's
>> good enough that it will be useful to people and I can do the cleanup
>> work on it when this all gets sorted out to make it a little easier
>> to read and make it fit in with the same style as the rest of our
>> documentation.
>
> Somewhere there's a chorus of angels singing the hallelujah chorus
> because I've got final approval and have faxed in my contributor
> agreement.  I'll convert my copy of the HttpClient source to use the
> SSH committer login and update the project.xml tonight.  Then it's on
> to the polishing of the ssl guide. :)
>
> That sure takes a load off my mind!
>
> Regards,
>
> Adrian Sutton.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From tetsuya.kitahata@nifty.com  Thu Jun 12 06:37:24 2003
Return-Path: <tetsuya.kitahata@nifty.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 79839 invoked from network); 12 Jun 2003 06:37:24 -0000
Received: from pproxy107.mbn.or.jp (202.217.3.98)
  by daedalus.apache.org with SMTP; 12 Jun 2003 06:37:24 -0000
Received: from [192.168.0.3] ([202.217.127.24])
	by pproxy107.mbn.or.jp (8.11.7+Sun/pproxy107.mbn.or.jp-2.0) with ESMTP id h5C6bWk11223;
	Thu, 12 Jun 2003 15:37:33 +0900 (JST)
Date: Thu, 12 Jun 2003 15:40:24 +0900
From: Tetsuya Kitahata <tetsuya@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>,
   Adrian Sutton <adrian@intencha.com>
Subject: Re: Welcome Adrian
In-Reply-To: <748693F0-9540-11D7-9B88-000393016056@intencha.com>
References: <3EDB9B5D.20805@u.washington.edu> <748693F0-9540-11D7-9B88-000393016056@intencha.com>
X-Mailer-Plugin: MultiRes Helper for Becky!2 Ver.0.03 Rev.8
Message-Id: <20030612152904.CB76.TETSUYA@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Becky! ver. 2.05.11
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Maybe it is too late, congratulations Adrian!

I have become one of the committers in jakarta-world
nearly at the same time to you.

Me too struggled with the setting up of ssh and so on (still do I?).
If you want, you can set up your homepage in cvs.apache.org
by creating "public_html" dir in your home and putting the contents.
(You will be surprised after the creation ... your page will be
listed on http://cvs.apache.org/~coar/people.html soon ;-)

Sincerely,

-- Tetsuya (tetsuya@apache.org)

---------------------------------------------------------------------

On Tue, 3 Jun 2003 07:23:29 +1000
(Subject: Re: Welcome Adrian)
Adrian Sutton <adrian@intencha.com> wrote:

> Thanks to everyone for the support.  This is a wonderful team to work
> with and I look forward to continuing to create great software with you
> all.  The Apache elves (Brian Behlendorf in particular) have been busy
> over night and my account is already set up.  Once I get the
> contributor agreement faxed in I'll proudly add my name to the list of
> committers for the project then wait for all those wonderful new
> patches to come rolling in. :)
>
> Regards,
>
> Adrian Sutton.
>
> On Tuesday, June 3, 2003, at 04:45  AM, Michael Becke wrote:
>
> > Please join me in welcoming Adrian Sutton as a committer for the
> > HttpClient team.  His account should be setup in the very near future,
> > so please send all new patches his way:)  Welcome Adrian.
> >
> > Mike

-----------------------------------------------------
Tetsuya Kitahata --  Terra-International, Inc.
E-mail: kitahata@bb.mbn.or.jp : tetsuya@apache.org
http://www.terra-intl.com/
(Apache Jakarta Translation, Japanese)
http://jakarta.terra-intl.com/



From michael.mattox@verideon.com  Thu Jun 12 08:21:26 2003
Return-Path: <michael.mattox@verideon.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 81669 invoked from network); 12 Jun 2003 08:21:26 -0000
Received: from smtp6.wanadoo.fr (HELO mwinf0303.wanadoo.fr) (193.252.22.28)
  by daedalus.apache.org with SMTP; 12 Jun 2003 08:21:26 -0000
Received: from Paris (unknown [80.15.41.32])
	by mwinf0303.wanadoo.fr (SMTP Server) with ESMTP id 9A8585000842
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 12 Jun 2003 10:21:36 +0200 (CEST)
Reply-To: <michael.mattox@verideon.com>
From: "Michael Mattox" <michael.mattox@verideon.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: unable to find line starting with "HTTP" error
Date: Thu, 12 Jun 2003 10:21:36 +0200
Message-ID: <CJEBLDCHAADCLAGIGCOOIELCCJAA.michael.mattox@verideon.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I keep getting this error 'unable to find line starting with "HTTP"' when I
try to get the following URL:

http://www.msnbc.com/news/default.asp?newguid=2594c0a6623f464fb0ff25446bfa6c
f3

It doesn't happen every time, about 1 in 5 really.  Here is the stack trace
followed by the log.  I tried to configure the wire log per the instructions
on the website (setting the system properties) but I don't see any logging
on my System.err.  I'm using Eclipse and I have it set show System.err.  I
set up a log4j appender and the debug output from that is below:

org.apache.commons.httpclient.HttpRecoverableException:
org.apache.commons.httpclient.HttpRecoverableException: Error in parsing the
status  line from the response: unable to find line starting with "HTTP"
	at
org.apache.commons.httpclient.HttpMethodBase.readResponse(HttpMethodBase.jav
a:1907)
	at
org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodBase.j
ava:2530)
	at
org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:106
5)
	at com.verideon.veriguard.domain.URLMonitor.monitor(URLMonitor.java:140)
	at com.verideon.veriguard.domain.URLMonitor.monitor(URLMonitor.java:162)
	at com.verideon.veriguard.domain.URLMonitor.monitor(URLMonitor.java:162)
	at
com.verideon.veriguard.domain.TestURLMonitor.getPage(TestURLMonitor.java:44)
	at
com.verideon.veriguard.domain.TestURLMonitor.testMonitorURL302MsnbcHome(Test
URLMonitor.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39
)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl
.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at junit.framework.TestCase.runTest(TestCase.java:154)
	at junit.framework.TestCase.runBare(TestCase.java:127)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRu
nner.java:392)
	at
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.
java:276)
	at
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner
.java:167)

10:12:34,899 [U:          ] [main                ] DEBUG
          - enter GetMethod(String)
10:12:34,909 [U:          ] [main                ] DEBUG
               - Creating connection for www.msnbc.com:-1 using protocol
http:80
10:12:34,919 [U:          ] [main                ] DEBUG
               - HttpConnection.setSoTimeout(10000)
10:12:34,919 [U:          ] [main                ] DEBUG
               - enter HttpConnection.open()
10:12:35,410 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.execute(HttpState, HttpConnection)
10:12:35,420 [U:          ] [main                ] DEBUG
           - Execute loop try 1
10:12:35,420 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.processRequest(HttpState, HttpConnection)
10:12:35,420 [U:          ] [main                ] DEBUG
           - Attempt number 1 to process request
10:12:35,420 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.writeRequest(HttpState, HttpConnection)
10:12:35,420 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.writeRequestLine(HttpState,
HttpConnection)
10:12:35,420 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.generateRequestLine(HttpConnection,
String, String, String, String)
10:12:35,420 [U:          ] [main                ] DEBUG
               - enter HttpConnection.print(String)
10:12:35,420 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:35,420 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:35,420 [U:          ] [main                ] DEBUG
           - enter
HttpMethodBase.writeRequestHeaders(HttpState,HttpConnection)
10:12:35,430 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addRequestHeaders(HttpState,
HttpConnection)
10:12:35,430 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addUserAgentRequestHeaders(HttpState,
HttpConnection)
10:12:35,430 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addHostRequestHeader(HttpState,
HttpConnection)
10:12:35,430 [U:          ] [main                ] DEBUG
           - Adding Host request header
10:12:35,430 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addCookieRequestHeader(HttpState,
HttpConnection)
10:12:35,440 [U:          ] [main                ] DEBUG
          - enter HttpState.getCookies()
10:12:35,440 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.match(String, int, String, boolean,
Cookie[])
10:12:35,440 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addAuthorizationRequestHeader(HttpState,
HttpConnection)
10:12:35,440 [U:          ] [main                ] DEBUG
           - enter
HttpMethodBase.addProxyAuthorizationRequestHeader(HttpState, HttpConnection)
10:12:35,440 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addProxyConnectionHeader(HttpState,
HttpConnection)
10:12:35,440 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addContentLengthRequestHeader(HttpState,
HttpConnection)
10:12:35,440 [U:          ] [main                ] DEBUG
               - enter HttpConnection.print(String)
10:12:35,440 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:35,440 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:35,440 [U:          ] [main                ] DEBUG
               - enter HttpConnection.print(String)
10:12:35,440 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:35,440 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:35,440 [U:          ] [main                ] DEBUG
               - enter HttpConnection.writeLine()
10:12:35,440 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:35,440 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:35,450 [U:          ] [main                ] DEBUG
               - enter HttpConnection.flushRequestOutputStream()
10:12:35,450 [U:          ] [main                ] DEBUG
               - enter HttpConnection.flushRequestOutputStream()
10:12:35,450 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.readResponse(HttpState, HttpConnection)
10:12:35,450 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.readStatusLine(HttpState, HttpConnection)
10:12:35,450 [U:          ] [main                ] DEBUG
               - enter HttpConnection.readLine()
10:12:35,450 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,450 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,700 [U:          ] [main                ] DEBUG
           - enter
HttpMethodBase.readResponseHeaders(HttpState,HttpConnection)
10:12:35,700 [U:          ] [main                ] DEBUG
               - enter HttpConnection.getResponseInputStream()
10:12:35,700 [U:          ] [main                ] DEBUG
           - enter HeaderParser.parseHeaders(HttpConnection, HeaderGroup)
10:12:35,700 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,700 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,700 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,700 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,700 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,700 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,710 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,710 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,710 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,710 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,710 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,710 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,710 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,710 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.processResponseHeaders(HttpState,
HttpConnection)
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.parse(String, port, path, boolean, String)
10:12:35,720 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.parse(String, port, path, boolean, Header)
10:12:35,731 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parse(String)
10:12:35,731 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:35,731 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:35,731 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:35,731 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:35,761 [U:          ] [main                ] DEBUG
       - enter Cookie(String, String, String, String, Date, boolean)
10:12:35,771 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.validate(String, int, String, boolean,
Cookie)
10:12:35,771 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.validate(String, port, path, boolean,
Cookie)
10:12:35,771 [U:          ] [main                ] DEBUG
          - enter HttpState.addCookie(Cookie)
10:12:35,771 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.formatCookie(Cookie)
10:12:35,771 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.formatCookieAsVer(Cookie)
10:12:35,771 [U:          ] [main                ] DEBUG
           - Cookie accepted: "$Version=0; MC1=0; $Domain=.msnbc.com;
$Path=/"
10:12:35,771 [U:          ] [main                ] DEBUG
          - enter GetMethod.readResponseBody(HttpState, HttpConnection)
10:12:35,771 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.readResponseBody(HttpState,
HttpConnection)
10:12:35,771 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.readResponseBody(HttpState,
HttpConnection)
10:12:35,771 [U:          ] [main                ] DEBUG
               - enter HttpConnection.getResponseInputStream()
10:12:35,771 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parse(String)
10:12:35,771 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:35,781 [U:          ] [main                ] DEBUG
           - Redirect required
10:12:35,781 [U:          ] [main                ] DEBUG
           - Redirect requested to location
'http://www.msnbc.com/news/create_p1.asp?cp1=1&cpm=1&cpe=1&URL=www.msnbc.com
/news/default.asp&newguid=2594c0a6623f464fb0ff25446bfa6cf3'
10:12:35,781 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.checkValidRedirect(HttpConnection, URL)
10:12:35,781 [U:          ] [main                ] DEBUG
           - Redirecting from 'http://www.msnbc.com:80/news/default.asp' to
'http://www.msnbc.com/news/create_p1.asp?cp1=1&cpm=1&cpe=1&URL=www.msnbc.com
/news/default.asp&newguid=2594c0a6623f464fb0ff25446bfa6cf3
10:12:35,831 [U:          ] [main                ] DEBUG
           - Should close connection in response to Connection: close

10:12:35,831 [U:          ] [main                ] DEBUG
               - enter HttpConnection.close()
10:12:35,831 [U:          ] [main                ] DEBUG
               - enter HttpConnection.closeSockedAndStreams()
10:12:35,831 [U:          ] [main                ] DEBUG
           - Execute loop try 2
10:12:35,831 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.processRequest(HttpState, HttpConnection)
10:12:35,831 [U:          ] [main                ] DEBUG
           - Attempt number 1 to process request
10:12:35,831 [U:          ] [main                ] DEBUG
           - Opening the connection.
10:12:35,831 [U:          ] [main                ] DEBUG
               - enter HttpConnection.open()
10:12:36,071 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.writeRequest(HttpState, HttpConnection)
10:12:36,071 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.writeRequestLine(HttpState,
HttpConnection)
10:12:36,071 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.generateRequestLine(HttpConnection,
String, String, String, String)
10:12:36,071 [U:          ] [main                ] DEBUG
               - enter HttpConnection.print(String)
10:12:36,071 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:36,071 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:36,071 [U:          ] [main                ] DEBUG
           - enter
HttpMethodBase.writeRequestHeaders(HttpState,HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addRequestHeaders(HttpState,
HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addUserAgentRequestHeaders(HttpState,
HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addHostRequestHeader(HttpState,
HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
           - Request to add Host header ignored: header already added
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addCookieRequestHeader(HttpState,
HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
          - enter HttpState.getCookies()
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.match(String, int, String, boolean,
Cookie[])
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.match(String, int, String, boolean, Cookie
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.formatCookieHeader(Cookie)
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.formatCookie(Cookie)
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.formatCookieAsVer(Cookie)
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addAuthorizationRequestHeader(HttpState,
HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter
HttpMethodBase.addProxyAuthorizationRequestHeader(HttpState, HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addProxyConnectionHeader(HttpState,
HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addContentLengthRequestHeader(HttpState,
HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.print(String)
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.print(String)
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.print(String)
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.writeLine()
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.flushRequestOutputStream()
10:12:36,081 [U:          ] [main                ] DEBUG
               - enter HttpConnection.flushRequestOutputStream()
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.readResponse(HttpState, HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.readStatusLine(HttpState, HttpConnection)
10:12:36,091 [U:          ] [main                ] DEBUG
               - enter HttpConnection.readLine()
10:12:36,091 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:36,091 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,341 [U:          ] [main                ] DEBUG
           - enter
HttpMethodBase.readResponseHeaders(HttpState,HttpConnection)
10:12:36,341 [U:          ] [main                ] DEBUG
               - enter HttpConnection.getResponseInputStream()
10:12:36,341 [U:          ] [main                ] DEBUG
           - enter HeaderParser.parseHeaders(HttpConnection, HeaderGroup)
10:12:36,341 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:36,341 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,341 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:36,341 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,341 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:36,341 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,341 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:36,341 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,351 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:36,351 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,351 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:36,351 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,351 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:36,351 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,351 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:36,351 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,361 [U:          ] [main                ] DEBUG HttpParser
  - enter HttpParser.readLine()
10:12:36,361 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,361 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:36,361 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,361 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:36,361 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,361 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.processResponseHeaders(HttpState,
HttpConnection)
10:12:36,361 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.parse(String, port, path, boolean, String)
10:12:36,361 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.parse(String, port, path, boolean, Header)
10:12:36,361 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parse(String)
10:12:36,361 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:36,361 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:36,361 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:36,361 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:36,361 [U:          ] [main                ] DEBUG
       - enter Cookie(String, String, String, String, Date, boolean)
10:12:36,361 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.validate(String, int, String, boolean,
Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.validate(String, port, path, boolean,
Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
          - enter HttpState.addCookie(Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
       - enter Cookie.equals(Object)
10:12:36,371 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.formatCookie(Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.formatCookieAsVer(Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
           - Cookie accepted: "$Version=0;
MC1=GUID=2594c0a6623f464fb0ff25446bfa6cf3; $Domain=.msnbc.com; $Path=/"
10:12:36,371 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.parse(String, port, path, boolean, String)
10:12:36,371 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.parse(String, port, path, boolean, Header)
10:12:36,371 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parse(String)
10:12:36,371 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:36,371 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:36,371 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:36,371 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:36,371 [U:          ] [main                ] DEBUG
       - enter Cookie(String, String, String, String, Date, boolean)
10:12:36,371 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.validate(String, int, String, boolean,
Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.validate(String, port, path, boolean,
Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
          - enter HttpState.addCookie(Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
       - enter Cookie.equals(Object)
10:12:36,371 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.formatCookie(Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.formatCookieAsVer(Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
           - Cookie accepted: "$Version=0; P1=0; $Domain=.msnbc.com;
$Path=/"
10:12:36,371 [U:          ] [main                ] DEBUG
          - enter GetMethod.readResponseBody(HttpState, HttpConnection)
10:12:36,371 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.readResponseBody(HttpState,
HttpConnection)
10:12:36,371 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.readResponseBody(HttpState,
HttpConnection)
10:12:36,371 [U:          ] [main                ] DEBUG
               - enter HttpConnection.getResponseInputStream()
10:12:36,371 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parse(String)
10:12:36,371 [U:          ] [main                ] DEBUG
              - enter HeaderElement.parsePair(char[], int, int)
10:12:36,371 [U:          ] [main                ] DEBUG
           - Redirect required
10:12:36,371 [U:          ] [main                ] DEBUG
           - Redirect requested to location
'http://www.msnbc.com/news/default.asp?cp1=1'
10:12:36,371 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.checkValidRedirect(HttpConnection, URL)
10:12:36,381 [U:          ] [main                ] DEBUG
           - Redirecting from 'http://www.msnbc.com:80/news/create_p1.asp'
to 'http://www.msnbc.com/news/default.asp?cp1=1
10:12:36,381 [U:          ] [main                ] DEBUG
           - Should NOT close connection in response to Connection:
Keep-Alive

10:12:36,381 [U:          ] [main                ] DEBUG
           - Execute loop try 3
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.processRequest(HttpState, HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
           - Attempt number 1 to process request
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.writeRequest(HttpState, HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.writeRequestLine(HttpState,
HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.generateRequestLine(HttpConnection,
String, String, String, String)
10:12:36,381 [U:          ] [main                ] DEBUG
               - enter HttpConnection.print(String)
10:12:36,381 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:36,381 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter
HttpMethodBase.writeRequestHeaders(HttpState,HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addRequestHeaders(HttpState,
HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addUserAgentRequestHeaders(HttpState,
HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addHostRequestHeader(HttpState,
HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
           - Request to add Host header ignored: header already added
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addCookieRequestHeader(HttpState,
HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
          - enter HttpState.getCookies()
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.match(String, int, String, boolean,
Cookie[])
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.match(String, int, String, boolean, Cookie
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.match(String, int, String, boolean, Cookie
10:12:36,381 [U:          ] [main                ] DEBUG
       - enter Cookie.compare(Object, Object)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.formatCookieHeader(Cookie)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.formatCookie(Cookie)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.formatCookieAsVer(Cookie)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter CookieSpecBase.formatCookieHeader(Cookie)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.formatCookie(Cookie)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter RFC2109Spec.formatCookieAsVer(Cookie)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addAuthorizationRequestHeader(HttpState,
HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter
HttpMethodBase.addProxyAuthorizationRequestHeader(HttpState, HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addProxyConnectionHeader(HttpState,
HttpConnection)
10:12:36,391 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.addContentLengthRequestHeader(HttpState,
HttpConnection)
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.print(String)
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.print(String)
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.print(String)
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.print(String)
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.writeLine()
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[])
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.write(byte[], int, int)
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.flushRequestOutputStream()
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.flushRequestOutputStream()
10:12:36,391 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.readResponse(HttpState, HttpConnection)
10:12:36,391 [U:          ] [main                ] DEBUG
           - enter HttpMethodBase.readStatusLine(HttpState, HttpConnection)
10:12:36,391 [U:          ] [main                ] DEBUG
               - enter HttpConnection.readLine()
10:12:36,391 [U:          ] [main                ] DEBUG
           - enter HttpParser.readLine()
10:12:36,401 [U:          ] [main                ] DEBUG
           - enter HttpParser.readRawLine()
10:12:36,401 [U:          ] [main                ] DEBUG
           - Closing the connection.
10:12:36,401 [U:          ] [main                ] DEBUG
               - enter HttpConnection.close()
10:12:36,401 [U:          ] [main                ] DEBUG
               - enter HttpConnection.closeSockedAndStreams()
10:12:36,401 [U:          ] [main                ] INFO
            - Recoverable exception caught when processing request
10:12:36,401 [U:          ] [main                ] WARN
            - Recoverable exception caught but
MethodRetryHandler.retryMethod() returned false, rethrowing exception
10:12:36,401 [U:          ] [main                ] DEBUG
               - enter HttpConnection.releaseConnection()
10:12:36,411 [U:          ] [main                ] DEBUG
               - Connection is stale, closing...
10:12:36,411 [U:          ] [main                ] DEBUG
               - enter HttpConnection.close()
10:12:36,411 [U:          ] [main                ] DEBUG
               - enter HttpConnection.closeSockedAndStreams()

Is it something I'm doing?  Let me know if it's worth setting up a bug
report.

Michael



From dan.aberg@staff.spray.se  Thu Jun 12 08:36:43 2003
Return-Path: <dan.aberg@staff.spray.se>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 98927 invoked from network); 12 Jun 2003 08:36:43 -0000
Received: from unknown (HELO stargate.spray.se) (212.78.194.91)
  by daedalus.apache.org with SMTP; 12 Jun 2003 08:36:43 -0000
Received: from diamant.i.spray.se (Not Verified[172.16.10.6]) by stargate.spray.se
	id <B000ce096d>; Thu, 12 Jun 2003 10:35:22 +0200
Subject: Cookie and RFC 2109
From: Dan =?ISO-8859-1?Q?=C5berg?= <dan.aberg@staff.spray.se>
To: commons-httpclient-dev <commons-httpclient-dev@jakarta.apache.org>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Spray Network Services
Message-Id: <1055407041.10824.8.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.4
Date: 12 Jun 2003 10:37:21 +0200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi All !

RFC 2109, section: "4.3.1 Interpreting Set-Cookie" states that:

"Path   Defaults to the path of the request URL that generated the
        Set-Cookie response, up to, but not including, the
        right-most /."

When I'm using HttpClient and PostMethod to issue a post command to http://foo.com/whatever.php I retreive a cookie with no path set. When I examine the cookie the path is set to "/whatever.php", but according to RFC 2109 it should be "/".
Am I missing something or is this a bug ?

Thanx
/Dan

P.S.
I'm using version commons-httpclient-2.0-beta1


From adrian@intencha.com  Thu Jun 12 08:41:00 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 7287 invoked from network); 12 Jun 2003 08:41:00 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 12 Jun 2003 08:41:00 -0000
Received: from intencha.com (unverified [150.101.177.33]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055316611@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 12 Jun 2003 02:38:29 -0600
Date: Thu, 12 Jun 2003 18:41:45 +1000
Subject: Re: unable to find line starting with "HTTP" error
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <CJEBLDCHAADCLAGIGCOOIELCCJAA.michael.mattox@verideon.com>
Message-Id: <B2D5F893-9CB1-11D7-8308-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Michael,
Well I'll be darned.  I'd actually half written an email telling you to
try the latest HttpClient because the problem was fixed when I actually
tried the latest HttpClient and watched it barf.  So yeah, that one's a
bug that will need to be fixed, the headers looked pretty standard when
I connected via telnet.  I'll look into it now but filing a bug would
definitely be a good idea as I have a very short attention span. :)

Regards,

Adrian Sutton.

On Thursday, June 12, 2003, at 06:21  PM, Michael Mattox wrote:

> I keep getting this error 'unable to find line starting with "HTTP"'
> when I
> try to get the following URL:
>
> http://www.msnbc.com/news/
> default.asp?newguid=2594c0a6623f464fb0ff25446bfa6c
> f3
>
> It doesn't happen every time, about 1 in 5 really.  Here is the stack
> trace
> followed by the log.  I tried to configure the wire log per the
> instructions
> on the website (setting the system properties) but I don't see any
> logging
> on my System.err.  I'm using Eclipse and I have it set show
> System.err.  I
> set up a log4j appender and the debug output from that is below:
> <snip>
> Is it something I'm doing?  Let me know if it's worth setting up a bug
> report.
>
> Michael
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From anonymous@nagoya.betaversion.org  Thu Jun 12 08:46:43 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 20384 invoked from network); 12 Jun 2003 08:46:43 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 08:46:43 -0000
Received: (qmail 9828 invoked by uid 50); 12 Jun 2003 08:49:11 -0000
Date: 12 Jun 2003 08:49:11 -0000
Message-ID: <20030612084911.9827.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20703] New:  -
    unable to find line starting with "HTTP" error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703

unable to find line starting with "HTTP" error

           Summary: unable to find line starting with "HTTP" error
           Product: Commons
           Version: Nightly Builds
          Platform: PC
        OS/Version: Other
            Status: NEW
          Severity: Major
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: michael@advweb.com


I keep getting this error 'unable to find line starting with "HTTP"' when I try
to get the following URL:

http://www.msnbc.com/news/default.asp?newguid=2594c0a6623f464fb0ff25446bfa6cf3

It doesn't happen every time, about 1 in 5 really.  Adrian Sutton has confirmed
the bug as well.  Here is the stack trace followed by the log.  I tried to
configure the wire log per the instructions on the website (setting the system
properties) but I don't see any logging on my System.err.  I'm using Eclipse
and I have it set show System.err.  I set up a log4j appender and the debug
output from that is below.  If I can provide further information just let me
know.


org.apache.commons.httpclient.HttpRecoverableException:
org.apache.commons.httpclient.HttpRecoverableException: Error in parsing the
status  line from the response: unable to find line starting with "HTTP"
	at org.apache.commons.httpclient.HttpMethodBase.readResponse
(HttpMethodBase.java:1907)
	at org.apache.commons.httpclient.HttpMethodBase.processRequest
(HttpMethodBase.java:2530)
	at org.apache.commons.httpclient.HttpMethodBase.execute
(HttpMethodBase.java:1065)
	at com.verideon.veriguard.domain.URLMonitor.monitor(URLMonitor.java:140)
	at com.verideon.veriguard.domain.URLMonitor.monitor(URLMonitor.java:162)
	at com.verideon.veriguard.domain.URLMonitor.monitor(URLMonitor.java:162)
	at com.verideon.veriguard.domain.TestURLMonitor.getPage
(TestURLMonitor.java:44)
	at
com.verideon.veriguard.domain.TestURLMonitor.testMonitorURL302MsnbcHome
(TestURLMonitor.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at junit.framework.TestCase.runTest(TestCase.java:154)
	at junit.framework.TestCase.runBare(TestCase.java:127)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests
(RemoteTestRunner.java:392)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run
(RemoteTestRunner.java:276)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main
(RemoteTestRunner.java:167)

10:12:34,899 [U:          ] [main                ] DEBUG
GetMethod                    - enter GetMethod(String)
10:12:34,909 [U:          ] [main                ] DEBUG
HttpConnection               - Creating connection for www.msnbc.com:-1 using
protocol http:80
10:12:34,919 [U:          ] [main                ] DEBUG
HttpConnection               - HttpConnection.setSoTimeout(10000)
10:12:34,919 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.open()
10:12:35,410 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.execute(HttpState,
HttpConnection)
10:12:35,420 [U:          ] [main                ] DEBUG
HttpMethod                   - Execute loop try 1
10:12:35,420 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.processRequest(HttpState,
HttpConnection)
10:12:35,420 [U:          ] [main                ] DEBUG
HttpMethod                   - Attempt number 1 to process request
10:12:35,420 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.writeRequest(HttpState,
HttpConnection)
10:12:35,420 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.writeRequestLine(HttpState,
HttpConnection)
10:12:35,420 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.generateRequestLine
(HttpConnection, String, String, String, String)
10:12:35,420 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.print(String)
10:12:35,420 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:35,420 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:35,420 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.writeRequestHeaders
(HttpState,HttpConnection)
10:12:35,430 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addRequestHeaders
(HttpState, HttpConnection)
10:12:35,430 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addUserAgentRequestHeaders
(HttpState, HttpConnection)
10:12:35,430 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addHostRequestHeader
(HttpState, HttpConnection)
10:12:35,430 [U:          ] [main                ] DEBUG
HttpMethod                   - Adding Host request header
10:12:35,430 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addCookieRequestHeader
(HttpState, HttpConnection)
10:12:35,440 [U:          ] [main                ] DEBUG
HttpState                    - enter HttpState.getCookies()
10:12:35,440 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.match(String, int, String,
boolean, Cookie[])
10:12:35,440 [U:          ] [main                ] DEBUG
HttpMethod                   - enter
HttpMethodBase.addAuthorizationRequestHeader(HttpState, HttpConnection)
10:12:35,440 [U:          ] [main                ] DEBUG
HttpMethod                   - enter
HttpMethodBase.addProxyAuthorizationRequestHeader(HttpState, HttpConnection)
10:12:35,440 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addProxyConnectionHeader
(HttpState, HttpConnection)
10:12:35,440 [U:          ] [main                ] DEBUG
HttpMethod                   - enter
HttpMethodBase.addContentLengthRequestHeader(HttpState, HttpConnection)
10:12:35,440 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.print(String)
10:12:35,440 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:35,440 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:35,440 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.print(String)
10:12:35,440 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:35,440 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:35,440 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.writeLine()
10:12:35,440 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:35,440 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:35,450 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.flushRequestOutputStream()
10:12:35,450 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.flushRequestOutputStream()
10:12:35,450 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.readResponse(HttpState,
HttpConnection)
10:12:35,450 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.readStatusLine(HttpState,
HttpConnection)
10:12:35,450 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.readLine()
10:12:35,450 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,450 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,700 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.readResponseHeaders
(HttpState,HttpConnection)
10:12:35,700 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.getResponseInputStream()
10:12:35,700 [U:          ] [main                ] DEBUG
HttpParser                   - enter HeaderParser.parseHeaders(HttpConnection,
HeaderGroup)
10:12:35,700 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,700 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,700 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,700 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,700 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,700 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,710 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,710 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,710 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,710 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,710 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,710 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,710 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,710 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,720 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,720 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,720 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,720 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,720 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,720 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,720 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,720 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,720 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:35,720 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:35,720 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.processResponseHeaders
(HttpState, HttpConnection)
10:12:35,720 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.parse(String, port, path,
boolean, String)
10:12:35,720 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.parse(String, port, path,
boolean, Header)
10:12:35,731 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parse(String)
10:12:35,731 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:35,731 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:35,731 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:35,731 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:35,761 [U:          ] [main                ] DEBUG
Cookie                       - enter Cookie(String, String, String, String,
Date, boolean)
10:12:35,771 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.validate(String, int, String,
boolean, Cookie)
10:12:35,771 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.validate(String, port,
path, boolean, Cookie)
10:12:35,771 [U:          ] [main                ] DEBUG
HttpState                    - enter HttpState.addCookie(Cookie)
10:12:35,771 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.formatCookie(Cookie)
10:12:35,771 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.formatCookieAsVer(Cookie)
10:12:35,771 [U:          ] [main                ] DEBUG
HttpMethod                   - Cookie accepted: "$Version=0; MC1=0;
$Domain=.msnbc.com; $Path=/"
10:12:35,771 [U:          ] [main                ] DEBUG
GetMethod                    - enter GetMethod.readResponseBody(HttpState,
HttpConnection)
10:12:35,771 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.readResponseBody(HttpState,
HttpConnection)
10:12:35,771 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.readResponseBody(HttpState,
HttpConnection)
10:12:35,771 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.getResponseInputStream()
10:12:35,771 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parse(String)
10:12:35,771 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:35,781 [U:          ] [main                ] DEBUG
HttpMethod                   - Redirect required
10:12:35,781 [U:          ] [main                ] DEBUG
HttpMethod                   - Redirect requested to
location 'http://www.msnbc.com/news/create_p1.asp?
cp1=1&cpm=1&cpe=1&URL=www.msnbc.com/news/default.asp&newguid=2594c0a6623f464fb0f
f25446bfa6cf3'
10:12:35,781 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.checkValidRedirect
(HttpConnection, URL)
10:12:35,781 [U:          ] [main                ] DEBUG
HttpMethod                   - Redirecting
from 'http://www.msnbc.com:80/news/default.asp'
to 'http://www.msnbc.com/news/create_p1.asp?
cp1=1&cpm=1&cpe=1&URL=www.msnbc.com/news/default.asp&newguid=2594c0a6623f464fb0f
f25446bfa6cf3
10:12:35,831 [U:          ] [main                ] DEBUG
HttpMethod                   - Should close connection in response to
Connection: close

10:12:35,831 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.close()
10:12:35,831 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.closeSockedAndStreams()
10:12:35,831 [U:          ] [main                ] DEBUG
HttpMethod                   - Execute loop try 2
10:12:35,831 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.processRequest(HttpState,
HttpConnection)
10:12:35,831 [U:          ] [main                ] DEBUG
HttpMethod                   - Attempt number 1 to process request
10:12:35,831 [U:          ] [main                ] DEBUG
HttpMethod                   - Opening the connection.
10:12:35,831 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.open()
10:12:36,071 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.writeRequest(HttpState,
HttpConnection)
10:12:36,071 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.writeRequestLine(HttpState,
HttpConnection)
10:12:36,071 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.generateRequestLine
(HttpConnection, String, String, String, String)
10:12:36,071 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.print(String)
10:12:36,071 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:36,071 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:36,071 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.writeRequestHeaders
(HttpState,HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addRequestHeaders
(HttpState, HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addUserAgentRequestHeaders
(HttpState, HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addHostRequestHeader
(HttpState, HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpMethod                   - Request to add Host header ignored: header
already added
10:12:36,081 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addCookieRequestHeader
(HttpState, HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpState                    - enter HttpState.getCookies()
10:12:36,081 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.match(String, int, String,
boolean, Cookie[])
10:12:36,081 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.match(String, int, String,
boolean, Cookie
10:12:36,081 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.formatCookieHeader(Cookie)
10:12:36,081 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.formatCookie(Cookie)
10:12:36,081 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.formatCookieAsVer(Cookie)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpMethod                   - enter
HttpMethodBase.addAuthorizationRequestHeader(HttpState, HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpMethod                   - enter
HttpMethodBase.addProxyAuthorizationRequestHeader(HttpState, HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addProxyConnectionHeader
(HttpState, HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpMethod                   - enter
HttpMethodBase.addContentLengthRequestHeader(HttpState, HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.print(String)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.print(String)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.print(String)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.writeLine()
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.flushRequestOutputStream()
10:12:36,081 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.flushRequestOutputStream()
10:12:36,081 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.readResponse(HttpState,
HttpConnection)
10:12:36,081 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.readStatusLine(HttpState,
HttpConnection)
10:12:36,091 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.readLine()
10:12:36,091 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,091 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,341 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.readResponseHeaders
(HttpState,HttpConnection)
10:12:36,341 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.getResponseInputStream()
10:12:36,341 [U:          ] [main                ] DEBUG
HttpParser                   - enter HeaderParser.parseHeaders(HttpConnection,
HeaderGroup)
10:12:36,341 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,341 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,341 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,341 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,341 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,341 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,341 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,341 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,351 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,351 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,351 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,351 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,351 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,351 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,351 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,351 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,361 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,361 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,361 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,361 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,361 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,361 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,361 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.processResponseHeaders
(HttpState, HttpConnection)
10:12:36,361 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.parse(String, port, path,
boolean, String)
10:12:36,361 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.parse(String, port, path,
boolean, Header)
10:12:36,361 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parse(String)
10:12:36,361 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:36,361 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:36,361 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:36,361 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:36,361 [U:          ] [main                ] DEBUG
Cookie                       - enter Cookie(String, String, String, String,
Date, boolean)
10:12:36,361 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.validate(String, int, String,
boolean, Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.validate(String, port,
path, boolean, Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
HttpState                    - enter HttpState.addCookie(Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
Cookie                       - enter Cookie.equals(Object)
10:12:36,371 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.formatCookie(Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.formatCookieAsVer(Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
HttpMethod                   - Cookie accepted: "$Version=0;
MC1=GUID=2594c0a6623f464fb0ff25446bfa6cf3; $Domain=.msnbc.com; $Path=/"
10:12:36,371 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.parse(String, port, path,
boolean, String)
10:12:36,371 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.parse(String, port, path,
boolean, Header)
10:12:36,371 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parse(String)
10:12:36,371 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:36,371 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:36,371 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:36,371 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:36,371 [U:          ] [main                ] DEBUG
Cookie                       - enter Cookie(String, String, String, String,
Date, boolean)
10:12:36,371 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.validate(String, int, String,
boolean, Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.validate(String, port,
path, boolean, Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
HttpState                    - enter HttpState.addCookie(Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
Cookie                       - enter Cookie.equals(Object)
10:12:36,371 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.formatCookie(Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.formatCookieAsVer(Cookie)
10:12:36,371 [U:          ] [main                ] DEBUG
HttpMethod                   - Cookie accepted: "$Version=0; P1=0;
$Domain=.msnbc.com; $Path=/"
10:12:36,371 [U:          ] [main                ] DEBUG
GetMethod                    - enter GetMethod.readResponseBody(HttpState,
HttpConnection)
10:12:36,371 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.readResponseBody(HttpState,
HttpConnection)
10:12:36,371 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.readResponseBody(HttpState,
HttpConnection)
10:12:36,371 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.getResponseInputStream()
10:12:36,371 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parse(String)
10:12:36,371 [U:          ] [main                ] DEBUG
HeaderElement                - enter HeaderElement.parsePair(char[], int, int)
10:12:36,371 [U:          ] [main                ] DEBUG
HttpMethod                   - Redirect required
10:12:36,371 [U:          ] [main                ] DEBUG
HttpMethod                   - Redirect requested to
location 'http://www.msnbc.com/news/default.asp?cp1=1'
10:12:36,371 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.checkValidRedirect
(HttpConnection, URL)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - Redirecting
from 'http://www.msnbc.com:80/news/create_p1.asp'
to 'http://www.msnbc.com/news/default.asp?cp1=1
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - Should NOT close connection in response to
Connection: Keep-Alive

10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - Execute loop try 3
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.processRequest(HttpState,
HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - Attempt number 1 to process request
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.writeRequest(HttpState,
HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.writeRequestLine(HttpState,
HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.generateRequestLine
(HttpConnection, String, String, String, String)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.print(String)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:36,381 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.writeRequestHeaders
(HttpState,HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addRequestHeaders
(HttpState, HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addUserAgentRequestHeaders
(HttpState, HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addHostRequestHeader
(HttpState, HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - Request to add Host header ignored: header
already added
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addCookieRequestHeader
(HttpState, HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpState                    - enter HttpState.getCookies()
10:12:36,381 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.match(String, int, String,
boolean, Cookie[])
10:12:36,381 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.match(String, int, String,
boolean, Cookie
10:12:36,381 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.match(String, int, String,
boolean, Cookie
10:12:36,381 [U:          ] [main                ] DEBUG
Cookie                       - enter Cookie.compare(Object, Object)
10:12:36,381 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.formatCookieHeader(Cookie)
10:12:36,381 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.formatCookie(Cookie)
10:12:36,381 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.formatCookieAsVer(Cookie)
10:12:36,381 [U:          ] [main                ] DEBUG
CookieSpec                   - enter CookieSpecBase.formatCookieHeader(Cookie)
10:12:36,381 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.formatCookie(Cookie)
10:12:36,381 [U:          ] [main                ] DEBUG
CookieSpec                   - enter RFC2109Spec.formatCookieAsVer(Cookie)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - enter
HttpMethodBase.addAuthorizationRequestHeader(HttpState, HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - enter
HttpMethodBase.addProxyAuthorizationRequestHeader(HttpState, HttpConnection)
10:12:36,381 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.addProxyConnectionHeader
(HttpState, HttpConnection)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpMethod                   - enter
HttpMethodBase.addContentLengthRequestHeader(HttpState, HttpConnection)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.print(String)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.print(String)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.print(String)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.print(String)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.writeLine()
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[])
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.write(byte[], int, int)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.flushRequestOutputStream()
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.flushRequestOutputStream()
10:12:36,391 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.readResponse(HttpState,
HttpConnection)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpMethod                   - enter HttpMethodBase.readStatusLine(HttpState,
HttpConnection)
10:12:36,391 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.readLine()
10:12:36,391 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readLine()
10:12:36,401 [U:          ] [main                ] DEBUG
HttpParser                   - enter HttpParser.readRawLine()
10:12:36,401 [U:          ] [main                ] DEBUG
HttpMethod                   - Closing the connection.
10:12:36,401 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.close()
10:12:36,401 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.closeSockedAndStreams()
10:12:36,401 [U:          ] [main                ] INFO
HttpMethod                   - Recoverable exception caught when processing
request
10:12:36,401 [U:          ] [main                ] WARN
HttpMethod                   - Recoverable exception caught but
MethodRetryHandler.retryMethod() returned false, rethrowing exception
10:12:36,401 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.releaseConnection()
10:12:36,411 [U:          ] [main                ] DEBUG
HttpConnection               - Connection is stale, closing...
10:12:36,411 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.close()
10:12:36,411 [U:          ] [main                ] DEBUG
HttpConnection               - enter HttpConnection.closeSockedAndStreams()

From anonymous@nagoya.betaversion.org  Thu Jun 12 09:28:53 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 5910 invoked from network); 12 Jun 2003 09:28:53 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 09:28:53 -0000
Received: (qmail 11193 invoked by uid 50); 12 Jun 2003 09:31:22 -0000
Date: 12 Jun 2003 09:31:22 -0000
Message-ID: <20030612093122.11192.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20703]  -
    unable to find line starting with "HTTP" error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703

unable to find line starting with "HTTP" error





------- Additional Comments From adrian@ephox.com  2003-06-12 09:31 -------
For some reason the connection is being closed after the retry 3 requests are sent (the msnbc site
redirects you all over the place before deciding to give you the page).  The
DefaultMethodRetryHandler then refuses to retry the connection.

A workaround is to do something like:
            GetMethod get = new GetMethod("http://www.msnbc.com/news/default.asp

            get.setDoAuthentication( true );
            DefaultMethodRetryHandler retry = new DefaultMethodRetryHandler();
            retry.setRequestSentRetryEnabled(true);
            get.setMethodRetryHandler(retry);

which allows the retry to occur despite the request already having been sent once.  I can't see any
reason for the connection to be closed though.  The server just seems to give up and closes the
connection - there is no perceptable delay, the connection seems to be closed before or as we're
writing the request.

Investigations continue....  Sugestions welcome. :)

From anonymous@nagoya.betaversion.org  Thu Jun 12 09:43:23 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 22782 invoked from network); 12 Jun 2003 09:43:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 09:43:23 -0000
Received: (qmail 11497 invoked by uid 50); 12 Jun 2003 09:45:53 -0000
Date: 12 Jun 2003 09:45:53 -0000
Message-ID: <20030612094553.11496.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20703]  -
    unable to find line starting with "HTTP" error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703

unable to find line starting with "HTTP" error

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
           Severity|Major                       |Normal
           Priority|Other                       |Medium
   Target Milestone|---                         |2.0 Beta 2



------- Additional Comments From olegk@apache.org  2003-06-12 09:45 -------
I personally am not entirely sure that it's a bug in HttpClient. The problem
appears to be caused by the target server. Whether HttpClient should
automatically recover or not is a completely different story. We can discuss this

Oleg

From anonymous@nagoya.betaversion.org  Thu Jun 12 09:47:19 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 27863 invoked from network); 12 Jun 2003 09:47:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 09:47:19 -0000
Received: (qmail 11603 invoked by uid 50); 12 Jun 2003 09:49:49 -0000
Date: 12 Jun 2003 09:49:49 -0000
Message-ID: <20030612094949.11602.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20703]  -
    unable to find line starting with "HTTP" error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703

unable to find line starting with "HTTP" error





------- Additional Comments From michael@advweb.com  2003-06-12 09:49 -------
I tried your work around and it doesn't compile.  Despite the javadoc saying
there is a setMethodRetryHandler method on HttpMethod (inherited from
HttpMethodBase) it's not compiling.  I tried using the nightly build from 06-05
and the beta 1.  Was this method taken out?

			method = new GetMethod(uri.toString());
			method.setDoAuthentication( true );
			DefaultMethodRetryHandler retry = new
DefaultMethodRetryHandler();
			retry.setRequestSentRetryEnabled(true);
			method.setMethodRetryHandler  (retry);
			// bug workaround

From anonymous@nagoya.betaversion.org  Thu Jun 12 09:49:14 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 30007 invoked from network); 12 Jun 2003 09:49:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 09:49:14 -0000
Received: (qmail 11650 invoked by uid 50); 12 Jun 2003 09:51:44 -0000
Date: 12 Jun 2003 09:51:44 -0000
Message-ID: <20030612095144.11649.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20703]  -
    unable to find line starting with "HTTP" error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703

unable to find line starting with "HTTP" error





------- Additional Comments From adrian@ephox.com  2003-06-12 09:51 -------
I'm inclined to agree it's a server problem, I'm just not sure why it's happening.  HttpClient does
claim to be able to detect stale connections though so it would be interesting to find out exactly
when the connection is closed.  It seems to be much harder to reproduce on Windows XP than OS X
as well, but it does occur on both.

As for the setRetryMethodHandler method, I thought that was added a while back, and it is
definitely available in HttpMethodBase (latest version from CVS).

From anonymous@nagoya.betaversion.org  Thu Jun 12 09:53:23 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 32310 invoked from network); 12 Jun 2003 09:53:23 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 09:53:23 -0000
Received: (qmail 11711 invoked by uid 50); 12 Jun 2003 09:55:52 -0000
Date: 12 Jun 2003 09:55:52 -0000
Message-ID: <20030612095552.11710.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20703]  -
    unable to find line starting with "HTTP" error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703

unable to find line starting with "HTTP" error





------- Additional Comments From adrian@ephox.com  2003-06-12 09:55 -------
Michael,
How long have you been seeing this problem for?  It seems to be working for me know.  I've been
running the same test case for the past 5 minutes and not seen an exception.  If you've only been
seeing the problem recently it may have just been a short server outage?

From anonymous@nagoya.betaversion.org  Thu Jun 12 09:57:39 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 35698 invoked from network); 12 Jun 2003 09:57:39 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 09:57:39 -0000
Received: (qmail 11772 invoked by uid 50); 12 Jun 2003 10:00:08 -0000
Date: 12 Jun 2003 10:00:08 -0000
Message-ID: <20030612100008.11771.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20703]  -
    unable to find line starting with "HTTP" error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703

unable to find line starting with "HTTP" error





------- Additional Comments From olegk@apache.org  2003-06-12 10:00 -------
Michael,

The HttpMethodBase#setMethodRetryHandler method has been added with the
following patch and is definitely still there:

http://cvs.apache.org/viewcvs/jakarta-commons/httpclient/src/java/org/apache/commons/httpclient/HttpMethodBase.java.diff?r1=1.132&r2=1.133&diff_format=h

Unless additional evidence provided that the problem is caused by HttpClient and
not by the target server, I'll have to mark the bug report as invalid

Oleg

From anonymous@nagoya.betaversion.org  Thu Jun 12 10:02:39 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 38860 invoked from network); 12 Jun 2003 10:02:39 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 10:02:39 -0000
Received: (qmail 11850 invoked by uid 50); 12 Jun 2003 10:05:09 -0000
Date: 12 Jun 2003 10:05:09 -0000
Message-ID: <20030612100509.11849.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20703]  -
    unable to find line starting with "HTTP" error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703

unable to find line starting with "HTTP" error





------- Additional Comments From michael@advweb.com  2003-06-12 10:05 -------
It's still occurring for me.  I just tried it a few times and got one success
and two failures.

If this is a problem specific to MSNBC.com then it's not a problem for me.  I
am just using MSNBC (and lots of other sites) to test.  I doubt any of our
customers will have a site has complicated as MSNBC.com, they redirect way too
much.

The setMethodRetryHandler method isn't in the beta 1 or 06-05 nightly build jar
files, but it is in the javadocs.

From anonymous@nagoya.betaversion.org  Thu Jun 12 10:15:25 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 58516 invoked from network); 12 Jun 2003 10:15:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 10:15:25 -0000
Received: (qmail 12225 invoked by uid 50); 12 Jun 2003 10:17:54 -0000
Date: 12 Jun 2003 10:17:54 -0000
Message-ID: <20030612101754.12224.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20703]  -
    unable to find line starting with "HTTP" error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703

unable to find line starting with "HTTP" error

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |INVALID



------- Additional Comments From olegk@apache.org  2003-06-12 10:17 -------
Michael,

The method is indeed there. Have a look for yourself:

http://cvs.apache.org/viewcvs/jakarta-commons/httpclient/src/java/org/apache/commons/httpclient/HttpMethodBase.java?rev=1.151

Please note that it is a method of HttpMethodBase class, not of HttpMethod
interface. I suppose you cast your method object to HttpMethod interface and
then attempt to set the retry handler. That "does not compute", of course

I think it is quite likely that under certain circumstances (such as heavy load)
MSNBC simply drops connections as it sees fit. By the way, dropping connections
at any time and without prior notice is absolutely fine from the HTTP spec
standpoint.

I mark the report as invalid

Oleg

From anonymous@nagoya.betaversion.org  Thu Jun 12 10:20:44 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 63791 invoked from network); 12 Jun 2003 10:20:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 10:20:44 -0000
Received: (qmail 12309 invoked by uid 50); 12 Jun 2003 10:23:14 -0000
Date: 12 Jun 2003 10:23:14 -0000
Message-ID: <20030612102314.12308.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20703]  -
    unable to find line starting with "HTTP" error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20703

unable to find line starting with "HTTP" error





------- Additional Comments From michael@advweb.com  2003-06-12 10:23 -------
Oleg, you are correct I was using the Interface.  I had it declared outside my
try/catch block so I didn't see it.  Sorry about that.

Adrian, your work around is working perfectly for me.  Thank you very much.  I
agree with Oleg, we can leave this bug as "INVALID".

Michael

From anonymous@nagoya.betaversion.org  Thu Jun 12 10:29:40 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 69834 invoked from network); 12 Jun 2003 10:29:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 10:29:40 -0000
Received: (qmail 12427 invoked by uid 50); 12 Jun 2003 10:32:10 -0000
Date: 12 Jun 2003 10:32:10 -0000
Message-ID: <20030612103210.12426.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From adrian@ephox.com  2003-06-12 10:32 -------
Created an attachment (id=6775)
Patch to SSL guide to clean things up a little.

From anonymous@nagoya.betaversion.org  Thu Jun 12 10:30:58 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 73192 invoked from network); 12 Jun 2003 10:30:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 10:30:58 -0000
Received: (qmail 12469 invoked by uid 50); 12 Jun 2003 10:33:13 -0000
Date: 12 Jun 2003 10:33:13 -0000
Message-ID: <20030612103313.12468.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From adrian@ephox.com  2003-06-12 10:33 -------
As promised, I've attached a patch that cleans up the SSL docs a little - no changes to the
conceptual meaning.  If noone objects I'll commit the changes in the morning.

From oleg.kalnichevski@bearingpoint.com  Thu Jun 12 11:34:18 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 56149 invoked from network); 12 Jun 2003 11:34:18 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 12 Jun 2003 11:34:18 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 12 Jun 2003 11:36:05 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: HttpState not serializable
Date: Thu, 12 Jun 2003 12:34:16 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE55F@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: HttpState not serializable
Thread-Index: AcMwbV7iJA5QDuAVR3ennDbQskTGOgAYHwoA
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 12 Jun 2003 11:36:05.0375 (UTC) FILETIME=[CF3138F0:01C330D6]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ralph and the HttpClient folks out there

Initially I thought that HttpState class should have been made =
serializeable per default. Later I realized that there was a catch, =
however. The HttpState class besides cookies also contains credentials =
for target servers and proxy servers. From the security standpoint, it =
would not be desirable to store such sensitive information in clear text =
or to give the user a wrong impression that the security aspects of =
password persistence have been taken care of. So, we basically end up =
with two options: 1) making HttpState serializeable but marking =
credentials sets as transient 2) leave the choice of the persistence =
mechanism up to the user (as it is today)

If we reach a consensus that the first option makes more sense, I will =
file a bug report and target it for 2.1 release

Cheers

Oleg
=20

-----Original Message-----
From: Ralph Goers [mailto:rg1915@dslextreme.com]
Sent: Thursday, June 12, 2003 01:01
To: commons-httpclient-dev@jakarta.apache.org
Subject: HttpState not serializable


I am trying to save the HttpState object in the session and am getting a =
message from Weblogic Server saying the attribute is not serializable =
and will be lost upon redeployment.  How can I address this?

Ralph

From anonymous@nagoya.betaversion.org  Thu Jun 12 11:39:18 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 68275 invoked from network); 12 Jun 2003 11:39:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 11:39:18 -0000
Received: (qmail 14406 invoked by uid 50); 12 Jun 2003 11:41:34 -0000
Date: 12 Jun 2003 11:41:34 -0000
Message-ID: <20030612114134.14405.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From olegk@apache.org  2003-06-12 11:41 -------
Looks good to me. Go ahead and commit the patch

Oleg

From oleg.kalnichevski@bearingpoint.com  Thu Jun 12 12:20:47 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 42049 invoked from network); 12 Jun 2003 12:20:47 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 12 Jun 2003 12:20:47 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 12 Jun 2003 12:18:08 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Cookie and RFC 2109
Date: Thu, 12 Jun 2003 13:20:42 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE560@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Cookie and RFC 2109
Thread-Index: AcMwvdiOIEc8d8BZRVeYGf9UACk1MwAHZgVQ
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Cc: <dan.aberg@staff.spray.se>
X-OriginalArrivalTime: 12 Jun 2003 12:18:08.0453 (UTC) FILETIME=[AF105F50:01C330DC]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Dan,
That would definitely be a bug. However, it would be too obvious and too =
massive a bug to be so easily overlooked by the time of beta-1. Would it =
be possible to provide us with the wire log of the HTTP session that =
exhibits the problem? Meanwhile, I will walk through cookie management =
code in order to double-check if everything is ok there

http://jakarta.apache.org/commons/httpclient/logging.html

Cheers

Oleg

-----Original Message-----
From: Dan =C5berg [mailto:dan.aberg@staff.spray.se]
Sent: Thursday, June 12, 2003 10:37
To: commons-httpclient-dev
Subject: Cookie and RFC 2109


Hi All !

RFC 2109, section: "4.3.1 Interpreting Set-Cookie" states that:

"Path   Defaults to the path of the request URL that generated the
        Set-Cookie response, up to, but not including, the
        right-most /."

When I'm using HttpClient and PostMethod to issue a post command to =
http://foo.com/whatever.php I retreive a cookie with no path set. When I =
examine the cookie the path is set to "/whatever.php", but according to =
RFC 2109 it should be "/".
Am I missing something or is this a bug ?

Thanx
/Dan

P.S.
I'm using version commons-httpclient-2.0-beta1


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From adrian@intencha.com  Thu Jun 12 12:25:38 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 49880 invoked from network); 12 Jun 2003 12:25:38 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 12 Jun 2003 12:25:38 -0000
Received: from intencha.com (unverified [150.101.177.33]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055333636@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 12 Jun 2003 06:22:53 -0600
Date: Thu, 12 Jun 2003 22:26:10 +1000
Subject: Re: HttpState not serializable
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE55F@kccxoex06.corp.kpmgconsulting.com>
Message-Id: <0C9CA5EC-9CD1-11D7-8308-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Oleg et al,
My take on this is that we should leave the choice of persistence up to
the end user.  The HttpState is not a JavaBean or adhere to any of the
other bean contracts so I don't see any need to make it serializable.
I think it would be great to see a class that extends HttpState to make
it serializable, particularly if it did so in a way that it encrypted
the passwords etc, however I believe that should wind up in the contrib
directory.

Serialization is way outside of HttpClient's usual use cases so if
there are concerns about how it should be done, it should be left to
the user, it's a fairly trivial change for users to make.

The other problem is that if we mark HttpState as serializable we have
to start worrying about making it backwards compatible and not breaking
the ability to serialize, I'm not sure that's something we want to take
on.

The idea is nice on the surface though - shame about the detail. :)

Adrian Sutton.

On Thursday, June 12, 2003, at 09:34  PM, Kalnichevski, Oleg wrote:

> Ralph and the HttpClient folks out there
>
> Initially I thought that HttpState class should have been made
> serializeable per default. Later I realized that there was a catch,
> however. The HttpState class besides cookies also contains credentials
> for target servers and proxy servers. From the security standpoint, it
> would not be desirable to store such sensitive information in clear
> text or to give the user a wrong impression that the security aspects
> of password persistence have been taken care of. So, we basically end
> up with two options: 1) making HttpState serializeable but marking
> credentials sets as transient 2) leave the choice of the persistence
> mechanism up to the user (as it is today)
>
> If we reach a consensus that the first option makes more sense, I will
> file a bug report and target it for 2.1 release
>
> Cheers
>
> Oleg
>
>
> -----Original Message-----
> From: Ralph Goers [mailto:rg1915@dslextreme.com]
> Sent: Thursday, June 12, 2003 01:01
> To: commons-httpclient-dev@jakarta.apache.org
> Subject: HttpState not serializable
>
>
> I am trying to save the HttpState object in the session and am getting
> a message from Weblogic Server saying the attribute is not
> serializable and will be lost upon redeployment.  How can I address
> this?
>
> Ralph
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From anonymous@nagoya.betaversion.org  Thu Jun 12 13:22:44 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 52105 invoked from network); 12 Jun 2003 13:22:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 13:22:44 -0000
Received: (qmail 17491 invoked by uid 50); 12 Jun 2003 13:25:01 -0000
Date: 12 Jun 2003 13:25:01 -0000
Message-ID: <20030612132501.17490.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    Possible error with PostMethod.generateRequestBody() when using a parameter of the form: select(c)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

Possible error with PostMethod.generateRequestBody() when using a parameter of the form: select(c)

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |ASSIGNED
           Priority|Other                       |Medium
   Target Milestone|---                         |2.0 Beta 2



------- Additional Comments From olegk@apache.org  2003-06-12 13:25 -------
Chris,

After having read relevant specifications one more time:

- Hypertext Markup Language - 2.0
  http://www.w3.org/MarkUp/html-spec/html-spec_8.html#SEC8.2.1
- RFC1738 (Uniform Resource Locators)
  http://www.w3.org/Addressing/rfc1738.txt

I have to acknowledge that HttpClient does not handle
'application/x-www-form-urlencoded' correctly. I'll be working on a fix. So,
stay tuned

Oleg

From anonymous@nagoya.betaversion.org  Thu Jun 12 13:29:49 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 75948 invoked from network); 12 Jun 2003 13:29:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 13:29:49 -0000
Received: (qmail 17811 invoked by uid 50); 12 Jun 2003 13:32:06 -0000
Date: 12 Jun 2003 13:32:06 -0000
Message-ID: <20030612133206.17810.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
            Summary|Possible error with         |HttpClient does not properly
                   |PostMethod.generateRequestBo|handle 'application/x-www-
                   |dy() when using a parameter |form-urlencoded' encoding
                   |of the form: select(c)      |

From oleg.kalnichevski@bearingpoint.com  Thu Jun 12 13:34:40 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 89269 invoked from network); 12 Jun 2003 13:34:40 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 12 Jun 2003 13:34:40 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 12 Jun 2003 13:32:06 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Post Method
Date: Thu, 12 Jun 2003 14:34:40 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE561@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Post Method
Thread-Index: AcMvwUDvE4uukjn3TtK0daM38IIiGgBJY7rw
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Cc: "Manuel Castro Paliza" <mcp219@tid.es>
X-OriginalArrivalTime: 12 Jun 2003 13:32:06.0109 (UTC) FILETIME=[041CF0D0:01C330E7]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Manuel,

We have discovered that HttpClient does not properly handle =
'x-www-form-urlencoded' encoding. The problems with POST requests you =
have been experiencing appear to have been caused by this bug

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=3D20481

I'll be working on a fix. Stay tuned

Cheers

Oleg

-----Original Message-----
From: Michael Becke [mailto:becke@u.washington.edu]
Sent: Wednesday, June 11, 2003 04:29
To: Commons HttpClient Project
Subject: Re: Post Method


There seems to be quite a bit of discussion regarding this question but=20
not too much that seems ultimately definitive.  This one seems to be=20
the best:

http://groups.google.com/groups?oi=3Ddjq&selm=3Dan_537840002

Essentially the author says that form encoding and URI encoding are two=20
unrelated things.  When posting via a form the data should be encoded=20
as per (http://www.w3.org/MarkUp/html-spec/html-spec_8.html#SEC8.2.1). =20
When building a URI rfc2396 should be used.

If this is correct, which I think it is, PostMethod is incorrectly=20
encoding values.  It also seems that query parameters are being=20
incorrectly encoded as they should be using x-www-form-urlencoded. My=20
guess is that most web servers will accept data encoded either way as=20
there is some general confusion regarding this.  My feeling is that=20
PostMethod and HttpMethodBase should be changed to conform to the=20
x-www-form-urlencoded standard.  What does everyone think?

Mike

On Tuesday, June 10, 2003, at 01:13 PM, Mike Moran wrote:

> Michael Becke wrote:
>> I think there may be a bug here as well.  According to the spec,=20
>> space characters should be represented as '+' but URIUtil is encoding =

>> them as '%20'.  I think the resevered character set is perhaps also=20
>> incorrect. According to rfc 1738 ";", "/", "?", ":", "@", "=3D" and =
"&"=20
>> are the reserved chars but URI is also uncluding "+", "$" and ",". =20
>> My guess is that most servers translate all hex encoded characters=20
>> but it seems that we are not quite to spec.
>
> You may want to double-check this with rfc2396, which updates rfc1738. =

> My interpretation of the '+'/'%20' issue was that both were legal=20
> escapings of space, however it may be worth another reading on my > =
part.
>
> --=20
> Mike Moran
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:=20
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:=20
> commons-httpclient-dev-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From anonymous@nagoya.betaversion.org  Thu Jun 12 13:41:52 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 99583 invoked from network); 12 Jun 2003 13:41:52 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 13:41:52 -0000
Received: (qmail 18190 invoked by uid 50); 12 Jun 2003 13:44:10 -0000
Date: 12 Jun 2003 13:44:10 -0000
Message-ID: <20030612134410.18189.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding





------- Additional Comments From cdmein@yahoo.co.uk  2003-06-12 13:44 -------
Thank you for taking the time to read the specificaiton. I am away for the next
few days but am happy to test or write a test for this functionality when I am
back.

Chris

From JGonsalves@xtensible.com  Thu Jun 12 15:32:37 2003
Return-Path: <JGonsalves@xtensible.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 37733 invoked from network); 12 Jun 2003 15:32:37 -0000
Received: from smtp01.mrf.mail.rcn.net (207.172.4.60)
  by daedalus.apache.org with SMTP; 12 Jun 2003 15:32:37 -0000
X-Info: This message was accepted for relay by
	smtp01.mrf.mail.rcn.net as the sender used SMTP authentication
X-Trace: UmFuZG9tSValZd7HNGznc27Qz9vdDysV964tVZZivw7dseLp7Lg8SM8/C/Hb5uYbG6zfHnssmEI=
Received: from pool-64-223-173-35.man.east.verizon.net ([64.223.173.35] helo=Xtensible.com)
	by smtp01.mrf.mail.rcn.net with asmtp (Exim 3.35 #4)
	id 19QU44-0000Ra-00
	for commons-httpclient-dev@jakarta.apache.org; Thu, 12 Jun 2003 11:32:36 -0400
Message-ID: <3EE89D1D.6030908@Xtensible.com>
Date: Thu, 12 Jun 2003 11:32:45 -0400
From: Jan Gonsalves <JGonsalves@Xtensible.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Socket timeouts and value questions
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I ran into a HttpClient hang at 3 this morning so I now call:
client.setConnectionTimeout(connTimeOut);
client.setTimeout(sockTimeOut);

What are reasonable values, I'm not waiting for the connection to finish
correct, just waiting for valid data?  At first I was thinking it's
going to wait for the connection to finish, which in some cases is
upwards of 10 minutes, large data downloads.  But if it's just a period
of time that nothing comes across the wire then I obviously wouldn't
want to set it to that.

Also, on a side NON HttpClient note.  I'm getting another Socket hang on
the following non HttpClient line:
BufferedReader br = new BufferedReader(new
InputStreamReader(url.openStream()));

Is there a way to set a socket timout here?  url is an FTP Url.

Thanks.

Jan Gonsalves


From oleg.kalnichevski@bearingpoint.com  Thu Jun 12 16:52:03 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 18475 invoked from network); 12 Jun 2003 16:52:03 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 12 Jun 2003 16:52:03 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 12 Jun 2003 16:49:28 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C33102.F28721C6"
Subject: RE: Cookie and RFC 2109
Date: Thu, 12 Jun 2003 17:52:02 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE563@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator: <825BF35A92B3F0479CC164ECBBE9376E0DE563@kccxoex06.corp.kpmgconsulting.com>
Thread-Topic: Cookie and RFC 2109
Thread-Index: AcMwvdiOIEc8d8BZRVeYGf9UACk1MwARF/eL
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>,
	<dan.aberg@staff.spray.se>
X-OriginalArrivalTime: 12 Jun 2003 16:49:28.0296 (UTC) FILETIME=[969B4680:01C33102]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33102.F28721C6
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Dan
I have to confirm that this is indeed a bug in HttpClient. The bug only =
affects cookie paths that have one leading back slash, eg: =
'/whatever.php'. Cookie paths with multiple slashes are processed =
correctly, eg: '/path/whatever.php'.

Many thanks for tracking the bug down

Cheers

Oleg


-----Original Message-----
From:	Dan =C5berg [mailto:dan.aberg@staff.spray.se]
Sent:	Thu 6/12/2003 10:37
To:	commons-httpclient-dev
Cc:=09
Subject:	Cookie and RFC 2109
Hi All !

RFC 2109, section: "4.3.1 Interpreting Set-Cookie" states that:

"Path   Defaults to the path of the request URL that generated the
        Set-Cookie response, up to, but not including, the
        right-most /."

When I'm using HttpClient and PostMethod to issue a post command to =
http://foo.com/whatever.php I retreive a cookie with no path set. When I =
examine the cookie the path is set to "/whatever.php", but according to =
RFC 2109 it should be "/".
Am I missing something or is this a bug ?

Thanx
/Dan

P.S.
I'm using version commons-httpclient-2.0-beta1


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org







------_=_NextPart_001_01C33102.F28721C6--

From anonymous@nagoya.betaversion.org  Thu Jun 12 18:40:38 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 68056 invoked from network); 12 Jun 2003 18:40:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 18:40:38 -0000
Received: (qmail 4226 invoked by uid 50); 12 Jun 2003 18:42:55 -0000
Date: 12 Jun 2003 18:42:55 -0000
Message-ID: <20030612184255.4225.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20646]  -
    Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20646

Via NTLM proxy to SSL Apache/BasicAuth. - worked in may 22nd, but broken in beta1

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|ASSIGNED                    |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From olegk@apache.org  2003-06-12 18:42 -------
Patch committed

Oleg

From anonymous@nagoya.betaversion.org  Thu Jun 12 18:59:46 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 47786 invoked from network); 12 Jun 2003 18:59:46 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 18:59:46 -0000
Received: (qmail 4859 invoked by uid 50); 12 Jun 2003 19:02:04 -0000
Date: 12 Jun 2003 19:02:04 -0000
Message-ID: <20030612190204.4858.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20665]  -
    URI path resolution problems.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665

URI path resolution problems.

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
           Priority|Other                       |Medium
   Target Milestone|---                         |2.0 Beta 2

From anonymous@nagoya.betaversion.org  Thu Jun 12 19:08:00 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 73288 invoked from network); 12 Jun 2003 19:08:00 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 19:08:00 -0000
Received: (qmail 5479 invoked by uid 50); 12 Jun 2003 19:10:17 -0000
Date: 12 Jun 2003 19:10:17 -0000
Message-ID: <20030612191017.5478.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 19868]  -
    Exception handling in HttpClient requires redesign
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19868>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19868

Exception handling in HttpClient requires redesign

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
           Severity|Normal                      |Major
           Priority|Other                       |High
            Summary|Need the                    |Exception handling in
                   |InterruptedIOException when |HttpClient requires redesign
                   |timeout                     |
   Target Milestone|---                         |2.1 Final
            Version|2.0 Alpha 3                 |2.0 Beta 1



------- Additional Comments From olegk@apache.org  2003-06-12 19:10 -------
HttpClient is in need of careful revision of the entire exception handling
logic. There has to be a clear distinction between protocol exceptions
(malformed request, malformed response, unsupported protocol version, etc) and
transport exceptions (read/write failures, read/write timeouts). Likewise
distinction should be made between recoverable and non-recoverable transport
exceptions.

From olegk@apache.org  Thu Jun 12 19:15:47 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 93256 invoked from network); 12 Jun 2003 19:15:47 -0000
Received: from mail6.bluewin.ch (195.186.4.229)
  by daedalus.apache.org with SMTP; 12 Jun 2003 19:15:47 -0000
Received: from olddude.tislab.ch (81.62.177.191) by mail6.bluewin.ch (Bluewin AG 7.0.016)
        id 3EDDD4F3000E676B; Thu, 12 Jun 2003 19:15:49 +0000
Subject: RE: Cookie and RFC 2109
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>,  dan.aberg@staff.spray.se
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE563@kccxoex06.corp.kpmgconsulting.com>
References:
	 <825BF35A92B3F0479CC164ECBBE9376E0DE563@kccxoex06.corp.kpmgconsulting.com>
Content-Type: text/plain; charset=ISO-8859-1
Message-Id: <1055445347.1901.1.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 12 Jun 2003 21:15:48 +0200
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Fix applied. Please re-test against the most recent CVS snapshot

Oleg

On Thu, 2003-06-12 at 18:52, Kalnichevski, Oleg wrote:
> Dan
> I have to confirm that this is indeed a bug in HttpClient. The bug only affects cookie paths that have one leading back slash, eg: '/whatever.php'. Cookie paths with multiple slashes are processed correctly, eg: '/path/whatever.php'.
>
> Many thanks for tracking the bug down
>
> Cheers
>
> Oleg
>
>
> -----Original Message-----
> From:	Dan Åberg [mailto:dan.aberg@staff.spray.se]
> Sent:	Thu 6/12/2003 10:37
> To:	commons-httpclient-dev
> Cc:
> Subject:	Cookie and RFC 2109
> Hi All !
>
> RFC 2109, section: "4.3.1 Interpreting Set-Cookie" states that:
>
> "Path   Defaults to the path of the request URL that generated the
>         Set-Cookie response, up to, but not including, the
>         right-most /."
>
> When I'm using HttpClient and PostMethod to issue a post command to http://foo.com/whatever.php I retreive a cookie with no path set. When I examine the cookie the path is set to "/whatever.php", but according to RFC 2109 it should be "/".
> Am I missing something or is this a bug ?
>
> Thanx
> /Dan
>
> P.S.
> I'm using version commons-httpclient-2.0-beta1
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>
>
>
>
>
>
>
>
> ______________________________________________________________________
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org


From anonymous@nagoya.betaversion.org  Thu Jun 12 22:43:54 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 41866 invoked from network); 12 Jun 2003 22:43:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 12 Jun 2003 22:43:54 -0000
Received: (qmail 11803 invoked by uid 50); 12 Jun 2003 22:46:14 -0000
Date: 12 Jun 2003 22:46:14 -0000
Message-ID: <20030612224614.11802.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation





------- Additional Comments From adrian@ephox.com  2003-06-12 22:46 -------
Patch committed.

From anonymous@nagoya.betaversion.org  Fri Jun 13 13:15:59 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 99745 invoked from network); 13 Jun 2003 13:15:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 Jun 2003 13:15:59 -0000
Received: (qmail 29155 invoked by uid 50); 13 Jun 2003 13:18:16 -0000
Date: 13 Jun 2003 13:18:16 -0000
Message-ID: <20030613131816.29154.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20744] New:  -
    HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744

HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload

           Summary: HTTPClient MultiPartPostMethod inconsistent behaviour
                    compared to standard form upload
           Product: Commons
           Version: unspecified
          Platform: Other
        OS/Version: Windows NT/2K
            Status: NEW
          Severity: Normal
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: dputzeys@cognicase.be


First of all, I am not sure whether I need to report the problem here or on the
Tomcat forum. However it is a bug which occupied two developpers for about two
days, so a solution might interest everyone.

The used versions are : Commons HTTPClient 2beta1 and Tomcat 4.0.x. I did not
test whether the same behaviour occured using later versions of tomcat. All were
running on a WIN32 platform.

Situation:
I have a tomcat server running with struts. I created an action (call it
"FileUploadReceiveAction" which saves the uploaded file depending on another
submitted parameter "identification" either in directory A or directory B). Of
course, I created a corresponding actionform FileUploadReceiveForm.

When I use a simple HTML form with two fields : input-text-name=identification
and input-file-name=thefile, the file selected in "theFile" field and the
identification value are correctly uploaded and treated by my
FileUploadReceiveAction. The html form indicates "multipart/form-data".

Next step is to do the same thing but with httpclient.

The code is as follows :

snip...
String connectURL = "http://localhost:8080/appl/upload.do"; //this the mapping
towards my FileUploadReceiveAction
HttpClient client = new HttpClient();
MultipartPostMethod method = new MultipartPostMethod(connectURL);
method.addParameter("identification", "default");
method.addParameter("theFile", "test.txt", new File("c:/temp/test.txt"));
int statuscode = client.executeMethod(method);
method.releaseConnection();

...end snip
(in case there is an error in the code above : my code at home compiles ok, so
it is probably a typing error).


Now here comes the particular "bugs":

1) bug one
on the server side, (i.e. in FileUploadReceiveAction) :
request.getParameter("identification") gives the value
"Content-Transer-Encoding: 8bitdefault" as result
((FileUploadReceiveForm)form).getIdentification() gives
"Content-Transer-Encoding: 8bitdefault" as result

2) bug two
The file uploaded has an unexpected "\r\n" on the beginning of the file, which
quite disturbing when the uploaded file is an xml file which as a result of that
does not validate anymore.


I did some tracing on the POST body when submitted via the HTML form and via the
HTTPCLient : Remark the differences in the Part heading !

1) POST body submit via the HTTPClient: (Boundary =
------------------314159265358979323846)

------------------314159265358979323846
Content-Disposition: form-data; name="identification"
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

default
------------------314159265358979323846
Content-Disposition: form-data; name="file"; filename="test.txt"
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary

SQuirreL SQL Client Session Dump Thu Mar 27 10:32:41 CET 2003 ...rest of file
follows
------------------314159265358979323846--

2) POST body submit via HTML Form: (Boundary =
-----------------------------41184676334)

-----------------------------41184676334
Content-Disposition: form-data; name="identification"

default
-----------------------------41184676334
Content-Disposition: form-data; name="file"; filename="test.txt"
Content-Type: text/plain

SQuirreL SQL Client Session Dump Thu Mar 27 10:32:41 CET 2003 ...rest of file
follows
-----------------------------41184676334--


Conclusion : There is clearly a difference in the way the HTTPClient and the
HTML form send the same pieces of data. The differences are situated in the
MultiPart headers. The error is not due to struts ase both the get method on the
form as the getparameter on the request give the same result. The bug is
probably situated in Tomcat or the Multipart upload mechanism which parses the
headers incorrectly.

I checked the RFCs and both Content-Transfer-Encoding (for both FilePart and
StringPart) and Content-type (for StringPart) are optional, non-mandatory.

Solution - Workaround :
Create classes which enable you to simulate the Multipart headers as they are
sent by your browser. Overwriting the correct methods enables you to avoid that
the content-transfer-encoding and content-type headers are added to the
different parts.
Create the following classes :
package whathever;
public class StringPart extends
org.apache.commons.httpclient.methods.multipart.StringPart {

	public StringPart(String name, String value) {
		super(name, value);
	}

protected void sendTransferEncodingHeader(OutputStream arg0)
		throws IOException {
	}

protected void sendContentTypeHeader(OutputStream arg0)
		throws IOException {
	}

}


package whatever;
public class FilePart extends
org.apache.commons.httpclient.methods.multipart.FilePart {
	public FilePart(String name, String filename, File file) throws
FileNotFoundException {
		super(name, filename, file);
	}
	protected void sendTransferEncodingHeader(OutputStream arg0)
		throws IOException {
	}
}

and adapt your HTTPCLient code to :

snip...
String connectURL = "http://localhost:8080/appl/upload.do"; //this the mapping
towards my FileUploadReceiveAction
HttpClient client = new HttpClient();
MultipartPostMethod method = new MultipartPostMethod(connectURL);
Part part = new whatever.StringPart("identification", "default");
method.addPart(part);
FilePart filepart = new whatever.FilePart("theFile", "test.txt", new
File("c:/temp/test.txt"));
method.addPart(filePart);
int statuscode = client.executeMethod(method);
method.releaseConnection();


...end snip


And the bugs suddenly will disappear.

However I think this behaviour is a work around and not a definitive solution,
as the server which treats the POST does not read the Multipart headers correctly.

From byosmosis@hotmail.com  Fri Jun 13 13:52:14 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 99206 invoked from network); 13 Jun 2003 13:52:14 -0000
Received: from bay1-dav67.bay1.hotmail.com (HELO hotmail.com) (65.54.244.202)
  by daedalus.apache.org with SMTP; 13 Jun 2003 13:52:14 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 13 Jun 2003 06:52:16 -0700
Received: from 211.237.216.185 by bay1-dav67.bay1.hotmail.com with DAV;
	Fri, 13 Jun 2003 13:52:16 +0000
X-Originating-IP: [211.237.216.185]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Cc: <eric@tibco.com>
References: <7792D310-9AE2-11D7-8E29-00306557E112@u.washington.edu>
Subject: Re: URI specification
Date: Fri, 13 Jun 2003 22:52:16 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV67s1tIzmQVu0001394c@hotmail.com>
X-OriginalArrivalTime: 13 Jun 2003 13:52:16.0718 (UTC) FILETIME=[001AF6E0:01C331B3]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

TG9uZyB0aW1lIG5vIHNlZS4uLiA7KQ0KDQoNCi0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0g
DQpGcm9tOiAiTWljaGFlbCBCZWNrZSIgPGJlY2tlQHUud2FzaGluZ3Rvbi5lZHU+DQpUbzogIkNv
bW1vbnMgSHR0cENsaWVudCBQcm9qZWN0IiA8Y29tbW9ucy1odHRwY2xpZW50LWRldkBqYWthcnRh
LmFwYWNoZS5vcmc+DQpTZW50OiBUdWVzZGF5LCBKdW5lIDEwLCAyMDAzIDEwOjI1IEFNDQpTdWJq
ZWN0OiBSZTogVVJJIHNwZWNpZmljYXRpb24NCg0KDQo+IEkgZGVmaW5pdGVseSBhZ3JlZSB0aGF0
IGl0IHdvdWxkIGJlIGJlc3QgaWYgVVJJIGhhZCBpdHMgb3duIGhvbWUgDQo+IG91dHNpZGUgb2Yg
SHR0cENsaWVudC4gIE15IGltcHJlc3Npb24gd2FzIHRoYXQgd2Ugd291bGQgdHJ5IHRvIGhhdmUg
aXQgDQo+IHJlbW92ZWQgYnkgMi4xIGJ1dCBJIHNlZSB0aGF0IGl0IGlzIG5vdCBkZXByZWNhdGVk
LiAgUGVyaGFwcyB0aGF0IGlzIA0KPiBkdWUgdG8gdGhlIGx1a2Ugd2FybSByZWNlcHRpb24gaXQg
aGFzIHJlY2VpdmVkIGZyb20gdGhlIGNvbW1vbnMgDQo+IGNvbW11bml0eSBhdCBsYXJnZS4gIEkg
YWdyZWUgdGhpcyBtaWdodCBiZSBhIGdvb2QgdGltZSB0byBkcnVtIHVwIHNvbWUgDQo+IHN1cHBv
cnQgZm9yIGEgc2VwYXJhdGUgVVJJIHBhY2thZ2UuICBBbnkgdGFrZXJzPw0KPiANCj4gQXMgZmFy
IGFzIGNvbXBsaWFuY2UgZ29lcyB3ZSdyZSBsb29raW5nIHByZXR0eSBnb29kLiAgVGhlIG9ubHkg
dGVzdCANCj4gY2FzZXMgdGhhdCBkbyBub3Qgd29yayB3aXRoIEh0dHBDbGllbnQgVVJJIGFyZSAi
Li4vLi4vLi4vZyIgYW5kIA0KPiAiLi4vLi4vLi4vLi4vZyIuICBJIHdpbGwgbG9vayBpbnRvIHRo
ZXNlLg0KDQpGb3IgdGhlIHJpZ2h0IGFib3ZlIGNvbW1lbnQsIHRoZSByZW1pbmRlciB3aWxsIGJl
IGZvbGxvd2luZzoNCg0KDQpSZXZpc2lvbiAxLjI5IC8gKHZpZXcpIC0gYW5ub3RhdGUgLSBbc2Vs
ZWN0ZWRdICwgVGh1IEphbiAzMCAwMzoyMDowNCAyMDAzIFVUQyAoNCBtb250aHMsIDEgd2VlayBh
Z28pIGJ5IGplcmljaG8gDQpCcmFuY2g6IE1BSU4gDQpDaGFuZ2VzIHNpbmNlIDEuMjg6ICsyOCAt
MjAgbGluZXMgDQpEaWZmIHRvIHByZXZpb3VzIDEuMjggKGNvbG9yZWQpIA0KLSBUaHJvdyBhbiBw
YXJzaW5nIGV4Y2VwdGlvbiwgd2hlbiB0aGVyZSBpcyBubyBtb3JlIGhpZ2hlciBwYXRoIGxldmVs
Lg0KDQpTdWdnZXN0ZWQgYnkgIkVyaWMgSm9obnNvbiIgPGVyaWNAdGliY28uY29tPg0KDQogICAg
IkltYWdpbmUsIGZvciBleGFtcGxlLCB0aGF0IHlvdXIgY2xpZW50IGFwcGxpY2F0aW9uIGZvbGxv
d3MgYSBsaW5rIGluDQogICAgYW4gSFRNTCB0aGF0IGdlbmVyYXRlZCB0aGlzIFVSTCwgYW5kIHRo
ZSBmaWxlICJnIiBhY3R1YWxseSBleGlzdHMgb24NCiAgICB0aGUgc2VydmVyLiAgRXZlcnl0aGlu
ZyB3aWxsIGFwcGVhciB0byBiZSBvcGVyYXRpbmcgY29ycmVjdGx5LCBidXQgaXQNCiAgICBpcyBu
b3QuIg0KDQpSZXBvcnRlZCBieSAiQXJtYW5kbyBBbnRvbiIgPGFybWFuZG8uYW50b25AbmV3a25v
dy5jb20+DQpJIHRoaW5rIHdlIGNhbiBzdWdnZXN0IHRoZW0gdG8gY29uc2lkZXIgdGhlIGFib3Zl
IHBvaW50LldoYXQgSWYgSSdtIGFsbG93ZWQsIEknbGwgbG9vayBpbnRvIHRoZSBkcmFmdCBkb2N1
bWVudHMuLi5TdW5nLUd1PiBNaWtlPiA+IE9uIE1vbmRheSwgSnVuZSA5LCAyMDAzLCBhdCAwMzoz
NSBQTSwgT2xlZyBLYWxuaWNoZXZza2kgd3JvdGU6PiA+ID4gRm9sa3MsPiA+PiA+IEl0IGxvb2tz
IGxpa2UgdGhpcyBkaXJlY3RseSBhcHBsaWVzIHRvIHVzIChzZWUgYmVsb3cpLiBJdCBhbHNvIHJh
aXNlcyBhPiA+IHF1ZXN0aW9uIG9mIGhvdyB3ZSBnbyBhYm91dCBVUkkgc3VwcG9ydCBpbiB0aGUg
ZnV0dXJlLiBTaW5jZSBTdW5nLUd1ID4gPiBoYXM+ID4gcHJldHR5IG11Y2ggcmV0aXJlZCBmcm9t
IHRoZSBwcm9qZWN0IChoZSdzIGJlZW4gYSBuby1zaG93IG9uIHRoaXMgbGlzdD4gPiBmb3Igc2V2
ZXJhbCBtb250aHMgYWxyZWFkeSksIFVSSSBzdHVmZiBpcyByaXBlIGZvciBhIHRha2Ugb3Zlci4g
PiA+IFNwaW5uaW5nPiA+IGl0IG9mZiBpbnRvIGEgQ29tbW9ucyBwcm9qZWN0IG9mIGl0cyBvd24g
d291bGQgYmUgdGhlIGJlc3Qgb3B0aW9uLiBJPiA+IHRoaW5rIHRoaXMgbWF5IGJlIHRoZSByaWdo
dCBtb21lbnQuPiA+PiA+IElkZWFzLCB0aG91Z2h0cywgY29tbWVudHM/PiA+PiA+IE9sZWc+ID4+
ID4gUFM6IFN1bmctR3UsIGlmIHlvdSBhcmUgc3RpbGwgbW9uaXRvcmluZyB0aGlzIG1haWxpbmcg
bGlzdCwgcGxlYXNlIGxldD4gPiB1cyBrbm93PiA+PiA+PiA+PiA+PiA+IC0tLS0tRm9yd2FyZGVk
IE1lc3NhZ2UtLS0tLT4gPj4gPj4gRnJvbTogUm95IFQuIEZpZWxkaW5nIDxmaWVsZGluZ0BhcGFj
aGUub3JnPj4gPj4gVG86IGNvbW11bml0eUBhcGFjaGUub3JnPiA+PiBTdWJqZWN0OiBVUkkgc3Bl
Y2lmaWNhdGlvbj4gPj4gRGF0ZTogMDkgSnVuIDIwMDMgMTI6MDY6MTMgLTA3MDA+ID4+PiA+PiBJ
IHN1Ym1pdHRlZCBkcmFmdCAwMyBvZiB0aGUgVVJJIHNwZWMgcmV2aXNpb24gb24gRnJpZGF5LiAg
SXQgY2FuPiA+PiBhbHNvIGJlIG9idGFpbmVkIHZpYSB0aGUgaXNzdWVzIGxpc3QgYXQ+ID4+PiA+
PiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL35maWVsZGluZy91cmkvcmV2LTIwMDIvaXNzdWVz
Lmh0bWw+ID4+PiA+PiBUaGlzIGRyYWZ0IGlzIGNsb3NlIHRvIGZpbmFsLCB3aXRoIG1heWJlIGEg
ZmV3IGVkaXRvcmlhbCBjaGFuZ2VzPiA+PiBsZWZ0IGJlZm9yZSBnb2luZyB0byBJRVNHIGxhc3Qg
Y2FsbC4gIEl0IHdvdWxkIGJlIG5pY2UgaWYgdGhlIEFwYWNoZT4gPj4gc29mdHdhcmUgcHJvamVj
dHMgd2VyZSBjaGVja2VkL3VwZGF0ZWQgZm9yIGNvbmZvcm1hbmNlLiAgUGxlYXNlIGxldD4gPj4g
bWUga25vdyBpZiBhbnkgaW1wbGVtZW50YXRpb25zIHRoYXQgc2hvdWxkIGJlIGxpc3RlZCB3aGVu
IEkgc2VuZD4gPj4gdGhlIElFU0cgZG9jdW1lbnRhdGlvbiBvbiBpbmRlcGVuZGVudCBpbXBsZW1l
bnRhdGlvbnMuPiA+Pj4gPj4gSWYgeW91IGZpbmQgYSBidWcsIHBsZWFzZSB0ZWxsIG1lIHdpdGhp
biB0aGUgbmV4dCB0d28gd2Vla3MuPiA+Pj4gPj4gQ2hlZXJzLD4gPj4+ID4+IC4uLi5Sb3k+ID4+
PiA+Pj4gPj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tPiA+PiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBjb21tdW5p
dHktdW5zdWJzY3JpYmVAYXBhY2hlLm9yZz4gPj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUt
bWFpbDogY29tbXVuaXR5LWhlbHBAYXBhY2hlLm9yZz4gPj4+ID4+ID4+ID4gLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
PiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6ID4gPiBjb21tb25zLWh0dHBjbGllbnQtZGV2LXVu
c3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZz4gPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywg
ZS1tYWlsOiA+ID4gY29tbW9ucy1odHRwY2xpZW50LWRldi1oZWxwQGpha2FydGEuYXBhY2hlLm9y
Zz4gPj4gPiA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLT4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogY29tbW9ucy1o
dHRwY2xpZW50LWRldi11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmc+IEZvciBhZGRpdGlv
bmFsIGNvbW1hbmRzLCBlLW1haWw6IGNvbW1vbnMtaHR0cGNsaWVudC1kZXYtaGVscEBqYWthcnRh
LmFwYWNoZS5vcmc+ID4g

From oleg.kalnichevski@bearingpoint.com  Fri Jun 13 14:00:11 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 16447 invoked from network); 13 Jun 2003 14:00:11 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 13 Jun 2003 14:00:11 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 13 Jun 2003 14:01:59 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: URI specification
Date: Fri, 13 Jun 2003 15:00:10 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0D485E@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: URI specification
Thread-Index: AcMxswPprquLHAdMQKunLCa/XdhbIQAAMKtA
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 13 Jun 2003 14:01:59.0859 (UTC) FILETIME=[5BAF3830:01C331B4]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Sung-Gu,=20
long time, no see, indeed.

Have you spoken with any of the Jakarta Commons management folks =
regarding spinning URI support into a Commons sub-project of its own?

Oleg

From anonymous@nagoya.betaversion.org  Fri Jun 13 14:07:02 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 38189 invoked from network); 13 Jun 2003 14:07:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 Jun 2003 14:07:02 -0000
Received: (qmail 3288 invoked by uid 50); 13 Jun 2003 14:09:19 -0000
Date: 13 Jun 2003 14:09:19 -0000
Message-ID: <20030613140919.3287.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20744]  -
    HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744

HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload





------- Additional Comments From olegk@apache.org  2003-06-13 14:09 -------
Dirk,

Issue 1) I believe the first problem is not a bug in HttpClient, Struts
framework or Tomcat servlet engine. The real troublemaker appears to be Commons
FileUpload (shipped with Struts 1.1) that assumes that all HTTP agents are as
lousy in standards compliance as some of those so-called browsers.

I have been delaying taking a closer look at how well HttpClient works with
FileUpload for quite some time. I guess I can’t do it any longer. If the problem
is indeed caused by HttpClient, we will get it fixed. However, it my suspicion
turns out to be correct, I'll have to pass the resolution of the problem onto
the FileUpload folks

Issue 2) I'll look into this one this weekend

Oleg

From byosmosis@hotmail.com  Fri Jun 13 14:13:40 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 63293 invoked from network); 13 Jun 2003 14:13:40 -0000
Received: from bay1-dav73.bay1.hotmail.com (HELO hotmail.com) (65.54.244.208)
  by daedalus.apache.org with SMTP; 13 Jun 2003 14:13:40 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 13 Jun 2003 07:13:42 -0700
Received: from 211.237.216.185 by bay1-dav73.bay1.hotmail.com with DAV;
	Fri, 13 Jun 2003 14:13:42 +0000
X-Originating-IP: [211.237.216.185]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <825BF35A92B3F0479CC164ECBBE9376E0D485E@kccxoex06.corp.kpmgconsulting.com>
Subject: Re: URI specification - commons sub-project?
Date: Fri, 13 Jun 2003 23:13:43 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV73sQlztSkT100013a16@hotmail.com>
X-OriginalArrivalTime: 13 Jun 2003 14:13:42.0836 (UTC) FILETIME=[FEB0FF40:01C331B5]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DQo+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQo+IEZyb206ICJLYWxuaWNoZXZza2ks
IE9sZWciIDxvbGVnLmthbG5pY2hldnNraUBiZWFyaW5ncG9pbnQuY29tPg0KPg0KPiBIaSBTdW5n
LUd1LCANCj4gbG9uZyB0aW1lLCBubyBzZWUsIGluZGVlZC4NCg0KOikNCg0KPiBIYXZlIHlvdSBz
cG9rZW4gd2l0aCBhbnkgb2YgdGhlIEpha2FydGEgQ29tbW9ucyBtYW5hZ2VtZW50IGZvbGtzIHJl
Z2FyZGluZw0KPiBzcGlubmluZyBVUkkgc3VwcG9ydCBpbnRvIGEgQ29tbW9ucyBzdWItcHJvamVj
dCBvZiBpdHMgb3duPw0KDQpBcyBJIHJlZ2FyZGVkLCBKZWZmIERldmVyIHdvdWxkIGdvIGZvciBp
dC4NCkkgaGF2ZW4ndCBhbnkgY29uY2VybnMuLi4NCg0KU3VuZy1HdQ0K

From oleg.kalnichevski@bearingpoint.com  Fri Jun 13 14:19:28 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 79282 invoked from network); 13 Jun 2003 14:19:28 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 13 Jun 2003 14:19:28 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([57.80.136.6]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 13 Jun 2003 14:21:06 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: URI specification - commons sub-project?
Date: Fri, 13 Jun 2003 15:19:17 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0D485F@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: URI specification - commons sub-project?
Thread-Index: AcMxtiUGaT6K3aI1RNidwVGgmYXVbAAABjFA
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 13 Jun 2003 14:21:06.0734 (UTC) FILETIME=[074674E0:01C331B7]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sung-Gu,

These days Jeff will be spending much, much, much less time on managing =
HttpClient project. So, I suggest that you take the matter in your own =
hands. I, Adrian, Mike, and Odi will whole-heartedly support you

Oleg

-----Original Message-----
From: Sung-Gu [mailto:jericho@apache.org]
Sent: Friday, June 13, 2003 16:14
To: Commons HttpClient Project
Subject: Re: URI specification - commons sub-project?



> ----- Original Message -----=20
> From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
>
> Hi Sung-Gu,=20
> long time, no see, indeed.

:)

> Have you spoken with any of the Jakarta Commons management folks =
regarding
> spinning URI support into a Commons sub-project of its own?

As I regarded, Jeff Dever would go for it.
I haven't any concerns...

Sung-Gu

From anonymous@nagoya.betaversion.org  Fri Jun 13 15:17:22 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 32819 invoked from network); 13 Jun 2003 15:17:22 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 13 Jun 2003 15:17:22 -0000
Received: (qmail 9367 invoked by uid 50); 13 Jun 2003 15:19:41 -0000
Date: 13 Jun 2003 15:19:41 -0000
Message-ID: <20030613151941.9366.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20744]  -
    HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744

HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload





------- Additional Comments From dputzeys@cognicase.be  2003-06-13 15:19 -------
Oleg, for your information : bug 2 and bug 1 are related.

Both have to do with the headers. If you supply the headers using
httpclient.addParameter(string, string) and httpclient(string, string, file) you
get the incorrect value for the string parameter and the "\r\n" in the file.

If however you use my classes (which in fact do everything to as the browser
would do) the value of the string is correct and the "\r\n" disappears from the
beginning of the file.

As such, with your information included, I agree that it is indeed an error in
the FileUpload.

a third related bug:

if in the StringPart you only take out the "Content-transfer-encoding" part (by
overwriting sendTransferEncodingHeader(OutputStream arg0) throws IOException)
the value of the parameter becomes (using my code as defined in the bug
description) : "\rdefault\r\u0003" (about the 3 in \u003 I am not sure any more
but it was something like that).
This again indicates that the parsing of the MultiParts is not correct

regards
dirkp

From canuck@firemail.de  Fri Jun 13 15:57:34 2003
Return-Path: <canuck@firemail.de>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 43370 invoked from network); 13 Jun 2003 15:57:34 -0000
Received: from lmout03.st1.spray.net (212.78.202.122)
  by daedalus.apache.org with SMTP; 13 Jun 2003 15:57:34 -0000
Received: from lmfilto01.st1.spray.net (lmfilto01.st1.spray.net [212.78.202.65])
	by lmout03.st1.spray.net (Postfix) with ESMTP id 3C0DD9F1D
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 13 Jun 2003 17:57:36 +0200 (MEST)
Received: from localhost (localhost [127.0.0.1])
	by lmfilto01.st1.spray.net (Postfix) with ESMTP id 12747288B
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 13 Jun 2003 17:57:36 +0200 (CEST)
Received: from lmsmtp01.st1.spray.net ([212.78.202.111])
 by localhost (lmfilto01.st1.spray.net [212.78.202.65]) (amavisd-new, port 10024)
 with ESMTP id 32510-10 for <commons-httpclient-dev@jakarta.apache.org>;
 Fri, 13 Jun 2003 17:57:35 +0200 (CEST)
Received: from dialin-145-254-189-232.arcor-ip.net (dialin-145-254-189-232.arcor-ip.net [145.254.189.232])
	by lmsmtp01.st1.spray.net (Postfix) with ESMTP id B4E2D1E795
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 13 Jun 2003 17:56:09 +0200 (MEST)
Subject: NullPointerException in HttpMethodBase
From: Thomas Winkler <canuck@firemail.de>
To: commons-httpclient-dev@jakarta.apache.org
Content-Type: text/plain
Organization:
Message-Id: <1055519747.2727.10.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.3.2 (Preview Release)
Date: 13 Jun 2003 17:55:48 +0200
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new at spray.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hi,
there is NullPointer in HttpMethodBase.getResponseBody() when
HttpMethodBase.getResponseBodyAsStream() returns null.

  InputStream is = getResponseBodyAsStream();
  byte[] buffer = new byte[4096];
  int len;
  while ((len = is.read(buffer)) > 0) {
       os.write(buffer, 0, len);
  }

when null is returned the is.read(buffer) throws a NullPointerException,
that is quite an unexpected behaviour. since getResponseBodyAsStream()
(and getResponseBody as well) might by definition return null, the "is
== null" case should be handled in some way (probably using
responseAvailable()). i guess getting HttpMethodBase.getResponseBody()
to return null in this case would solve this issue.

i am using a cvs snapshot from early may, but the recent cvs still holds
the same issue.

thank you,
thomas


From olegk@apache.org  Fri Jun 13 18:59:29 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 39018 invoked from network); 13 Jun 2003 18:59:29 -0000
Received: from mail3.bluewin.ch (195.186.1.75)
  by daedalus.apache.org with SMTP; 13 Jun 2003 18:59:29 -0000
Received: from olddude.tislab.ch (62.203.182.148) by mail3.bluewin.ch (Bluewin AG 7.0.016)
        id 3EE886850002A25E for commons-httpclient-dev@jakarta.apache.org; Fri, 13 Jun 2003 18:59:32 +0000
Subject: Re: NullPointerException in HttpMethodBase
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <1055519747.2727.10.camel@localhost>
References: <1055519747.2727.10.camel@localhost>
Content-Type: text/plain
Message-Id: <1055530770.2301.0.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 13 Jun 2003 20:59:30 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Good catch, Thomas.
I'll get it fixed. Thanks.

Oleg


On Fri, 2003-06-13 at 17:55, Thomas Winkler wrote:
> hi,
> there is NullPointer in HttpMethodBase.getResponseBody() when
> HttpMethodBase.getResponseBodyAsStream() returns null.
>
>   InputStream is = getResponseBodyAsStream();
>   byte[] buffer = new byte[4096];
>   int len;
>   while ((len = is.read(buffer)) > 0) {
>        os.write(buffer, 0, len);
>   }
>
> when null is returned the is.read(buffer) throws a NullPointerException,
> that is quite an unexpected behaviour. since getResponseBodyAsStream()
> (and getResponseBody as well) might by definition return null, the "is
> == null" case should be handled in some way (probably using
> responseAvailable()). i guess getting HttpMethodBase.getResponseBody()
> to return null in this case would solve this issue.
>
> i am using a cvs snapshot from early may, but the recent cvs still holds
> the same issue.
>
> thank you,
> thomas
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From olegk@apache.org  Fri Jun 13 21:35:44 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 3302 invoked from network); 13 Jun 2003 21:35:44 -0000
Received: from mail5.bluewin.ch (195.186.1.207)
  by daedalus.apache.org with SMTP; 13 Jun 2003 21:35:44 -0000
Received: from olddude.tislab.ch (62.203.182.148) by mail5.bluewin.ch (Bluewin AG 7.0.015)
        id 3EE8A2F100027046; Fri, 13 Jun 2003 21:35:46 +0000
Subject: Re: NullPointerException in HttpMethodBase
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>,  Thomas Winkler <canuck@firemail.de>
In-Reply-To: <1055519747.2727.10.camel@localhost>
References: <1055519747.2727.10.camel@localhost>
Content-Type: text/plain
Message-Id: <1055540143.2301.3.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 13 Jun 2003 23:35:43 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Fix applied.

Oleg


On Fri, 2003-06-13 at 17:55, Thomas Winkler wrote:
> hi,
> there is NullPointer in HttpMethodBase.getResponseBody() when
> HttpMethodBase.getResponseBodyAsStream() returns null.
>
>   InputStream is = getResponseBodyAsStream();
>   byte[] buffer = new byte[4096];
>   int len;
>   while ((len = is.read(buffer)) > 0) {
>        os.write(buffer, 0, len);
>   }
>
> when null is returned the is.read(buffer) throws a NullPointerException,
> that is quite an unexpected behaviour. since getResponseBodyAsStream()
> (and getResponseBody as well) might by definition return null, the "is
> == null" case should be handled in some way (probably using
> responseAvailable()). i guess getting HttpMethodBase.getResponseBody()
> to return null in this case would solve this issue.
>
> i am using a cvs snapshot from early may, but the recent cvs still holds
> the same issue.
>
> thank you,
> thomas
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From anonymous@nagoya.betaversion.org  Sat Jun 14 15:37:56 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 17645 invoked from network); 14 Jun 2003 15:37:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jun 2003 15:37:56 -0000
Received: (qmail 10276 invoked by uid 50); 14 Jun 2003 15:40:14 -0000
Date: 14 Jun 2003 15:40:14 -0000
Message-ID: <20030614154014.10275.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding





------- Additional Comments From olegk@apache.org  2003-06-14 15:40 -------
Created an attachment (id=6830)
Patch (take 1)

From anonymous@nagoya.betaversion.org  Sat Jun 14 15:42:36 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 21311 invoked from network); 14 Jun 2003 15:42:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 14 Jun 2003 15:42:36 -0000
Received: (qmail 10589 invoked by uid 50); 14 Jun 2003 15:44:55 -0000
Date: 14 Jun 2003 15:44:55 -0000
Message-ID: <20030614154455.10588.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding





------- Additional Comments From olegk@apache.org  2003-06-14 15:44 -------
Chris,
If you could take the patch for a spin, once you are back, I would appreciate
your feedback

Oleg

From anonymous@nagoya.betaversion.org  Mon Jun 16 06:06:56 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 46134 invoked from network); 16 Jun 2003 06:06:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jun 2003 06:06:56 -0000
Received: (qmail 24820 invoked by uid 50); 16 Jun 2003 06:09:24 -0000
Date: 16 Jun 2003 06:09:24 -0000
Message-ID: <20030616060924.24819.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20744]  -
    HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744

HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload





------- Additional Comments From ortwin.glueck@nose.ch  2003-06-16 06:09 -------
Dirk,

Do not mess with the Transfer-Encoding headers. If you remove it the server will
not be able to parse the request body correctly. I really don't see why you
would want to remove this header anyways. Just don't touch, if you don't
understand, okay?

From anonymous@nagoya.betaversion.org  Mon Jun 16 07:36:58 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 23935 invoked from network); 16 Jun 2003 07:36:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jun 2003 07:36:58 -0000
Received: (qmail 26623 invoked by uid 50); 16 Jun 2003 07:39:26 -0000
Date: 16 Jun 2003 07:39:26 -0000
Message-ID: <20030616073926.26622.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20744]  -
    HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744

HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload





------- Additional Comments From olegk@apache.org  2003-06-16 07:39 -------
Odi,
Settle down, man. You are way too harsh on Dirk.

Sadly enough, most of the HTTP agents out there always assume transfer encoding
to be 'binary' for files and '8bit' for input elements and never bother
explicitly setting 'Content-Transer-Encoding' header. As a result, some of the
server side components get utterly confused when parsing requests that
syntactically more standards complaint than those generated by IE. This is not
HttpClient's fault, but neither is it Dirk's

Dirk,
What version of Struts are you using? I have been playing with the CVS snapshot
of Jakarta File Upload component this weekend. It looks all right. So, my
assumption now is that you are just using outdated version of Struts.

From anonymous@nagoya.betaversion.org  Mon Jun 16 08:30:21 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 79942 invoked from network); 16 Jun 2003 08:30:21 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jun 2003 08:30:21 -0000
Received: (qmail 27546 invoked by uid 50); 16 Jun 2003 08:32:50 -0000
Date: 16 Jun 2003 08:32:50 -0000
Message-ID: <20030616083250.27545.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20744]  -
    HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744

HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload





------- Additional Comments From ortwin.glueck@nose.ch  2003-06-16 08:32 -------
Sorry guys, please ignore my comment. I did not read carefully enough.

From anonymous@nagoya.betaversion.org  Mon Jun 16 09:31:28 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 51056 invoked from network); 16 Jun 2003 09:31:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jun 2003 09:31:28 -0000
Received: (qmail 29143 invoked by uid 50); 16 Jun 2003 09:33:59 -0000
Date: 16 Jun 2003 09:33:59 -0000
Message-ID: <20030616093359.29142.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20744]  -
    HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744

HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload





------- Additional Comments From dputzeys@cognicase.be  2003-06-16 09:33 -------
Odi,

not a problem I did not feel offended :-). I completely agree with you, as it is
not up to me to fiddle around with multipart headers. Servers and clients should
follow the defined RFCs, and as users of components we ought to trust it.

Odi, Oleg

Again, I fiddled with it, because performing the action via browsers did work,
and performing the action with httpclient did not. Some hacking on the headers
revealed to me that if I "simulated" the browsers headings it worked, while
leaving the headers as it should be (the HTTPCLient) it didn't.

By the way for those interested : I did a simulation on 3 browsers (MS-IExplorer
5.5 SP2, Netscape 4.79 and Mozilla 1.2.1) and all gave the same multiparts as
described in the original bug report (POST submit via HTTP form).

I found RFC2388 which indicates that "Content-transfer-encoding" is not
apparently mandatory if the encoding matches the original transfer-encoding
header. Apparently header "Content-type" is mandatory, but the browsers do not
submit them, only for the uploaded file.


Oleg,

I use struts v1.0.2 Which is up to now the "stable version". No intentions for
migration at this moment. Maybe when 1.1 becomes stable. We have a "production"
system, and betas are considered as "not done" by management.

Maybe we should ensure that the guys of struts or the fileupload check this out.

regards
dirkp

From anonymous@nagoya.betaversion.org  Mon Jun 16 09:51:05 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 79237 invoked from network); 16 Jun 2003 09:51:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jun 2003 09:51:05 -0000
Received: (qmail 29486 invoked by uid 50); 16 Jun 2003 09:53:36 -0000
Date: 16 Jun 2003 09:53:36 -0000
Message-ID: <20030616095336.29485.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20744]  -
    HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744

HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload





------- Additional Comments From olegk@apache.org  2003-06-16 09:53 -------
Dirk,
In my opinion all browsers do a very lousy job in terms of compliance with RFC
1867 and related standards. This is something we can't change (barring a thread
to bomb a few places in the States, but my connections in Russian military are
not that good) and will have to live with. This said, we will not patch
HttpClient to demote its compliance to the same level

I believe that the current release of Jakarta Commons File Upload (1.0RC1 as of
writing) is free from the reported bug. I still want to run a few more test to
be really sure. I am afraid you have to bring this case to the Struts folks. It
can well be that their stable release does not use the most recent File Upload
component.

Cheers

Oleg

From anonymous@nagoya.betaversion.org  Mon Jun 16 11:14:49 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 20576 invoked from network); 16 Jun 2003 11:14:49 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jun 2003 11:14:49 -0000
Received: (qmail 1135 invoked by uid 50); 16 Jun 2003 11:17:07 -0000
Date: 16 Jun 2003 11:17:07 -0000
Message-ID: <20030616111707.1134.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20744]  -
    HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744

HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload





------- Additional Comments From dputzeys@cognicase.be  2003-06-16 11:17 -------
Opened bugs 20807 & 20808 for the FileUpload team and Struts team.

Unless further information comes from them reversing the problem back to
HTTPClient, I consider this bug closed. Anyway, I had a workaround.

Oleg,

thanks for the help. I suppose you have the rights to close this bug "from an
HTTPClient" point of view ?

regards
dirkp

From anonymous@nagoya.betaversion.org  Mon Jun 16 11:32:38 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 55976 invoked from network); 16 Jun 2003 11:32:38 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jun 2003 11:32:38 -0000
Received: (qmail 1978 invoked by uid 50); 16 Jun 2003 11:34:56 -0000
Date: 16 Jun 2003 11:34:56 -0000
Message-ID: <20030616113456.1977.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20744]  -
    HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744

HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |DUPLICATE



------- Additional Comments From olegk@apache.org  2003-06-16 11:34 -------
Dirk,
I'll just mark this bug report as duplicate of bug #20807. I'll be monitoring
its resolution just in case something needs to be fixed on the HttpClient side.

Oleg

*** This bug has been marked as a duplicate of 20807 ***

From anonymous@nagoya.betaversion.org  Mon Jun 16 13:06:16 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 25056 invoked from network); 16 Jun 2003 13:06:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 16 Jun 2003 13:06:16 -0000
Received: (qmail 4521 invoked by uid 50); 16 Jun 2003 13:08:36 -0000
Date: 16 Jun 2003 13:08:36 -0000
Message-ID: <20030616130836.4520.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20744]  -
    HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20744

HTTPClient MultiPartPostMethod inconsistent behaviour compared to standard form upload





------- Additional Comments From olegk@apache.org  2003-06-16 13:08 -------
As far as I can tell, FileUpload's current CVS snapshot can parse requests
generated with HttpClient just fine.

These are the server-side & client-side components I used to test
'multipart/form-data' encoded POST requests:

-- Server side --

import java.io.IOException;
import java.io.Writer;
import java.util.List;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.apache.commons.fileupload.DefaultFileItemFactory;
import org.apache.commons.fileupload.FileItem;
import org.apache.commons.fileupload.FileUpload;
import org.apache.commons.fileupload.FileUploadException;

public class TestServlet extends HttpServlet
{

    protected void doGet(HttpServletRequest request, HttpServletResponse response)
        throws ServletException, IOException
    {
        doPost(request, response);
    }

    protected void doPost(HttpServletRequest request, HttpServletResponse response)
        throws ServletException, IOException
    {
        response.setContentType("text/plain");
        Writer out = response.getWriter();
        FileUpload upload = new FileUpload(new DefaultFileItemFactory());
        if (FileUpload.isMultipartContent(request)) {

            try {
                out.write("Field name\tContent Type\r\n");
                List items = upload.parseRequest(request);
                for (int i = 0; i < items.size(); i++) {
                    FileItem item = (FileItem)items.get(i);
                    out.write(item.getFieldName());
                    out.write("\t");
                    out.write(item.getContentType());
                    out.write("\r\n");
                }
            } catch(FileUploadException e) {
                throw new ServletException(e);
            }

        } else {
            out.write("Multipart POST request expected");
        }
        out.flush();
    }

}

-- Client side --

import org.apache.commons.httpclient.*;
import org.apache.commons.httpclient.methods.*;
import org.apache.commons.httpclient.methods.multipart.*;

public class Test {

    public static void main(String args[]) throws Exception {

        HttpClient httpclient = new HttpClient();
        MultipartPostMethod httppost = new
MultipartPostMethod("http://localhost:8080/test/upload");
        httppost.addPart(new StringPart("param1", "value1", "UTF-8"));
        httppost.addPart(new StringPart("param2", "value2", "US-ASCII"));
        httppost.addPart(new StringPart("param3", "value3", "ISO-8859-1"));
        httpclient.executeMethod(httppost);
        System.out.println(httppost.getStatusLine().toString());
        System.out.println(httppost.getResponseBodyAsString());
    }


}

-- Wire log --

[DEBUG] wire - ->> "POST /test/upload HTTP/1.1[\r][\n]"
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost:8080[\r][\n]"
[DEBUG] wire - ->> "Content-Length: 567[\r][\n]"
[DEBUG] wire - ->> "Content-Type: multipart/form-data;
boundary=----------------314159265358979323846[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "--"
[DEBUG] wire - ->> "----------------314159265358979323846"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "Content-Disposition: form-data; name="
[DEBUG] wire - ->> """
[DEBUG] wire - ->> "param1"
[DEBUG] wire - ->> """
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "Content-Type: "
[DEBUG] wire - ->> "text/plain"
[DEBUG] wire - ->> "; charset="
[DEBUG] wire - ->> "UTF-8"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "Content-Transfer-Encoding: "
[DEBUG] wire - ->> "8bit"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "value1"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "--"
[DEBUG] wire - ->> "----------------314159265358979323846"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "Content-Disposition: form-data; name="
[DEBUG] wire - ->> """
[DEBUG] wire - ->> "param2"
[DEBUG] wire - ->> """
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "Content-Type: "
[DEBUG] wire - ->> "text/plain"
[DEBUG] wire - ->> "; charset="
[DEBUG] wire - ->> "US-ASCII"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "Content-Transfer-Encoding: "
[DEBUG] wire - ->> "8bit"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "value2"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "--"
[DEBUG] wire - ->> "----------------314159265358979323846"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "Content-Disposition: form-data; name="
[DEBUG] wire - ->> """
[DEBUG] wire - ->> "param3"
[DEBUG] wire - ->> """
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "Content-Type: "
[DEBUG] wire - ->> "text/plain"
[DEBUG] wire - ->> "; charset="
[DEBUG] wire - ->> "ISO-8859-1"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "Content-Transfer-Encoding: "
[DEBUG] wire - ->> "8bit"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "value3"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "--"
[DEBUG] wire - ->> "----------------314159265358979323846"
[DEBUG] wire - ->> "--"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - -<< "HTTP/1.1 200 OK[\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/plain[\r][\n]"
[DEBUG] wire - -<< "Transfer-Encoding: chunked[\r][\n]"
[DEBUG] wire - -<< "Date: Mon, 16 Jun 2003 12:54:23 GMT[\r][\n]"
[DEBUG] wire - -<< "Server: Apache Coyote/1.0[\r][\n]"
[DEBUG] wire - -<< "8"
[DEBUG] wire - -<< "7"
[DEBUG] wire - -<< "[\r]"
[DEBUG] wire - -<< "[\n]"
[DEBUG] wire - -<< "Field name[0x9]Content Type[\r][\n]"
[DEBUG] wire - -<< "param1[0x9]text/plain; charset=UTF-8[\r][\n]"
[DEBUG] wire - -<< "param2[0x9]text/plain; charset=US-ASCII[\r][\n]"
[DEBUG] wire - -<< "param3[0x9]text/plain; charset=ISO-8859-1[\r][\n]"
[DEBUG] wire - -<< "[\r]"
[DEBUG] wire - -<< "[\n]"
[DEBUG] wire - -<< "0"
[DEBUG] wire - -<< "[\r]"
[DEBUG] wire - -<< "[\n]"
[DEBUG] wire - -<< "[\r]"
[DEBUG] wire - -<< "[\n]"

From anonymous@nagoya.betaversion.org  Tue Jun 17 01:59:32 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 78466 invoked from network); 17 Jun 2003 01:59:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jun 2003 01:59:32 -0000
Received: (qmail 25292 invoked by uid 50); 17 Jun 2003 02:01:59 -0000
Date: 17 Jun 2003 02:01:59 -0000
Message-ID: <20030617020159.25291.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20826] New:  -
    HttpMethod#getResponseBody throws NPE
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20826>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20826

HttpMethod#getResponseBody throws NPE

           Summary: HttpMethod#getResponseBody throws NPE
           Product: Commons
           Version: 2.0 Beta 1
          Platform: All
        OS/Version: Other
            Status: NEW
          Severity: Major
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: dburkes@netable.com


HttpMethod#getResponseBody throws an NPE if the response from the server was
204.  Shouldn't getResponseBody return null by contract instead of throwing
NPE?

From anonymous@nagoya.betaversion.org  Tue Jun 17 07:50:44 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 76846 invoked from network); 17 Jun 2003 07:50:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jun 2003 07:50:44 -0000
Received: (qmail 1784 invoked by uid 50); 17 Jun 2003 07:53:15 -0000
Date: 17 Jun 2003 07:53:15 -0000
Message-ID: <20030617075315.1783.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20826]  -
    HttpMethod#getResponseBody throws NPE
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20826>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20826

HttpMethod#getResponseBody throws NPE

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From olegk@apache.org  2003-06-17 07:53 -------
Daniel,
I believe the reported bug has been fixed a few days ago

http://cvs.apache.org/viewcvs/jakarta-commons/httpclient/src/java/org/apache/commons/httpclient/HttpMethodBase.java.diff?r1=1.151&r2=1.152&diff_format=h

Please re-test your application aganst a recent nightly build or current CVS
snapshot.

http://jakarta.apache.org/commons/httpclient/downloads.html

If the problem persists, just reopen this bug report.

Oleg

From anonymous@nagoya.betaversion.org  Tue Jun 17 08:00:05 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 98502 invoked from network); 17 Jun 2003 08:00:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jun 2003 08:00:05 -0000
Received: (qmail 2057 invoked by uid 50); 17 Jun 2003 08:02:36 -0000
Date: 17 Jun 2003 08:02:36 -0000
Message-ID: <20030617080236.2056.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10809]  -
    Developer documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10809

Developer documentation

adrian@ephox.com changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|ASSIGNED                    |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From adrian@ephox.com  2003-06-17 08:02 -------
I think this bug can be closed now and individual bugs opened for any further
docs.  There's starting to be too much information here on too many different
topics to keep track of.

From oleg.kalnichevski@bearingpoint.com  Tue Jun 17 08:11:12 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 23555 invoked from network); 17 Jun 2003 08:11:12 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 17 Jun 2003 08:11:12 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 17 Jun 2003 08:08:46 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C334A8.0A84020F"
Subject: RE: DO NOT REPLY [Bug 10809]  -     Developer documentation
Date: Tue, 17 Jun 2003 09:11:23 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE567@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator: <825BF35A92B3F0479CC164ECBBE9376E0DE567@kccxoex06.corp.kpmgconsulting.com>
Thread-Topic: DO NOT REPLY [Bug 10809]  -     Developer documentation
Thread-Index: AcM0po3WOohUGVS9Tc+D6dt/Q1PAIQAAO2gb
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 17 Jun 2003 08:08:46.0578 (UTC) FILETIME=[AD282D20:01C334A7]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C334A8.0A84020F
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Adrian,

I would even go as far as closing this one too:

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=3D10816

In my opinion HttpClient documentation is now feature complete. We may =
still need to work on improvement of individual documents, but in broad =
strokes I think we are done. Is there anything still missing?
Oleg


-----Original Message-----
From:	bugzilla@apache.org [mailto:bugzilla@apache.org]
Sent:	Tue 6/17/2003 10:02
To:	commons-httpclient-dev@jakarta.apache.org
Cc:=09
Subject:	DO NOT REPLY [Bug 10809]  -     Developer documentation
DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG=20
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=3D10809>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND=20
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=3D10809

Developer documentation

adrian@ephox.com changed:

           What    |Removed                     |Added
-------------------------------------------------------------------------=
---
             Status|ASSIGNED                    |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From adrian@ephox.com  2003-06-17 08:02 =
-------
I think this bug can be closed now and individual bugs opened for any =
further=20
docs.  There's starting to be too much information here on too many =
different=20
topics to keep track of.

---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org





------_=_NextPart_001_01C334A8.0A84020F--

From anonymous@nagoya.betaversion.org  Tue Jun 17 08:14:44 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 26320 invoked from network); 17 Jun 2003 08:14:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jun 2003 08:14:44 -0000
Received: (qmail 2363 invoked by uid 50); 17 Jun 2003 08:17:15 -0000
Date: 17 Jun 2003 08:17:15 -0000
Message-ID: <20030617081715.2362.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10816]  -
    User/Developer Documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10816>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10816

User/Developer Documentation





------- Additional Comments From adrian@ephox.com  2003-06-17 08:17 -------
There seems to be two items missing that prevent us from closing this bug:

1. Quotes from user's on why they used it (I'll post under a new thread to the
mailing list calling for these soon).  Currently we have a list of
applications that used HttpClient but not why they did.

2. Clover reports.  Clover is a commercial product that provides free licenses
for opensource projects upon request.  There was a discussion about how to go
about requesting this on commons-dev a while back but I'm not sure what the
outcome was (I don't recall seeing one).  Should we contact the PMC for
approval or just go ahead and request a license?  I'd really like to get
Clover up and running so we can do a review of the test cases.

From adrian@intencha.com  Tue Jun 17 08:32:58 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 51757 invoked from network); 17 Jun 2003 08:32:58 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 17 Jun 2003 08:32:58 -0000
Received: from intencha.com (unverified [150.101.178.40]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055715744@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Tue, 17 Jun 2003 02:30:20 -0600
Date: Tue, 17 Jun 2003 18:33:06 +1000
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: HttpClient Testimonials
From: Adrian Sutton <adrian@intencha.com>
To: Commons Project <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
Message-Id: <51A0373E-A09E-11D7-B7A4-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,
One of the last bits of documentation to be added to the HttpClient
site (for now at least) is a section on why people chose to use
HttpClient over the alternatives.  If you could take the time to put
together a paragraph or two describing the key benefits of HttpClient
that made you choose the library I'll collate them into a testimonials
page and add it to the site.

As always we continue to accept additions to our list of products using
HttpClient as well.

Regards,

Adrian Sutton.


From anonymous@nagoya.betaversion.org  Tue Jun 17 08:52:09 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 76705 invoked from network); 17 Jun 2003 08:52:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 17 Jun 2003 08:52:09 -0000
Received: (qmail 3080 invoked by uid 50); 17 Jun 2003 08:54:40 -0000
Date: 17 Jun 2003 08:54:40 -0000
Message-ID: <20030617085440.3079.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10816]  -
    User/Developer Documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10816>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10816

User/Developer Documentation





------- Additional Comments From olegk@apache.org  2003-06-17 08:54 -------
Adrian,
I would just quickly consult the rest of the Commons crowd by posting a message
to the jakarta-commons-dev. If no satisfactory answer is given in a timely
manner, we should approach the vendor on our own.

Oleg

From oleg.kalnichevski@bearingpoint.com  Tue Jun 17 12:40:36 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 59448 invoked from network); 17 Jun 2003 12:40:36 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 17 Jun 2003 12:40:36 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 17 Jun 2003 12:42:26 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable
Subject: URI & URIUtil as a separate Commons project?
Date: Tue, 17 Jun 2003 13:40:36 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE568@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: URI & URIUtil as a separate Commons project?
Thread-Index: AcM0zaZOFcI/pB9wS/Ga5lIH4rb8ow==
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Cc: <jericho@apache.org>
X-OriginalArrivalTime: 17 Jun 2003 12:42:26.0765 (UTC) FILETIME=[E859DFD0:01C334CD]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sung-Gu and all,

I must confess I have had a change of heart on this issue. I am no more =
convinced that URI & URIUtil classes should be spun off into a Commons =
project of its own.

1) URL encoding logic that constitutes almost a half of the reusable =
code in URI related classes clearly belongs to Commons-Codec package. =
URL encoding & decoding functions should be merged with Commons-Codec =
rather than spun off. HttpClient will introduce Commons-Codec as a =
dependency in the future. So, we should rather extend the existing =
frameworks, not create competing ones.=20

2) URI specification by itself is just one class. It hardly makes any =
sense in my opinion to make a package out of it, even though URI class =
is clearly useful beyond HttpClient.

Thoughts, objections, counter-arguments?

Oleg

From cmlenz@gmx.de  Tue Jun 17 12:48:08 2003
Return-Path: <cmlenz@gmx.de>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 69704 invoked from network); 17 Jun 2003 12:48:08 -0000
Received: from unknown (HELO io.heavens-door.net) (62.96.5.66)
  by daedalus.apache.org with SMTP; 17 Jun 2003 12:48:08 -0000
Received: from gmx.de (fire1.mediatis.de [62.96.5.65])
	by io.heavens-door.net (Postfix) with ESMTP id 590DD1DDF6
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 17 Jun 2003 14:48:03 +0200 (CEST)
Message-ID: <3EEF0E76.1010407@gmx.de>
Date: Tue, 17 Jun 2003 14:49:58 +0200
From: Christopher Lenz <cmlenz@gmx.de>
Organization: mediatis GmbH
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: de-de, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: URI & URIUtil as a separate Commons project?
References: <825BF35A92B3F0479CC164ECBBE9376E0DE568@kccxoex06.corp.kpmgconsulting.com>
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE568@kccxoex06.corp.kpmgconsulting.com>
X-Enigmail-Version: 0.73.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Kalnichevski, Oleg wrote:
> Sung-Gu and all,
>
> I must confess I have had a change of heart on this issue. I am no more convinced that URI & URIUtil classes should be spun off into a Commons project of its own.
>
> 1) URL encoding logic that constitutes almost a half of the reusable code in URI related classes clearly belongs to Commons-Codec package. URL encoding & decoding functions should be merged with Commons-Codec rather than spun off. HttpClient will introduce Commons-Codec as a dependency in the future. So, we should rather extend the existing frameworks, not create competing ones.
>
> 2) URI specification by itself is just one class. It hardly makes any sense in my opinion to make a package out of it, even though URI class is clearly useful beyond HttpClient.
>
> Thoughts, objections, counter-arguments?

I agree 100%. Actually I was planning to post the same thoughts in response
to the proposal :-)

-chris


From ortwin.glueck@nose.ch  Tue Jun 17 12:49:29 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 71384 invoked from network); 17 Jun 2003 12:49:29 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 17 Jun 2003 12:49:29 -0000
Received: (qmail 10972 invoked from network); 17 Jun 2003 12:49:24 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 17 Jun 2003 12:49:24 -0000
Message-ID: <3EEF0E53.9080805@nose.ch>
Date: Tue, 17 Jun 2003 14:49:23 +0200
From: =?windows-1252?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: URI & URIUtil as a separate Commons project?
References: <825BF35A92B3F0479CC164ECBBE9376E0DE568@kccxoex06.corp.kpmgconsulting.com>
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE568@kccxoex06.corp.kpmgconsulting.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Kalnichevski, Oleg wrote:
> 1) URL encoding logic that constitutes almost a half of the reusable
> code in URI related classes clearly belongs to Commons-Codec package.
> URL encoding & decoding functions should be merged with Commons-Codec
> rather than spun off. HttpClient will introduce Commons-Codec as a
> dependency in the future. So, we should rather extend the existing
> frameworks, not create competing ones.

Makes sense to me. It would be way too much of an overhead to have a
full-blown Commons Subproject for just two classes as well. Just imagine
all the building / release process, management, Website etc. And you
need developers as well.



From adrian@intencha.com  Tue Jun 17 12:54:40 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 79962 invoked from network); 17 Jun 2003 12:54:40 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 17 Jun 2003 12:54:40 -0000
Received: from intencha.com (unverified [150.101.178.40]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055734468@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Tue, 17 Jun 2003 06:51:49 -0600
Date: Tue, 17 Jun 2003 22:54:29 +1000
Subject: Re: URI & URIUtil as a separate Commons project?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <3EEF0E53.9080805@nose.ch>
Message-Id: <D57D5508-A0C2-11D7-B7A4-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Tuesday, June 17, 2003, at 10:49  PM, Ortwin Gl=FCck wrote:

> Kalnichevski, Oleg wrote:
>> 1) URL encoding logic that constitutes almost a half of the reusable
>> code in URI related classes clearly belongs to Commons-Codec package.
>> URL encoding & decoding functions should be merged with Commons-Codec
>> rather than spun off. HttpClient will introduce Commons-Codec as a
>> dependency in the future. So, we should rather extend the existing
>> frameworks, not create competing ones.
>
> Makes sense to me. It would be way too much of an overhead to have a=20=

> full-blown Commons Subproject for just two classes as well. Just=20
> imagine all the building / release process, management, Website etc.=20=

> And you need developers as well.

Sounds quite reasonable.  The other thing to consider is exactly how=20
much the URI classes are likely to change anyway.  They pretty much do=20=

what's required now and I find it hard to imagine there'd be too many=20
changes that need to be made.

In terms of reuse, it is quite simple to just pull out the classes and=20=

use them separately if required anyway and realistically you don't want=20=

to have to add another jar file to your distribution just for URI=20
classes when it's so easy to package them up into your main jar anyway.

Just my two cents,

Adrian Sutton.


From eric@tibco.com  Tue Jun 17 13:17:33 2003
Return-Path: <eric@tibco.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 33614 invoked from network); 17 Jun 2003 13:17:33 -0000
Received: from outhub1.tibco.com (63.100.100.155)
  by daedalus.apache.org with SMTP; 17 Jun 2003 13:17:33 -0000
Received: from unknown(10.106.128.33) by outhub1.tibco.com via csmap
	 id 30733; Tue, 17 Jun 2003 06:17:12 -0700 (PDT)
Received: from mail1.tibco.com (nsmail2.tibco.com [10.106.128.42])
	by na-h-inhub1.tibco.com (8.12.2/8.12.2) with ESMTP id h5HDHYdB015697
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 17 Jun 2003 06:17:34 -0700 (PDT)
Received: from tibco.com ([10.98.32.18]) by mail1.tibco.com
          (Netscape Messaging Server 4.15) with ESMTP id HGMNL500.JA0 for
          <commons-httpclient-dev@jakarta.apache.org>; Tue, 17 Jun 2003
          06:17:29 -0700
Message-ID: <3EEF1508.2030509@tibco.com>
Date: Tue, 17 Jun 2003 09:18:00 -0400
From: "Eric Johnson" <eric@tibco.com>
Organization: TIBCO Extensibility
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: HttpClient Testimonials
References: <51A0373E-A09E-11D7-B7A4-000393016056@intencha.com>
In-Reply-To: <51A0373E-A09E-11D7-B7A4-000393016056@intencha.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

OK, I'll bite.  My temptation was to provide a bullet point list, but
since you requested _paragraphs_, that means I have to have fully formed
thoughts!

We've used HttpClient in a variety of projects throughout my company.
Someone I work with had an interest in the project, so we tried it out
as a way to work around a specific bug in the Sun 1.3 JRE.  Once we
started using it, though, other features started to prove their worth,
including the automatic support for cookies, the support for
authentication mechanisms, and support for "multipart/form-data" posts.
We also like the fact that HttpClient happens to be "open source" for
all the usual reasons, including the many capable eyes that have been
looking at and tinkering with the project to improve it, the explicit
code-review of changes that keeps the quality high, and testing in a
variety of environments that we simply cannot match, especially since
this technology is not central to what my company does.

Many kudos from me to all those who have put in the work to turn
HttpClient into such a reliable solution, for keeping the project on the
straight-and-narrow, and accepting and managing feedback and patches
well.  Of course, many thanks as well to Apache for hosting the project.

-Eric.

Adrian Sutton wrote:

> Hi all,
> One of the last bits of documentation to be added to the HttpClient
> site (for now at least) is a section on why people chose to use
> HttpClient over the alternatives.  If you could take the time to put
> together a paragraph or two describing the key benefits of HttpClient
> that made you choose the library I'll collate them into a testimonials
> page and add it to the site.
>
> As always we continue to accept additions to our list of products
> using HttpClient as well.
>
> Regards,
>
> Adrian Sutton.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
>



From ortwin.glueck@nose.ch  Tue Jun 17 13:18:32 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 34467 invoked from network); 17 Jun 2003 13:18:32 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 17 Jun 2003 13:18:32 -0000
Received: (qmail 11413 invoked from network); 17 Jun 2003 13:18:27 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 17 Jun 2003 13:18:27 -0000
Message-ID: <3EEF1523.2010107@nose.ch>
Date: Tue, 17 Jun 2003 15:18:27 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4b) Gecko/20030507
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: URI & URIUtil as a separate Commons project?
References: <D57D5508-A0C2-11D7-B7A4-000393016056@intencha.com>
In-Reply-To: <D57D5508-A0C2-11D7-B7A4-000393016056@intencha.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian Sutton wrote:
> Sounds quite reasonable.  The other thing to consider is exactly how
> much the URI classes are likely to change anyway.  They pretty much do
> what's required now and I find it hard to imagine there'd be too many
> changes that need to be made.

Code can always be nicer and more flexible. Just because it fits right
for HTTP URLs doesn't mean it's useful for let's say LDAP URLs. So the
URI class might be split into one generic class and special HTTP and
LDAP etc. types.


From eric@tibco.com  Wed Jun 18 15:06:49 2003
Return-Path: <eric@tibco.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 51941 invoked from network); 18 Jun 2003 15:06:49 -0000
Received: from outhub1.tibco.com (63.100.100.155)
  by daedalus.apache.org with SMTP; 18 Jun 2003 15:06:49 -0000
Received: from unknown(10.106.128.33) by outhub1.tibco.com via csmap
	 id 25519; Wed, 18 Jun 2003 08:06:33 -0700 (PDT)
Received: from mail1.tibco.com (nsmail2.tibco.com [10.106.128.42])
	by na-h-inhub1.tibco.com (8.12.2/8.12.2) with ESMTP id h5IF6pdB002048
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003 08:06:51 -0700 (PDT)
Received: from tibco.com ([10.98.32.17]) by mail1.tibco.com
          (Netscape Messaging Server 4.15) with ESMTP id HGONB900.42P for
          <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003
          08:06:45 -0700
Message-ID: <3EF08025.4030604@tibco.com>
Date: Wed, 18 Jun 2003 11:07:17 -0400
From: "Eric Johnson" <eric@tibco.com>
Organization: TIBCO Extensibility
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Deadlock problem with MultiThreadedHttpConnectionManager
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

OK, so I brought this problem upon myself.

There is one executeMethod() call in one of our applications for which
we "forgot" to call releaseConnection() or consume the entire response
(and I of all people should know better).  While I fully realize this is
a bug in my code, the failure, unfortunately, is not just an exception
thrown, but a deadlock in HttpClient.

What happens, roughly, is this:
Execute a method, forget to releaseConnection().  Do this three times
from the AWT event thread, using MultiThreadedHttpConnectionManager(),
with a timeout of zero.  On the third (or fourth?) time, the application
"hangs", with two key threads waiting - one at

MultiThreadedHttpConnectionManager.doGetConnection() - line 302, which
reads "connectionPool.wait(timeToWait)",

and the other thread at

MultiThreadedHttpConnectionManager.ReferenceQueuedThread.run(), line
665, which reads "Reference ref = referenceQueue.remove();".

I think invoking HttpClient from the AWT event thread is key, as it
prevents further interaction by the user with the application, and thus
the garbage collector never gets invoked.  Based on this theory, it
turns out that I can work around the bug in my code by putting in a call
to System.gc() immediately before "connectionPool.wait(timeToWait)".
Granted, this doesn't fix the problem in my application's code, but it
does potentially solve a serious issue for naive (or careless) users of
HttpClient.

This leads me to ask two questions:
Should we add a call to System.gc() at line 302 of
MultiThreadedHttpConnectionManager?
Should we ever invoke the "connectionPool.wait()" with a zero value, or
should this always time out?  I think this would be better if it always
timed out, as it is possible, as my scenario shows, to get into states
where the garbage collector never runs, the connections are never freed,
and the application grinds to a halt.

Mind you, I can live with doing neither of the above changes, and just
fixing the *!$%?#!* bug in my application, but I think the changes might
make sense.

- With egg on my face - Eric.




From ortwin.glueck@nose.ch  Wed Jun 18 15:21:48 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 99456 invoked from network); 18 Jun 2003 15:21:48 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 18 Jun 2003 15:21:48 -0000
Received: (qmail 28906 invoked from network); 18 Jun 2003 15:21:39 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 18 Jun 2003 15:21:39 -0000
Message-ID: <3EF08383.3000700@nose.ch>
Date: Wed, 18 Jun 2003 17:21:39 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Deadlock problem with MultiThreadedHttpConnectionManager
References: <3EF08025.4030604@tibco.com>
In-Reply-To: <3EF08025.4030604@tibco.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It's not clear to me how this can be a dead lock.

Eric Johnson wrote:
> MultiThreadedHttpConnectionManager.doGetConnection() - line 302, which
> reads "connectionPool.wait(timeToWait)",

This is a limited wait. Not infinite. Oleg, do we ensure that
timeToWait>0 somehow?

> and the other thread at
>
> MultiThreadedHttpConnectionManager.ReferenceQueuedThread.run(), line
> 665, which reads "Reference ref = referenceQueue.remove();".

Both lines of code are in a block synchronized on the same object
(connectionPool). So how can happen what you observe? Two different
threads both in a synchronized block on the same object?


From becke@u.washington.edu  Wed Jun 18 15:30:21 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 32769 invoked from network); 18 Jun 2003 15:30:21 -0000
Received: from mxout4.cac.washington.edu (140.142.33.19)
  by daedalus.apache.org with SMTP; 18 Jun 2003 15:30:21 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout4.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5IFUN2Z020589
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003 08:30:23 -0700
Received: from u.washington.edu (ss07.co.us.ibm.com [32.97.110.72])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5IFUJ49004174
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003 08:30:23 -0700
Message-ID: <3EF08569.9000604@u.washington.edu>
Date: Wed, 18 Jun 2003 11:29:45 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Deadlock problem with MultiThreadedHttpConnectionManager
References: <3EF08025.4030604@tibco.com> <3EF08383.3000700@nose.ch>
In-Reply-To: <3EF08383.3000700@nose.ch>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> It's not clear to me how this can be a dead lock.

I'm not sure of the exact definition of deadlock but I think it requires
two threads to be waiting for each other.  This is not what's happening
in this case.  The problem is that the thread is waiting and noone is
going to wake it up.

> Eric Johnson wrote:
>
>> MultiThreadedHttpConnectionManager.doGetConnection() - line 302, which
>> reads "connectionPool.wait(timeToWait)",
>
>
> This is a limited wait. Not infinite. Oleg, do we ensure that
> timeToWait>0 somehow?

We allow a 0 timeout indicating an infinite wait.  This is in fact the
default.

>> and the other thread at
>>
>> MultiThreadedHttpConnectionManager.ReferenceQueuedThread.run(), line
>> 665, which reads "Reference ref = referenceQueue.remove();".
>
>
> Both lines of code are in a block synchronized on the same object
> (connectionPool). So how can happen what you observe? Two different
> threads both in a synchronized block on the same object?

This second thread is not waiting on the same lock.  It is a thread
waiting for garbage collected connections.

Mike


From eric@tibco.com  Wed Jun 18 15:31:02 2003
Return-Path: <eric@tibco.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 35117 invoked from network); 18 Jun 2003 15:31:02 -0000
Received: from outhub1.tibco.com (63.100.100.155)
  by daedalus.apache.org with SMTP; 18 Jun 2003 15:31:02 -0000
Received: from unknown(10.106.128.33) by outhub1.tibco.com via csmap
	 id 27356; Wed, 18 Jun 2003 08:30:47 -0700 (PDT)
Received: from mail1.tibco.com (nsmail2.tibco.com [10.106.128.42])
	by na-h-inhub1.tibco.com (8.12.2/8.12.2) with ESMTP id h5IFV5dB003637
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003 08:31:05 -0700 (PDT)
Received: from tibco.com ([10.98.32.17]) by mail1.tibco.com
          (Netscape Messaging Server 4.15) with ESMTP id HGOOFN00.EZ3 for
          <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003
          08:30:59 -0700
Message-ID: <3EF085D3.3090402@tibco.com>
Date: Wed, 18 Jun 2003 11:31:31 -0400
From: "Eric Johnson" <eric@tibco.com>
Organization: TIBCO Extensibility
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Deadlock problem with MultiThreadedHttpConnectionManager
References: <3EF08025.4030604@tibco.com> <3EF08383.3000700@nose.ch>
In-Reply-To: <3EF08383.3000700@nose.ch>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ortwin,

It is an odd problem.  Not quite a dead-lock in the traditional sense.
One thread is waiting on the other, and the other is waiting for the
garbage collector.  It just so happens that the garbage collector will
never kick in, because the first thread happens to be the AWT Event
thread, so the user cannot interact with the application any further,
thus no objects get allocated, and there is no reason to garbage
collect. To oversimplify, Thread A depends on Thread B depends on Thread
C depends (indirectly) on Thread A.

Ortwin Glück wrote:

> It's not clear to me how this can be a dead lock.
>
> Eric Johnson wrote:
>
>> MultiThreadedHttpConnectionManager.doGetConnection() - line 302,
>> which reads "connectionPool.wait(timeToWait)",
>
>
> This is a limited wait. Not infinite. Oleg, do we ensure that
> timeToWait>0 somehow?

You seem to be echoing one of my recommendations - the code should
disallow passing zero here.  It doesn't currently, but I think it
should, since the timeout value it is using is the one associated
internally with socket connection timeouts, which if not set essentially
defaults to the lower bound of what all the intervening routers allow,
whereas this particular wait has no limit besides what we pass.

>
>> and the other thread at
>>
>> MultiThreadedHttpConnectionManager.ReferenceQueuedThread.run(), line
>> 665, which reads "Reference ref = referenceQueue.remove();".
>
>
> Both lines of code are in a block synchronized on the same object
> (connectionPool). So how can happen what you observe? Two different
> threads both in a synchronized block on the same object?
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
>



From ortwin.glueck@nose.ch  Wed Jun 18 15:41:03 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 65222 invoked from network); 18 Jun 2003 15:41:03 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 18 Jun 2003 15:41:03 -0000
Received: (qmail 29191 invoked from network); 18 Jun 2003 15:40:55 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 18 Jun 2003 15:40:55 -0000
Message-ID: <3EF08806.80502@nose.ch>
Date: Wed, 18 Jun 2003 17:40:54 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Deadlock problem with MultiThreadedHttpConnectionManager
References: <3EF08025.4030604@tibco.com> <3EF08383.3000700@nose.ch> <3EF08569.9000604@u.washington.edu>
In-Reply-To: <3EF08569.9000604@u.washington.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michael Becke wrote:
> We allow a 0 timeout indicating an infinite wait.  This is in fact the
> default.

Makes me think of Queen's song "who wants to live forever" :-)


From becke@u.washington.edu  Wed Jun 18 15:56:19 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 3816 invoked from network); 18 Jun 2003 15:56:19 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 18 Jun 2003 15:56:19 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout2.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5IFuLo0019600
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003 08:56:22 -0700
Received: from u.washington.edu (ss1.bluebird.ibm.com [129.42.208.139])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5IFuK49005496
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003 08:56:21 -0700
Message-ID: <3EF08B7E.10007@u.washington.edu>
Date: Wed, 18 Jun 2003 11:55:42 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Deadlock problem with MultiThreadedHttpConnectionManager
References: <3EF08025.4030604@tibco.com>
In-Reply-To: <3EF08025.4030604@tibco.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I think invoking HttpClient from the AWT event thread is key, as it
> prevents further interaction by the user with the application, and thus
> the garbage collector never gets invoked.  Based on this theory, it
> turns out that I can work around the bug in my code by putting in a call
> to System.gc() immediately before "connectionPool.wait(timeToWait)".
> Granted, this doesn't fix the problem in my application's code, but it
> does potentially solve a serious issue for naive (or careless) users of
> HttpClient.

Doing something time-consuming from the event thread is a little
questionable I think.  It's an easy way to keep a user from using the UI
but it causes problems like this.  I would suggest executing the
HttpClient call from another thread and popping up a modal dialog.  This
way the UI is still responsive and you can add a cancel button to stop
the HttpClient method if you like.

> This leads me to ask two questions:
> Should we add a call to System.gc() at line 302 of
> MultiThreadedHttpConnectionManager?

The support for detecting GCed connections is a last resort.  In general
it should never be relied on and was mostly just added as a "cool
feature".

Doing explicit GCs from within the HttpClient code is definitely a hack.
  It can be quite time consuing and there is no guarantee that it will
have any effect.  You could certainly add a GC in your code but I think
it is not something we want to include in HttpClient.

> Should we ever invoke the "connectionPool.wait()" with a zero value, or
> should this always time out?  I think this would be better if it always
> timed out, as it is possible, as my scenario shows, to get into states
> where the garbage collector never runs, the connections are never freed,
> and the application grinds to a halt.

Having a zero value is quite valid I think.  There are some cases when
you want to wait until a connection is available regardless of how long
that takes.  Though 0 is the default value it can certainly be set in
your application.  Having the thread timeout doesn't really solve your
problem though.  It just lets you know you have a problem.

The price of using the MultiThreadedHttpConnectionManager is that
connections must be released manually.  It trades off the benefit of
connection reuse/management for the burden of connection release.

I think the only real solution in this case is to ensure that
connections are released manually.

Also, I am wondering if all of this is happening in the UI thread why
are you using the MultiThreadedHttpConnectionManager?  It is really for
sharing/reusing connections among various threads.

Mike


From rtower@sugarloafsw.com  Wed Jun 18 16:26:52 2003
Return-Path: <rtower@sugarloafsw.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 90186 invoked from network); 18 Jun 2003 16:26:52 -0000
Received: from mta2.wss.scd.yahoo.com (66.218.85.33)
  by daedalus.apache.org with SMTP; 18 Jun 2003 16:26:52 -0000
Received: from RON (68.170.112.190) by mta2.wss.scd.yahoo.com (7.0.016) (authenticated as rtower@sugarloafsw.com)
        id 3EDCE760005385B1 for commons-httpclient-dev@jakarta.apache.org; Wed, 18 Jun 2003 09:26:56 -0700
Message-ID: <001201c335b6$70ac5cd0$6401a8c0@RON>
From: "Ron Tower" <rtower@sugarloafsw.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: Commas in Cookie Value
Date: Wed, 18 Jun 2003 12:26:57 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000F_01C33594.E8FD6B60"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000F_01C33594.E8FD6B60
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello All,

Is there a problem when  a comma appears in a cookie value? See 02109POS =
below. It has a comma in the value and is split into two cookies. IE at =
least parses this cookie as one cookie. Is there a workaround for this?

My understanding is that a cookie value can have any character other =
than a semicolon, space, or tab.

I got the following Set-Cookie headers:

[DEBUG] wire - -<< "Set-cookie: CDSContentDistributor=3D137169; =
expires=3DTuesday, 17-Jun-03 20:52:01 GMT; path=3D/[\r][\n]"
[DEBUG] wire - -<< "Set-cookie: 02109POS=3D<www4210513143792642538,>; =
domain=3D.fidelity.com; path=3D/; expires=3DFri, 12-Sep-2003 00:00:00 =
GMT;[\r][\n]"
[DEBUG] wire - -<< "Set-cookie: =
MC=3DclHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRkA=
P03; expires=3DMonday, 15-Sep-2003 20:42:01 GMT; domain=3D.fidelity.com; =
path=3D/[\r][\n]"

And HttpClient sent the following Cookies:

[DEBUG] wire - ->> "Cookie: $Version=3D0; =
CDSContentDistributor=3D137169; $Path=3D/[\r][\n]"
[DEBUG] wire - ->> "Cookie: $Version=3D0; =
02109POS=3D<www4210513143792642538[\r][\n]"
[DEBUG] wire - ->> "Cookie: $Version=3D0; >=3D; $Domain=3D.fidelity.com; =
$Path=3D/[\r][\n]"
[DEBUG] wire - ->> "Cookie: $Version=3D0; =
MC=3DclHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRkA=
P03; $Domain=3D.fidelity.com; $Path=3D/[\r][\n]"

Thanks,

Ron Tower

------=_NextPart_000_000F_01C33594.E8FD6B60--


From eric@tibco.com  Wed Jun 18 16:34:45 2003
Return-Path: <eric@tibco.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 13601 invoked from network); 18 Jun 2003 16:34:45 -0000
Received: from outhub1.tibco.com (63.100.100.155)
  by daedalus.apache.org with SMTP; 18 Jun 2003 16:34:45 -0000
Received: from unknown(10.106.128.33) by outhub1.tibco.com via csmap
	 id 32737; Wed, 18 Jun 2003 09:34:30 -0700 (PDT)
Received: from mail1.tibco.com (nsmail2.tibco.com [10.106.128.42])
	by na-h-inhub1.tibco.com (8.12.2/8.12.2) with ESMTP id h5IGYmdB008462
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003 09:34:48 -0700 (PDT)
Received: from tibco.com ([10.98.32.17]) by mail1.tibco.com
          (Netscape Messaging Server 4.15) with ESMTP id HGORDV00.P1I for
          <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003
          09:34:43 -0700
Message-ID: <3EF094C2.4060909@tibco.com>
Date: Wed, 18 Jun 2003 12:35:14 -0400
From: "Eric Johnson" <eric@tibco.com>
Organization: TIBCO Extensibility
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Deadlock problem with MultiThreadedHttpConnectionManager
References: <3EF08025.4030604@tibco.com> <3EF08B7E.10007@u.washington.edu>
In-Reply-To: <3EF08B7E.10007@u.washington.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Mike,

I think you're roughly agreeing with what I would conclude, but I wasn't
sure and I wanted to get other's feedback.

Michael Becke wrote:

> Doing something time-consuming from the event thread is a little
> questionable I think.  It's an easy way to keep a user from using the
> UI but it causes problems like this.  I would suggest executing the
> HttpClient call from another thread and popping up a modal dialog.
> This way the UI is still responsive and you can add a cancel button to
> stop the HttpClient method if you like.

Unfortunately, I am not directly responsible for the design and
implementation of the product, and we're not focusing resources
elsewhere, so dramatic changes like the ones you suggest are not
possible.  I agree with your point, though, and would change it if I could!

>
>> This leads me to ask two questions:
>> Should we add a call to System.gc() at line 302 of
>> MultiThreadedHttpConnectionManager?
>
>
> The support for detecting GCed connections is a last resort.  In
> general it should never be relied on and was mostly just added as a
> "cool feature".
>
> Doing explicit GCs from within the HttpClient code is definitely a
> hack.  It can be quite time consuing and there is no guarantee that it
> will have any effect.  You could certainly add a GC in your code but I
> think it is not something we want to include in HttpClient.

Yeah, I was leaning that way too, in that the gc() call is a hack.

>
>> Should we ever invoke the "connectionPool.wait()" with a zero value,
>> or should this always time out?  I think this would be better if it
>> always timed out, as it is possible, as my scenario shows, to get
>> into states where the garbage collector never runs, the connections
>> are never freed, and the application grinds to a halt.
>
>
> Having a zero value is quite valid I think.  There are some cases when
> you want to wait until a connection is available regardless of how
> long that takes.  Though 0 is the default value it can certainly be
> set in your application.  Having the thread timeout doesn't really
> solve your problem though.  It just lets you know you have a problem.

Letting me know I had a problem would be better than what the
application does now!  In my case, it would "solve" the problem to the
extent that the program would not appear to be frozen.

>
> The price of using the MultiThreadedHttpConnectionManager is that
> connections must be released manually.  It trades off the benefit of
> connection reuse/management for the burden of connection release.
>
> I think the only real solution in this case is to ensure that
> connections are released manually.
>
> Also, I am wondering if all of this is happening in the UI thread why
> are you using the MultiThreadedHttpConnectionManager?  It is really
> for sharing/reusing connections among various threads.

Of course, there are a variety of reasons for using
MultiThreadedHttpConnectionManager, if only because the other option is,
well, too simple.  We do have other threads, they just don't happen to
get kicked off in the problematic scenario.

Thanks for the feedback.

-Eric.



From becke@u.washington.edu  Wed Jun 18 16:44:12 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 33591 invoked from network); 18 Jun 2003 16:44:12 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 18 Jun 2003 16:44:12 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5IGiF5c003174
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003 09:44:15 -0700
Received: from u.washington.edu (ss07.co.us.ibm.com [32.97.110.72])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5IGiB49008604
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003 09:44:14 -0700
Message-ID: <3EF096B9.8030802@u.washington.edu>
Date: Wed, 18 Jun 2003 12:43:37 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Deadlock problem with MultiThreadedHttpConnectionManager
References: <3EF08025.4030604@tibco.com> <3EF08383.3000700@nose.ch> <3EF08569.9000604@u.washington.edu> <3EF08806.80502@nose.ch>
In-Reply-To: <3EF08806.80502@nose.ch>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Karaoke at Ortwin's house tonight :)

Mike

Ortwin Glück wrote:
> Michael Becke wrote:
>
>> We allow a 0 timeout indicating an infinite wait.  This is in fact the
>> default.
>
>
> Makes me think of Queen's song "who wants to live forever" :-)
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Wed Jun 18 16:49:05 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 42915 invoked from network); 18 Jun 2003 16:49:05 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 18 Jun 2003 16:49:05 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout3.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5IGn76S004833
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003 09:49:07 -0700
Received: from u.washington.edu (ss07.co.us.ibm.com [32.97.110.72])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5IGn549008948
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 18 Jun 2003 09:49:07 -0700
Message-ID: <3EF097E0.1010603@u.washington.edu>
Date: Wed, 18 Jun 2003 12:48:32 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Deadlock problem with MultiThreadedHttpConnectionManager
References: <3EF08025.4030604@tibco.com> <3EF08B7E.10007@u.washington.edu> <3EF094C2.4060909@tibco.com>
In-Reply-To: <3EF094C2.4060909@tibco.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Eric,

> I think you're roughly agreeing with what I would conclude, but I wasn't
> sure and I wanted to get other's feedback.

Yes, I think your analysis was correct.

> Unfortunately, I am not directly responsible for the design and
> implementation of the product, and we're not focusing resources
> elsewhere, so dramatic changes like the ones you suggest are not
> possible.  I agree with your point, though, and would change it if I could!

Darn that real world:)

Good luck.

Mike


From brett@knightsofthenet.com  Wed Jun 18 19:04:34 2003
Return-Path: <brett@knightsofthenet.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 25066 invoked from network); 18 Jun 2003 19:04:34 -0000
Received: from h24-67-142-106.cc.shawcable.net (HELO parsival.knightsofthenet.com) (24.67.142.106)
  by daedalus.apache.org with SMTP; 18 Jun 2003 19:04:34 -0000
Received: (qmail 30929 invoked by uid 0); 18 Jun 2003 16:54:54 -0000
Received: from unknown (HELO BrettPC) (192.168.1.5)
  by 192.168.1.11 with SMTP; 18 Jun 2003 16:54:54 -0000
Message-ID: <001701c335cc$ac43c970$0501a8c0@knightsofthenet.com>
From: "Brett Knights" <brett@knightsofthenet.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <001201c335b6$70ac5cd0$6401a8c0@RON>
Subject: Re: Commas in Cookie Value
Date: Wed, 18 Jun 2003 12:06:07 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have a fix for this but it uses the org.apache.oro regular
expression parser.
E-mail me off line if you want the code to hack your own copy of
HttpClient

----- Original Message -----
From: "Ron Tower" <rtower@sugarloafsw.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Sent: Wednesday, June 18, 2003 9:26 AM
Subject: Commas in Cookie Value


Hello All,

Is there a problem when  a comma appears in a cookie value? See
02109POS below. It has a comma in the value and is split into two
cookies. IE at least parses this cookie as one cookie. Is there a
workaround for this?

My understanding is that a cookie value can have any character other
than a semicolon, space, or tab.

I got the following Set-Cookie headers:

[DEBUG] wire - -<< "Set-cookie: CDSContentDistributor=137169;
expires=Tuesday, 17-Jun-03 20:52:01 GMT; path=/[\r][\n]"
[DEBUG] wire - -<< "Set-cookie: 02109POS=<www4210513143792642538,>;
domain=.fidelity.com; path=/; expires=Fri, 12-Sep-2003 00:00:00
GMT;[\r][\n]"
[DEBUG] wire - -<< "Set-cookie:
MC=clHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRk
AP03; expires=Monday, 15-Sep-2003 20:42:01 GMT; domain=.fidelity.com;
path=/[\r][\n]"

And HttpClient sent the following Cookies:

[DEBUG] wire - ->> "Cookie: $Version=0; CDSContentDistributor=137169;
$Path=/[\r][\n]"
[DEBUG] wire - ->> "Cookie: $Version=0;
02109POS=<www4210513143792642538[\r][\n]"
[DEBUG] wire - ->> "Cookie: $Version=0; >=; $Domain=.fidelity.com;
$Path=/[\r][\n]"
[DEBUG] wire - ->> "Cookie: $Version=0;
MC=clHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRk
AP03; $Domain=.fidelity.com; $Path=/[\r][\n]"

Thanks,

Ron Tower



From rtower@sugarloafsw.com  Wed Jun 18 20:06:07 2003
Return-Path: <rtower@sugarloafsw.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 38788 invoked from network); 18 Jun 2003 20:06:07 -0000
Received: from mta2.wss.scd.yahoo.com (66.218.85.33)
  by daedalus.apache.org with SMTP; 18 Jun 2003 20:06:07 -0000
Received: from RON (68.170.112.190) by mta2.wss.scd.yahoo.com (7.0.016) (authenticated as rtower@sugarloafsw.com)
        id 3EDCE7600054A64C for commons-httpclient-dev@jakarta.apache.org; Wed, 18 Jun 2003 13:06:12 -0700
Message-ID: <006f01c335d5$12d1c770$6401a8c0@RON>
From: "Ron Tower" <rtower@sugarloafsw.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <001201c335b6$70ac5cd0$6401a8c0@RON> <001701c335cc$ac43c970$0501a8c0@knightsofthenet.com>
Subject: Re: Commas in Cookie Value
Date: Wed, 18 Jun 2003 16:06:14 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Brett,

I didn't download the source, just the jar and the docs. Could I subclass
from a CookieSpec and just replace the parse of Set-Cookie? I would prefer
to not have to modify the source so I can easily replace it with upcoming
versions without having to put my change back in.

Is your fix going into the main source? Do you know when?

But if there is no other way, I can download the source, and then I would
appreciate your fix.

Thanks,

Ron Tower

----- Original Message -----
From: "Brett Knights" <brett@knightsofthenet.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Wednesday, June 18, 2003 3:06 PM
Subject: Re: Commas in Cookie Value


> I have a fix for this but it uses the org.apache.oro regular
> expression parser.
> E-mail me off line if you want the code to hack your own copy of
> HttpClient
>
> ----- Original Message -----
> From: "Ron Tower" <rtower@sugarloafsw.com>
> To: <commons-httpclient-dev@jakarta.apache.org>
> Sent: Wednesday, June 18, 2003 9:26 AM
> Subject: Commas in Cookie Value
>
>
> Hello All,
>
> Is there a problem when  a comma appears in a cookie value? See
> 02109POS below. It has a comma in the value and is split into two
> cookies. IE at least parses this cookie as one cookie. Is there a
> workaround for this?
>
> My understanding is that a cookie value can have any character other
> than a semicolon, space, or tab.
>
> I got the following Set-Cookie headers:
>
> [DEBUG] wire - -<< "Set-cookie: CDSContentDistributor=137169;
> expires=Tuesday, 17-Jun-03 20:52:01 GMT; path=/[\r][\n]"
> [DEBUG] wire - -<< "Set-cookie: 02109POS=<www4210513143792642538,>;
> domain=.fidelity.com; path=/; expires=Fri, 12-Sep-2003 00:00:00
> GMT;[\r][\n]"
> [DEBUG] wire - -<< "Set-cookie:
> MC=clHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRk
> AP03; expires=Monday, 15-Sep-2003 20:42:01 GMT; domain=.fidelity.com;
> path=/[\r][\n]"
>
> And HttpClient sent the following Cookies:
>
> [DEBUG] wire - ->> "Cookie: $Version=0; CDSContentDistributor=137169;
> $Path=/[\r][\n]"
> [DEBUG] wire - ->> "Cookie: $Version=0;
> 02109POS=<www4210513143792642538[\r][\n]"
> [DEBUG] wire - ->> "Cookie: $Version=0; >=; $Domain=.fidelity.com;
> $Path=/[\r][\n]"
> [DEBUG] wire - ->> "Cookie: $Version=0;
> MC=clHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRk
> AP03; $Domain=.fidelity.com; $Path=/[\r][\n]"
>
> Thanks,
>
> Ron Tower
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>


From olegk@apache.org  Wed Jun 18 21:21:34 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 74999 invoked from network); 18 Jun 2003 21:21:34 -0000
Received: from mail1.bluewin.ch (195.186.1.74)
  by daedalus.apache.org with SMTP; 18 Jun 2003 21:21:34 -0000
Received: from olddude.tislab.ch (81.62.123.241) by mail1.bluewin.ch (Bluewin AG 7.0.016)
        id 3EE867FC000C03D8 for commons-httpclient-dev@jakarta.apache.org; Wed, 18 Jun 2003 21:21:39 +0000
Subject: Re: Commas in Cookie Value
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <001201c335b6$70ac5cd0$6401a8c0@RON>
References: <001201c335b6$70ac5cd0$6401a8c0@RON>
Content-Type: text/plain
Message-Id: <1055971291.2390.14.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 18 Jun 2003 23:21:32 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Rob,
This is a well known issue. According to the RFC 2109 comma is
considered a spacial character. Cookie values that contain special
characters MUST be in a quoted string. Please refer to the following bug
report for more details:

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=11240

The cookie below clearly violates the RFC 2109 spec, hence the parsing
problem.

Unfortunately, so called mainstream browsers have fairly lousy standards
compliance record when it comes to cookies. IE as well Mozilla do accept
cookie values with special characters in an unquoted string. The problem
is that our compatibility cookie policy does not mimic such behaviour as
yet. That will change in 2.1 release. So, stay tuned.

Cheers

Oleg


On Wed, 2003-06-18 at 18:26, Ron Tower wrote:
> Hello All,
>
> Is there a problem when  a comma appears in a cookie value? See 02109POS below. It has a comma in the value and is split into two cookies. IE at least parses this cookie as one cookie. Is there a workaround for this?
>
> My understanding is that a cookie value can have any character other than a semicolon, space, or tab.
>
> I got the following Set-Cookie headers:
>
> [DEBUG] wire - -<< "Set-cookie: CDSContentDistributor=137169; expires=Tuesday, 17-Jun-03 20:52:01 GMT; path=/[\r][\n]"
> [DEBUG] wire - -<< "Set-cookie: 02109POS=<www4210513143792642538,>; domain=.fidelity.com; path=/; expires=Fri, 12-Sep-2003 00:00:00 GMT;[\r][\n]"
> [DEBUG] wire - -<< "Set-cookie: MC=clHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRkAP03; expires=Monday, 15-Sep-2003 20:42:01 GMT; domain=.fidelity.com; path=/[\r][\n]"
>
> And HttpClient sent the following Cookies:
>
> [DEBUG] wire - ->> "Cookie: $Version=0; CDSContentDistributor=137169; $Path=/[\r][\n]"
> [DEBUG] wire - ->> "Cookie: $Version=0; 02109POS=<www4210513143792642538[\r][\n]"
> [DEBUG] wire - ->> "Cookie: $Version=0; >=; $Domain=.fidelity.com; $Path=/[\r][\n]"
> [DEBUG] wire - ->> "Cookie: $Version=0; MC=clHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRkAP03; $Domain=.fidelity.com; $Path=/[\r][\n]"
>
> Thanks,
>
> Ron Tower


From olegk@apache.org  Wed Jun 18 21:32:47 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 99915 invoked from network); 18 Jun 2003 21:32:47 -0000
Received: from mail4.bluewin.ch (195.186.4.74)
  by daedalus.apache.org with SMTP; 18 Jun 2003 21:32:47 -0000
Received: from olddude.tislab.ch (81.62.123.241) by mail4.bluewin.ch (Bluewin AG 7.0.016)
        id 3EDC8E33001B6AE4 for commons-httpclient-dev@jakarta.apache.org; Wed, 18 Jun 2003 21:32:53 +0000
Subject: Re: Commas in Cookie Value
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <006f01c335d5$12d1c770$6401a8c0@RON>
References: <001201c335b6$70ac5cd0$6401a8c0@RON>
	 <001701c335cc$ac43c970$0501a8c0@knightsofthenet.com>
	 <006f01c335d5$12d1c770$6401a8c0@RON>
Content-Type: text/plain
Message-Id: <1055971965.2390.27.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 18 Jun 2003 23:32:45 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ron (I apologise for misspelling your name in my previous post),

You can easily subclass any of the CookieSpec classes. The trouble is
there's no way to plug a custom cookie spec into the existing
implementation of HttpClient. At the moment you have to modify
CookiePolicy class and recompile Httpclient in order to get it done. We
are aware of the problem and will address it in 2.1 release.

Oleg

PS: Brett's patch may eventually make it into the official Httpclient
source tree, but that is not going to happen too soon. Maybe in 3.0



On Wed, 2003-06-18 at 22:06, Ron Tower wrote:
> Brett,
>
> I didn't download the source, just the jar and the docs. Could I subclass
> from a CookieSpec and just replace the parse of Set-Cookie? I would prefer
> to not have to modify the source so I can easily replace it with upcoming
> versions without having to put my change back in.
>
> Is your fix going into the main source? Do you know when?
>
> But if there is no other way, I can download the source, and then I would
> appreciate your fix.
>
> Thanks,
>
> Ron Tower
>
> ----- Original Message -----
> From: "Brett Knights" <brett@knightsofthenet.com>
> To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
> Sent: Wednesday, June 18, 2003 3:06 PM
> Subject: Re: Commas in Cookie Value
>
>
> > I have a fix for this but it uses the org.apache.oro regular
> > expression parser.
> > E-mail me off line if you want the code to hack your own copy of
> > HttpClient
> >
> > ----- Original Message -----
> > From: "Ron Tower" <rtower@sugarloafsw.com>
> > To: <commons-httpclient-dev@jakarta.apache.org>
> > Sent: Wednesday, June 18, 2003 9:26 AM
> > Subject: Commas in Cookie Value
> >
> >
> > Hello All,
> >
> > Is there a problem when  a comma appears in a cookie value? See
> > 02109POS below. It has a comma in the value and is split into two
> > cookies. IE at least parses this cookie as one cookie. Is there a
> > workaround for this?
> >
> > My understanding is that a cookie value can have any character other
> > than a semicolon, space, or tab.
> >
> > I got the following Set-Cookie headers:
> >
> > [DEBUG] wire - -<< "Set-cookie: CDSContentDistributor=137169;
> > expires=Tuesday, 17-Jun-03 20:52:01 GMT; path=/[\r][\n]"
> > [DEBUG] wire - -<< "Set-cookie: 02109POS=<www4210513143792642538,>;
> > domain=.fidelity.com; path=/; expires=Fri, 12-Sep-2003 00:00:00
> > GMT;[\r][\n]"
> > [DEBUG] wire - -<< "Set-cookie:
> > MC=clHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRk
> > AP03; expires=Monday, 15-Sep-2003 20:42:01 GMT; domain=.fidelity.com;
> > path=/[\r][\n]"
> >
> > And HttpClient sent the following Cookies:
> >
> > [DEBUG] wire - ->> "Cookie: $Version=0; CDSContentDistributor=137169;
> > $Path=/[\r][\n]"
> > [DEBUG] wire - ->> "Cookie: $Version=0;
> > 02109POS=<www4210513143792642538[\r][\n]"
> > [DEBUG] wire - ->> "Cookie: $Version=0; >=; $Domain=.fidelity.com;
> > $Path=/[\r][\n]"
> > [DEBUG] wire - ->> "Cookie: $Version=0;
> > MC=clHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRk
> > AP03; $Domain=.fidelity.com; $Path=/[\r][\n]"
> >
> > Thanks,
> >
> > Ron Tower
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From irmen@xs4all.nl  Wed Jun 18 09:43:09 2003
Return-Path: <irmen@xs4all.nl>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 51921 invoked from network); 18 Jun 2003 09:43:09 -0000
Received: from smtpzilla5.xs4all.nl (194.109.127.141)
  by daedalus.apache.org with SMTP; 18 Jun 2003 09:43:09 -0000
Received: from xs4all.nl (xs1.xs4all.nl [194.109.3.11])
	by smtpzilla5.xs4all.nl (8.12.9/8.12.9) with ESMTP id h5I9hLjR014977;
	Wed, 18 Jun 2003 11:43:22 +0200 (CEST)
Message-ID: <3EF03436.9060506@xs4all.nl>
Date: Wed, 18 Jun 2003 11:43:18 +0200
From: Irmen de Jong <irmen@xs4all.nl>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3.1) Gecko/20030425
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: commons-httpclient-dev@jakarta.apache.org
Subject: method.setRequestBody suggestion/question: byte[] ?
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi
I've got a suggestion (or a question) about the setRequestBody on the Method
objects. (using HTTP Client 2.0 beta)

There are three versions:
one that takes a String, one that takes an InputStream, and one that
takes a NameValuePair[].

Why isn't there a setRequestBody that takes a byte[] ?

I need this because I have this XML document encoded using UTF-8 in a byte[],
and I want to add this as the request body in a PostMethod.

Currently I've solved this by using the InputStream version:
method.setRequestHeader("Content-type", "text/xml; charset=UTF-8");
method.setRequestBody(new java.io.ByteArrayInputStream(xmlDocument));

I can't use the String version of setRequestBody because I don't know
how that one encodes the String in the message (that isn't documented?).

Thanks in advance for any comments/suggestions on this.

--Irmen de Jong

PS I'm not on the mailing list, so please reply privately too...


From emdevlin@charter.net  Thu Jun 19 02:49:45 2003
Return-Path: <emdevlin@charter.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 98416 invoked from network); 19 Jun 2003 02:49:45 -0000
Received: from remt28.cluster1.charter.net (209.225.8.38)
  by daedalus.apache.org with SMTP; 19 Jun 2003 02:49:45 -0000
Received: from [24.240.143.165] (HELO emdevlin)
  by remt28.cluster1.charter.net (CommuniGate Pro SMTP 4.0.6)
  with SMTP id 63359619 for commons-httpclient-dev@jakarta.apache.org; Wed, 18 Jun 2003 22:49:53 -0400
From: "Eric M Devlin" <emdevlin@charter.net>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: PATCH org.apache.commons.httpclient.methods.multipart.FilePart
Date: Wed, 18 Jun 2003 22:46:26 -0400
Message-ID: <LPBBIAEMNNBBCFFIMHMOAENGCCAA.emdevlin@charter.net>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0001_01C335EB.73698DF0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0001_01C335EB.73698DF0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Hey,
  This is a patch which will determine the content type if null based on
file extension.  I used the file extension mapping from
$TOMCAT_HOME/conf/web.xml.  As a side note, I'm having trouble sending gif
files.  Any thoughts or a kick in the right direction would be helpful.
Thanks and Hope It Helps
Eric

------=_NextPart_000_0001_01C335EB.73698DF0
Content-Type: text/plain;
	name="contentTypeByExtension.txt"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="contentTypeByExtension.txt"

--- FilePart.java.orig	2003-06-18 22:18:41.000000000 -0400
+++ FilePart.java	2003-06-18 22:01:49.000000000 -0400
@@ -1,5 +1,5 @@
 /*
- * $Header: =
/home/cvspublic/jakarta-commons/httpclient/src/java/org/apache/commons/ht=
tpclient/methods/multipart/FilePart.java,v 1.14 2003/03/16 12:05:03 =
olegk Exp $
+ * $Header: =
/home/cvs/jakarta-commons/httpclient/src/java/org/apache/commons/httpclie=
nt/methods/multipart/FilePart.java,v 1.14 2003/03/16 12:05:03 olegk Exp =
$
  * $Revision: 1.14 $
  * $Date: 2003/03/16 12:05:03 $
  *
@@ -121,6 +121,141 @@
     /** Content encoding of the file part. */
     private String charset;
=20
+	/** Mime Type mappings 'liberated' from Tomcat4.1.18/conf/web.xml*/
+	public static final String[][] MIME_TYPE_MAPPINGS =3D=09
+		{	{ "abs",		"audio/x-mpeg" },
+			{ "ai",			"application/postscript" },
+			{ "aif",		"audio/x-aiff" },
+			{ "aifc",		"audio/x-aiff" },
+			{ "aiff",		"audio/x-aiff" },
+			{ "aim",		"application/x-aim" },
+			{ "art",		"image/x-jg" },
+			{ "asf",		"video/x-ms-asf" },
+			{ "asx",		"video/x-ms-asf" },
+			{ "au",			"audio/basic" },
+			{ "avi",		"video/x-msvideo" },
+			{ "avx",		"video/x-rad-screenplay" },
+			{ "bcpio",		"application/x-bcpio" },
+			{ "bin",		"application/octet-stream" },
+			{ "bmp",		"image/bmp" },
+			{ "body",		"text/html" },
+			{ "cdf",		"application/x-cdf" },
+			{ "cer",		"application/x-x509-ca-cert" },
+			{ "class",		"application/java" },
+			{ "cpio",		"application/x-cpio" },
+			{ "csh",		"application/x-csh" },
+			{ "css",		"text/css" },
+			{ "dib",		"image/bmp" },
+			{ "doc",		"application/msword" },
+			{ "dtd",		"text/plain" },
+			{ "dv",			"video/x-dv" },
+			{ "dvi",		"application/x-dvi" },
+			{ "eps",		"application/postscript" },
+			{ "etx",		"text/x-setext" },
+			{ "exe",		"application/octet-stream" },
+			{ "gif",		"image/gif" },
+			{ "gtar",		"application/x-gtar" },
+			{ "gz",			"application/x-gzip" },
+			{ "hdf",		"application/x-hdf" },
+			{ "hqx",		"application/mac-binhex40" },
+			{ "htc",		"text/x-component" },
+			{ "htm",		"text/html" },
+			{ "html",		"text/html" },
+			{ "hqx",		"application/mac-binhex40" },
+			{ "ief",		"image/ief" },
+			{ "jad",		"text/vnd.sun.j2me.app-descriptor" },
+			{ "jar",		"application/java-archive" },
+			{ "java",		"text/plain" },
+			{ "jnlp",		"application/x-java-jnlp-file" },
+			{ "jpe",		"image/jpeg" },
+			{ "jpeg",		"image/jpeg" },
+			{ "jpg",		"image/jpeg" },
+			{ "js",			"text/javascript" },
+			{ "jsf",		"text/plain" },
+			{ "jspf",		"text/plain" },
+			{ "kar",		"audio/x-midi" },
+			{ "latex",		"application/x-latex" },
+			{ "m3u",		"audio/x-mpegurl" },
+			{ "mac",		"image/x-macpaint" },
+			{ "man",		"application/x-troff-man" },
+			{ "me",			"application/x-troff-me" },
+			{ "mid",		"audio/x-midi" },
+			{ "midi",		"audio/x-midi" },
+			{ "mif",		"application/x-mif" },
+			{ "mov",		"video/quicktime" },
+			{ "movie",		"video/x-sgi-movie" },
+			{ "mp1",		"audio/x-mpeg" },
+			{ "mp2",		"audio/x-mpeg" },
+			{ "mp3",		"audio/x-mpeg" },
+			{ "mpa",		"audio/x-mpeg" },
+			{ "mpe",		"video/mpeg" },
+			{ "mpeg",		"video/mpeg" },
+			{ "mpega",		"audio/x-mpeg" },
+			{ "mpg",		"video/mpeg" },
+			{ "mpv2",		"video/mpeg2" },
+			{ "ms",			"application/x-wais-source" },
+			{ "nc",			"application/x-netcdf" },
+			{ "oda",		"application/oda" },
+			{ "pbm",		"image/x-portable-bitmap" },
+			{ "pct",		"image/pict" },
+			{ "pdf",		"application/pdf" },
+			{ "pgm",		"image/x-portable-graymap" },
+			{ "pic",		"image/pict" },
+			{ "pict",		"image/pict" },
+			{ "pls",		"audio/x-scpls" },
+			{ "png",		"image/png" },
+			{ "pnm",		"image/x-portable-anymap" },
+			{ "pnt",		"image/x-macpaint" },
+			{ "ppm",		"image/x-portable-pixmap" },
+			{ "ps",			"application/postscript" },
+			{ "psd",		"image/x-photoshop" },
+			{ "qt",			"video/quicktime" },
+			{ "qti",		"image/x-quicktime" },
+			{ "qtif",		"image/x-quicktime" },
+			{ "ras",		"image/x-cmu-raster" },
+			{ "rgb",		"image/x-rgb" },
+			{ "rm",			"application/vnd.rn-realmedia" },
+			{ "roff",		"application/x-troff" },
+			{ "rtf",		"application/rtf" },
+			{ "rtx",		"text/richtext" },
+			{ "sh",			"application/x-sh" },
+			{ "shar",		"application/x-shar" },
+			{ "smf",		"audio/x-midi" },
+			{ "snd",		"audio/basic" },
+			{ "src",		"application/x-wais-source" },
+			{ "sv4cpio",	"application/x-sv4cpio" },
+			{ "sv4crc",		"application/x-sv4crc" },
+			{ "swf",		"application/x-shockwave-flash" },
+			{ "t",			"application/x-troff" },
+			{ "tar",		"application/x-tar" },
+			{ "tcl",		"application/x-tcl" },
+			{ "tex",		"application/x-tex" },
+			{ "texi",		"application/x-texinfo" },
+			{ "texinfo",	"application/x-texinfo" },
+			{ "tif",		"image/tiff" },
+			{ "tiff",		"image/tiff" },
+			{ "tr",			"application/x-troff" },
+			{ "tsv",		"text/tab-separated-values" },
+			{ "txt",		"text/plain" },
+			{ "ulw",		"audio/basic" },
+			{ "ustar",		"application/x-ustar" },
+			{ "xbm",		"image/x-xbitmap" },
+			{ "xml",		"text/xml" },
+			{ "xpm",		"image/x-xpixmap" },
+			{ "xsl",		"text/xml" },
+			{ "xwd",		"image/x-xwindowdump" },
+			{ "wav",		"audio/x-wav" },
+			{ "svg",		"image/svg+xml" },
+			{ "svgz",		"image/svg+xml" },
+			{ "wbmp",		"image/vnd.wap.wbmp" },
+			{ "wml",		"text/vnd.wap.wml" },
+			{ "wmlc",		"application/vnd.wap.wmlc" },
+			{ "wmls",		"text/vnd.wap.wmlscript" },
+			{ "wmlscriptc",	"application/vnd.wap.wmlscriptc" },
+			{ "wrl",		"x-world/x-vrml" },
+			{ "Z",			"application/x-compress" },
+			{ "z",			"application/x-compress" },
+			{ "zip",		"application/zip" } };
     /**
      * FilePart Constructor.
      *
@@ -145,8 +280,25 @@
         if (contentType !=3D null) {
             this.contentType =3D contentType;
         } else {
-            this.contentType =3D DEFAULT_CONTENT_TYPE;
+			this.contentType =3D DEFAULT_CONTENT_TYPE;
+
+			String fileName =3D partSource.getFileName();
+			if ( fileName !=3D null ) {
+				int extensionIndex =3D fileName.lastIndexOf( '.' );
+				if ( extensionIndex !=3D -1 ) {
+					if ( extensionIndex + 1 < fileName.length() ) {
+						String extension =3D fileName.substring( extensionIndex + 1 );
+						for( int i =3D 0; i < MIME_TYPE_MAPPINGS.length; i++ ) {
+							if ( extension.equals( MIME_TYPE_MAPPINGS[i][0] ) ) {
+								this.contentType =3D MIME_TYPE_MAPPINGS[i][1];
+								break;
+							}
+						}
+					}
+				}
+			}
         }
+
         this.charset =3D charset;
     }
        =20
@@ -298,6 +450,7 @@
             int len;
             while ((len =3D instream.read(tmp)) >=3D 0) {
                 out.write(tmp, 0, len);
+				out.flush();
             }
         } finally {
             // we're done with the stream, close it

------=_NextPart_000_0001_01C335EB.73698DF0--


From adrian@intencha.com  Thu Jun 19 03:09:40 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 12150 invoked from network); 19 Jun 2003 03:09:40 -0000
Received: from mailstore.nshosts.com (216.58.174.135)
  by daedalus.apache.org with SMTP; 19 Jun 2003 03:09:40 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mailstore.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0051119913@mailstore.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Wed, 18 Jun 2003 21:06:31 -0600
Date: Thu, 19 Jun 2003 13:09:50 +1000
Subject: Re: PATCH org.apache.commons.httpclient.methods.multipart.FilePart
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <LPBBIAEMNNBBCFFIMHMOAENGCCAA.emdevlin@charter.net>
Message-Id: <7DB53246-A203-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Eric,
This isn't really something that should be included directly into
HttpClient as HttpClient isn't intended to care about the actual
content it sends and receives but just takes care of the actual HTTP
protocol side of things.  Adding auto-mime type detection would mean
we'd also have to provide a way to configure the default mime-types
etc, in other words it opens a whole can of worms.

However, this would be an excellent submission to the HttpClient
contrib package, particularly if we refactor it so that instead of
being a patch it's a complete class that extends FilePart to add the
functionality, then it could easily be used without any changes to
HttpClient.  Would you be happy with that course of action?  If so,
would you like to adapt the patch into a standalone class yourself or
would you like me to take a crack at it?  I don't mind either way.

Thanks a lot for the contribution, it will definitely be useful to a
number of people.

Regards,

Adrian Sutton.

On Thursday, June 19, 2003, at 12:46  PM, Eric M Devlin wrote:

> Hey,
>   This is a patch which will determine the content type if null based
> on
> file extension.  I used the file extension mapping from
> $TOMCAT_HOME/conf/web.xml.  As a side note, I'm having trouble sending
> gif
> files.  Any thoughts or a kick in the right direction would be helpful.
> Thanks and Hope It Helps
> Eric
> <contentTypeByExtension.txt>-------------------------------------------
> --------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org


From ortwin.glueck@nose.ch  Thu Jun 19 07:35:08 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 42235 invoked from network); 19 Jun 2003 07:35:08 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 19 Jun 2003 07:35:08 -0000
Received: (qmail 2879 invoked from network); 19 Jun 2003 07:35:09 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 19 Jun 2003 07:35:09 -0000
Message-ID: <3EF167AC.3030304@nose.ch>
Date: Thu, 19 Jun 2003 09:35:08 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Deadlock problem with MultiThreadedHttpConnectionManager
References: <3EF08025.4030604@tibco.com> <3EF08383.3000700@nose.ch> <3EF085D3.3090402@tibco.com>
In-Reply-To: <3EF085D3.3090402@tibco.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Eric Johnson wrote:
> Ortwin,
>
> It is an odd problem.  Not quite a dead-lock in the traditional sense.
> One thread is waiting on the other, and the other is waiting for the
> garbage collector.  It just so happens that the garbage collector will
> never kick in, because the first thread happens to be the AWT Event
> thread, so the user cannot interact with the application any further,
> thus no objects get allocated, and there is no reason to garbage
> collect. To oversimplify, Thread A depends on Thread B depends on Thread
> C depends (indirectly) on Thread A.

Okay, I understand now. Ugly, ugly and a hard nut to crack, really.

The problem seems to be that we rely on the GC. I think this is
extremely bad. Nobody should ever rely on the GC, because it can
litteraly take ages until it runs, when you have huge amounts of memory.
So our queue could get *really* large and filled with stale objects.
It would be nicer if we could ask the objects in the queue directly if
they are still 'usable' or if they are 'done with' and should be removed
(maybe that is impossible though). I mean this weak reference stuff
looks nice and elegant but it's unfortunately not very good for the
cruel real world...

Any chance that we can remove this dependancy on the GC?

Odi


From adrian@intencha.com  Thu Jun 19 07:53:25 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 68405 invoked from network); 19 Jun 2003 07:53:25 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 19 Jun 2003 07:53:25 -0000
Received: from intencha.com (unverified [150.101.178.161]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0046656320@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 19 Jun 2003 01:49:28 -0600
Date: Thu, 19 Jun 2003 17:53:39 +1000
Subject: Re: Deadlock problem with MultiThreadedHttpConnectionManager
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: quoted-printable
In-Reply-To: <3EF167AC.3030304@nose.ch>
Message-Id: <2351790E-A22B-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Odi,
HttpClient doesn't depend on the GC, it depends on the user telling us=20=

when the connection is no longer in use (which Eric discovered he=20
hadn't done).  There is however a fallback whereby when a=20
HttpConnection is garbage collected (ie: when we discover that it is no=20=

longer in use), it tells the connection manager that it is no longer in=20=

use.  You are right that this behavior should not be depended upon, but=20=

it is a nice fallback.

Also, connections release themselves when there is no more data to be=20
read from the stream.

The solution in this case is to always call releaseConnection() when=20
you're finished with the connection (as is mentioned lots and lots=20
through our docs :)  and I really can't see any better way to deal with=20=

it.

If someone else comes up with a way to detect that a connection (which=20=

has an unknown amount of data) is no longer in use, it would definitely=20=

be good to implement it, but I'd be surprised if there was a good way.

Regards,

Adrian Sutton.

On Thursday, June 19, 2003, at 05:35  PM, Ortwin Gl=FCck wrote:

> Eric Johnson wrote:
>> Ortwin,
>> It is an odd problem.  Not quite a dead-lock in the traditional=20
>> sense.  One thread is waiting on the other, and the other is waiting=20=

>> for the garbage collector.  It just so happens that the garbage=20
>> collector will never kick in, because the first thread happens to be=20=

>> the AWT Event thread, so the user cannot interact with the=20
>> application any further, thus no objects get allocated, and there is=20=

>> no reason to garbage collect. To oversimplify, Thread A depends on=20
>> Thread B depends on Thread C depends (indirectly) on Thread A.
>
> Okay, I understand now. Ugly, ugly and a hard nut to crack, really.
>
> The problem seems to be that we rely on the GC. I think this is=20
> extremely bad. Nobody should ever rely on the GC, because it can=20
> litteraly take ages until it runs, when you have huge amounts of=20
> memory. So our queue could get *really* large and filled with stale=20
> objects.
> It would be nicer if we could ask the objects in the queue directly if=20=

> they are still 'usable' or if they are 'done with' and should be=20
> removed (maybe that is impossible though). I mean this weak reference=20=

> stuff looks nice and elegant but it's unfortunately not very good for=20=

> the cruel real world...
>
> Any chance that we can remove this dependancy on the GC?
>
> Odi
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:=20
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:=20
> commons-httpclient-dev-help@jakarta.apache.org
>


From ortwin.glueck@nose.ch  Thu Jun 19 07:56:22 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 72700 invoked from network); 19 Jun 2003 07:56:22 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 19 Jun 2003 07:56:22 -0000
Received: (qmail 3395 invoked from network); 19 Jun 2003 07:56:24 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 19 Jun 2003 07:56:24 -0000
Message-ID: <3EF16CA8.6070602@nose.ch>
Date: Thu, 19 Jun 2003 09:56:24 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>,
  irmen@xs4all.nl
Subject: Re: method.setRequestBody suggestion/question: byte[] ?
References: <3EF03436.9060506@xs4all.nl>
In-Reply-To: <3EF03436.9060506@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Irmen de Jong wrote:
> Why isn't there a setRequestBody that takes a byte[] ?

To avoid request buffering.

> Currently I've solved this by using the InputStream version:
> method.setRequestHeader("Content-type", "text/xml; charset=UTF-8");
> method.setRequestBody(new java.io.ByteArrayInputStream(xmlDocument));

This is the correct way of doing it. If your XML file is large, you
should even consider going through the file system and provide a
FileInputStream to avoid buffering.

> I can't use the String version of setRequestBody because I don't know
> how that one encodes the String in the message (that isn't documented?).

The encoding is specified in the Content-Type header (like in your
example). And yes, we should document that (done now)!

> Thanks in advance for any comments/suggestions on this.
>
> --Irmen de Jong
>
> PS I'm not on the mailing list, so please reply privately too...

Interesting that you were allowed to post, then :-)

>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org

--
_________________________________________________________________
  NOSE applied intelligence ag
                                    [www]      http://www.nose.ch
  ortwin glück                      [email] ortwin.glueck@nose.ch
  hardturmstrasse 171               [pgp key]          0x81CF3416
  8005 zurich                       [office]      +41-1-277 57 35
  switzerland                       [fax]         +41-1-277 57 12


From ortwin.glueck@nose.ch  Thu Jun 19 08:04:51 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 84702 invoked from network); 19 Jun 2003 08:04:51 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 19 Jun 2003 08:04:51 -0000
Received: (qmail 3578 invoked from network); 19 Jun 2003 08:04:53 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 19 Jun 2003 08:04:53 -0000
Message-ID: <3EF16EA5.5030109@nose.ch>
Date: Thu, 19 Jun 2003 10:04:53 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Deadlock problem with MultiThreadedHttpConnectionManager
References: <2351790E-A22B-11D7-A033-000393016056@intencha.com>
In-Reply-To: <2351790E-A22B-11D7-A033-000393016056@intencha.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian Sutton wrote:
> Odi,
> HttpClient doesn't depend on the GC, it depends on the user telling us
> when the connection is no longer in use (which Eric discovered he hadn't
> done).  There is however a fallback whereby when a HttpConnection is
> garbage collected (ie: when we discover that it is no longer in use), it
> tells the connection manager that it is no longer in use.  You are right
> that this behavior should not be depended upon, but it is a nice fallback.

True

> Also, connections release themselves when there is no more data to be
> read from the stream.
>
> The solution in this case is to always call releaseConnection() when
> you're finished with the connection (as is mentioned lots and lots
> through our docs :)  and I really can't see any better way to deal with it.

This is definitely the right use of the API (the one who acquires a
resource is the one to release it; not taking disasters like sudden
death into account here). Forgetting releaseConnection is misuse and
therefore I don't care if a deadlock occurs in that situation. Are we
100% sure that a deadlock can not occur when releaseConnection is used
correctly?

> If someone else comes up with a way to detect that a connection (which
> has an unknown amount of data) is no longer in use, it would definitely
> be good to implement it, but I'd be surprised if there was a good way.

As we all know by now it's not possible.

> Regards,
>
> Adrian Sutton.


From adrian@intencha.com  Thu Jun 19 08:41:02 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 24441 invoked from network); 19 Jun 2003 08:41:02 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 19 Jun 2003 08:41:02 -0000
Received: from intencha.com (unverified [150.101.178.161]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0046659310@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 19 Jun 2003 02:37:03 -0600
Date: Thu, 19 Jun 2003 18:41:13 +1000
Subject: Re: Deadlock problem with MultiThreadedHttpConnectionManager
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EF16EA5.5030109@nose.ch>
Message-Id: <C88DC6D5-A231-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

>> Also, connections release themselves when there is no more data to be
>> read from the stream.
>> The solution in this case is to always call releaseConnection() when
>> you're finished with the connection (as is mentioned lots and lots
>> through our docs :)  and I really can't see any better way to deal
>> with it.
>
> This is definitely the right use of the API (the one who acquires a
> resource is the one to release it; not taking disasters like sudden
> death into account here). Forgetting releaseConnection is misuse and
> therefore I don't care if a deadlock occurs in that situation. Are we
> 100% sure that a deadlock can not occur when releaseConnection is used
> correctly?

In proper use, we are as certain as is possible that HttpClient won't
deadlock.  There are of course a number of places where HttpClient can
be configured to wait indefinitely such as if the server doesn't
respond etc but all of that is configurable.


Adrian Sutton.


From anonymous@nagoya.betaversion.org  Thu Jun 19 14:52:28 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 83008 invoked from network); 19 Jun 2003 14:52:28 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 Jun 2003 14:52:28 -0000
Received: (qmail 25390 invoked by uid 50); 19 Jun 2003 14:54:48 -0000
Date: 19 Jun 2003 14:54:48 -0000
Message-ID: <20030619145448.25389.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding





------- Additional Comments From olegk@apache.org  2003-06-19 14:54 -------
Are there any objections, comments to this patch?

Oleg

From ortwin.glueck@nose.ch  Thu Jun 19 15:03:47 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 5213 invoked from network); 19 Jun 2003 15:03:47 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 19 Jun 2003 15:03:47 -0000
Received: (qmail 9549 invoked from network); 19 Jun 2003 15:03:38 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 19 Jun 2003 15:03:38 -0000
Message-ID: <3EF1D0C7.7080504@nose.ch>
Date: Thu, 19 Jun 2003 17:03:35 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: DO NOT REPLY [Bug 20481]  -     HttpClient does not properly
 handle 'application/x-www-form-urlencoded' encoding
References: <20030619145448.25389.qmail@nagoya.betaversion.org>
In-Reply-To: <20030619145448.25389.qmail@nagoya.betaversion.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

bugzilla@apache.org wrote:
> ------- Additional Comments From olegk@apache.org  2003-06-19 14:54 -------
> Are there any objections, comments to this patch?
>
> Oleg

Okay with me. Maybe UPPERCASE the BitSet identifier?


From oleg.kalnichevski@bearingpoint.com  Thu Jun 19 15:07:57 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 12274 invoked from network); 19 Jun 2003 15:07:57 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 19 Jun 2003 15:07:57 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 19 Jun 2003 15:05:20 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C33674.9154CE4A"
Subject: RE: DO NOT REPLY [Bug 20481]  -     HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
Date: Thu, 19 Jun 2003 16:07:57 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE577@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator: <825BF35A92B3F0479CC164ECBBE9376E0DE577@kccxoex06.corp.kpmgconsulting.com>
Thread-Topic: DO NOT REPLY [Bug 20481]  -     HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
Thread-Index: AcM2dAAEbyhzLifOQBCPxgeUeN5XTgAAG3tB
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 19 Jun 2003 15:05:20.0062 (UTC) FILETIME=[3342ADE0:01C33674]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33674.9154CE4A
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Yep. Static variables should be in upper case. Will be done.

Oleg


-----Original Message-----
From:	Ortwin Gl=FCck [mailto:ortwin.glueck@nose.ch]
Sent:	Thu 6/19/2003 17:03
To:	Commons HttpClient Project
Cc:=09
Subject:	Re: DO NOT REPLY [Bug 20481]  -     HttpClient does not =
properly handle 'application/x-www-form-urlencoded' encoding
bugzilla@apache.org wrote:
> ------- Additional Comments From olegk@apache.org  2003-06-19 14:54 =
-------
> Are there any objections, comments to this patch?
>=20
> Oleg

Okay with me. Maybe UPPERCASE the BitSet identifier?


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org





------_=_NextPart_001_01C33674.9154CE4A--

From emdevlin@charter.net  Thu Jun 19 15:16:38 2003
Return-Path: <emdevlin@charter.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 30910 invoked from network); 19 Jun 2003 15:16:38 -0000
Received: from rems04.cluster1.charter.net (209.225.8.204)
  by daedalus.apache.org with SMTP; 19 Jun 2003 15:16:38 -0000
Received: from [216.19.111.188] (account <emdevlin@charter.net>)
  by rems04.cluster1.charter.net (CommuniGate Pro WebUser 4.0.6)
  with HTTP id 1511507 for <commons-httpclient-dev@jakarta.apache.org>; Thu, 19 Jun 2003 11:16:40 -0400
From: <emdevlin@charter.net>
Subject: Re: PATCH
 org.apache.commons.httpclient.methods.multipart.FilePart
To: "Commons HttpClient Project"
 <commons-httpclient-dev@jakarta.apache.org>
X-Mailer: CommuniGate Pro Web Mailer v.4.0.6
Date: Thu, 19 Jun 2003 11:16:40 -0400
Message-ID: <web-1511507@rems04.cluster1.charter.net>
In-Reply-To: <7DB53246-A203-11D7-A033-000393016056@intencha.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="ISO-8859-1"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hey Adrian,
   Thanks for responding.  Contrib class would fine and I
would be willing to do it.  Do you have a suggestion on a
name?  I agree with your assessment about configurating
the whole can of worms, but some solution was better than
none.  The only other thing I could think of would be
having a contstructor (for the contrib class) to which you
could pass the location of $TOMCAT_HOME/conf/web.xml.
 Parse it for the mappings.
Eric

On Thu, 19 Jun 2003 13:09:50 +1000
  Adrian Sutton <adrian@intencha.com> wrote:
>Hi Eric,
>This isn't really something that should be included
>directly into  HttpClient as HttpClient isn't intended to
>care about the actual  content it sends and receives but
>just takes care of the actual HTTP  protocol side of
>things.  Adding auto-mime type detection would mean  we'd
>also have to provide a way to configure the default
>mime-types  etc, in other words it opens a whole can of
>worms.
>
>However, this would be an excellent submission to the
>HttpClient  contrib package, particularly if we refactor
>it so that instead of  being a patch it's a complete
>class that extends FilePart to add the  functionality,
>then it could easily be used without any changes to
> HttpClient.  Would you be happy with that course of
>action?  If so,  would you like to adapt the patch into a
>standalone class yourself or  would you like me to take a
>crack at it?  I don't mind either way.
>
>Thanks a lot for the contribution, it will definitely be
>useful to a  number of people.
>
>Regards,
>
>Adrian Sutton.
>
>On Thursday, June 19, 2003, at 12:46  PM, Eric M Devlin
>wrote:
>
>>Hey,
>>  This is a patch which will determine the content type
>>if null based
>>on
>>file extension.  I used the file extension mapping from
>>$TOMCAT_HOME/conf/web.xml.  As a side note, I'm having
>>trouble sending
>>gif
>>files.  Any thoughts or a kick in the right direction
>>would be helpful.
>>Thanks and Hope It Helps
>>Eric
>><contentTypeByExtension.txt>-------------------------------------------
>>--------------------------
>>To unsubscribe, e-mail:
>>commons-httpclient-dev-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>commons-httpclient-dev-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail:
>commons-httpclient-dev-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:
>commons-httpclient-dev-help@jakarta.apache.org
>


From oleg.kalnichevski@bearingpoint.com  Thu Jun 19 15:31:41 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 65585 invoked from network); 19 Jun 2003 15:31:41 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 19 Jun 2003 15:31:41 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 19 Jun 2003 15:33:33 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C33677.E2427E44"
Subject: RE: PATCH org.apache.commons.httpclient.methods.multipart.FilePart
Date: Thu, 19 Jun 2003 16:31:42 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE578@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator: <825BF35A92B3F0479CC164ECBBE9376E0DE578@kccxoex06.corp.kpmgconsulting.com>
Thread-Topic: PATCH org.apache.commons.httpclient.methods.multipart.FilePart
Thread-Index: AcM2dcvG3W0M6w4vQAqZHoRh+UDHAAAALMav
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 19 Jun 2003 15:33:33.0265 (UTC) FILETIME=[247CF410:01C33678]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33677.E2427E44
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Eric,

I would rather keep web.xml file parsing out. We have to maintain =
compatibility with Java 1.2.2 for which JAXP is an optional component. I =
do not think we should introduce JAXP as a dependency for HttpClient.=20

Oleg


-----Original Message-----
From:	emdevlin@charter.net [mailto:emdevlin@charter.net]
Sent:	Thu 6/19/2003 17:16
To:	Commons HttpClient Project
Cc:=09
Subject:	Re: PATCH =
org.apache.commons.httpclient.methods.multipart.FilePart
Hey Adrian,
   Thanks for responding.  Contrib class would fine and I=20
would be willing to do it.  Do you have a suggestion on a=20
name?  I agree with your assessment about configurating=20
the whole can of worms, but some solution was better than=20
none.  The only other thing I could think of would be=20
having a contstructor (for the contrib class) to which you=20
could pass the location of $TOMCAT_HOME/conf/web.xml.=20
 Parse it for the mappings.
Eric

On Thu, 19 Jun 2003 13:09:50 +1000
  Adrian Sutton <adrian@intencha.com> wrote:
>Hi Eric,
>This isn't really something that should be included=20
>directly into  HttpClient as HttpClient isn't intended to=20
>care about the actual  content it sends and receives but=20
>just takes care of the actual HTTP  protocol side of=20
>things.  Adding auto-mime type detection would mean  we'd=20
>also have to provide a way to configure the default=20
>mime-types  etc, in other words it opens a whole can of=20
>worms.
>
>However, this would be an excellent submission to the=20
>HttpClient  contrib package, particularly if we refactor=20
>it so that instead of  being a patch it's a complete=20
>class that extends FilePart to add the  functionality,=20
>then it could easily be used without any changes to=20
> HttpClient.  Would you be happy with that course of=20
>action?  If so,  would you like to adapt the patch into a=20
>standalone class yourself or  would you like me to take a=20
>crack at it?  I don't mind either way.
>
>Thanks a lot for the contribution, it will definitely be=20
>useful to a  number of people.
>
>Regards,
>
>Adrian Sutton.
>
>On Thursday, June 19, 2003, at 12:46  PM, Eric M Devlin=20
>wrote:
>
>>Hey,
>>  This is a patch which will determine the content type=20
>>if null based =20
>>on
>>file extension.  I used the file extension mapping from
>>$TOMCAT_HOME/conf/web.xml.  As a side note, I'm having=20
>>trouble sending =20
>>gif
>>files.  Any thoughts or a kick in the right direction=20
>>would be helpful.
>>Thanks and Hope It Helps
>>Eric
>><contentTypeByExtension.txt>-------------------------------------------=
=20
>>--------------------------
>>To unsubscribe, e-mail: =20
>>commons-httpclient-dev-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: =20
>>commons-httpclient-dev-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail:=20
>commons-httpclient-dev-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:=20
>commons-httpclient-dev-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org




------_=_NextPart_001_01C33677.E2427E44--

From anonymous@nagoya.betaversion.org  Thu Jun 19 16:29:18 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 78992 invoked from network); 19 Jun 2003 16:29:18 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 Jun 2003 16:29:18 -0000
Received: (qmail 29087 invoked by uid 50); 19 Jun 2003 16:31:39 -0000
Date: 19 Jun 2003 16:31:39 -0000
Message-ID: <20030619163139.29086.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding





------- Additional Comments From becke@u.washington.edu  2003-06-19 16:31 -------
It looks good.  I think you have correctly interpreted the
application/x-www-form-urlencoded spec.  The wording is a little more confusing
that it seems initialy.  We also need to apply this change to the query
parameters in HttpMethodBase.setQueryString().  These values should also use
form encoding.

Mike

From anonymous@nagoya.betaversion.org  Thu Jun 19 20:20:13 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 81900 invoked from network); 19 Jun 2003 20:20:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 Jun 2003 20:20:13 -0000
Received: (qmail 6646 invoked by uid 50); 19 Jun 2003 20:22:37 -0000
Date: 19 Jun 2003 20:22:37 -0000
Message-ID: <20030619202237.6645.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding





------- Additional Comments From olegk@apache.org  2003-06-19 20:22 -------
Mike,
I believe HttpMethodBase.setQueryString() is correct. Query part of URL should
be encoded as defined in RFC 1738.

According to the RFC 1738 specification, "only alphanumerics, the special
characters "$-_.+!*'(),", and reserved characters used for their reserved
purposes may be used unencoded within a URL."

If we all agree on this interpretation, I'll commit the patch

Oleg

From anonymous@nagoya.betaversion.org  Thu Jun 19 20:40:07 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 16751 invoked from network); 19 Jun 2003 20:40:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 Jun 2003 20:40:07 -0000
Received: (qmail 6984 invoked by uid 50); 19 Jun 2003 20:42:31 -0000
Date: 19 Jun 2003 20:42:31 -0000
Message-ID: <20030619204231.6983.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding





------- Additional Comments From becke@u.washington.edu  2003-06-19 20:42 -------
Oleg,

Sorry, you are correct.

HttpMethodBase is using the 2396 URI spec instead of 1738 though. I think this
pach is good to go.

Mike

From anonymous@nagoya.betaversion.org  Thu Jun 19 20:53:07 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 39794 invoked from network); 19 Jun 2003 20:53:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 Jun 2003 20:53:07 -0000
Received: (qmail 7395 invoked by uid 50); 19 Jun 2003 20:55:31 -0000
Date: 19 Jun 2003 20:55:31 -0000
Message-ID: <20030619205531.7392.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|ASSIGNED                    |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From olegk@apache.org  2003-06-19 20:55 -------
Patch committed

Oleg

From anonymous@nagoya.betaversion.org  Thu Jun 19 20:56:34 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 42561 invoked from network); 19 Jun 2003 20:56:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 Jun 2003 20:56:34 -0000
Received: (qmail 7492 invoked by uid 50); 19 Jun 2003 20:58:58 -0000
Date: 19 Jun 2003 20:58:58 -0000
Message-ID: <20030619205858.7491.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20665]  -
    URI path resolution problems.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665

URI path resolution problems.





------- Additional Comments From becke@u.washington.edu  2003-06-19 20:58 -------
Any comments on this patch?  Should I go ahead and commit it?

Mike

From anonymous@nagoya.betaversion.org  Thu Jun 19 21:01:36 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 47516 invoked from network); 19 Jun 2003 21:01:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 Jun 2003 21:01:36 -0000
Received: (qmail 7974 invoked by uid 50); 19 Jun 2003 21:04:00 -0000
Date: 19 Jun 2003 21:04:00 -0000
Message-ID: <20030619210400.7973.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20665]  -
    URI path resolution problems.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665

URI path resolution problems.





------- Additional Comments From olegk@apache.org  2003-06-19 21:03 -------
I can't say I have thoroughly reviewed the patch. But as long as URI class
correctly implements the spec it should be ok. Go ahead and commit it

Oleg

From anonymous@nagoya.betaversion.org  Thu Jun 19 21:40:39 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 12799 invoked from network); 19 Jun 2003 21:40:39 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 Jun 2003 21:40:39 -0000
Received: (qmail 8818 invoked by uid 50); 19 Jun 2003 21:43:03 -0000
Date: 19 Jun 2003 21:43:03 -0000
Message-ID: <20030619214303.8817.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20665]  -
    URI path resolution problems.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665

URI path resolution problems.





------- Additional Comments From adrian@ephox.com  2003-06-19 21:43 -------
Yes sorry Mike.  I looked at this patch a little while back and couldn't understand it clearly (text
parsing is always hard to understand in Java) and meant to come back and do a review of the full
patched class.  Sadly the musical side of my life took over and I didn't get around to it.

The test cases look comprehensive so I'd just go ahead and commit on the basis of them still
passing.

From adrian@intencha.com  Thu Jun 19 21:44:18 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 17175 invoked from network); 19 Jun 2003 21:44:18 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 19 Jun 2003 21:44:18 -0000
Received: from intencha.com (unverified [150.101.178.161]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0046704917@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 19 Jun 2003 15:40:13 -0600
Date: Fri, 20 Jun 2003 07:44:24 +1000
Subject: Re: HttpClient Testimonials
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EEF1508.2030509@tibco.com>
Message-Id: <31B7B7EF-A29F-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks a lot for that Eric.  I've got it in a virtual sticky for the
moment and hopefully will do up a proper page for the site over the
weekend.  Rest assured though that it hasn't been ignored (those damn
virtual stickys just never seem to go away...).

Regards,

Adrian Sutton.

On Tuesday, June 17, 2003, at 11:18  PM, Eric Johnson wrote:

> OK, I'll bite.  My temptation was to provide a bullet point list, but
> since you requested _paragraphs_, that means I have to have fully
> formed thoughts!
>
> We've used HttpClient in a variety of projects throughout my company.
> Someone I work with had an interest in the project, so we tried it out
> as a way to work around a specific bug in the Sun 1.3 JRE.  Once we
> started using it, though, other features started to prove their worth,
> including the automatic support for cookies, the support for
> authentication mechanisms, and support for "multipart/form-data"
> posts.  We also like the fact that HttpClient happens to be "open
> source" for all the usual reasons, including the many capable eyes
> that have been looking at and tinkering with the project to improve
> it, the explicit code-review of changes that keeps the quality high,
> and testing in a variety of environments that we simply cannot match,
> especially since this technology is not central to what my company
> does.
>
> Many kudos from me to all those who have put in the work to turn
> HttpClient into such a reliable solution, for keeping the project on
> the straight-and-narrow, and accepting and managing feedback and
> patches well.  Of course, many thanks as well to Apache for hosting
> the project.
>
> -Eric.


From anonymous@nagoya.betaversion.org  Thu Jun 19 21:46:16 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 20636 invoked from network); 19 Jun 2003 21:46:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 Jun 2003 21:46:16 -0000
Received: (qmail 8989 invoked by uid 50); 19 Jun 2003 21:48:40 -0000
Date: 19 Jun 2003 21:48:40 -0000
Message-ID: <20030619214840.8988.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10816]  -
    User/Developer Documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10816>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10816

User/Developer Documentation





------- Additional Comments From adrian@ephox.com  2003-06-19 21:48 -------
Commons crowd consulted - they passed me onto community@apache.org.
Community@apache.org doesn't seem to have anything to say on the matter so I've gone with the
historical approach of just requesting a license ourselves.  We should hear back from them in the
next day or so.  I've already received an email from their tech support saying they'd be happy to
provide a free license to HttpClient if I just filled out the appropriate form on the website.  Having
now filled out that form, I don't expect there'll be any issues.

From anonymous@nagoya.betaversion.org  Thu Jun 19 23:30:29 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 36047 invoked from network); 19 Jun 2003 23:30:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 19 Jun 2003 23:30:29 -0000
Received: (qmail 11307 invoked by uid 50); 19 Jun 2003 23:32:54 -0000
Date: 19 Jun 2003 23:32:54 -0000
Message-ID: <20030619233254.11306.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20665]  -
    URI path resolution problems.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20665

URI path resolution problems.

becke@u.washington.edu changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From becke@u.washington.edu  2003-06-19 23:32 -------
Patch committed.

From tetsuya.kitahata@nifty.com  Fri Jun 20 00:06:55 2003
Return-Path: <tetsuya.kitahata@nifty.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 61212 invoked from network); 20 Jun 2003 00:06:55 -0000
Received: from pproxy107.mbn.or.jp (202.217.3.98)
  by daedalus.apache.org with SMTP; 20 Jun 2003 00:06:55 -0000
Received: from [192.168.0.3] ([202.217.127.15])
	by pproxy107.mbn.or.jp (8.11.7+Sun/pproxy107.mbn.or.jp-2.0) with ESMTP id h5K070k15985
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 20 Jun 2003 09:07:00 +0900 (JST)
Date: Fri, 20 Jun 2003 09:10:00 +0900
From: Tetsuya Kitahata <tetsuya@apache.org>
To: commons-httpclient-dev@jakarta.apache.org
Subject: [PATCH] Re: cvs commit: jakarta-commons/httpclient release_notes.txt
In-Reply-To: <20030619233716.4252.qmail@icarus.apache.org>
References: <20030619233716.4252.qmail@icarus.apache.org>
X-Mailer-Plugin: MultiRes Helper for Becky!2 Ver.0.03 Rev.8
Message-Id: <20030620090918.3465.TETSUYA@apache.org>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="------_3EF24D964326070EC3E8_MULTIPART_MIXED_"
Content-Transfer-Encoding: 7bit
X-Mailer: Becky! ver. 2.05.11
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--------_3EF24D964326070EC3E8_MULTIPART_MIXED_
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Mike,

There still exists "x0A0" characters. (LF?)

Here I made a patch for it.

Sincerely,

-- Tetsuya (tetsuya@apache.org)

P.S. I sent the same mail to commons-dev.

---------------------------------------------------------------------

On 19 Jun 2003 23:37:16 -0000
(Subject: cvs commit: jakarta-commons/httpclient release_notes.txt)
mbecke@apache.org wrote:

> mbecke      2003/06/19 16:37:16
>
>   Modified:    httpclient release_notes.txt
>   Log:
>   Removed spurious control characters.

--------_3EF24D964326070EC3E8_MULTIPART_MIXED_
Content-Type: application/x-zip-compressed; name="release_notes.zip"
Content-Disposition: attachment;
 filename="release_notes.zip"
Content-Transfer-Encoding: base64

UEsDBBQAAgAIAFdH1C6H8Y1G1QQAAJcNAAAWAAAAcmVsZWFzZV9ub3Rlcy5kaWZmLnR4dK1W224b
NxB9rgD9wyAPTVtdLEW5NAIK2HBTJEWCBLbzXFC7Iy+rXXJLciX5b/KpPUOu5JVvaZ3sg62VOGdm
zsyZ4TuT83ZOjktWnv8yNrAfh23o93779qffOzs9p6UueU5Hha34KFv7o7/VSrmgRpmtKmv8URFC
nZWaTTi6FcZw3e85Dk7zWptLhLnWXltD0/Grfi/XyyWNGho5vN6Vwmg0uv31D9PX9Gdj6NlkMqNn
s/ns1Xz6kkYTPD9E2MFg8HWrF8/ns0my6veOj2k0fT6c/UqD9O/4uN+j0e0H354WylyyJ69NxnSW
/NCz8YROyrpQNJvjEEL/8kt7NKe3IOjUGsNZkNyDpQYm3mYrDhR0xbYJpI0PrHKyS1o0/goQA/pm
CMKzUToI95sCdSTe1oKBd23qJoz3wZ7kOfwouuRwxr5GYRkOA6r6ns1lKH76mSoOhc3FuYTzIb6N
U5yPt76Lq9hMclJlGdeBMuscoi6viE1mxdPns/e+m+8dbD0GRPhSIXBVR4pgnM5SKLiijQ6FNh30
FD7B89M3kdc5TScTCMPAvOGnVNpLndFSZcE6OExFkpAMqYUPDj+0XpP9aWuZ2KGsVN7vKTrwcbr3
gZxzX6gVU669WpTwU7OjnJeqKcOQFHIMVKkrghhoY92qZet74kkKtbM4CH6FJ7JlDqu3FxefjqYQ
h2e3ZufJOjm31VDlPrEzRo9owywcqQZcI5ZMxU4X9sdf6KLQUqqsbHJoT2EmbWkJrJTJVwHoAQAJ
vdMwbfFUiUQOW6EDzPKea8yBgFGjygqQJr/mYa3Fi+AvGBiOlk1onKgPkvB6oUsdrq675+QaGSax
6uC7RrvCVb7n6V0l0EgR2kdBbNZUsEppinveqqqGxmPKiZn/aXI4C1KYKdXlEuQiRMkdOW3A+PW3
VFgfPHxEpgqmg6HwLTDCp1cVJ5bJ4KO/Gadv6tq6EOn26Gi9vBIARWvtAgoZYaNpOzcPZtZjrFv3
f+itiMNZiCRNB4inXI6y0nr8kO3ntadMpaxUS80jTXe9esYZqupEnW+2Mt3apbCQSeXsxmDac3dS
7VrZyykn8y6BLZ2tgJwWyfh2p2GP6l0BY5RSlrdvTn7fjXNpop22Q6EC3ei7xwBIYJDqfl63skWc
rt0ttLB5Rz97b91iXnNIK+Z6pEq95sSL3FwaEycEiF1rBWiZSlfpKvDi5fAVDeLfeBGAh8P9+0EZ
dQk9YaQYu0nGGH1IEVskJtiZJ6LmYZuVTMzOkfMgOjic8rdE0zZlNCptho5UeQ4iWro6rnxhmzK/
T3yPwJGQM3SLBNnpSGmalvxE2MvXw+mMBulfpCyx9uSurfiks2F29VIxWKnap4/nF0P69PmCfqQK
+0bXuGvGbx9QfVY0ZhWb7Z+GZYTskGJ3Aexexf8Xy3vdznCVPGemj6DUASLXrqXoXn8Pmty4CsUL
WowD9wb5iAsDq8rvbn+LRuZmu5x0koCsavipFC6n48NL0XeAuzkdpJClWKCnY7HWqmyYCswXyBlr
+6PLr2WCfRaFnre78mBOfAXqYaTYp9as2aB/cStPo8UDdC1rBopPDdZeBtHyrLKCoovOFDEANyPQ
onEtq+TaF49l1q40elWksR9hbcNIRMKlrFOcQLOKWPq9fwFQSwECFgsUAAIACABXR9Quh/GNRtUE
AACXDQAAFgAAAAAAAAABACAAtoEAAAAAcmVsZWFzZV9ub3Rlcy5kaWZmLnR4dFBLBQYAAAAAAQAB
AEQAAAAJBQAAAAA=



--------_3EF24D964326070EC3E8_MULTIPART_MIXED_--


From adrian@intencha.com  Fri Jun 20 00:50:01 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 91042 invoked from network); 20 Jun 2003 00:50:01 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 20 Jun 2003 00:50:01 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055914883@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 19 Jun 2003 18:47:09 -0600
Date: Fri, 20 Jun 2003 10:50:06 +1000
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Subject: SocketException with invalid server
From: Adrian Sutton <adrian@intencha.com>
To: Commons Project <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
Message-Id: <22B9C8A5-A2B9-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Howdy all,
I'm having some trouble pinpointing the exact cause of an exception I'm
getting from HttpClient, it seems to be related to connection
management with MultiThreadedConnectionManager so I thought I'd draw on
the expertise here. :)

Essentially, we have an invalid HTTP server (Stellent CMS actually and
we will file a bug with them), which is returning headers like:

HTTP/1.1 401 Unauthorized
WWW-Authenticate: Basic "Secure Realm"
Connection: keep-alive

Which is clearly missing the Content-Length header.  Now, previously
HttpClient handled this perfectly by reading until the end of the
connection (ie: treating it like it was a Connection: close), however
for some reason a socket exception is being thrown and the invalid
connection is added back into the connection pool and then every
connection to the server after that thows an exception.

I haven't been able to work out a good way to create a test case for
this yet, but I can provide a simple set of steps to reproduce:

1. Get something like netcat which will let you "pretend" to be a HTTP
server (ie: it will listen on a port and send back whatever you type)

2. Start it listening on port 8080 (for netcat use: nc -l -p 8080)

3.  Compile the program below and run it.

4. Enter the following into you netcat window (followed by a blank line
to indicate the end of the headers):

HTTP/1.1 401 Unauthorized
WWW-Authenticate: Basic "realm"
Connection: keep-alive

You'll see HttpClient throws an exception (listed below the code).
Note that netcat did not close the connection, HttpClient did.  Also,
note that it doesn't make any difference if you set netcat up to
immediately start listening for another connection after the connection
is closed (ie: netcat -l -p 8080 && netcat -l -p 8080).

It looks like HttpClient is closing the connection but not telling
itself that the connection is closed so it then tries to reuse the
connection and fails.  The same thing happens if you perform two GET
requests and the server returns 200 OK with connection: keep-alive but
no content length to the first request.

Any help tracking down this would be greatly appreciated, even if it's
just a hint as to where to start making changes. :)

CODE: -------------------------
import org.apache.commons.httpclient.*;
import org.apache.commons.httpclient.methods.*;
import org.apache.commons.httpclient.contrib.ssl.*;
import org.apache.commons.httpclient.protocol.*;


public class Test {

     public static void main(String[] args) throws Exception {
         //String url =
"https://basil/stellent/groups/secure/documents/adsales/testimage.jpg";
         String url = "http://localhost:8080/test.gif";
         HttpClient client = new HttpClient(new
MultiThreadedHttpConnectionManager());
         client.getState().setCredentials(null, null, new
UsernamePasswordCredentials("sysadmin", "idc"));
         GetMethod get = new GetMethod(url);
         int result = client.executeMethod(get);
         System.err.println("Result: " + result);
         System.err.println(get.getResponseBody());
     }
}
----------------------------------
Resulting exception:
Exception in thread "main" java.net.SocketException: Socket closed
         at
java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:99)
         at
java.net.SocketOutputStream.write(SocketOutputStream.java:136)
         at
org.apache.commons.httpclient.HttpConnection$WrappedOutputStream.write(H
ttpConnection.java:1347)
         at
java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:69)
         at
java.io.BufferedOutputStream.flush(BufferedOutputStream.java:127)
         at
org.apache.commons.httpclient.HttpConnection.flushRequestOutputStream(Ht
tpConnection.java:782)
         at
org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpCon
nectionAdapter.flushRequestOutputStream(MultiThreadedHttpConnectionManag
er.java:1046)
         at
org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase
.java:2174)
         at
org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodBa
se.java:2529)
         at
org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java
:1066)
         at
org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:6
38)
         at
org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:5
00)
         at Test.main(Test.java:15)


The wire trace is:

[DEBUG] HttpClient - -Java version: 1.4.1_01
[DEBUG] HttpClient - -Java vendor: Apple Computer, Inc.
[DEBUG] HttpClient - -Java class path:
commons-httpclient-2.0-beta1.jar:commons-logging-1.0.2.jar:.
[DEBUG] HttpClient - -Operating system name: Mac OS X
[DEBUG] HttpClient - -Operating system architecture: ppc
[DEBUG] HttpClient - -Operating system version: 10.2.6
[DEBUG] HttpClient - -SUN 1.2: SUN (DSA key/parameter generation; DSA
signing; SHA-1, MD5 digests; SecureRandom; X.509 certificates; JKS
keystore; PKIX CertPathValidator; PKIX CertPathBuilder; LDAP,
Collection CertStores)
[DEBUG] HttpClient - -SunJSSE 1.41: Sun JSSE provider(implements RSA
Signatures, PKCS12, SunX509 key/trust factories, SSLv3, TLSv1)
[DEBUG] HttpClient - -SunRsaSign 1.0: SUN's provider for RSA signatures
[DEBUG] HttpClient - -SunJCE 1.4: SunJCE Provider (implements DES,
Triple DES, Blowfish, PBE, Diffie-Hellman, HMAC-MD5, HMAC-SHA1)
[DEBUG] HttpClient - -SunJGSS 1.0: Sun (Kerberos v5)
[DEBUG] MultiThreadedHttpConnectionManager -
-HttpConnectionManager.getConnection:  config =
org.apache.commons.httpclient.HostConfiguration@b8332793, timeout = 0
[DEBUG] HttpConnection - -Creating connection for localhost using
protocol http:80
[DEBUG] HttpConnection - -Creating connection for localhost using
protocol http:80
[DEBUG] HttpConnection - -HttpConnection.setSoTimeout(0)
[DEBUG] HttpMethod - -Execute loop try 1
[DEBUG] wire - ->> "GET /test.gif HTTP/1.1[\r][\n]"
[DEBUG] HttpMethod - -Adding Host request header
[DEBUG] wire - ->> "User-Agent: Jakarta
Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost:8080[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - -<< "HTTP/1.1 401 Unauthorized[\r][\n]"
[DEBUG] wire - -<< "WWW-Authenticate: Basic "realm"[\r][\n]"
[DEBUG] wire - -<< "Connection: keep-alive[\r][\n]"
[DEBUG] HttpMethod - -Authorization required
[DEBUG] HttpAuthenticator - -Using 'localhost:8080' authentication realm
[DEBUG] HttpMethod - -HttpMethodBase.execute(): Server demanded
authentication credentials, will try again.
[DEBUG] HttpMethod - -Should NOT close connection in response to
Connection: keep-alive

[DEBUG] HttpMethod - -Execute loop try 2
[DEBUG] wire - ->> "GET /test.gif HTTP/1.1[\r][\n]"
[DEBUG] HttpMethod - -Request to add Host header ignored: header
already added
[DEBUG] wire - ->> "User-Agent: Jakarta
Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost:8080[\r][\n]"
[DEBUG] wire - ->> "Authorization: Basic c3lzYWRtaW46aWRj[\r][\n]"
[DEBUG] MultiThreadedHttpConnectionManager - -Freeing connection:
org.apache.commons.httpclient.HttpConnection@5718f2
[DEBUG] MultiThreadedHttpConnectionManager - -Notifying no-one, there
are no waiting threads
Exception in thread "main" java.net.SocketException: Socket closed
         at
java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:99)
         at
java.net.SocketOutputStream.write(SocketOutputStream.java:136)
         at
org.apache.commons.httpclient.HttpConnection$WrappedOutputStream.write(H
ttpConnection.java:1347)
         at
java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:69)
         at
java.io.BufferedOutputStream.flush(BufferedOutputStream.java:127)
         at
org.apache.commons.httpclient.HttpConnection.flushRequestOutputStream(Ht
tpConnection.java:782)
         at
org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpCon
nectionAdapter.flushRequestOutputStream(MultiThreadedHttpConnectionManag
er.java:1046)
         at
org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase
.java:2174)
         at
org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodBa
se.java:2529)
         at
org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java
:1066)
         at
org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:6
38)
         at
org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:5
00)
         at Test.main(Test.java:15)


From becke@u.washington.edu  Fri Jun 20 01:00:35 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 95765 invoked from network); 20 Jun 2003 01:00:35 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 20 Jun 2003 01:00:35 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5K10g5c024139
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 19 Jun 2003 18:00:43 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5K10fXZ020344
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 19 Jun 2003 18:00:42 -0700
Date: Thu, 19 Jun 2003 21:00:40 -0400
Subject: Re: [PATCH] Re: cvs commit: jakarta-commons/httpclient release_notes.txt
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20030620090918.3465.TETSUYA@apache.org>
Message-Id: <9C7D2D6A-A2BA-11D7-AF8B-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Quite right.

Thanks,

Mike

On Thursday, June 19, 2003, at 08:10 PM, Tetsuya Kitahata wrote:

> Mike,
>
> There still exists "x0A0" characters. (LF?)
>
> Here I made a patch for it.
>
> Sincerely,
>
> -- Tetsuya (tetsuya@apache.org)
>
> P.S. I sent the same mail to commons-dev.
>
> ---------------------------------------------------------------------
>
> On 19 Jun 2003 23:37:16 -0000
> (Subject: cvs commit: jakarta-commons/httpclient release_notes.txt)
> mbecke@apache.org wrote:
>
>> mbecke      2003/06/19 16:37:16
>>
>>   Modified:    httpclient release_notes.txt
>>   Log:
>>   Removed spurious control characters.
> <release_notes.zip>----------------------------------------------------
> -----------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org


From eglass1@attbi.com  Fri Jun 20 01:11:56 2003
Return-Path: <eglass1@attbi.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 2046 invoked from network); 20 Jun 2003 01:11:56 -0000
Received: from sccrmhc13.comcast.net (HELO sccrmhc13.attbi.com) (204.127.202.64)
  by daedalus.apache.org with SMTP; 20 Jun 2003 01:11:56 -0000
Received: from attbi.com (c-24-125-100-109.va.client2.attbi.com[24.125.100.109](misconfigured sender))
          by attbi.com (sccrmhc13) with SMTP
          id <20030620011204016001l4c1e>; Fri, 20 Jun 2003 01:12:04 +0000
Message-ID: <3EF25F64.1030801@attbi.com>
Date: Thu, 19 Jun 2003 21:12:04 -0400
From: Eric <eglass1@attbi.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.2.1) Gecko/20030225
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  commons-httpclient-dev@jakarta.apache.org
Subject: NTLM Documentation
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

I have been putting together a (relatively) comprehensive documentation
of NTLM and its use in various protocols; this is now up and available at:

http://davenport.sourceforge.net/ntlm.html

I figured there might be interest on this list; it only touches briefly
on NTLM HTTP authentication in particular, but is very detailed on the
underlying NTLM messages.  Thanks!

Eric



From adrian@intencha.com  Fri Jun 20 01:20:17 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 14621 invoked from network); 20 Jun 2003 01:20:17 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 20 Jun 2003 01:20:17 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055917925@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 19 Jun 2003 19:17:32 -0600
Date: Fri, 20 Jun 2003 11:20:30 +1000
Subject: Re: NTLM Documentation
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EF25F64.1030801@attbi.com>
Message-Id: <61BA3706-A2BD-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Eric,
Thanks for pointing this out.  I will add a link to it to the
HttpClient NTLM authentication for those who are curious about the more
technical details.

Regards,

Adrian Sutton.

On Friday, June 20, 2003, at 11:12  AM, Eric wrote:

> Hello,
>
> I have been putting together a (relatively) comprehensive
> documentation of NTLM and its use in various protocols; this is now up
> and available at:
>
> http://davenport.sourceforge.net/ntlm.html
>
> I figured there might be interest on this list; it only touches
> briefly on NTLM HTTP authentication in particular, but is very
> detailed on the underlying NTLM messages.  Thanks!
>
> Eric


From becke@u.washington.edu  Fri Jun 20 01:41:12 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 29073 invoked from network); 20 Jun 2003 01:41:12 -0000
Received: from mxout5.cac.washington.edu (140.142.32.135)
  by daedalus.apache.org with SMTP; 20 Jun 2003 01:41:12 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout5.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5K1fKkI002481
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 19 Jun 2003 18:41:20 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5K1fI49022393
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 19 Jun 2003 18:41:19 -0700
Date: Thu, 19 Jun 2003 21:41:17 -0400
Subject: Re: SocketException with invalid server
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <22B9C8A5-A2B9-11D7-A033-000393016056@intencha.com>
Message-Id: <49539D15-A2C0-11D7-AF8B-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian,

I'm looking into to this and I agree it is quite strange.  The part I
don't understand is why the second attempt to write to the socket
fails. The socket is not being closed on the HttpClient side until
after the failure occurs.  Any thoughts on how the connection is being
closed?

Mike

On Thursday, June 19, 2003, at 08:50 PM, Adrian Sutton wrote:

> Howdy all,
> I'm having some trouble pinpointing the exact cause of an exception
> I'm getting from HttpClient, it seems to be related to connection
> management with MultiThreadedConnectionManager so I thought I'd draw
> on the expertise here. :)
>
> Essentially, we have an invalid HTTP server (Stellent CMS actually and
> we will file a bug with them), which is returning headers like:
>
> HTTP/1.1 401 Unauthorized
> WWW-Authenticate: Basic "Secure Realm"
> Connection: keep-alive
>
> Which is clearly missing the Content-Length header.  Now, previously
> HttpClient handled this perfectly by reading until the end of the
> connection (ie: treating it like it was a Connection: close), however
> for some reason a socket exception is being thrown and the invalid
> connection is added back into the connection pool and then every
> connection to the server after that thows an exception.
>
> I haven't been able to work out a good way to create a test case for
> this yet, but I can provide a simple set of steps to reproduce:
>
> 1. Get something like netcat which will let you "pretend" to be a HTTP
> server (ie: it will listen on a port and send back whatever you type)
>
> 2. Start it listening on port 8080 (for netcat use: nc -l -p 8080)
>
> 3.  Compile the program below and run it.
>
> 4. Enter the following into you netcat window (followed by a blank
> line to indicate the end of the headers):
>
> HTTP/1.1 401 Unauthorized
> WWW-Authenticate: Basic "realm"
> Connection: keep-alive
>
> You'll see HttpClient throws an exception (listed below the code).
> Note that netcat did not close the connection, HttpClient did.  Also,
> note that it doesn't make any difference if you set netcat up to
> immediately start listening for another connection after the
> connection is closed (ie: netcat -l -p 8080 && netcat -l -p 8080).
>
> It looks like HttpClient is closing the connection but not telling
> itself that the connection is closed so it then tries to reuse the
> connection and fails.  The same thing happens if you perform two GET
> requests and the server returns 200 OK with connection: keep-alive but
> no content length to the first request.
>
> Any help tracking down this would be greatly appreciated, even if it's
> just a hint as to where to start making changes. :)
>
> CODE: -------------------------
> import org.apache.commons.httpclient.*;
> import org.apache.commons.httpclient.methods.*;
> import org.apache.commons.httpclient.contrib.ssl.*;
> import org.apache.commons.httpclient.protocol.*;
>
>
> public class Test {
>
>     public static void main(String[] args) throws Exception {
>         //String url =
> "https://basil/stellent/groups/secure/documents/adsales/> testimage.jpg";
>         String url = "http://localhost:8080/test.gif";
>         HttpClient client = new HttpClient(new
> MultiThreadedHttpConnectionManager());
>         client.getState().setCredentials(null, null, new
> UsernamePasswordCredentials("sysadmin", "idc"));
>         GetMethod get = new GetMethod(url);
>         int result = client.executeMethod(get);
>         System.err.println("Result: " + result);
>         System.err.println(get.getResponseBody());
>     }
> }
> ----------------------------------
> Resulting exception:
> Exception in thread "main" java.net.SocketException: Socket closed
>         at
> java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:99)
>         at
> java.net.SocketOutputStream.write(SocketOutputStream.java:136)
>         at
> org.apache.commons.httpclient.HttpConnection$WrappedOutputStream.write(
> HttpConnection.java:1347)
>         at
> java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:69)
>         at
> java.io.BufferedOutputStream.flush(BufferedOutputStream.java:127)
>         at
> org.apache.commons.httpclient.HttpConnection.flushRequestOutputStream(H
> ttpConnection.java:782)
>         at
> org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpCo
> nnectionAdapter.flushRequestOutputStream(MultiThreadedHttpConnectionMan
> ager.java:1046)
>         at
> org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBas
> e.java:2174)
>         at
> org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodB
> ase.java:2529)
>         at
> org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.jav
> a:1066)
>         at
> org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:
> 638)
>         at
> org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:
> 500)
>         at Test.main(Test.java:15)
>
>
> The wire trace is:
>
> [DEBUG] HttpClient - -Java version: 1.4.1_01
> [DEBUG] HttpClient - -Java vendor: Apple Computer, Inc.
> [DEBUG] HttpClient - -Java class path:
> commons-httpclient-2.0-beta1.jar:commons-logging-1.0.2.jar:.
> [DEBUG] HttpClient - -Operating system name: Mac OS X
> [DEBUG] HttpClient - -Operating system architecture: ppc
> [DEBUG] HttpClient - -Operating system version: 10.2.6
> [DEBUG] HttpClient - -SUN 1.2: SUN (DSA key/parameter generation; DSA
> signing; SHA-1, MD5 digests; SecureRandom; X.509 certificates; JKS
> keystore; PKIX CertPathValidator; PKIX CertPathBuilder; LDAP,
> Collection CertStores)
> [DEBUG] HttpClient - -SunJSSE 1.41: Sun JSSE provider(implements RSA
> Signatures, PKCS12, SunX509 key/trust factories, SSLv3, TLSv1)
> [DEBUG] HttpClient - -SunRsaSign 1.0: SUN's provider for RSA signatures
> [DEBUG] HttpClient - -SunJCE 1.4: SunJCE Provider (implements DES,
> Triple DES, Blowfish, PBE, Diffie-Hellman, HMAC-MD5, HMAC-SHA1)
> [DEBUG] HttpClient - -SunJGSS 1.0: Sun (Kerberos v5)
> [DEBUG] MultiThreadedHttpConnectionManager -
> -HttpConnectionManager.getConnection:  config =
> org.apache.commons.httpclient.HostConfiguration@b8332793, timeout = 0
> [DEBUG] HttpConnection - -Creating connection for localhost using
> protocol http:80
> [DEBUG] HttpConnection - -Creating connection for localhost using
> protocol http:80
> [DEBUG] HttpConnection - -HttpConnection.setSoTimeout(0)
> [DEBUG] HttpMethod - -Execute loop try 1
> [DEBUG] wire - ->> "GET /test.gif HTTP/1.1[\r][\n]"
> [DEBUG] HttpMethod - -Adding Host request header
> [DEBUG] wire - ->> "User-Agent: Jakarta
> Commons-HttpClient/2.0beta1[\r][\n]"
> [DEBUG] wire - ->> "Host: localhost:8080[\r][\n]"
> [DEBUG] wire - ->> "[\r][\n]"
> [DEBUG] wire - -<< "HTTP/1.1 401 Unauthorized[\r][\n]"
> [DEBUG] wire - -<< "WWW-Authenticate: Basic "realm"[\r][\n]"
> [DEBUG] wire - -<< "Connection: keep-alive[\r][\n]"
> [DEBUG] HttpMethod - -Authorization required
> [DEBUG] HttpAuthenticator - -Using 'localhost:8080' authentication
> realm
> [DEBUG] HttpMethod - -HttpMethodBase.execute(): Server demanded
> authentication credentials, will try again.
> [DEBUG] HttpMethod - -Should NOT close connection in response to
> Connection: keep-alive
>
> [DEBUG] HttpMethod - -Execute loop try 2
> [DEBUG] wire - ->> "GET /test.gif HTTP/1.1[\r][\n]"
> [DEBUG] HttpMethod - -Request to add Host header ignored: header
> already added
> [DEBUG] wire - ->> "User-Agent: Jakarta
> Commons-HttpClient/2.0beta1[\r][\n]"
> [DEBUG] wire - ->> "Host: localhost:8080[\r][\n]"
> [DEBUG] wire - ->> "Authorization: Basic c3lzYWRtaW46aWRj[\r][\n]"
> [DEBUG] MultiThreadedHttpConnectionManager - -Freeing connection:
> org.apache.commons.httpclient.HttpConnection@5718f2
> [DEBUG] MultiThreadedHttpConnectionManager - -Notifying no-one, there
> are no waiting threads
> Exception in thread "main" java.net.SocketException: Socket closed
>         at
> java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:99)
>         at
> java.net.SocketOutputStream.write(SocketOutputStream.java:136)
>         at
> org.apache.commons.httpclient.HttpConnection$WrappedOutputStream.write(
> HttpConnection.java:1347)
>         at
> java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:69)
>         at
> java.io.BufferedOutputStream.flush(BufferedOutputStream.java:127)
>         at
> org.apache.commons.httpclient.HttpConnection.flushRequestOutputStream(H
> ttpConnection.java:782)
>         at
> org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpCo
> nnectionAdapter.flushRequestOutputStream(MultiThreadedHttpConnectionMan
> ager.java:1046)
>         at
> org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBas
> e.java:2174)
>         at
> org.apache.commons.httpclient.HttpMethodBase.processRequest(HttpMethodB
> ase.java:2529)
>         at
> org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.jav
> a:1066)
>         at
> org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:
> 638)
>         at
> org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:
> 500)
>         at Test.main(Test.java:15)
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From adrian@intencha.com  Fri Jun 20 01:54:16 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 44678 invoked from network); 20 Jun 2003 01:54:16 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 20 Jun 2003 01:54:16 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055921192@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 19 Jun 2003 19:51:30 -0600
Date: Fri, 20 Jun 2003 11:54:28 +1000
Subject: Re: SocketException with invalid server
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <49539D15-A2C0-11D7-AF8B-00306557E112@u.washington.edu>
Message-Id: <20A8706E-A2C2-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Friday, June 20, 2003, at 11:41  AM, Michael Becke wrote:

> Adrian,
>
> I'm looking into to this and I agree it is quite strange.  The part I
> don't understand is why the second attempt to write to the socket
> fails. The socket is not being closed on the HttpClient side until
> after the failure occurs.  Any thoughts on how the connection is being
> closed?

Well I'm not really sure.  It appears that the HttpConnection class
thinks that it's still open but the underlying stream is actually
closed.  I'm just writing some tests to check this at the moment, but I
believe it has to be the case because in HttpMethodBase.writeRequest at
line 2179 we call conn.flushRequestStream which is what's causing the
exception.  However, immediately before that call if you add a debug
statement to check if the connection is open, conn.isOpen() returns
true.

Have you been able to independently reproduce this problem?  I can
reproduce it on 1.4.1 on OS X and Windows 2000 but it's possible I'm
still screwing something up.

> Mike

Adrian.


From adrian@intencha.com  Fri Jun 20 02:00:50 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 48404 invoked from network); 20 Jun 2003 02:00:50 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 20 Jun 2003 02:00:50 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055921780@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 19 Jun 2003 19:58:00 -0600
Date: Fri, 20 Jun 2003 12:00:50 +1000
Subject: Re: SocketException with invalid server
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20A8706E-A2C2-11D7-A033-000393016056@intencha.com>
Message-Id: <0480E4BC-A2C3-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Friday, June 20, 2003, at 11:54  AM, Adrian Sutton wrote:

>
> On Friday, June 20, 2003, at 11:41  AM, Michael Becke wrote:
>
>> Adrian,
>>
>> I'm looking into to this and I agree it is quite strange.  The part I
>> don't understand is why the second attempt to write to the socket
>> fails. The socket is not being closed on the HttpClient side until
>> after the failure occurs.  Any thoughts on how the connection is
>> being closed?
>
> Well I'm not really sure.  It appears that the HttpConnection class
> thinks that it's still open but the underlying stream is actually
> closed.  I'm just writing some tests to check this at the moment, but
> I believe it has to be the case because in HttpMethodBase.writeRequest
> at line 2179 we call conn.flushRequestStream which is what's causing
> the exception.  However, immediately before that call if you add a
> debug statement to check if the connection is open, conn.isOpen()
> returns true.

I appear to be right in this theory, the underlying connection is
closed an HttpConnection doesn't know about it.  The following patch
(which I hope isn't the best solution we can come up with) seems to
solve the problem (though I have more testing to do on it).

Index: HttpConnection.java
===================================================================
RCS file:
/home/cvs/jakarta-commons/httpclient/src/java/org/apache/commons/
httpclient/HttpConnection.java,v
retrieving revision 1.67
diff -u -u -r1.67 HttpConnection.java
--- HttpConnection.java 26 May 2003 22:07:21 -0000      1.67
+++ HttpConnection.java 20 Jun 2003 01:59:23 -0000
@@ -480,6 +480,14 @@
              LOG.debug("Connection is stale, closing...");
              close();
          }
+        if (inputStream != null) {
+            try {
+                isOpen = inputStream.available() >= 0;
+            } catch(IOException e) {
+                isOpen = false;
+                LOG.debug("Underlying connectin is closed.", e);
+            }
+        }
          return isOpen;
      }


From becke@u.washington.edu  Fri Jun 20 02:07:11 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 52402 invoked from network); 20 Jun 2003 02:07:11 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 20 Jun 2003 02:07:11 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5K27J6S028262
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 19 Jun 2003 19:07:19 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5K27IXZ021737
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 19 Jun 2003 19:07:19 -0700
Date: Thu, 19 Jun 2003 22:07:17 -0400
Subject: Re: SocketException with invalid server
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20A8706E-A2C2-11D7-A033-000393016056@intencha.com>
Message-Id: <EB3F9DA0-A2C3-11D7-AF8B-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Well I'm not really sure.  It appears that the HttpConnection class
> thinks that it's still open but the underlying stream is actually
> closed.  I'm just writing some tests to check this at the moment, but
> I believe it has to be the case because in HttpMethodBase.writeRequest
> at line 2179 we call conn.flushRequestStream which is what's causing
> the exception.  However, immediately before that call if you add a
> debug statement to check if the connection is open, conn.isOpen()
> returns true.
>
> Have you been able to independently reproduce this problem?  I can
> reproduce it on 1.4.1 on OS X and Windows 2000 but it's possible I'm
> still screwing something up.

  Yup, I'm trying it on OS X and linux.  I think the problem is in
HttpMethodBase.execute() in particular the following line:

     if (responseStream != null) {
         responseStream.close();
     }

Since there is no content length or chunking the response stream is not
being wrapped and is therefore actually closed by the above code.  Take
a look at AutoCloseInputStream.close().  I vaguely remember talking
about this case when we added the connection release/reuse code.  I may
be wrong but I think that the connection should be getting closed in
this case as there is no safe way to consume the response.

Mike


From adrian@intencha.com  Fri Jun 20 02:14:53 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 59758 invoked from network); 20 Jun 2003 02:14:53 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 20 Jun 2003 02:14:53 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055923167@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 19 Jun 2003 20:11:58 -0600
Date: Fri, 20 Jun 2003 12:14:55 +1000
Subject: Re: SocketException with invalid server
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <EB3F9DA0-A2C3-11D7-AF8B-00306557E112@u.washington.edu>
Message-Id: <FC37E5D9-A2C4-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

>
>  Yup, I'm trying it on OS X and linux.  I think the problem is in
> HttpMethodBase.execute() in particular the following line:
>
>     if (responseStream != null) {
>         responseStream.close();
>     }
>
> Since there is no content length or chunking the response stream is
> not being wrapped and is therefore actually closed by the above code.
> Take a look at AutoCloseInputStream.close().  I vaguely remember
> talking about this case when we added the connection release/reuse
> code.  I may be wrong but I think that the connection should be
> getting closed in this case as there is no safe way to consume the
> response.

Ahhh, that'd be it, yep.  I'll take a look at better ways to detect
that after lunch (collegues are dragging me to the pub now).  Below is
a correction to my last patch to detect and recover from the problem,
but I'd prefer to avoid it altogether.  The most obvious solution seems
to be to wrap the responseStream so that when close is called it tells
HttpConnection that it's been closed.


> Mike

Index: HttpConnection.java
===================================================================
RCS file:
/home/cvs/jakarta-commons/httpclient/src/java/org/apache/commons/
httpclient/HttpConnection.java,v
retrieving revision 1.67
diff -u -r1.67 HttpConnection.java
--- HttpConnection.java 26 May 2003 22:07:21 -0000      1.67
+++ HttpConnection.java 20 Jun 2003 02:13:42 -0000
@@ -480,6 +480,16 @@
              LOG.debug("Connection is stale, closing...");
              close();
          }
+        if (inputStream != null) {
+            try {
+                if (inputStream.available() < 0) {
+                    close();
+                }
+            } catch(IOException e) {
+                close();
+                LOG.debug("Underlying connectin is closed.", e);
+            }
+        }
          return isOpen;
      }


From emdevlin@charter.net  Fri Jun 20 02:26:56 2003
Return-Path: <emdevlin@charter.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 64074 invoked from network); 20 Jun 2003 02:26:56 -0000
Received: from remt20.cluster1.charter.net (209.225.8.30)
  by daedalus.apache.org with SMTP; 20 Jun 2003 02:26:56 -0000
Received: from [24.240.143.165] (HELO emdevlin)
  by remt20.cluster1.charter.net (CommuniGate Pro SMTP 4.0.6)
  with SMTP id 67295788 for commons-httpclient-dev@jakarta.apache.org; Thu, 19 Jun 2003 22:27:05 -0400
From: "Eric M Devlin" <emdevlin@charter.net>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: PATCH org.apache.commons.httpclient.methods.multipart.FilePart
Date: Thu, 19 Jun 2003 22:23:37 -0400
Message-ID: <LPBBIAEMNNBBCFFIMHMOIENKCCAA.emdevlin@charter.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <7DB53246-A203-11D7-A033-000393016056@intencha.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hey Adrian,
  Ok, but what about what something below?

MultipartPostMethod mpm = new MultipartPostMethod( "http://localhost:8080" +
"/something"  );
mpm.addParameter( "A",	new File( "/usr/dev/images/add.gif" ) );

How do I set the content type for the file?  It seems either the
addParameter needs to return FilePart which would have to have setters
provided or an overloaded version of addParameter which accepted the content
type and charset.

//MultipartPostMethod
public void addParameter(String parameterName, File parameterFile, String
contentType, String charset )

 -- or --
//MultipartPostMethod
public FilePart addParameter(String parameterName, File parameterFile )

//FilePart
public void setContentType( String contentType )
public void setCharset( String charset )

I've got the code pulled into class but without a place to apply it's going
to be pretty useless. ;->  I think this is why I was putting the contentType
determination in the FilePart class it self.  Just let me know.

Eric

-----Original Message-----
From: Adrian Sutton [mailto:adrian@intencha.com]
Sent: Wednesday, June 18, 2003 11:10 PM
To: Commons HttpClient Project
Subject: Re: PATCH
org.apache.commons.httpclient.methods.multipart.FilePart


Hi Eric,
This isn't really something that should be included directly into
HttpClient as HttpClient isn't intended to care about the actual
content it sends and receives but just takes care of the actual HTTP
protocol side of things.  Adding auto-mime type detection would mean
we'd also have to provide a way to configure the default mime-types
etc, in other words it opens a whole can of worms.

However, this would be an excellent submission to the HttpClient
contrib package, particularly if we refactor it so that instead of
being a patch it's a complete class that extends FilePart to add the
functionality, then it could easily be used without any changes to
HttpClient.  Would you be happy with that course of action?  If so,
would you like to adapt the patch into a standalone class yourself or
would you like me to take a crack at it?  I don't mind either way.

Thanks a lot for the contribution, it will definitely be useful to a
number of people.

Regards,

Adrian Sutton.

On Thursday, June 19, 2003, at 12:46  PM, Eric M Devlin wrote:

> Hey,
>   This is a patch which will determine the content type if null based
> on
> file extension.  I used the file extension mapping from
> $TOMCAT_HOME/conf/web.xml.  As a side note, I'm having trouble sending
> gif
> files.  Any thoughts or a kick in the right direction would be helpful.
> Thanks and Hope It Helps
> Eric
> <contentTypeByExtension.txt>-------------------------------------------
> --------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From becke@u.washington.edu  Fri Jun 20 03:00:34 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 85706 invoked from network); 20 Jun 2003 03:00:34 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 20 Jun 2003 03:00:34 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5K30h5c030421
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 19 Jun 2003 20:00:43 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5K30fXZ022837
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 19 Jun 2003 20:00:42 -0700
Date: Thu, 19 Jun 2003 23:00:41 -0400
Subject: Re: PATCH org.apache.commons.httpclient.methods.multipart.FilePart
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <LPBBIAEMNNBBCFFIMHMOIENKCCAA.emdevlin@charter.net>
Message-Id: <60A6465A-A2CB-11D7-AF8B-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Eric,

You want to create the FilePart manually and then add it to the
MultipartPostMethod.  Something like:

MultipartPostMethod mpm = new MultipartPostMethod(
"http://localhost:8080/something"  );
FilePart part = new FilePart(name, file, contentType, charset);
mpm.addPart(part);

Mike

On Thursday, June 19, 2003, at 10:23 PM, Eric M Devlin wrote:

> Hey Adrian,
>   Ok, but what about what something below?
>
> MultipartPostMethod mpm = new MultipartPostMethod(
> "http://localhost:8080" +
> "/something"  );
> mpm.addParameter( "A",	new File( "/usr/dev/images/add.gif" ) );
>
> How do I set the content type for the file?  It seems either the
> addParameter needs to return FilePart which would have to have setters
> provided or an overloaded version of addParameter which accepted the
> content
> type and charset.
>
> //MultipartPostMethod
> public void addParameter(String parameterName, File parameterFile,
> String
> contentType, String charset )
>
>  -- or --
> //MultipartPostMethod
> public FilePart addParameter(String parameterName, File parameterFile )
>
> //FilePart
> public void setContentType( String contentType )
> public void setCharset( String charset )
>
> I've got the code pulled into class but without a place to apply it's
> going
> to be pretty useless. ;->  I think this is why I was putting the
> contentType
> determination in the FilePart class it self.  Just let me know.
>
> Eric
>
> -----Original Message-----
> From: Adrian Sutton [mailto:adrian@intencha.com]
> Sent: Wednesday, June 18, 2003 11:10 PM
> To: Commons HttpClient Project
> Subject: Re: PATCH
> org.apache.commons.httpclient.methods.multipart.FilePart
>
>
> Hi Eric,
> This isn't really something that should be included directly into
> HttpClient as HttpClient isn't intended to care about the actual
> content it sends and receives but just takes care of the actual HTTP
> protocol side of things.  Adding auto-mime type detection would mean
> we'd also have to provide a way to configure the default mime-types
> etc, in other words it opens a whole can of worms.
>
> However, this would be an excellent submission to the HttpClient
> contrib package, particularly if we refactor it so that instead of
> being a patch it's a complete class that extends FilePart to add the
> functionality, then it could easily be used without any changes to
> HttpClient.  Would you be happy with that course of action?  If so,
> would you like to adapt the patch into a standalone class yourself or
> would you like me to take a crack at it?  I don't mind either way.
>
> Thanks a lot for the contribution, it will definitely be useful to a
> number of people.
>
> Regards,
>
> Adrian Sutton.
>
> On Thursday, June 19, 2003, at 12:46  PM, Eric M Devlin wrote:
>
>> Hey,
>>   This is a patch which will determine the content type if null based
>> on
>> file extension.  I used the file extension mapping from
>> $TOMCAT_HOME/conf/web.xml.  As a side note, I'm having trouble sending
>> gif
>> files.  Any thoughts or a kick in the right direction would be
>> helpful.
>> Thanks and Hope It Helps
>> Eric
>> <contentTypeByExtension.txt>------------------------------------------
>> -
>> --------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From adrian@intencha.com  Fri Jun 20 05:08:40 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 72955 invoked from network); 20 Jun 2003 05:08:40 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 20 Jun 2003 05:08:40 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0046725440@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 19 Jun 2003 23:04:40 -0600
Date: Fri, 20 Jun 2003 15:08:54 +1000
Subject: Re: SocketException with invalid server
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <EB3F9DA0-A2C3-11D7-AF8B-00306557E112@u.washington.edu>
Message-Id: <49EF5F8C-A2DD-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

>  Yup, I'm trying it on OS X and linux.  I think the problem is in
> HttpMethodBase.execute() in particular the following line:
>
>     if (responseStream != null) {
>         responseStream.close();
>     }
>
> Since there is no content length or chunking the response stream is
> not being wrapped and is therefore actually closed by the above code.
> Take a look at AutoCloseInputStream.close().  I vaguely remember
> talking about this case when we added the connection release/reuse
> code.  I may be wrong but I think that the connection should be
> getting closed in this case as there is no safe way to consume the
> response.

Mike,
You are right it is definitely those three lines, though it took me a
while to find where the extra wrapped stream got added.

Now, when the input stream is closed
HttpMethodBase.responseBodyConsumed()  is called, it checks
shouldCloseConnection() which erroneously returns false and so the
HttpConnection is never marked as closed, despite the underlying socket
having been closed.

So we need to make shouldCloseConnection more intelligent so that if we
have a Connection: keep-alive but not Content-Length it returns true,
which is insanely easy to add.

We do however have a test that depends on this bug.
TestResponseHeaders.testDuplicateConnection sends two Connection:
keep-alive headers, but no Content-Length header and then expects the
connection to remain open.  I'm certain this test case should be
changed to send a Content-Length as well (largely because I'm going to
add a test case with a Connection: keep-alive and no Content-Length and
check that the connection was closed).

The other problem tests that I'm not so sure about are the proxy tests.
  TestResponseHeaders.testDuplicateProxyConnection sends two
proxy-connection: keep-alive headers but no Content-Length.  I believe
in this case we should also close the connection since we have the same
problem of not knowing where the last response ended as when there's no
proxy.  Does this evaluation seem correct to others?  If so, all that
needs to be done is to add Content-Length: 0 to the test and it passes
again.

I have another problem with proxies in that even if
shouldCloseConnection() returns true, the connection to the proxy isn't
actually closed and I'm not sure why.  Any hints about where proxy
connections are closed?

> Mike

Anyway, here is the patch so far, I've modified the two tests that
previously failed and added two new tests to ensure that the connection
is closed if there is no Content-Length - the proxy version of these
tests is currently failing and I'm not sure why.

Index: src/java/org/apache/commons/httpclient/HttpMethodBase.java
===================================================================
RCS file:
/home/cvs/jakarta-commons/httpclient/src/java/org/apache/commons/
httpclient/HttpMethodBase.java,v
retrieving revision 1.152
diff -u -r1.152 HttpMethodBase.java
--- src/java/org/apache/commons/httpclient/HttpMethodBase.java  13 Jun
2003 21:32:17 -0000      1.152
+++ src/java/org/apache/commons/httpclient/HttpMethodBase.java  20 Jun
2003 05:07:17 -0000
@@ -900,6 +900,10 @@
                  }
                  return true;
              } else if
(connectionHeader.getValue().equalsIgnoreCase("keep-alive")) {
+                if (getResponseContentLength() < 0) {
+                    LOG.debug("Should close connection as
content-length is missing.");
+                    return true;
+                }
                  if (LOG.isDebugEnabled()) {
                      LOG.debug("Should NOT close connection in response
to "
                          + connectionHeader.toExternalForm());
Index: src/test/org/apache/commons/httpclient/TestResponseHeaders.java
===================================================================
RCS file:
/home/cvs/jakarta-commons/httpclient/src/test/org/apache/commons/
httpclient/TestResponseHeaders.java,v
retrieving revision 1.7
diff -u -r1.7 TestResponseHeaders.java
--- src/test/org/apache/commons/httpclient/TestResponseHeaders.java
10 Jun 2003 22:42:52 -0000      1.7
+++ src/test/org/apache/commons/httpclient/TestResponseHeaders.java
20 Jun 2003 05:07:19 -0000
@@ -153,6 +153,7 @@
              "HTTP/1.1 200 OK\r\n"
              + "proxy-connection: close\r\n"
              + "proxy-connection: close\r\n"
+            + "Content-Length: 0\r\n"
              + "\r\n";

          conn.addResponse(headers, "");
@@ -169,6 +170,7 @@
              "HTTP/1.0 200 OK\r\n"
              + "proxy-connection: keep-alive\r\n"
              + "proxy-connection: keep-alive\r\n"
+            + "Content-Length: 0\r\n"
              + "\r\n";

          conn.addResponse(headers, "");
@@ -202,6 +204,7 @@
              "HTTP/1.0 200 OK\r\n"
              +"Connection: keep-alive\r\n"
              +"Connection: keep-alive\r\n"
+            +"Content-Length: 0\r\n"
              +"\r\n";

          conn.addResponse(headers, "");
@@ -210,6 +213,38 @@
          method.getResponseBodyAsString();

          assertTrue(conn.isOpen());
+    }
+
+    public void testNoContentLength() throws Exception {
+        SimpleHttpConnection conn = new SimpleHttpConnection();
+        String headers =
+            "HTTP/1.1 200 OK\r\n"
+            + "Connection: keep-alive\r\n"
+            + "\r\n";
+
+        conn.addResponse(headers, "12345");
+        GetMethod method = new GetMethod("/");
+        method.execute(new HttpState(), conn);
+        method.getResponseBodyAsString();
+
+        assertFalse(conn.isOpen());
+    }
+
+    public void testProxyNoContentLength() throws Exception {
+        System.err.println("------------");
+        SimpleHttpConnection conn = new SimpleHttpConnection();
+        String headers =
+            "HTTP/1.1 200 OK\r\n"
+            + "proxy-connection: keep-alive\r\n"
+            + "\r\n";
+
+        conn.addResponse(headers, "12345");
+        GetMethod method = new GetMethod("/");
+        method.execute(new HttpState(), conn);
+        method.getResponseBodyAsString();
+
+        assertFalse(conn.isOpen());
+        System.err.println("------------");
      }

      public void testNullHeaders() throws Exception {


From adrian@intencha.com  Fri Jun 20 05:25:10 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 85570 invoked from network); 20 Jun 2003 05:25:10 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 20 Jun 2003 05:25:10 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055941507@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 19 Jun 2003 23:22:27 -0600
Date: Fri, 20 Jun 2003 15:25:25 +1000
Subject: Re: SocketException with invalid server
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <49EF5F8C-A2DD-11D7-A033-000393016056@intencha.com>
Message-Id: <990EB958-A2DF-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I have another problem with proxies in that even if
> shouldCloseConnection() returns true, the connection to the proxy
> isn't actually closed and I'm not sure why.  Any hints about where
> proxy connections are closed?

Ah, ignore this bit.  I'd screwed up the test case so it added a
proxy-connection header but didn't set a proxy on the connection so
HttpMethodBase never looked for the header, I'd further screwed up the
positioning of my debug statements so I was looking at the output of
the wrong test case making life rather difficult. :)

I'll create a new bug with the final patch so it doesn't get lost.

Adrian.


From anonymous@nagoya.betaversion.org  Fri Jun 20 05:28:26 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 88219 invoked from network); 20 Jun 2003 05:28:26 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 05:28:26 -0000
Received: (qmail 16725 invoked by uid 50); 20 Jun 2003 05:30:55 -0000
Date: 20 Jun 2003 05:30:55 -0000
Message-ID: <20030620053055.16724.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938] New:  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException

           Summary: Missing Content-Length header causes a SocketException
           Product: Commons
           Version: 1.0 Alpha
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: adrian@ephox.com


Essentially, we have an invalid HTTP server (Stellent CMS actually and we will file a bug with them),
which is returning headers like:

HTTP/1.1 401 Unauthorized
WWW-Authenticate: Basic "Secure Realm"
Connection: keep-alive

Which is clearly missing the Content-Length header.  Now, previously HttpClient handled this
perfectly by reading until the end of the connection (ie: treating it like it was a Connection: close),
however for some reason a socket exception is being thrown and the invalid connection is added
back into the connection pool and then every connection to the server after that thows an
exception.

See the thread "SocketException with invalid server" for the full discussion of the issue.

I'll attach a patch that fixes the problem.  The biggest thing to consider is the changes to the
duplicate Connection header test cases which resolves around the question: if Connection: keep-
alive is present but no Content-Length is provided, should the connection be closed?  The patch
requires the answer to be yes and I really can't see any other way to do it.

From anonymous@nagoya.betaversion.org  Fri Jun 20 05:33:01 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 90012 invoked from network); 20 Jun 2003 05:33:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 05:33:01 -0000
Received: (qmail 16790 invoked by uid 50); 20 Jun 2003 05:35:31 -0000
Date: 20 Jun 2003 05:35:31 -0000
Message-ID: <20030620053531.16789.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From adrian@ephox.com  2003-06-20 05:35 -------
Created an attachment (id=6906)
Fix take 1

From colinbird@golden.net  Fri Jun 20 06:25:55 2003
Return-Path: <colinbird@golden.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 46190 invoked from network); 20 Jun 2003 06:25:55 -0000
Received: from niobium.golden.net (199.166.210.90)
  by daedalus.apache.org with SMTP; 20 Jun 2003 06:25:55 -0000
Received: from burrito (187-160.SPEEDe.golden.net [216.75.187.160])
	by niobium.golden.net (8.11.6/8.10.1) with ESMTP id h5K6Q6O18642
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 20 Jun 2003 02:26:06 -0400 (EDT)
From: "Colin Bird" <colinbird@golden.net>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: not working with IIS for digest
Date: Fri, 20 Jun 2003 02:25:59 -0400
Message-ID: <000a01c336f4$d3cf3c80$0100a8c0@burrito>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <990EB958-A2DF-11D7-A033-000393016056@intencha.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hey, I've got httpclient working fine in basic and ntlm mode with IIS,
but digest always gives me a 500 error - can't authenticate the host in
the given domain or whatever.  Has anyone else had this problem?  Also,
how can I extract the authentication line so that I can store it and use
it right away the next time I get the same request?

Thanks a lot !

Colin


From anonymous@nagoya.betaversion.org  Fri Jun 20 07:24:33 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 9896 invoked from network); 20 Jun 2003 07:24:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 07:24:33 -0000
Received: (qmail 19196 invoked by uid 50); 20 Jun 2003 07:27:04 -0000
Date: 20 Jun 2003 07:27:04 -0000
Message-ID: <20030620072704.19195.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From olegk@apache.org  2003-06-20 07:27 -------
Adrian,
I am afraid the patch will break support for chunk-encoded responses.
Chunk-encoded responses use 'Transfer-Encoding' header instead of
'Content-Length' header. The patch in its existing form will cause connections
to be dropped after a chunk-encoded response is received.
Oleg

From anonymous@nagoya.betaversion.org  Fri Jun 20 07:27:54 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 19772 invoked from network); 20 Jun 2003 07:27:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 07:27:54 -0000
Received: (qmail 19272 invoked by uid 50); 20 Jun 2003 07:30:25 -0000
Date: 20 Jun 2003 07:30:25 -0000
Message-ID: <20030620073025.19271.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From adrian@ephox.com  2003-06-20 07:30 -------
doh...  Do we not have test cases for that?  I guess that's something else to add.  I'll take another
shot at it tonight.

From oleg.kalnichevski@bearingpoint.com  Fri Jun 20 08:43:02 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 31472 invoked from network); 20 Jun 2003 08:43:02 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 20 Jun 2003 08:43:02 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 20 Jun 2003 08:40:35 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C33707.FC91F60E"
Subject: RE: not working with IIS for digest
Date: Fri, 20 Jun 2003 09:43:13 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE57A@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator: <825BF35A92B3F0479CC164ECBBE9376E0DE57A@kccxoex06.corp.kpmgconsulting.com>
Thread-Topic: not working with IIS for digest
Thread-Index: AcM29Ni7W+jnMkMZQ9eEtAppePgqQgAEijgM
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 20 Jun 2003 08:40:35.0656 (UTC) FILETIME=[9E4B9C80:01C33707]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33707.FC91F60E
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Colin,
DIGEST authentication works fine with Apache 2.0 (I just tested it) and =
*should* work with IIS. Please note that the server returns status code =
500 which means internal server error, not an authentication error.

In order to pinpoint the problem, we'll need a bit of help from your =
side. Please, first of all, refer to the following troubleshooting =
guide:

http://jakarta.apache.org/commons/httpclient/troubleshooting.html

If none of the measures described there helps, please get back to us =
with the wire log of the HTTP session that exhibits the problem

Cheers

Oleg





-----Original Message-----
From:	Colin Bird [mailto:colinbird@golden.net]
Sent:	Fri 6/20/2003 08:25
To:	'Commons HttpClient Project'
Cc:=09
Subject:	not working with IIS for digest
Hey, I've got httpclient working fine in basic and ntlm mode with IIS,
but digest always gives me a 500 error - can't authenticate the host in
the given domain or whatever.  Has anyone else had this problem?  Also,
how can I extract the authentication line so that I can store it and use
it right away the next time I get the same request?

Thanks a lot !

Colin


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org





------_=_NextPart_001_01C33707.FC91F60E--

From anonymous@nagoya.betaversion.org  Fri Jun 20 08:55:09 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 50433 invoked from network); 20 Jun 2003 08:55:09 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 08:55:09 -0000
Received: (qmail 21251 invoked by uid 50); 20 Jun 2003 08:57:40 -0000
Date: 20 Jun 2003 08:57:40 -0000
Message-ID: <20030620085740.21250.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20942] New:  -
    Request with DIGEST authentication fails when redirected
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20942>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20942

Request with DIGEST authentication fails when redirected

           Summary: Request with DIGEST authentication fails when redirected
           Product: Commons
           Version: 2.0 Beta 2
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Major
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: olegk@apache.org


Request with DIGEST authentication fails when redirected due to invalid URI
parameter.

-- Client side log ----------------------------------------------------------

[DEBUG] HttpClient - -Java version: 1.2.2
[DEBUG] HttpClient - -Java vendor: Sun Microsystems Inc.
[DEBUG] HttpClient - -Operating system name: Linux
[DEBUG] HttpClient - -Operating system architecture: i386
[DEBUG] HttpClient - -Operating system version: 2.4.20-13.9-ok
[DEBUG] HttpClient - -SUN 1.2: SUN (DSA key/parameter generation; DSA signing;
SHA-1, MD5 digests; SecureRandom; X.509 certificates; JKS keystore)
[DEBUG] HttpClient - -SunJSSE 1.0301: Sun JSSE provider(implements RSA
Signatures, PKCS12, SunX509 key/trust factories, SSLv3, TLSv1)
[DEBUG] HttpConnection - -Creating connection for localhost using protocol http:80
[DEBUG] HttpConnection - -HttpConnection.setSoTimeout(0)
[DEBUG] HttpMethod - -Execute loop try 1
[DEBUG] wire - ->> "GET /transfer HTTP/1.1[\r][\n]"
[DEBUG] HttpMethod - -Adding Host request header
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - -<< "HTTP/1.1 401 Authorization Required[\r][\n]"
[DEBUG] wire - -<< "Date: Fri, 20 Jun 2003 08:30:06 GMT[\r][\n]"
[DEBUG] wire - -<< "Server: Apache/2.0.40 (Red Hat Linux)[\r][\n]"
[DEBUG] wire - -<< "WWW-Authenticate: Digest realm="guest realm",
nonce="ei+T7oPAAwA=53c8e6d609ff81a8dcbc370b51f8aadec565009a", algorithm=MD5,
domain="/transfer", qop="auth"[\r][\n]"
[DEBUG] wire - -<< "Vary: accept-language[\r][\n]"
[DEBUG] wire - -<< "Accept-Ranges: bytes[\r][\n]"
[DEBUG] wire - -<< "Content-Length: 1285[\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/html; charset=ISO-8859-1[\r][\n]"
[DEBUG] HttpMethod - -Authorization required
[DEBUG] HttpAuthenticator - -Using 'guest realm' authentication realm
[DEBUG] HttpMethod - -HttpMethodBase.execute(): Server demanded authentication
credentials, will try again.
...
[DEBUG] HttpMethod - -Resorting to protocol version default close connection policy
[DEBUG] HttpMethod - -Should NOT close connection, using HTTP/1.1.
[DEBUG] HttpMethod - -Execute loop try 2
[DEBUG] wire - ->> "GET /transfer HTTP/1.1[\r][\n]"
[DEBUG] HttpMethod - -Request to add Host header ignored: header already added
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost[\r][\n]"
[DEBUG] wire - ->> "Authorization: Digest username="guest", realm="guest realm",
nonce="ei+T7oPAAwA=53c8e6d609ff81a8dcbc370b51f8aadec565009a", uri="/transfer",
qop="auth", algorithm="MD5", nc=00000001,
cnonce="81d4b905a4e9def944beaed8daf79283",
response="71394edcddf4bcee6237ea4bb50cfaa5"[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - -<< "HTTP/1.1 301 Moved Permanently[\r][\n]"
[DEBUG] wire - -<< "Date: Fri, 20 Jun 2003 08:30:06 GMT[\r][\n]"
[DEBUG] wire - -<< "Server: Apache/2.0.40 (Red Hat Linux)[\r][\n]"
[DEBUG] wire - -<< "Location: http://localhost/transfer/[\r][\n]"
[DEBUG] wire - -<< "Content-Length: 302[\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/html; charset=iso-8859-1[\r][\n]"
[DEBUG] HttpMethod - -Redirect required
[DEBUG] HttpMethod - -Redirect requested to location 'http://localhost/transfer/'
[DEBUG] HttpMethod - -Redirecting from 'http://localhost:80/transfer' to
'http://localhost/transfer/
...
[DEBUG] HttpMethod - -Resorting to protocol version default close connection policy
[DEBUG] HttpMethod - -Should NOT close connection, using HTTP/1.1.
[DEBUG] HttpMethod - -Execute loop try 3
[DEBUG] wire - ->> "GET /transfer/ HTTP/1.1[\r][\n]"
[DEBUG] HttpMethod - -Request to add Host header ignored: header already added
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost[\r][\n]"
[DEBUG] wire - ->> "Authorization: Digest username="guest", realm="guest realm",
nonce="ei+T7oPAAwA=53c8e6d609ff81a8dcbc370b51f8aadec565009a", uri="/transfer",
qop="auth", algorithm="MD5", nc=00000001,
cnonce="81d4b905a4e9def944beaed8daf79283",
response="71394edcddf4bcee6237ea4bb50cfaa5"[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - -<< "HTTP/1.1 400 Bad Request[\r][\n]"
[DEBUG] wire - -<< "Date: Fri, 20 Jun 2003 08:30:06 GMT[\r][\n]"
[DEBUG] wire - -<< "Server: Apache/2.0.40 (Red Hat Linux)[\r][\n]"
[DEBUG] wire - -<< "Vary: accept-language[\r][\n]"
[DEBUG] wire - -<< "Accept-Ranges: bytes[\r][\n]"
[DEBUG] wire - -<< "Content-Length: 973[\r][\n]"
[DEBUG] wire - -<< "Connection: close[\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/html; charset=ISO-8859-1[\r][\n]"

-- End of client side log -----------------------------------------------------


-- Server side log ------------------------------------------------------------

[Fri Jun 20 10:30:06 2003] [error] [client 127.0.0.1] Digest: uri mismatch -
</transfer> does not match request-uri </transfer/>

-- End of server side log -----------------------------------------------------

From anonymous@nagoya.betaversion.org  Fri Jun 20 08:55:37 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 50992 invoked from network); 20 Jun 2003 08:55:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 08:55:37 -0000
Received: (qmail 21281 invoked by uid 50); 20 Jun 2003 08:58:09 -0000
Date: 20 Jun 2003 08:58:09 -0000
Message-ID: <20030620085809.21280.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20942]  -
    Request with DIGEST authentication fails when redirected
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20942>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20942

Request with DIGEST authentication fails when redirected

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
   Target Milestone|---                         |2.0 Beta 2

From anonymous@nagoya.betaversion.org  Fri Jun 20 09:11:16 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 78176 invoked from network); 20 Jun 2003 09:11:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 09:11:16 -0000
Received: (qmail 21964 invoked by uid 50); 20 Jun 2003 09:13:47 -0000
Date: 20 Jun 2003 09:13:47 -0000
Message-ID: <20030620091347.21963.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From adrian@ephox.com  2003-06-20 09:13 -------
Created an attachment (id=6909)
Fix take 2.

From anonymous@nagoya.betaversion.org  Fri Jun 20 09:12:20 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 79852 invoked from network); 20 Jun 2003 09:12:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 09:12:20 -0000
Received: (qmail 22009 invoked by uid 50); 20 Jun 2003 09:14:52 -0000
Date: 20 Jun 2003 09:14:52 -0000
Message-ID: <20030620091452.22008.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From adrian@ephox.com  2003-06-20 09:14 -------
Patch take 2 features:

1. Works with chunked encoding.
2. A test case for chunked encoding.
3. Everything that was in take 1.

From anonymous@nagoya.betaversion.org  Fri Jun 20 09:22:47 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 97684 invoked from network); 20 Jun 2003 09:22:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 09:22:47 -0000
Received: (qmail 22284 invoked by uid 50); 20 Jun 2003 09:25:19 -0000
Date: 20 Jun 2003 09:25:19 -0000
Message-ID: <20030620092519.22283.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From olegk@apache.org  2003-06-20 09:25 -------
Adrian,
I do not like that darn 'isChunked' flag. Besides, you forget to reset it in
HttpMethodBase#recycle. (I DO get convinced that the whole idea of recycling is
evil after all).

I suggest that you just check for presence of 'Transfer-Encoding' or
'Content-Length' header in response. That is it. Do not even parse them. We can
assume that the headers will be correctly reacted upon elsewhere.

Oleg

From anonymous@nagoya.betaversion.org  Fri Jun 20 09:34:27 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 9808 invoked from network); 20 Jun 2003 09:34:27 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 09:34:27 -0000
Received: (qmail 22594 invoked by uid 50); 20 Jun 2003 09:36:59 -0000
Date: 20 Jun 2003 09:36:59 -0000
Message-ID: <20030620093659.22593.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From adrian@ephox.com  2003-06-20 09:36 -------
Yeah, I didn't like the flag much either (and I never understood why you'd recycle methods) but
didn't really like blindly assuming that the transfer encoding header was right.  I'm happy with it if
you are though.  New patch coming soon.

From anonymous@nagoya.betaversion.org  Fri Jun 20 09:37:47 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 12559 invoked from network); 20 Jun 2003 09:37:47 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 09:37:47 -0000
Received: (qmail 22636 invoked by uid 50); 20 Jun 2003 09:40:19 -0000
Date: 20 Jun 2003 09:40:19 -0000
Message-ID: <20030620094019.22635.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From adrian@ephox.com  2003-06-20 09:40 -------
Created an attachment (id=6910)
Take 3.

From anonymous@nagoya.betaversion.org  Fri Jun 20 10:00:37 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 38294 invoked from network); 20 Jun 2003 10:00:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 10:00:37 -0000
Received: (qmail 23094 invoked by uid 50); 20 Jun 2003 10:03:09 -0000
Date: 20 Jun 2003 10:03:09 -0000
Message-ID: <20030620100309.23093.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From olegk@apache.org  2003-06-20 10:03 -------
Adrian,
My rationale is that by the time decision needs to be made whether the
connection is to be closed, an invalid 'Transfer-Encoding' or 'Content-Length'
header would already have caused an exception. I would even go as far as saying
that the check would be sufficient

+  if (responseHeaders.getFirstHeader("Transfer-Encoding") == null &&
+      responseHeaders.getFirstHeader("Content-Length") == null) {
+          LOG.debug("Should close connection as content-length is missing.");
+          return true;
+  }

Oleg

From anonymous@nagoya.betaversion.org  Fri Jun 20 10:15:06 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 52993 invoked from network); 20 Jun 2003 10:15:06 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 10:15:06 -0000
Received: (qmail 23360 invoked by uid 50); 20 Jun 2003 10:17:39 -0000
Date: 20 Jun 2003 10:17:39 -0000
Message-ID: <20030620101739.23359.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From adrian@ephox.com  2003-06-20 10:17 -------
Good point, my mind is now at ease.  :)  Any other issues you can see?  I'd like to wait for Mike to
take a look at the patch before committing it anyway since he'd been looking into the problem
earlier.

From anonymous@nagoya.betaversion.org  Fri Jun 20 10:19:33 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 58166 invoked from network); 20 Jun 2003 10:19:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 10:19:33 -0000
Received: (qmail 23445 invoked by uid 50); 20 Jun 2003 10:22:05 -0000
Date: 20 Jun 2003 10:22:05 -0000
Message-ID: <20030620102205.23444.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From olegk@apache.org  2003-06-20 10:22 -------
Sure. Let Mike take a look. As far as I am concerned all the issues have been
addressed. I would like to streamline HttpMethodBase#getResponseContentLength()
method a bit, but I'll submit it as a separate incremental patch

Oleg

From adrian@intencha.com  Fri Jun 20 11:56:35 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 46062 invoked from network); 20 Jun 2003 11:56:35 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 20 Jun 2003 11:56:35 -0000
Received: from intencha.com (unverified [150.101.178.161]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055961079@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Fri, 20 Jun 2003 05:53:41 -0600
Date: Fri, 20 Jun 2003 21:56:40 +1000
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: Test Coverage
From: Adrian Sutton <adrian@intencha.com>
To: Commons Project <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
Message-Id: <40DD63EB-A316-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Howdy all,
We now have a license for clover to analyze our test cases and am now
just starting to work through adding test cases to improve our code
coverage.  I've very quickly come to the realization that 100% code
coverage may actually be a bad thing.  I've gotten AuthChallengeParser
to 100% coverage now so let me use it as an example:

There are four test cases that I consider pedantic and 1 of those that
I really don't like.  The pedantic ones are:

* test that AuthChallengeParser.extractScheme(null) throws an illegal
argument exception instead of a null pointer exception.  What
difference does this really make?  The only reason I can think of to
keep the test is so that the implied interface for the method is kept
the same (it never throws a NPE but throws an illegal argument
exception instead).

* Test that AuthChallengeParser.extractParams(null) throws an illegal
argument exception not a NPE.  Same as above really.

* testParamsWithNoName().  Check that
AuthChallengeParser.extractParams("Basic realm=\"test\",=\"invalid\"");
throws a MalformedChallengeException because there is no name part to
the name/value pair.  This is good if we're in strict mode but if not
wouldn't it be better to be lenient and just ignore that param (with a
logged warning)?

The one I really don't like is:

* Test that AuthChallengeParser.extractScheme(" Basic
realm=\"realm\""); throws a MalformedChallengeException because there's
a leading space.  Now in strict mode that's fine and within HttpClient
the leading space is stripped before being passed in but it seems
overly strict to me.

Now, I don't mind what happens with any of these decisions to be honest
as none affect the actual behaviour of HttpClient - they are very much
edge cases.  I would however like to set up a policy on the types of
test cases I should create (do we want to avoid testing things like the
pedantic things above) as well as the best way to keep track of
questionable or overly pedantic test cases.  Currently I'm just adding
a // pedantic  above any test case that seems pedantic and a todo
comment over anything that I think may require a change to the code but
isn't clearly a bug.

I figure from time to time I can provide a list of issues that need to
be considered as I work my way through the codebase.

Personally, I'm hoping to achieve 100% test coverage firstly because
I've discovered how dependent I am on having good test cases while
working on HttpClient (most people don't have the detailed level of
knowledge that Mike and Oleg do and thus aren't aware that a change
will break some other section of code - NTLM is a regular victim of
this).  Also, aiming for 100% coverage makes a very clear-cut decision
on when the job is done which make life easier as well and makes it
much more noticeable when new test cases need to be added.

Any thoughts?

Adrian Sutton.


From anonymous@nagoya.betaversion.org  Fri Jun 20 12:26:07 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 79126 invoked from network); 20 Jun 2003 12:26:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 12:26:07 -0000
Received: (qmail 26420 invoked by uid 50); 20 Jun 2003 12:28:26 -0000
Date: 20 Jun 2003 12:28:26 -0000
Message-ID: <20030620122826.26419.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 19373]  -
    Performance Optimizations
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19373>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19373

Performance Optimizations





------- Additional Comments From olegk@apache.org  2003-06-20 12:28 -------
Created an attachment (id=6911)
Patch (getResponseContentLength optimization)

From anonymous@nagoya.betaversion.org  Fri Jun 20 12:32:32 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 793 invoked from network); 20 Jun 2003 12:32:32 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 12:32:32 -0000
Received: (qmail 26651 invoked by uid 50); 20 Jun 2003 12:34:51 -0000
Date: 20 Jun 2003 12:34:51 -0000
Message-ID: <20030620123451.26650.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 19373]  -
    Performance Optimizations
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19373>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19373

Performance Optimizations





------- Additional Comments From olegk@apache.org  2003-06-20 12:34 -------
The patch streamlines HttpMethodBase#getResponseContentLength() method by
removing  redundant legacy code. The legacy code in question was necessary to
work around the problem of older versions of HttpClient (prior to 2.0a3)
cramming multiple headers of the same type into one line. The workaround has
been made rendered obsolete by 2.0a3 release.

Oleg

From anonymous@nagoya.betaversion.org  Fri Jun 20 12:50:16 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 31746 invoked from network); 20 Jun 2003 12:50:16 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 12:50:16 -0000
Received: (qmail 26999 invoked by uid 50); 20 Jun 2003 12:52:35 -0000
Date: 20 Jun 2003 12:52:35 -0000
Message-ID: <20030620125235.26998.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From becke@u.washington.edu  2003-06-20 12:52 -------
This patch does not work in the absence of keep-alive headers.  I will attach a fix for this plus
some more test cases in a moment.  This patch just moves the content length test to the top of
shouldCloseConnection().

Mike

From anonymous@nagoya.betaversion.org  Fri Jun 20 12:50:40 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 33429 invoked from network); 20 Jun 2003 12:50:40 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 12:50:40 -0000
Received: (qmail 27020 invoked by uid 50); 20 Jun 2003 12:53:00 -0000
Date: 20 Jun 2003 12:53:00 -0000
Message-ID: <20030620125300.27019.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From becke@u.washington.edu  2003-06-20 12:52 -------
Created an attachment (id=6912)
patch 3

From rtower@sugarloafsw.com  Fri Jun 20 12:31:37 2003
Return-Path: <rtower@sugarloafsw.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 97014 invoked from network); 20 Jun 2003 12:31:37 -0000
Received: from mta2.wss.scd.yahoo.com (66.218.85.33)
  by daedalus.apache.org with SMTP; 20 Jun 2003 12:31:37 -0000
Received: from RON (68.170.112.190) by mta2.wss.scd.yahoo.com (7.0.016) (authenticated as rtower@sugarloafsw.com)
        id 3EDCE760005EAEF2; Fri, 20 Jun 2003 05:31:38 -0700
Message-ID: <000c01c33727$e8493570$6401a8c0@RON>
From: "Ron Tower" <rtower@sugarloafsw.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>,
	<olegk@apache.org>
References: <001201c335b6$70ac5cd0$6401a8c0@RON> <001701c335cc$ac43c970$0501a8c0@knightsofthenet.com> <006f01c335d5$12d1c770$6401a8c0@RON> <1055971965.2390.27.camel@kczrh-okt22.corp.bearingpoint.com>
Subject: Re: Commas in Cookie Value
Date: Fri, 20 Jun 2003 08:31:42 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Oleg,

I noticed that there didn't seem to be a way to plug in a custom CookieSpec.
I was wondering how to do it. For now, I will wait for 2.1 or download the
source and modify one of the CookieSpecs.

Thanks,

Ron Tower

----- Original Message -----
From: "Oleg Kalnichevski" <olegk@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Wednesday, June 18, 2003 5:32 PM
Subject: Re: Commas in Cookie Value


> Ron (I apologise for misspelling your name in my previous post),
>
> You can easily subclass any of the CookieSpec classes. The trouble is
> there's no way to plug a custom cookie spec into the existing
> implementation of HttpClient. At the moment you have to modify
> CookiePolicy class and recompile Httpclient in order to get it done. We
> are aware of the problem and will address it in 2.1 release.
>
> Oleg
>
> PS: Brett's patch may eventually make it into the official Httpclient
> source tree, but that is not going to happen too soon. Maybe in 3.0
>
>
>
> On Wed, 2003-06-18 at 22:06, Ron Tower wrote:
> > Brett,
> >
> > I didn't download the source, just the jar and the docs. Could I
subclass
> > from a CookieSpec and just replace the parse of Set-Cookie? I would
prefer
> > to not have to modify the source so I can easily replace it with
upcoming
> > versions without having to put my change back in.
> >
> > Is your fix going into the main source? Do you know when?
> >
> > But if there is no other way, I can download the source, and then I
would
> > appreciate your fix.
> >
> > Thanks,
> >
> > Ron Tower
> >
> > ----- Original Message -----
> > From: "Brett Knights" <brett@knightsofthenet.com>
> > To: "Commons HttpClient Project"
<commons-httpclient-dev@jakarta.apache.org>
> > Sent: Wednesday, June 18, 2003 3:06 PM
> > Subject: Re: Commas in Cookie Value
> >
> >
> > > I have a fix for this but it uses the org.apache.oro regular
> > > expression parser.
> > > E-mail me off line if you want the code to hack your own copy of
> > > HttpClient
> > >
> > > ----- Original Message -----
> > > From: "Ron Tower" <rtower@sugarloafsw.com>
> > > To: <commons-httpclient-dev@jakarta.apache.org>
> > > Sent: Wednesday, June 18, 2003 9:26 AM
> > > Subject: Commas in Cookie Value
> > >
> > >
> > > Hello All,
> > >
> > > Is there a problem when  a comma appears in a cookie value? See
> > > 02109POS below. It has a comma in the value and is split into two
> > > cookies. IE at least parses this cookie as one cookie. Is there a
> > > workaround for this?
> > >
> > > My understanding is that a cookie value can have any character other
> > > than a semicolon, space, or tab.
> > >
> > > I got the following Set-Cookie headers:
> > >
> > > [DEBUG] wire - -<< "Set-cookie: CDSContentDistributor=137169;
> > > expires=Tuesday, 17-Jun-03 20:52:01 GMT; path=/[\r][\n]"
> > > [DEBUG] wire - -<< "Set-cookie: 02109POS=<www4210513143792642538,>;
> > > domain=.fidelity.com; path=/; expires=Fri, 12-Sep-2003 00:00:00
> > > GMT;[\r][\n]"
> > > [DEBUG] wire - -<< "Set-cookie:
> > > MC=clHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRk
> > > AP03; expires=Monday, 15-Sep-2003 20:42:01 GMT; domain=.fidelity.com;
> > > path=/[\r][\n]"
> > >
> > > And HttpClient sent the following Cookies:
> > >
> > > [DEBUG] wire - ->> "Cookie: $Version=0; CDSContentDistributor=137169;
> > > $Path=/[\r][\n]"
> > > [DEBUG] wire - ->> "Cookie: $Version=0;
> > > 02109POS=<www4210513143792642538[\r][\n]"
> > > [DEBUG] wire - ->> "Cookie: $Version=0; >=; $Domain=.fidelity.com;
> > > $Path=/[\r][\n]"
> > > [DEBUG] wire - ->> "Cookie: $Version=0;
> > > MC=clHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRk
> > > AP03; $Domain=.fidelity.com; $Path=/[\r][\n]"
> > >
> > > Thanks,
> > >
> > > Ron Tower
> > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > commons-httpclient-dev-help@jakarta.apache.org
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>


From anonymous@nagoya.betaversion.org  Fri Jun 20 12:57:25 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 43936 invoked from network); 20 Jun 2003 12:57:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 12:57:25 -0000
Received: (qmail 27188 invoked by uid 50); 20 Jun 2003 12:59:44 -0000
Date: 20 Jun 2003 12:59:44 -0000
Message-ID: <20030620125944.27187.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From adrian@ephox.com  2003-06-20 12:59 -------
gah... You're right.  Your changes make sense and looks good to me.

Oleg, how does this affect your reorganisation of that method?

From cmlenz@gmx.de  Fri Jun 20 12:59:15 2003
Return-Path: <cmlenz@gmx.de>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 47345 invoked from network); 20 Jun 2003 12:59:15 -0000
Received: from unknown (HELO io.heavens-door.net) (62.96.5.66)
  by daedalus.apache.org with SMTP; 20 Jun 2003 12:59:15 -0000
Received: from gmx.de (fire1.mediatis.de [62.96.5.65])
	by io.heavens-door.net (Postfix) with ESMTP id 1820B1DE08
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 20 Jun 2003 14:59:06 +0200 (CEST)
Message-ID: <3EF30582.7050706@gmx.de>
Date: Fri, 20 Jun 2003 15:00:50 +0200
From: Christopher Lenz <cmlenz@gmx.de>
Organization: mediatis GmbH
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: de-de, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Test Coverage
References: <40DD63EB-A316-11D7-A033-000393016056@intencha.com>
In-Reply-To: <40DD63EB-A316-11D7-A033-000393016056@intencha.com>
X-Enigmail-Version: 0.73.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian Sutton wrote:
> Howdy all,
> We now have a license for clover to analyze our test cases and am now
> just starting to work through adding test cases to improve our code
> coverage.  I've very quickly come to the realization that 100% code
> coverage may actually be a bad thing.  I've gotten AuthChallengeParser
> to 100% coverage now so let me use it as an example:
>
> There are four test cases that I consider pedantic and 1 of those that I
> really don't like.  The pedantic ones are:
>
> * test that AuthChallengeParser.extractScheme(null) throws an illegal
> argument exception instead of a null pointer exception.  What difference
> does this really make?  The only reason I can think of to keep the test
> is so that the implied interface for the method is kept the same (it
> never throws a NPE but throws an illegal argument exception instead).
>
> * Test that AuthChallengeParser.extractParams(null) throws an illegal
> argument exception not a NPE.  Same as above really.
>
> * testParamsWithNoName().  Check that
> AuthChallengeParser.extractParams("Basic realm=\"test\",=\"invalid\"");
> throws a MalformedChallengeException because there is no name part to
> the name/value pair.  This is good if we're in strict mode but if not
> wouldn't it be better to be lenient and just ignore that param (with a
> logged warning)?

I wouldn't call these tests "pedantic". They verify the contract of the
class. The contract is either defined explicitly by being documented, or
implicitly defined by the current behaviour, which someone may depend on
(some other class inside HttpClient, or an external API client).

> The one I really don't like is:
>
> * Test that AuthChallengeParser.extractScheme(" Basic realm=\"realm\"");
> throws a MalformedChallengeException because there's a leading space.
> Now in strict mode that's fine and within HttpClient the leading space
> is stripped before being passed in but it seems overly strict to me.

Again, if the contract of that method says that a leading white space -- or
some other irregularity -- causes a specific exception to be thrown, it is
good that there are test cases to verify the contract.

Maybe it is not the test that you dislike, but rather the behaviour of the
method? In that case the contract should be changed to say "any leading or
trailing white space will be trimmed" or something like that. But that has
nothing to do with the test being invalid IMHO.

> Now, I don't mind what happens with any of these decisions to be honest
> as none affect the actual behaviour of HttpClient - they are very much
> edge cases.  I would however like to set up a policy on the types of
> test cases I should create (do we want to avoid testing things like the
> pedantic things above) as well as the best way to keep track of
> questionable or overly pedantic test cases.  Currently I'm just adding a
> // pedantic  above any test case that seems pedantic and a todo comment
> over anything that I think may require a change to the code but isn't
> clearly a bug.
>
> I figure from time to time I can provide a list of issues that need to
> be considered as I work my way through the codebase.
>
> Personally, I'm hoping to achieve 100% test coverage firstly because
> I've discovered how dependent I am on having good test cases while
> working on HttpClient (most people don't have the detailed level of
> knowledge that Mike and Oleg do and thus aren't aware that a change will
> break some other section of code - NTLM is a regular victim of this).
> Also, aiming for 100% coverage makes a very clear-cut decision on when
> the job is done which make life easier as well and makes it much more
> noticeable when new test cases need to be added.
>
> Any thoughts?

Achieving 100% (or any other hard number) of code coverage is a lot of work,
and almost never guarantees that the code is free of errors. Making some
percentage of code coverage a hard requirement is usually missing the point.
Of course, more coverage is usually good, but there's a point of diminishing
return

Anyway, while tests like the "pedantic" ones you outlined are probably not
critical, I see no reason to throw them away if they're already present.
They serve the very good purpose of testing error conditions and asserting
the contract of the class under test.

Just my two cents.

-chris


From anonymous@nagoya.betaversion.org  Fri Jun 20 13:01:05 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 52766 invoked from network); 20 Jun 2003 13:01:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 13:01:05 -0000
Received: (qmail 27303 invoked by uid 50); 20 Jun 2003 13:03:24 -0000
Date: 20 Jun 2003 13:03:24 -0000
Message-ID: <20030620130324.27302.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20942]  -
    Request with DIGEST authentication fails when redirected
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20942>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20942

Request with DIGEST authentication fails when redirected





------- Additional Comments From olegk@apache.org  2003-06-20 13:03 -------
Created an attachment (id=6913)
Patch (take 1)

From anonymous@nagoya.betaversion.org  Fri Jun 20 13:03:42 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 57517 invoked from network); 20 Jun 2003 13:03:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 13:03:42 -0000
Received: (qmail 27359 invoked by uid 50); 20 Jun 2003 13:06:02 -0000
Date: 20 Jun 2003 13:06:02 -0000
Message-ID: <20030620130602.27358.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20942]  -
    Request with DIGEST authentication fails when redirected
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20942>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20942

Request with DIGEST authentication fails when redirected





------- Additional Comments From becke@u.washington.edu  2003-06-20 13:06 -------
Makes sense to me.

Mike

From anonymous@nagoya.betaversion.org  Fri Jun 20 13:04:07 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 59805 invoked from network); 20 Jun 2003 13:04:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 13:04:07 -0000
Received: (qmail 27404 invoked by uid 50); 20 Jun 2003 13:06:26 -0000
Date: 20 Jun 2003 13:06:26 -0000
Message-ID: <20030620130626.27403.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException





------- Additional Comments From olegk@apache.org  2003-06-20 13:06 -------
It does not affect it at all. I believe the patch is good to go now

Oleg

From anonymous@nagoya.betaversion.org  Fri Jun 20 13:05:45 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 63975 invoked from network); 20 Jun 2003 13:05:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 13:05:45 -0000
Received: (qmail 27493 invoked by uid 50); 20 Jun 2003 13:08:04 -0000
Date: 20 Jun 2003 13:08:04 -0000
Message-ID: <20030620130804.27492.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 19373]  -
    Performance Optimizations
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19373>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19373

Performance Optimizations





------- Additional Comments From becke@u.washington.edu  2003-06-20 13:08 -------
Looks good to me.  There's also a test case for duplicate content length but I'm not sure how valid
it is.

Mike

From anonymous@nagoya.betaversion.org  Fri Jun 20 13:11:42 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 76682 invoked from network); 20 Jun 2003 13:11:42 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 13:11:42 -0000
Received: (qmail 27689 invoked by uid 50); 20 Jun 2003 13:14:01 -0000
Date: 20 Jun 2003 13:14:01 -0000
Message-ID: <20030620131401.27688.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 19373]  -
    Performance Optimizations
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19373>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19373

Performance Optimizations





------- Additional Comments From olegk@apache.org  2003-06-20 13:14 -------
The test does not seem to be of any relevance anymore, but I would leave it be

Oleg

From adrian@intencha.com  Fri Jun 20 13:20:25 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 98986 invoked from network); 20 Jun 2003 13:20:25 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 20 Jun 2003 13:20:25 -0000
Received: from intencha.com (unverified [150.101.178.161]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0055964654@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Fri, 20 Jun 2003 07:17:26 -0600
Date: Fri, 20 Jun 2003 23:20:25 +1000
Subject: Re: Test Coverage
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EF30582.7050706@gmx.de>
Message-Id: <F45BEFFE-A321-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Again, if the contract of that method says that a leading white space
> -- or some other irregularity -- causes a specific exception to be
> thrown, it is good that there are test cases to verify the contract.
>
> Maybe it is not the test that you dislike, but rather the behaviour of
> the method? In that case the contract should be changed to say "any
> leading or trailing white space will be trimmed" or something like
> that. But that has nothing to do with the test being invalid IMHO.

Agreed, I don't like the behaviour of the class, but I also don't like
adding a test which aims to guarantee that that behavior will not
change.  The implicit assumptions people make are not part of the
contract of the method.  The contract of the method is defined in the
JavaDocs for the method (hence keeping JavaDocs up to date is so
important), and for HttpClient also in the relevant RFCs and standards.
  It goes without saying that the behavior of HttpClient will change so
we need tests that reliably show errors rather than tests which are
constantly being changed because they're too strict - that just leads
to tests failing tests being ignored.

> Achieving 100% (or any other hard number) of code coverage is a lot of
> work, and almost never guarantees that the code is free of errors.
> Making some percentage of code coverage a hard requirement is usually
> missing the point. Of course, more coverage is usually good, but
> there's a point of diminishing return

Agreed, we need good test cases not just code coverage.  The biggest
advantage of having a set percentage coverage is that it (hopefully)
sparks a test writing session when things fall below that level.

> Anyway, while tests like the "pedantic" ones you outlined are probably
> not critical, I see no reason to throw them away if they're already
> present. They serve the very good purpose of testing error conditions
> and asserting the contract of the class under test.

Currently HttpClient has about 47% code coverage and there are almost
none of these pedantic tests in our test suite.  Much of the new test
cases I add to improve code coverage will likely be these pedantic
cases since we are generally pretty good at adding tests for major
features.  The question is then, is it worth adding these tests or is
it likely to just cause so too many test failures in the future and
diminish the effectiveness of our tests.

> Just my two cents.

Thanks it's appreciated. :)

> -chris


Regards,

Adrian Sutton.


From anonymous@nagoya.betaversion.org  Fri Jun 20 13:33:36 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 24175 invoked from network); 20 Jun 2003 13:33:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 13:33:36 -0000
Received: (qmail 28358 invoked by uid 50); 20 Jun 2003 13:35:56 -0000
Date: 20 Jun 2003 13:35:56 -0000
Message-ID: <20030620133556.28357.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20938]  -
    Missing Content-Length header causes a SocketException
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20938

Missing Content-Length header causes a SocketException

adrian@ephox.com changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From adrian@ephox.com  2003-06-20 13:35 -------
Patch committed.

From anonymous@nagoya.betaversion.org  Fri Jun 20 16:34:10 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 21866 invoked from network); 20 Jun 2003 16:34:10 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 16:34:10 -0000
Received: (qmail 9929 invoked by uid 50); 20 Jun 2003 16:36:32 -0000
Date: 20 Jun 2003 16:36:32 -0000
Message-ID: <20030620163632.9928.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 19373]  -
    Performance Optimizations
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19373>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=19373

Performance Optimizations

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
            Version|2.0 Alpha 3                 |2.0 Beta 1



------- Additional Comments From olegk@apache.org  2003-06-20 16:36 -------
Patch (getResponseContentLength optimization) committed.

Oleg

From anonymous@nagoya.betaversion.org  Fri Jun 20 16:45:17 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 41275 invoked from network); 20 Jun 2003 16:45:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 20 Jun 2003 16:45:17 -0000
Received: (qmail 10924 invoked by uid 50); 20 Jun 2003 16:47:39 -0000
Date: 20 Jun 2003 16:47:39 -0000
Message-ID: <20030620164739.10922.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20942]  -
    Request with DIGEST authentication fails when redirected
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20942>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20942

Request with DIGEST authentication fails when redirected

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From olegk@apache.org  2003-06-20 16:47 -------
Committed.

Oleg

From olegk@apache.org  Fri Jun 20 16:50:26 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 48464 invoked from network); 20 Jun 2003 16:50:26 -0000
Received: from mail5.bluewin.ch (195.186.1.207)
  by daedalus.apache.org with SMTP; 20 Jun 2003 16:50:26 -0000
Received: from olddude.tislab.ch (81.62.119.190) by mail5.bluewin.ch (Bluewin AG 7.0.015)
        id 3EF186D400028A71 for commons-httpclient-dev@jakarta.apache.org; Fri, 20 Jun 2003 16:50:28 +0000
Subject: Re: Commas in Cookie Value
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <000c01c33727$e8493570$6401a8c0@RON>
References: <001201c335b6$70ac5cd0$6401a8c0@RON>
	 <001701c335cc$ac43c970$0501a8c0@knightsofthenet.com>
	 <006f01c335d5$12d1c770$6401a8c0@RON>
	 <1055971965.2390.27.camel@kczrh-okt22.corp.bearingpoint.com>
	 <000c01c33727$e8493570$6401a8c0@RON>
Content-Type: text/plain
Message-Id: <1056127825.1947.4.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 20 Jun 2003 18:50:25 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ron,

You may not to have to wait long. As soon as 2.0 release is branched
out, that is going to be one of the first things fixed. Release 2.0
branching can well happen by mid July

Cheers

Oleg

On Fri, 2003-06-20 at 14:31, Ron Tower wrote:
> Oleg,
>
> I noticed that there didn't seem to be a way to plug in a custom CookieSpec.
> I was wondering how to do it. For now, I will wait for 2.1 or download the
> source and modify one of the CookieSpecs.
>
> Thanks,
>
> Ron Tower
>
> ----- Original Message -----
> From: "Oleg Kalnichevski" <olegk@apache.org>
> To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
> Sent: Wednesday, June 18, 2003 5:32 PM
> Subject: Re: Commas in Cookie Value
>
>
> > Ron (I apologise for misspelling your name in my previous post),
> >
> > You can easily subclass any of the CookieSpec classes. The trouble is
> > there's no way to plug a custom cookie spec into the existing
> > implementation of HttpClient. At the moment you have to modify
> > CookiePolicy class and recompile Httpclient in order to get it done. We
> > are aware of the problem and will address it in 2.1 release.
> >
> > Oleg
> >
> > PS: Brett's patch may eventually make it into the official Httpclient
> > source tree, but that is not going to happen too soon. Maybe in 3.0
> >
> >
> >
> > On Wed, 2003-06-18 at 22:06, Ron Tower wrote:
> > > Brett,
> > >
> > > I didn't download the source, just the jar and the docs. Could I
> subclass
> > > from a CookieSpec and just replace the parse of Set-Cookie? I would
> prefer
> > > to not have to modify the source so I can easily replace it with
> upcoming
> > > versions without having to put my change back in.
> > >
> > > Is your fix going into the main source? Do you know when?
> > >
> > > But if there is no other way, I can download the source, and then I
> would
> > > appreciate your fix.
> > >
> > > Thanks,
> > >
> > > Ron Tower
> > >
> > > ----- Original Message -----
> > > From: "Brett Knights" <brett@knightsofthenet.com>
> > > To: "Commons HttpClient Project"
> <commons-httpclient-dev@jakarta.apache.org>
> > > Sent: Wednesday, June 18, 2003 3:06 PM
> > > Subject: Re: Commas in Cookie Value
> > >
> > >
> > > > I have a fix for this but it uses the org.apache.oro regular
> > > > expression parser.
> > > > E-mail me off line if you want the code to hack your own copy of
> > > > HttpClient
> > > >
> > > > ----- Original Message -----
> > > > From: "Ron Tower" <rtower@sugarloafsw.com>
> > > > To: <commons-httpclient-dev@jakarta.apache.org>
> > > > Sent: Wednesday, June 18, 2003 9:26 AM
> > > > Subject: Commas in Cookie Value
> > > >
> > > >
> > > > Hello All,
> > > >
> > > > Is there a problem when  a comma appears in a cookie value? See
> > > > 02109POS below. It has a comma in the value and is split into two
> > > > cookies. IE at least parses this cookie as one cookie. Is there a
> > > > workaround for this?
> > > >
> > > > My understanding is that a cookie value can have any character other
> > > > than a semicolon, space, or tab.
> > > >
> > > > I got the following Set-Cookie headers:
> > > >
> > > > [DEBUG] wire - -<< "Set-cookie: CDSContentDistributor=137169;
> > > > expires=Tuesday, 17-Jun-03 20:52:01 GMT; path=/[\r][\n]"
> > > > [DEBUG] wire - -<< "Set-cookie: 02109POS=<www4210513143792642538,>;
> > > > domain=.fidelity.com; path=/; expires=Fri, 12-Sep-2003 00:00:00
> > > > GMT;[\r][\n]"
> > > > [DEBUG] wire - -<< "Set-cookie:
> > > > MC=clHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRk
> > > > AP03; expires=Monday, 15-Sep-2003 20:42:01 GMT; domain=.fidelity.com;
> > > > path=/[\r][\n]"
> > > >
> > > > And HttpClient sent the following Cookies:
> > > >
> > > > [DEBUG] wire - ->> "Cookie: $Version=0; CDSContentDistributor=137169;
> > > > $Path=/[\r][\n]"
> > > > [DEBUG] wire - ->> "Cookie: $Version=0;
> > > > 02109POS=<www4210513143792642538[\r][\n]"
> > > > [DEBUG] wire - ->> "Cookie: $Version=0; >=; $Domain=.fidelity.com;
> > > > $Path=/[\r][\n]"
> > > > [DEBUG] wire - ->> "Cookie: $Version=0;
> > > > MC=clHza1XIKW50aXo3nr5LD3gDFYMSAiWYtqihBBHXpfPA37wNqncGBAAAAQAGBT7vfRk
> > > > AP03; $Domain=.fidelity.com; $Path=/[\r][\n]"
> > > >
> > > > Thanks,
> > > >
> > > > Ron Tower
> > > >
> > > >
> > > >
> > > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> > > commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> > > commons-httpclient-dev-help@jakarta.apache.org
> > > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From laura@lwerner.org  Fri Jun 20 19:04:50 2003
Return-Path: <laura@lwerner.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 34244 invoked from network); 20 Jun 2003 19:04:50 -0000
Received: from unknown (HELO vocalsend.bevocal.com) (66.147.154.130)
  by daedalus.apache.org with SMTP; 20 Jun 2003 19:04:50 -0000
Received: from lwerner.org (speedtrap.bevocal.com [172.16.2.66])
	by vocalsend.bevocal.com (8.11.0/8.11.0) with ESMTP id h5KHGtE04042
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 20 Jun 2003 10:16:55 -0700
Message-ID: <3EF35AD6.3000808@lwerner.org>
Date: Fri, 20 Jun 2003 12:04:54 -0700
From: Laura Werner <laura@lwerner.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030529
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: URI query escapes
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

I'm having a weird problem with escaped characters in the query part of
a URI.  In the old, alpha1 version of HttpClient, we used
URIUtil.encodeAll() to encode our query parameter values, and it escaped
spaces with "+", resulting in "Mountain+View". With the latest
HttpClient, we use URIUtil.encodeWithinQuery().  If we encode a query
like "Mountain View", we get back "Mountain%20View".

Does anyone know why this behavior changed?  Our app server is barfing
on it for some reason and giving the JSP the encoded string with the %20
in it when it calls getParameter.  (This is probably a bug in the
server, but our applications group is on my case because the behavior of
our client changed.)

The background ere is that for legacy reasons, we build up the query
part of the URL ourselves, encoding each parameter as we append it to
the string.  Then we create a java.net.URL object out of it (yuck).
Finally, at fetch time, we do new URI(url.toString()).  (Double yuck.)

I'm going to play with this a bit more.  It may be that I don't even
have to encode the query strings myself, and that the new URI
constructor will do it for me.  But I figured I'd ask here and see if
anyone knew what had changed or had run into a problem like this before.

Laura Werner
BeVocal


From laura@lwerner.org  Fri Jun 20 19:53:19 2003
Return-Path: <laura@lwerner.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 9986 invoked from network); 20 Jun 2003 19:53:19 -0000
Received: from unknown (HELO vocalsend.bevocal.com) (66.147.154.130)
  by daedalus.apache.org with SMTP; 20 Jun 2003 19:53:19 -0000
Received: from lwerner.org (speedtrap.bevocal.com [172.16.2.66])
	by vocalsend.bevocal.com (8.11.0/8.11.0) with ESMTP id h5KI5PE04059
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 20 Jun 2003 11:05:25 -0700
Message-ID: <3EF36634.2060305@lwerner.org>
Date: Fri, 20 Jun 2003 12:53:24 -0700
From: Laura Werner <laura@lwerner.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030529
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Test Coverage
References: <40DD63EB-A316-11D7-A033-000393016056@intencha.com>
In-Reply-To: <40DD63EB-A316-11D7-A033-000393016056@intencha.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian Sutton wrote:

> Personally, I'm hoping to achieve 100% test coverage firstly because
> I've discovered how dependent I am on having good test cases while
> working on HttpClient (most people don't have the detailed level of
> knowledge that Mike and Oleg do and thus aren't aware that a change
> will break some other section of code - NTLM is a regular victim of
> this). [...]
> Any thoughts?

100% coverage is a nice goal, but how you get from here to there is
pretty important.  I like the philosophy advocated in Martin Fowler's
"Refactoring" book:  The most important tests are the ones that test the
code with the highest probability of breaking.  You can spend a lot of
time writing tests for simple getters and setters, but they don't buy
you much because there's not much chance of these methods breaking.
It's much more valuable to spend that time writing one or two test cases
for complicated methods or classes that are more likely to break (due to
dependencies, complicated algorithms or specs, or whatever).

A test coverage tool is still valuable, though, because it can tell you
which areas need more tests.  You just have to filter the results a bit
and concentrate on testing the complicated things first.  When all the
complicated code has 100% coverage, then you can go back and add tests
for the simple stuff if you want 100% coverage for everything.

-- Laura


From becke@u.washington.edu  Fri Jun 20 20:28:37 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 55322 invoked from network); 20 Jun 2003 20:28:37 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 20 Jun 2003 20:28:37 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout2.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5KKSgo0000953
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 20 Jun 2003 13:28:42 -0700
Received: from u.washington.edu (ss05.co.us.ibm.com [32.97.110.70])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5KKSbXZ020600
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 20 Jun 2003 13:28:41 -0700
Message-ID: <3EF36E6F.1060207@u.washington.edu>
Date: Fri, 20 Jun 2003 16:28:31 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: URI query escapes
References: <3EF35AD6.3000808@lwerner.org>
In-Reply-To: <3EF35AD6.3000808@lwerner.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Laura,

This is something that Oleg and I were discussing recently in regard to
post parameters being form urlencoded.  This case is partially related.

It seems the server in question is assuming that query params are form
urlencoded.  The method you are using is actually URI encoding
everything.  According to URI(rfc 2396) both space and + are encoded as
their hex values in the query.

The quick solution for this is to not encode the URIs using
httpclient.URI.  This can be accomplished in two ways:

  - use the XXMethod(String) constructor.  it assumes everything is
encoded already
  - use XXMethod.setQueryString(String).  it also assumes the query is
already encoded

Both of these require you to encode the URI before passing it to the
HttpMethods.

So the next question is... are we correctly handling query params by URI
encoding them?  I believe that this is generally okay, but as you have
discovered, it may not work in all cases.  In the server you are hitting
HTTP 1.0?

Mike

Laura Werner wrote:
> Hi all,
>
> I'm having a weird problem with escaped characters in the query part of
> a URI.  In the old, alpha1 version of HttpClient, we used
> URIUtil.encodeAll() to encode our query parameter values, and it escaped
> spaces with "+", resulting in "Mountain+View". With the latest
> HttpClient, we use URIUtil.encodeWithinQuery().  If we encode a query
> like "Mountain View", we get back "Mountain%20View".
> Does anyone know why this behavior changed?  Our app server is barfing
> on it for some reason and giving the JSP the encoded string with the %20
> in it when it calls getParameter.  (This is probably a bug in the
> server, but our applications group is on my case because the behavior of
> our client changed.)
>
> The background ere is that for legacy reasons, we build up the query
> part of the URL ourselves, encoding each parameter as we append it to
> the string.  Then we create a java.net.URL object out of it (yuck).
> Finally, at fetch time, we do new URI(url.toString()).  (Double yuck.)
>
> I'm going to play with this a bit more.  It may be that I don't even
> have to encode the query strings myself, and that the new URI
> constructor will do it for me.  But I figured I'd ask here and see if
> anyone knew what had changed or had run into a problem like this before.
>
> Laura Werner
> BeVocal
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From laura@lwerner.org  Fri Jun 20 20:47:57 2003
Return-Path: <laura@lwerner.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 89354 invoked from network); 20 Jun 2003 20:47:57 -0000
Received: from unknown (HELO vocalsend.bevocal.com) (66.147.154.130)
  by daedalus.apache.org with SMTP; 20 Jun 2003 20:47:57 -0000
Received: from lwerner.org (speedtrap.bevocal.com [172.16.2.66])
	by vocalsend.bevocal.com (8.11.0/8.11.0) with ESMTP id h5KJ02E04080
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 20 Jun 2003 12:00:02 -0700
Message-ID: <3EF37302.9000003@lwerner.org>
Date: Fri, 20 Jun 2003 13:48:02 -0700
From: Laura Werner <laura@lwerner.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030529
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: URI query escapes
References: <3EF35AD6.3000808@lwerner.org> <3EF36E6F.1060207@u.washington.edu>
In-Reply-To: <3EF36E6F.1060207@u.washington.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Michael,

I wish I'd done a bit more digging before my original post.  It turns
out the problem is that parameters were being encoded *twice*.  We were
encoding them once on our own, then the URI constructor was encoding
them again.  My "Mountain View" example was being encoded as
"Mountain%2520View".  If we encode them only once (even with %20 rather
than +) everything works.

 >... are we correctly handling query params by URI encoding them?

Probably not.  HTTP 4.01
<http://www.w3.org/TR/html4/interact/forms.html#h-17.13.4.1> says:

> application/x-www-form-urlencoded
>
> This is the default content type. Forms submitted with this content
> type must be encoded as follows:
>
>    1. Control names and values are escaped. Space characters are
>       replaced by `+', and then reserved characters are escaped as
>       described in [RFC1738]
>       <http://www.w3.org/TR/html4/references.html#ref-RFC1738>,
>       section 2.2: Non-alphanumeric characters are replaced by `%HH',
>       a percent sign and two hexadecimal digits representing the ASCII
>       code of the character. Line breaks are represented as "CR LF"
>       pairs (i.e., `%0D%0A').
>
Section 4 says "must" means MUST in the rfc2119 sense, so I think we
have to do URL encoding rather than URI encoding for the query
parameters.  A quick replacement of ' ' with '+' followed by the usual
URI encoding might do it.

-- Laura


From becke@u.washington.edu  Fri Jun 20 21:01:04 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 23626 invoked from network); 20 Jun 2003 21:01:04 -0000
Received: from mxout4.cac.washington.edu (140.142.33.19)
  by daedalus.apache.org with SMTP; 20 Jun 2003 21:01:04 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout4.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5KL1A2Z010312
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 20 Jun 2003 14:01:10 -0700
Received: from u.washington.edu (ss05.co.us.ibm.com [32.97.110.70])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5KL18XZ022219
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 20 Jun 2003 14:01:09 -0700
Message-ID: <3EF3760F.1050903@u.washington.edu>
Date: Fri, 20 Jun 2003 17:01:03 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: URI query escapes
References: <3EF35AD6.3000808@lwerner.org> <3EF36E6F.1060207@u.washington.edu> <3EF37302.9000003@lwerner.org>
In-Reply-To: <3EF37302.9000003@lwerner.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I wish I'd done a bit more digging before my original post.  It turns
> out the problem is that parameters were being encoded *twice*.  We were
> encoding them once on our own, then the URI constructor was encoding
> them again.  My "Mountain View" example was being encoded as
> "Mountain%2520View".  If we encode them only once (even with %20 rather
> than +) everything works.

Good I'm glad that's working now.

>  >... are we correctly handling query params by URI encoding them?
>
> Probably not.  HTTP 4.01
> <http://www.w3.org/TR/html4/interact/forms.html#h-17.13.4.1> says:
>
>> application/x-www-form-urlencoded
>>
>> This is the default content type. Forms submitted with this content
>> type must be encoded as follows:
>>
>>    1. Control names and values are escaped. Space characters are
>>       replaced by `+', and then reserved characters are escaped as
>>       described in [RFC1738]
>>       <http://www.w3.org/TR/html4/references.html#ref-RFC1738>,
>>       section 2.2: Non-alphanumeric characters are replaced by `%HH',
>>       a percent sign and two hexadecimal digits representing the ASCII
>>       code of the character. Line breaks are represented as "CR LF"
>>       pairs (i.e., `%0D%0A').
>>
> Section 4 says "must" means MUST in the rfc2119 sense, so I think we
> have to do URL encoding rather than URI encoding for the query
> parameters.  A quick replacement of ' ' with '+' followed by the usual
> URI encoding might do it.

Yes, but this is for application/x-www-form-urlencoded values.
Currently we only assume this content type for post params (this was
recently fixed).  Standard query params are using the URI encoding.  The
confusing part is that it's possible to submit a form via a GET.  In
this case the params are passed in the query.  In this case should
application/x-www-form-urlencoded be used?

Mike


From laura@lwerner.org  Fri Jun 20 22:05:12 2003
Return-Path: <laura@lwerner.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 92961 invoked from network); 20 Jun 2003 22:05:12 -0000
Received: from unknown (HELO vocalsend.bevocal.com) (66.147.154.130)
  by daedalus.apache.org with SMTP; 20 Jun 2003 22:05:12 -0000
Received: from lwerner.org (speedtrap.bevocal.com [172.16.2.66])
	by vocalsend.bevocal.com (8.11.0/8.11.0) with ESMTP id h5KKHIE04111
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 20 Jun 2003 13:17:18 -0700
Message-ID: <3EF3851E.50108@lwerner.org>
Date: Fri, 20 Jun 2003 15:05:18 -0700
From: Laura Werner <laura@lwerner.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030529
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: URI query escapes
References: <3EF35AD6.3000808@lwerner.org> <3EF36E6F.1060207@u.washington.edu> <3EF37302.9000003@lwerner.org> <3EF3760F.1050903@u.washington.edu>
In-Reply-To: <3EF3760F.1050903@u.washington.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michael Becke wrote:

> Yes, but this is for application/x-www-form-urlencoded values.
> Currently we only assume this content type for post params (this was
> recently fixed).

I think we have to assume it for get params too.  In the HTTP 4.01 spec,
17.13.3.4 <http://www.w3.org/TR/html4/interact/forms.html#h-17.13.3.4>:

> If the method is "get" and the action is an HTTP URI, the user agent
> takes the value of action, appends a `?' to it, then appends the form
> data set, encoded using the "application/x-www-form-urlencoded"
> content type.  The user agent then traverses the link to this URI. In
> this scenario, form data are restricted to ASCII codes.

So urlencoded seems like the right default for "get" query parameters.

-- Laura

BTW, how do you all feel about newsgroup posts in HTML format?  I left
this one in HTML because of all the links, but I'll stop if any of you
have news readers that can't deal with it.



From anonymous@nagoya.betaversion.org  Sat Jun 21 01:26:20 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 26043 invoked from network); 21 Jun 2003 01:26:20 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Jun 2003 01:26:20 -0000
Received: (qmail 25495 invoked by uid 50); 21 Jun 2003 01:28:47 -0000
Date: 21 Jun 2003 01:28:47 -0000
Message-ID: <20030621012847.25494.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20981] New:  -
    HTTPClient trace() calls a lot of overhead; consider isTraceEnabled() test
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20981>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20981

HTTPClient trace() calls a lot of overhead; consider isTraceEnabled() test

           Summary: HTTPClient trace() calls a lot of overhead; consider
                    isTraceEnabled() test
           Product: Commons
           Version: 2.0 Beta 1
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Normal
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: gojomo@archive.org


In an application which makes heavy use of HTTPClient, the overhead from the
LOG.trace() calls -- even when trace level of logging is off -- is very high.
Wrapping these calls in an isTraceEnabled() test would probably help a lot.

From anonymous@nagoya.betaversion.org  Sat Jun 21 01:54:27 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 37781 invoked from network); 21 Jun 2003 01:54:27 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Jun 2003 01:54:27 -0000
Received: (qmail 25777 invoked by uid 50); 21 Jun 2003 01:56:54 -0000
Date: 21 Jun 2003 01:56:54 -0000
Message-ID: <20030621015654.25776.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20981]  -
    HTTPClient trace() calls a lot of overhead; consider isTraceEnabled() test
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20981>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20981

HTTPClient trace() calls a lot of overhead; consider isTraceEnabled() test





------- Additional Comments From adrian@ephox.com  2003-06-21 01:56 -------
Wrapping the calls in isTraceEnabled() would not make any difference because that's pretty much
exactly what is done in the actual trace call right off the bat.  The only reason to use
isTraceEnabled() is when the construction of the actual string passed to the call would take time to
create and this is not the case with the trace statements since they are static strings and thus are
already instantiated and ready to go.

Our only option is to remove the trace statements if we feel the improvement in performance is
worthwhile.  I would be surprised to find that the trace statements are the real bottleneck
particularly when compared with the network latency.  We'd need to do some profiling.

From emdevlin@charter.net  Sat Jun 21 03:00:36 2003
Return-Path: <emdevlin@charter.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 64761 invoked from network); 21 Jun 2003 03:00:36 -0000
Received: from remt28.cluster1.charter.net (209.225.8.38)
  by daedalus.apache.org with SMTP; 21 Jun 2003 03:00:36 -0000
Received: from [24.240.143.165] (HELO emdevlin)
  by remt28.cluster1.charter.net (CommuniGate Pro SMTP 4.0.6)
  with SMTP id 65491290 for commons-httpclient-dev@jakarta.apache.org; Fri, 20 Jun 2003 23:00:41 -0400
From: "Eric M Devlin" <emdevlin@charter.net>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: PATCH org.apache.commons.httpclient.methods.multipart.FilePart
Date: Fri, 20 Jun 2003 22:57:09 -0400
Message-ID: <LPBBIAEMNNBBCFFIMHMOMENMCCAA.emdevlin@charter.net>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0000_01C3377F.47A55E20"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <60A6465A-A2CB-11D7-AF8B-00306557E112@u.washington.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C3377F.47A55E20
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Hey Mike, Adrian & Oleg
  Got it.  Thanks for the kick in the right direction.  I wasn't seeing
addPart.  Please find attached the contrib file.  Hope it helps someone
else.  I tried to make it as apacheish as possible if it needs any changes
just let me know.  Thanks to everyone working on httpclient.  It's been a
really nice find.  I'm using to at work, but I've gotten more out of it at
home.

Eric



-----Original Message-----
From: Michael Becke [mailto:becke@u.washington.edu]
Sent: Thursday, June 19, 2003 11:01 PM
To: Commons HttpClient Project
Subject: Re: PATCH
org.apache.commons.httpclient.methods.multipart.FilePart


Eric,

You want to create the FilePart manually and then add it to the
MultipartPostMethod.  Something like:

MultipartPostMethod mpm = new MultipartPostMethod(
"http://localhost:8080/something"  );
FilePart part = new FilePart(name, file, contentType, charset);
mpm.addPart(part);

Mike

On Thursday, June 19, 2003, at 10:23 PM, Eric M Devlin wrote:

> Hey Adrian,
>   Ok, but what about what something below?
>
> MultipartPostMethod mpm = new MultipartPostMethod(
> "http://localhost:8080" +
> "/something"  );
> mpm.addParameter( "A",	new File( "/usr/dev/images/add.gif" ) );
>
> How do I set the content type for the file?  It seems either the
> addParameter needs to return FilePart which would have to have setters
> provided or an overloaded version of addParameter which accepted the
> content
> type and charset.
>
> //MultipartPostMethod
> public void addParameter(String parameterName, File parameterFile,
> String
> contentType, String charset )
>
>  -- or --
> //MultipartPostMethod
> public FilePart addParameter(String parameterName, File parameterFile )
>
> //FilePart
> public void setContentType( String contentType )
> public void setCharset( String charset )
>
> I've got the code pulled into class but without a place to apply it's
> going
> to be pretty useless. ;->  I think this is why I was putting the
> contentType
> determination in the FilePart class it self.  Just let me know.
>
> Eric
>
> -----Original Message-----
> From: Adrian Sutton [mailto:adrian@intencha.com]
> Sent: Wednesday, June 18, 2003 11:10 PM
> To: Commons HttpClient Project
> Subject: Re: PATCH
> org.apache.commons.httpclient.methods.multipart.FilePart
>
>
> Hi Eric,
> This isn't really something that should be included directly into
> HttpClient as HttpClient isn't intended to care about the actual
> content it sends and receives but just takes care of the actual HTTP
> protocol side of things.  Adding auto-mime type detection would mean
> we'd also have to provide a way to configure the default mime-types
> etc, in other words it opens a whole can of worms.
>
> However, this would be an excellent submission to the HttpClient
> contrib package, particularly if we refactor it so that instead of
> being a patch it's a complete class that extends FilePart to add the
> functionality, then it could easily be used without any changes to
> HttpClient.  Would you be happy with that course of action?  If so,
> would you like to adapt the patch into a standalone class yourself or
> would you like me to take a crack at it?  I don't mind either way.
>
> Thanks a lot for the contribution, it will definitely be useful to a
> number of people.
>
> Regards,
>
> Adrian Sutton.
>
> On Thursday, June 19, 2003, at 12:46  PM, Eric M Devlin wrote:
>
>> Hey,
>>   This is a patch which will determine the content type if null based
>> on
>> file extension.  I used the file extension mapping from
>> $TOMCAT_HOME/conf/web.xml.  As a side note, I'm having trouble sending
>> gif
>> files.  Any thoughts or a kick in the right direction would be
>> helpful.
>> Thanks and Hope It Helps
>> Eric
>> <contentTypeByExtension.txt>------------------------------------------
>> -
>> --------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org

------=_NextPart_000_0000_01C3377F.47A55E20--


From adrian@intencha.com  Sat Jun 21 04:01:07 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 88417 invoked from network); 21 Jun 2003 04:01:07 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 21 Jun 2003 04:01:07 -0000
Received: from intencha.com (unverified [150.101.178.161]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0046811589@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Fri, 20 Jun 2003 21:57:04 -0600
Date: Sat, 21 Jun 2003 14:01:21 +1000
Subject: Re: PATCH org.apache.commons.httpclient.methods.multipart.FilePart
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <LPBBIAEMNNBBCFFIMHMOMENMCCAA.emdevlin@charter.net>
Message-Id: <04ED3466-A39D-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Eric,
Thanks for your effort, unfortunately attachments don't seem to come
through on the list.  Could you create a new bug in bugzilla for this
and attach the file to that?

Thanks,

Adrian Sutton

On Saturday, June 21, 2003, at 12:57  PM, Eric M Devlin wrote:

> Hey Mike, Adrian & Oleg
>   Got it.  Thanks for the kick in the right direction.  I wasn't seeing
> addPart.  Please find attached the contrib file.  Hope it helps someone
> else.  I tried to make it as apacheish as possible if it needs any
> changes
> just let me know.  Thanks to everyone working on httpclient.  It's
> been a
> really nice find.  I'm using to at work, but I've gotten more out of
> it at
> home.
>
> Eric
>
>
>
> -----Original Message-----
> From: Michael Becke [mailto:becke@u.washington.edu]
> Sent: Thursday, June 19, 2003 11:01 PM
> To: Commons HttpClient Project
> Subject: Re: PATCH
> org.apache.commons.httpclient.methods.multipart.FilePart
>
>
> Eric,
>
> You want to create the FilePart manually and then add it to the
> MultipartPostMethod.  Something like:
>
> MultipartPostMethod mpm = new MultipartPostMethod(
> "http://localhost:8080/something"  );
> FilePart part = new FilePart(name, file, contentType, charset);
> mpm.addPart(part);
>
> Mike
>
> On Thursday, June 19, 2003, at 10:23 PM, Eric M Devlin wrote:
>
>> Hey Adrian,
>>   Ok, but what about what something below?
>>
>> MultipartPostMethod mpm = new MultipartPostMethod(
>> "http://localhost:8080" +
>> "/something"  );
>> mpm.addParameter( "A",	new File( "/usr/dev/images/add.gif" ) );
>>
>> How do I set the content type for the file?  It seems either the
>> addParameter needs to return FilePart which would have to have setters
>> provided or an overloaded version of addParameter which accepted the
>> content
>> type and charset.
>>
>> //MultipartPostMethod
>> public void addParameter(String parameterName, File parameterFile,
>> String
>> contentType, String charset )
>>
>>  -- or --
>> //MultipartPostMethod
>> public FilePart addParameter(String parameterName, File parameterFile
>> )
>>
>> //FilePart
>> public void setContentType( String contentType )
>> public void setCharset( String charset )
>>
>> I've got the code pulled into class but without a place to apply it's
>> going
>> to be pretty useless. ;->  I think this is why I was putting the
>> contentType
>> determination in the FilePart class it self.  Just let me know.
>>
>> Eric
>>
>> -----Original Message-----
>> From: Adrian Sutton [mailto:adrian@intencha.com]
>> Sent: Wednesday, June 18, 2003 11:10 PM
>> To: Commons HttpClient Project
>> Subject: Re: PATCH
>> org.apache.commons.httpclient.methods.multipart.FilePart
>>
>>
>> Hi Eric,
>> This isn't really something that should be included directly into
>> HttpClient as HttpClient isn't intended to care about the actual
>> content it sends and receives but just takes care of the actual HTTP
>> protocol side of things.  Adding auto-mime type detection would mean
>> we'd also have to provide a way to configure the default mime-types
>> etc, in other words it opens a whole can of worms.
>>
>> However, this would be an excellent submission to the HttpClient
>> contrib package, particularly if we refactor it so that instead of
>> being a patch it's a complete class that extends FilePart to add the
>> functionality, then it could easily be used without any changes to
>> HttpClient.  Would you be happy with that course of action?  If so,
>> would you like to adapt the patch into a standalone class yourself or
>> would you like me to take a crack at it?  I don't mind either way.
>>
>> Thanks a lot for the contribution, it will definitely be useful to a
>> number of people.
>>
>> Regards,
>>
>> Adrian Sutton.
>>
>> On Thursday, June 19, 2003, at 12:46  PM, Eric M Devlin wrote:
>>
>>> Hey,
>>>   This is a patch which will determine the content type if null based
>>> on
>>> file extension.  I used the file extension mapping from
>>> $TOMCAT_HOME/conf/web.xml.  As a side note, I'm having trouble
>>> sending
>>> gif
>>> files.  Any thoughts or a kick in the right direction would be
>>> helpful.
>>> Thanks and Hope It Helps
>>> Eric
>>> <contentTypeByExtension.txt>-----------------------------------------
>>> -
>>> -
>>> --------------------------
>>> To unsubscribe, e-mail:
>>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail:
>>> commons-httpclient-dev-help@jakarta.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org


From adrian@intencha.com  Sat Jun 21 08:26:44 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 95733 invoked from network); 21 Jun 2003 08:26:44 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 21 Jun 2003 08:26:44 -0000
Received: from intencha.com (unverified [150.101.178.161]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0046824710@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Sat, 21 Jun 2003 02:22:44 -0600
Date: Sat, 21 Jun 2003 18:27:04 +1000
Subject: Re: NTLM Documentation
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <61BA3706-A2BD-11D7-A033-000393016056@intencha.com>
Message-Id: <23B10A60-A3C2-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The link has now been added in CVS and will appear next time the site
is updated.

Thanks Eric,

Adrian Sutton.

On Friday, June 20, 2003, at 11:20  AM, Adrian Sutton wrote:

> Eric,
> Thanks for pointing this out.  I will add a link to it to the
> HttpClient NTLM authentication for those who are curious about the
> more technical details.
>
> Regards,
>
> Adrian Sutton.
>
> On Friday, June 20, 2003, at 11:12  AM, Eric wrote:
>
>> Hello,
>>
>> I have been putting together a (relatively) comprehensive
>> documentation of NTLM and its use in various protocols; this is now
>> up and available at:
>>
>> http://davenport.sourceforge.net/ntlm.html
>>
>> I figured there might be interest on this list; it only touches
>> briefly on NTLM HTTP authentication in particular, but is very
>> detailed on the underlying NTLM messages.  Thanks!
>>
>> Eric
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From anonymous@nagoya.betaversion.org  Sat Jun 21 13:39:25 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 25300 invoked from network); 21 Jun 2003 13:39:25 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Jun 2003 13:39:25 -0000
Received: (qmail 3986 invoked by uid 50); 21 Jun 2003 13:41:45 -0000
Date: 21 Jun 2003 13:41:45 -0000
Message-ID: <20030621134145.3985.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20986] New:  -
    Contributed utility for determing content type from file type extension
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20986>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20986

Contributed utility for determing content type from file type extension

           Summary: Contributed utility for determing content type from file
                    type extension
           Product: Commons
           Version: 2.0 Beta 2
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: emdevlin@charter.net


/*
 * ====================================================================
 *
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2002-2003 The Apache Software Foundation.  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution, if
 *    any, must include the following acknowlegement:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowlegement may appear in the software itself,
 *    if and wherever such third-party acknowlegements normally appear.
 *
 * 4. The names "The Jakarta Project", "Commons", and "Apache Software
 *    Foundation" must not be used to endorse or promote products derived
 *    from this software without prior written permission. For written
 *    permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache"
 *    nor may "Apache" appear in their names without prior written
 *    permission of the Apache Group.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * ====================================================================
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 *
 * [Additional notices, if required by prior licensing conditions]
 *
 */

package org.apache.commons.httpclient.contrib.utils;

import java.io.File;
import java.io.IOException;

/**
 * This class provides mappings from file name extensions to content types.
 *
 * @author <a href="mailto:emdevlin@charter.net">Eric Devlin</a>
 *
 * DISCLAIMER: HttpClient developers DO NOT actively support this component.
 * The component is provided as a reference material, which may be inappropriate
 * to be used without additional customization.
 */

public class ContentType {

	/** Mime Type mappings 'liberated' from Tomcat4.1.18/conf/web.xml*/
	public static final String[][] MIME_TYPE_MAPPINGS =
		{	{ "abs",		"audio/x-mpeg" },
			{ "ai",			"application/postscript" },
			{ "aif",		"audio/x-aiff" },
			{ "aifc",		"audio/x-aiff" },
			{ "aiff",		"audio/x-aiff" },
			{ "aim",		"application/x-aim" },
			{ "art",		"image/x-jg" },
			{ "asf",		"video/x-ms-asf" },
			{ "asx",		"video/x-ms-asf" },
			{ "au",			"audio/basic" },
			{ "avi",		"video/x-msvideo" },
			{ "avx",		"video/x-rad-screenplay" },
			{ "bcpio",		"application/x-bcpio" },
			{ "bin",		"application/octet-stream" },
			{ "bmp",		"image/bmp" },
			{ "body",		"text/html" },
			{ "cdf",		"application/x-cdf" },
			{ "cer",		"application/x-x509-ca-cert" },
			{ "class",		"application/java" },
			{ "cpio",		"application/x-cpio" },
			{ "csh",		"application/x-csh" },
			{ "css",		"text/css" },
			{ "dib",		"image/bmp" },
			{ "doc",		"application/msword" },
			{ "dtd",		"text/plain" },
			{ "dv",			"video/x-dv" },
			{ "dvi",		"application/x-dvi" },
			{ "eps",		"application/postscript" },
			{ "etx",		"text/x-setext" },
			{ "exe",		"application/octet-stream" },
			{ "gif",		"image/gif" },
			{ "gtar",		"application/x-gtar" },
			{ "gz",			"application/x-gzip" },
			{ "hdf",		"application/x-hdf" },
			{ "hqx",		"application/mac-binhex40" },
			{ "htc",		"text/x-component" },
			{ "htm",		"text/html" },
			{ "html",		"text/html" },
			{ "hqx",		"application/mac-binhex40" },
			{ "ief",		"image/ief" },
			{ "jad",		"text/vnd.sun.j2me.app-
descriptor" },
			{ "jar",		"application/java-archive" },
			{ "java",		"text/plain" },
			{ "jnlp",		"application/x-java-jnlp-
file" },
			{ "jpe",		"image/jpeg" },
			{ "jpeg",		"image/jpeg" },
			{ "jpg",		"image/jpeg" },
			{ "js",			"text/javascript" },
			{ "jsf",		"text/plain" },
			{ "jspf",		"text/plain" },
			{ "kar",		"audio/x-midi" },
			{ "latex",		"application/x-latex" },
			{ "m3u",		"audio/x-mpegurl" },
			{ "mac",		"image/x-macpaint" },
			{ "man",		"application/x-troff-man" },
			{ "me",			"application/x-troff-me" },
			{ "mid",		"audio/x-midi" },
			{ "midi",		"audio/x-midi" },
			{ "mif",		"application/x-mif" },
			{ "mov",		"video/quicktime" },
			{ "movie",		"video/x-sgi-movie" },
			{ "mp1",		"audio/x-mpeg" },
			{ "mp2",		"audio/x-mpeg" },
			{ "mp3",		"audio/x-mpeg" },
			{ "mpa",		"audio/x-mpeg" },
			{ "mpe",		"video/mpeg" },
			{ "mpeg",		"video/mpeg" },
			{ "mpega",		"audio/x-mpeg" },
			{ "mpg",		"video/mpeg" },
			{ "mpv2",		"video/mpeg2" },
			{ "ms",			"application/x-wais-source" },
			{ "nc",			"application/x-netcdf" },
			{ "oda",		"application/oda" },
			{ "pbm",		"image/x-portable-bitmap" },
			{ "pct",		"image/pict" },
			{ "pdf",		"application/pdf" },
			{ "pgm",		"image/x-portable-graymap" },
			{ "pic",		"image/pict" },
			{ "pict",		"image/pict" },
			{ "pls",		"audio/x-scpls" },
			{ "png",		"image/png" },
			{ "pnm",		"image/x-portable-anymap" },
			{ "pnt",		"image/x-macpaint" },
			{ "ppm",		"image/x-portable-pixmap" },
			{ "ps",			"application/postscript" },
			{ "psd",		"image/x-photoshop" },
			{ "qt",			"video/quicktime" },
			{ "qti",		"image/x-quicktime" },
			{ "qtif",		"image/x-quicktime" },
			{ "ras",		"image/x-cmu-raster" },
			{ "rgb",		"image/x-rgb" },
			{ "rm",			"application/vnd.rn-
realmedia" },
			{ "roff",		"application/x-troff" },
			{ "rtf",		"application/rtf" },
			{ "rtx",		"text/richtext" },
			{ "sh",			"application/x-sh" },
			{ "shar",		"application/x-shar" },
			{ "smf",		"audio/x-midi" },
			{ "snd",		"audio/basic" },
			{ "src",		"application/x-wais-source" },
			{ "sv4cpio",	"application/x-sv4cpio" },
			{ "sv4crc",		"application/x-sv4crc" },
			{ "swf",		"application/x-shockwave-
flash" },
			{ "t",			"application/x-troff" },
			{ "tar",		"application/x-tar" },
			{ "tcl",		"application/x-tcl" },
			{ "tex",		"application/x-tex" },
			{ "texi",		"application/x-texinfo" },
			{ "texinfo",	"application/x-texinfo" },
			{ "tif",		"image/tiff" },
			{ "tiff",		"image/tiff" },
			{ "tr",			"application/x-troff" },
			{ "tsv",		"text/tab-separated-values" },
			{ "txt",		"text/plain" },
			{ "ulw",		"audio/basic" },
			{ "ustar",		"application/x-ustar" },
			{ "xbm",		"image/x-xbitmap" },
			{ "xml",		"text/xml" },
			{ "xpm",		"image/x-xpixmap" },
			{ "xsl",		"text/xml" },
			{ "xwd",		"image/x-xwindowdump" },
			{ "wav",		"audio/x-wav" },
			{ "svg",		"image/svg+xml" },
			{ "svgz",		"image/svg+xml" },
			{ "wbmp",		"image/vnd.wap.wbmp" },
			{ "wml",		"text/vnd.wap.wml" },
			{ "wmlc",		"application/vnd.wap.wmlc" },
			{ "wmls",		"text/vnd.wap.wmlscript" },
			{ "wmlscriptc",	"application/vnd.wap.wmlscriptc" },
			{ "wrl",		"x-world/x-vrml" },
			{ "Z",			"application/x-compress" },
			{ "z",			"application/x-compress" },
			{ "zip",		"application/zip" } };

    /**
     * Get the content type based on the extension of the file name<br>
     *
     * @param fileName for which the content type is to be determined.
     *
     * @return the content type for the file or null if no mapping was
     * possible.
     */
	public static String get( String fileName  ) {
		String contentType = null;

		if ( fileName != null ) {
			int extensionIndex = fileName.lastIndexOf( '.' );
			if ( extensionIndex != -1 ) {
				if ( extensionIndex + 1 < fileName.length() ) {
					String extension = fileName.substring(
extensionIndex + 1 );
					for( int i = 0; i <
MIME_TYPE_MAPPINGS.length; i++ ) {
						if ( extension.equals(
MIME_TYPE_MAPPINGS[i][0] ) ) {
							contentType =
MIME_TYPE_MAPPINGS[i][1];
							break;
						}
					}
				}
			}
		}

		return contentType;
	}

    /**
     * Get the content type based on the extension of the file name<br>
     *
     * @param file for which the content type is to be determined.
     *
     * @return the content type for the file or null if no mapping was
     * possible.
     *
     * @throws IOException if the construction of the canonical path for
	 * the file fails.
     */
	public static String get( File file )
		throws IOException
	{
		String contentType = null;

		if ( file != null ) {

			contentType = get( file.getCanonicalPath() );
		}

		return contentType;
	}
}

From anonymous@nagoya.betaversion.org  Sat Jun 21 13:42:07 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 26177 invoked from network); 21 Jun 2003 13:42:07 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 21 Jun 2003 13:42:07 -0000
Received: (qmail 4041 invoked by uid 50); 21 Jun 2003 13:44:27 -0000
Date: 21 Jun 2003 13:44:27 -0000
Message-ID: <20030621134427.4040.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20986]  -
    Contributed utility for determing content type from file type extension
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20986>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20986

Contributed utility for determing content type from file type extension





------- Additional Comments From emdevlin@charter.net  2003-06-21 13:44 -------
Created an attachment (id=6927)
source code

From emdevlin@charter.net  Sat Jun 21 13:46:37 2003
Return-Path: <emdevlin@charter.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 27975 invoked from network); 21 Jun 2003 13:46:37 -0000
Received: from remt29.cluster1.charter.net (209.225.8.39)
  by daedalus.apache.org with SMTP; 21 Jun 2003 13:46:37 -0000
Received: from [24.240.143.165] (HELO emdevlin)
  by remt29.cluster1.charter.net (CommuniGate Pro SMTP 4.0.6)
  with SMTP id 55271081 for commons-httpclient-dev@jakarta.apache.org; Sat, 21 Jun 2003 09:46:37 -0400
From: "Eric M Devlin" <emdevlin@charter.net>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: PATCH org.apache.commons.httpclient.methods.multipart.FilePart
Date: Sat, 21 Jun 2003 09:43:08 -0400
Message-ID: <LPBBIAEMNNBBCFFIMHMOOENNCCAA.emdevlin@charter.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <04ED3466-A39D-11D7-A033-000393016056@intencha.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hey Adrian,
	Its in http://issues.apache.org/bugzilla/show_bug.cgi?id=20986 I put it
source in the description and attached it.
Eric

-----Original Message-----
From: Adrian Sutton [mailto:adrian@intencha.com]
Sent: Saturday, June 21, 2003 12:01 AM
To: Commons HttpClient Project
Subject: Re: PATCH
org.apache.commons.httpclient.methods.multipart.FilePart


Hi Eric,
Thanks for your effort, unfortunately attachments don't seem to come
through on the list.  Could you create a new bug in bugzilla for this
and attach the file to that?

Thanks,

Adrian Sutton

On Saturday, June 21, 2003, at 12:57  PM, Eric M Devlin wrote:

> Hey Mike, Adrian & Oleg
>   Got it.  Thanks for the kick in the right direction.  I wasn't seeing
> addPart.  Please find attached the contrib file.  Hope it helps someone
> else.  I tried to make it as apacheish as possible if it needs any
> changes
> just let me know.  Thanks to everyone working on httpclient.  It's
> been a
> really nice find.  I'm using to at work, but I've gotten more out of
> it at
> home.
>
> Eric
>
>
>
> -----Original Message-----
> From: Michael Becke [mailto:becke@u.washington.edu]
> Sent: Thursday, June 19, 2003 11:01 PM
> To: Commons HttpClient Project
> Subject: Re: PATCH
> org.apache.commons.httpclient.methods.multipart.FilePart
>
>
> Eric,
>
> You want to create the FilePart manually and then add it to the
> MultipartPostMethod.  Something like:
>
> MultipartPostMethod mpm = new MultipartPostMethod(
> "http://localhost:8080/something"  );
> FilePart part = new FilePart(name, file, contentType, charset);
> mpm.addPart(part);
>
> Mike
>
> On Thursday, June 19, 2003, at 10:23 PM, Eric M Devlin wrote:
>
>> Hey Adrian,
>>   Ok, but what about what something below?
>>
>> MultipartPostMethod mpm = new MultipartPostMethod(
>> "http://localhost:8080" +
>> "/something"  );
>> mpm.addParameter( "A",	new File( "/usr/dev/images/add.gif" ) );
>>
>> How do I set the content type for the file?  It seems either the
>> addParameter needs to return FilePart which would have to have setters
>> provided or an overloaded version of addParameter which accepted the
>> content
>> type and charset.
>>
>> //MultipartPostMethod
>> public void addParameter(String parameterName, File parameterFile,
>> String
>> contentType, String charset )
>>
>>  -- or --
>> //MultipartPostMethod
>> public FilePart addParameter(String parameterName, File parameterFile
>> )
>>
>> //FilePart
>> public void setContentType( String contentType )
>> public void setCharset( String charset )
>>
>> I've got the code pulled into class but without a place to apply it's
>> going
>> to be pretty useless. ;->  I think this is why I was putting the
>> contentType
>> determination in the FilePart class it self.  Just let me know.
>>
>> Eric
>>
>> -----Original Message-----
>> From: Adrian Sutton [mailto:adrian@intencha.com]
>> Sent: Wednesday, June 18, 2003 11:10 PM
>> To: Commons HttpClient Project
>> Subject: Re: PATCH
>> org.apache.commons.httpclient.methods.multipart.FilePart
>>
>>
>> Hi Eric,
>> This isn't really something that should be included directly into
>> HttpClient as HttpClient isn't intended to care about the actual
>> content it sends and receives but just takes care of the actual HTTP
>> protocol side of things.  Adding auto-mime type detection would mean
>> we'd also have to provide a way to configure the default mime-types
>> etc, in other words it opens a whole can of worms.
>>
>> However, this would be an excellent submission to the HttpClient
>> contrib package, particularly if we refactor it so that instead of
>> being a patch it's a complete class that extends FilePart to add the
>> functionality, then it could easily be used without any changes to
>> HttpClient.  Would you be happy with that course of action?  If so,
>> would you like to adapt the patch into a standalone class yourself or
>> would you like me to take a crack at it?  I don't mind either way.
>>
>> Thanks a lot for the contribution, it will definitely be useful to a
>> number of people.
>>
>> Regards,
>>
>> Adrian Sutton.
>>
>> On Thursday, June 19, 2003, at 12:46  PM, Eric M Devlin wrote:
>>
>>> Hey,
>>>   This is a patch which will determine the content type if null based
>>> on
>>> file extension.  I used the file extension mapping from
>>> $TOMCAT_HOME/conf/web.xml.  As a side note, I'm having trouble
>>> sending
>>> gif
>>> files.  Any thoughts or a kick in the right direction would be
>>> helpful.
>>> Thanks and Hope It Helps
>>> Eric
>>> <contentTypeByExtension.txt>-----------------------------------------
>>> -
>>> -
>>> --------------------------
>>> To unsubscribe, e-mail:
>>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail:
>>> commons-httpclient-dev-help@jakarta.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From becke@u.washington.edu  Sat Jun 21 16:16:42 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 90270 invoked from network); 21 Jun 2003 16:16:42 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 21 Jun 2003 16:16:42 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout3.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5LGGi6S008140
	for <commons-httpclient-dev@jakarta.apache.org>; Sat, 21 Jun 2003 09:16:44 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5LGGg49014739
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sat, 21 Jun 2003 09:16:43 -0700
Date: Sat, 21 Jun 2003 12:16:41 -0400
Subject: form urlencoding, was Re: URI query escapes
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EF3851E.50108@lwerner.org>
Message-Id: <BE5D5547-A403-11D7-82B9-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Laura,

After looking into this some more I agree that query parameters should
be form urlencoded.  The query param=value convention is an HTML
specification and has nothing to do with URIs.  Fortunately it turns
out that form urlencoded values conform to the specification for URI
queries.

While investigating this question I discovered something else about
form urlencoding that is strange.  It seems that the characters *, -, _
and . are not encoded by browsers (IE, Mozilla and Safari).  I am not
sure why this is from reading the spec but it seems fairly consistent.
I am also wondering why we are not using the java.net.URLEncoder for
this (is also does not encode *-_.).

I propose that we:

  - form urlencode values passed to
HttpMethodBase.setQueryString(NameValuePair[])
  - use java.net.URLEncoder for form urlencoding

Any thoughts, objections?

Mike

On Friday, June 20, 2003, at 06:05 PM, Laura Werner wrote:

> Michael Becke wrote:
>
>> Yes, but this is for application/x-www-form-urlencoded values.
>> Currently we only assume this content type for post params (this was
>> recently fixed).
>
> I think we have to assume it for get params too.  In the HTTP 4.01
> spec, 17.13.3.4
> <http://www.w3.org/TR/html4/interact/forms.html#h-17.13.3.4>:
>
>> If the method is "get" and the action is an HTTP URI, the user agent
>> takes the value of action, appends a `?' to it, then appends the form
>> data set, encoded using the "application/x-www-form-urlencoded"
>> content type.  The user agent then traverses the link to this URI. In
>> this scenario, form data are restricted to ASCII codes.
>
> So urlencoded seems like the right default for "get" query parameters.
>
> -- Laura
>
> BTW, how do you all feel about newsgroup posts in HTML format?  I left
> this one in HTML because of all the links, but I'll stop if any of you
> have news readers that can't deal with it.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From colinbird@golden.net  Sat Jun 21 21:44:16 2003
Return-Path: <colinbird@golden.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 43040 invoked from network); 21 Jun 2003 21:44:16 -0000
Received: from niobium.golden.net (199.166.210.90)
  by daedalus.apache.org with SMTP; 21 Jun 2003 21:44:16 -0000
Received: from burrito (190-200.SPEEDe.golden.net [216.75.190.200])
	by niobium.golden.net (8.11.6/8.10.1) with ESMTP id h5LLiMX08272
	for <commons-httpclient-dev@jakarta.apache.org>; Sat, 21 Jun 2003 17:44:22 -0400 (EDT)
From: "Colin Bird" <colinbird@golden.net>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: not working with IIS for digest
Date: Sat, 21 Jun 2003 17:44:16 -0400
Message-ID: <000501c3383e$46a25f40$0100a8c0@burrito>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE57A@kccxoex06.corp.kpmgconsulting.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



I don't have internet at work, so it's hard for me to get logs to you
guys, but basically I'm using IIS 5.1 and the digest always causes a 500
internal server error.  The exact same credentials for NTLM and Basic
work fine, has anyone else tried using digest with IIS ?

I'll try to bring some logs home on a disk next week.

Thanks again

-----Original Message-----
From: Kalnichevski, Oleg [mailto:oleg.kalnichevski@bearingpoint.com]
Sent: Friday, June 20, 2003 4:43 AM
To: Commons HttpClient Project
Subject: RE: not working with IIS for digest

Colin,
DIGEST authentication works fine with Apache 2.0 (I just tested it) and
*should* work with IIS. Please note that the server returns status code
500 which means internal server error, not an authentication error.

In order to pinpoint the problem, we'll need a bit of help from your
side. Please, first of all, refer to the following troubleshooting
guide:

http://jakarta.apache.org/commons/httpclient/troubleshooting.html

If none of the measures described there helps, please get back to us
with the wire log of the HTTP session that exhibits the problem

Cheers

Oleg





-----Original Message-----
From:	Colin Bird [mailto:colinbird@golden.net]
Sent:	Fri 6/20/2003 08:25
To:	'Commons HttpClient Project'
Cc:
Subject:	not working with IIS for digest
Hey, I've got httpclient working fine in basic and ntlm mode with IIS,
but digest always gives me a 500 error - can't authenticate the host in
the given domain or whatever.  Has anyone else had this problem?  Also,
how can I extract the authentication line so that I can store it and use
it right away the next time I get the same request?

Thanks a lot !

Colin


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org







From adrian@intencha.com  Sat Jun 21 22:15:46 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 59043 invoked from network); 21 Jun 2003 22:15:46 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 21 Jun 2003 22:15:46 -0000
Received: from intencha.com (unverified [150.101.178.161]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0056064244@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Sat, 21 Jun 2003 16:12:57 -0600
Date: Sun, 22 Jun 2003 08:16:02 +1000
Subject: Re: form urlencoding, was Re: URI query escapes
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <BE5D5547-A403-11D7-82B9-00306557E112@u.washington.edu>
Message-Id: <F1B8E3C6-A435-11D7-A033-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

>  I am also wondering why we are not using the java.net.URLEncoder for
> this (is also does not encode *-_.).

I know in the product we develop, we switched away from using
java.net.URLEncoder because it didn't work properly.  Unfortunately the
decision was made before my time so I'm not entirely sure of the
details and it could well be that the bugs were only present back in
JRE 1.1.  I'd say that if we have our own code already I'd continue to
use it, but if not just test java.net.URLEncoder and I'll see if I can
find out from some of the old timers at work exactly why we don't use
it.

I've known us to not use something for legacy reasons or because it
showed up bugs in our code as well, so don't take this as an objection,
just a word of caution.

> Mike

Regards,

Adrian Sutton


From laura@lwerner.org  Sun Jun 22 03:47:40 2003
Return-Path: <laura@lwerner.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 63861 invoked from network); 22 Jun 2003 03:47:40 -0000
Received: from mta4.rcsntx.swbell.net (151.164.30.28)
  by daedalus.apache.org with SMTP; 22 Jun 2003 03:47:40 -0000
Received: from lwerner.org (adsl-216-103-214-222.dsl.snfc21.pacbell.net [216.103.214.222])
	by mta4.rcsntx.swbell.net (8.12.9/8.12.3) with ESMTP id h5M3ln8I026372
	for <commons-httpclient-dev@jakarta.apache.org>; Sat, 21 Jun 2003 22:47:50 -0500 (CDT)
Message-ID: <3EF526E5.8000002@lwerner.org>
Date: Sat, 21 Jun 2003 20:47:49 -0700
From: Laura Werner <laura@lwerner.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030529
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: form urlencoding, was Re: URI query escapes
References: <F1B8E3C6-A435-11D7-A033-000393016056@intencha.com>
In-Reply-To: <F1B8E3C6-A435-11D7-A033-000393016056@intencha.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michael Becke wrote:

> I propose that we:
>   - form urlencode values passed to
> HttpMethodBase.setQueryString(NameValuePair[])
>  - use java.net.URLEncoder for form urlencoding

I agree, as long as URLEncoder seems to work.

Do you think we need to modify URI so that it uses URLEncoder to encode
the query part of URIs?  In cases where a client has a URL string that
may or may not contain query parameters, it would lead to a slightly
more natural API usage:
  HttpMethod meth = new GetMethod(new URI(urlString));
as opposed to
  String query = null;
  int index = urlString.indexOf('?');
  if (index != -1) {
    query = urlString.substring(index+1);
    urlString = urlString.substring(0, index);
  }
  HttpMethod meth = new GetMethod(new URI(urlString));
  meth.setQueryString(java.net.URLEncoder.encode(query));
or something like that, with error checking of course.

I'm not sure how much I care, though.  If my fetching code had been
constructed using the HttpClient code from scratch, I wouldn't even have
the query parameters in the string in the first place; I'd just add them
with setQueryString.

I'll see if I can work up a preliminary patch for this stuff later
tonight or tomorrow morning.

Adrian Sutton wrote:

> I know in the product we develop, we switched away from using
> java.net.URLEncoder because it didn't work properly

FWIW, we're using it and haven't seen any problems.  But we've been on
1.2 or higher since I started at BeVocal.  (We're moving to 1.4 now
because the server VM performance is *much* better.)

--Laura



From becke@u.washington.edu  Sun Jun 22 04:04:52 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 74884 invoked from network); 22 Jun 2003 04:04:52 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 22 Jun 2003 04:04:52 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5M4525c031451
	for <commons-httpclient-dev@jakarta.apache.org>; Sat, 21 Jun 2003 21:05:02 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5M45049026254
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sat, 21 Jun 2003 21:05:01 -0700
Date: Sun, 22 Jun 2003 00:04:59 -0400
Subject: Re: form urlencoding, was Re: URI query escapes
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <F1B8E3C6-A435-11D7-A033-000393016056@intencha.com>
Message-Id: <B12E836A-A466-11D7-82B9-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I know in the product we develop, we switched away from using
> java.net.URLEncoder because it didn't work properly.  Unfortunately
> the decision was made before my time so I'm not entirely sure of the
> details and it could well be that the bugs were only present back in
> JRE 1.1.  I'd say that if we have our own code already I'd continue to
> use it, but if not just test java.net.URLEncoder and I'll see if I can
> find out from some of the old timers at work exactly why we don't use
> it.
>
> I've known us to not use something for legacy reasons or because it
> showed up bugs in our code as well, so don't take this as an
> objection, just a word of caution.

My only guess is that URLEncoder may not handle character encodings
correctly.  I agree that we might as well stick with the code we
already have (once fixed).

Mike


From becke@u.washington.edu  Sun Jun 22 04:45:43 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 85663 invoked from network); 22 Jun 2003 04:45:43 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 22 Jun 2003 04:45:43 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout3.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5M4jr6S002176
	for <commons-httpclient-dev@jakarta.apache.org>; Sat, 21 Jun 2003 21:45:53 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5M4jp49026887
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sat, 21 Jun 2003 21:45:52 -0700
Date: Sun, 22 Jun 2003 00:45:50 -0400
Subject: Re: form urlencoding, was Re: URI query escapes
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EF526E5.8000002@lwerner.org>
Message-Id: <661E523A-A46C-11D7-82B9-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Saturday, June 21, 2003, at 11:47 PM, Laura Werner wrote:

> I agree, as long as URLEncoder seems to work.
>
> Do you think we need to modify URI so that it uses URLEncoder to
> encode the query part of URIs?  In cases where a client has a URL
> string that may or may not contain query parameters, it would lead to
> a slightly more natural API usage:
>  HttpMethod meth = new GetMethod(new URI(urlString));
> as opposed to
>  String query = null;
>  int index = urlString.indexOf('?');
>  if (index != -1) {
>    query = urlString.substring(index+1);
>    urlString = urlString.substring(0, index);
>  }
>  HttpMethod meth = new GetMethod(new URI(urlString));
>  meth.setQueryString(java.net.URLEncoder.encode(query));
> or something like that, with error checking of course.

I don't think URI should be doing any form urlencoding.  The URI spec
does not use the concept of query params.  It just treats the entire
query as a single entity.

Also, when creating a URI containing query params, the params must be
encoded before the URI is generated otherwise it will not be parsable.
For example, when creating a URI with the following query params:

Name	Value
param1	value&1
param2	value=2

If not pre-encoded, the URI would look something like
"http://host/path?param1=value&1&param2=value=2".

Once joined together it is too late to encode.  This is why the
HttpMethod(String) constructor assumes that all URIs are already
encoded, as it is not possible to correctly encoded them after the fact.

Please let me know if you will be writing some code for this as I will
take care of it tomorrow otherwise.

Mike


From olegk@apache.org  Sun Jun 22 21:58:02 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 44178 invoked from network); 22 Jun 2003 21:58:02 -0000
Received: from mail5.bluewin.ch (195.186.1.207)
  by daedalus.apache.org with SMTP; 22 Jun 2003 21:58:02 -0000
Received: from olddude.tislab.ch (81.62.121.15) by mail5.bluewin.ch (Bluewin AG 7.0.015)
        id 3EF186D40004FBAF for commons-httpclient-dev@jakarta.apache.org; Sun, 22 Jun 2003 21:58:07 +0000
Subject: Re: form urlencoding, was Re: URI query escapes
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <B12E836A-A466-11D7-82B9-00306557E112@u.washington.edu>
References: <B12E836A-A466-11D7-82B9-00306557E112@u.washington.edu>
Content-Type: text/plain
Message-Id: <1056319080.1936.16.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 22 Jun 2003 23:58:00 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Mike, Laura, Adrian

In their pre-Java 1.4.1 form URLEncoder/URLDecoder classes are pretty
much unusable, as these classes always use default system charset, which
sometimes is not good enough. For instance, there's no way to properly
encode strings that simultaneously contain Cyrillic letters and Latin
accents, as both KOI8-R (default Russian encoding on Unix platforms) &
Win1251  (default Russian encoding on Windows platforms) are 8bit
charsets. One would need to use UTF-8, however, standard pre-Java 1.4
URLEncoder does not provide a means of specifying an alternative
charset.

We have to live with URIUtil for 2.0 release. In the future I would
suggest moving URL encoding logic into Commons-Codec

Oleg


> My only guess is that URLEncoder may not handle character encodings
> correctly.  I agree that we might as well stick with the code we
> already have (once fixed).
>
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From byosmosis@hotmail.com  Mon Jun 23 02:34:07 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 3338 invoked from network); 23 Jun 2003 02:34:07 -0000
Received: from bay1-dav38.bay1.hotmail.com (HELO hotmail.com) (65.54.244.95)
  by daedalus.apache.org with SMTP; 23 Jun 2003 02:34:07 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sun, 22 Jun 2003 19:34:17 -0700
Received: from 211.235.188.62 by bay1-dav38.bay1.hotmail.com with DAV;
	Mon, 23 Jun 2003 02:34:16 +0000
X-Originating-IP: [211.235.188.62]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <B12E836A-A466-11D7-82B9-00306557E112@u.washington.edu> <1056319080.1936.16.camel@kczrh-okt22.corp.bearingpoint.com>
Subject: Re: form urlencoding, was Re: URI query escapes
Date: Mon, 23 Jun 2003 11:33:58 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV38xfYXFrwiZ00025192@hotmail.com>
X-OriginalArrivalTime: 23 Jun 2003 02:34:17.0057 (UTC) FILETIME=[F144CD10:01C3392F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> If not pre-encoded, the URI would look something like
> "http://host/path?param1=value&1¢Òm2=value=2".
>
> Once joined together it is too late to encode.  This is why the
> HttpMethod(String) constructor assumes that all URIs are already
> encoded, as it is not possible to correctly encoded them after the fact.
>
> Please let me know if you will be writing some code for this as I will
> take care of it tomorrow otherwise.

When you regard an URI class as URI core manipulation (It means you never
manipulate any URI components in your code yourself, here in any of
commons-httpclient) in your whole code, it doesn't matter...
Because my URI maniuplates both escaped and unscaped components correctly...
That's the point for the real use of the URI class.   It considers URI on
user side (escaped & unscaped) and even communication side (probably only
escaped preffered).

Sung-Gu

From anonymous@nagoya.betaversion.org  Mon Jun 23 03:11:33 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 39627 invoked from network); 23 Jun 2003 03:11:33 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Jun 2003 03:11:33 -0000
Received: (qmail 16738 invoked by uid 50); 23 Jun 2003 03:14:03 -0000
Date: 23 Jun 2003 03:14:03 -0000
Message-ID: <20030623031403.16737.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding

becke@u.washington.edu changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|RESOLVED                    |REOPENED
         Resolution|FIXED                       |



------- Additional Comments From becke@u.washington.edu  2003-06-23 03:14 -------
Query params should also be form urlencoded.

http://marc.theaimsgroup.com/?t=105621236900001&r=1&w=2

From anonymous@nagoya.betaversion.org  Mon Jun 23 03:11:59 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 39932 invoked from network); 23 Jun 2003 03:11:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Jun 2003 03:11:59 -0000
Received: (qmail 16759 invoked by uid 50); 23 Jun 2003 03:14:29 -0000
Date: 23 Jun 2003 03:14:29 -0000
Message-ID: <20030623031429.16758.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding





------- Additional Comments From becke@u.washington.edu  2003-06-23 03:14 -------
Created an attachment (id=6933)
patch2

From anonymous@nagoya.betaversion.org  Mon Jun 23 03:15:02 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 40927 invoked from network); 23 Jun 2003 03:15:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Jun 2003 03:15:02 -0000
Received: (qmail 16805 invoked by uid 50); 23 Jun 2003 03:17:33 -0000
Date: 23 Jun 2003 03:17:33 -0000
Message-ID: <20030623031733.16804.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding





------- Additional Comments From becke@u.washington.edu  2003-06-23 03:17 -------
This patch includes the following:

 - form urlencoding no longer encodes *-_.
 - the urlencoding method has been moved to HttpMethodBase
 - HttpMethodBase.setQueryString(NameValuePair[]) now urlencodes values.

From byosmosis@hotmail.com  Mon Jun 23 03:24:58 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 47717 invoked from network); 23 Jun 2003 03:24:58 -0000
Received: from bay1-dav23.bay1.hotmail.com (HELO hotmail.com) (65.54.244.80)
  by daedalus.apache.org with SMTP; 23 Jun 2003 03:24:58 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sun, 22 Jun 2003 20:25:08 -0700
Received: from 211.235.188.62 by bay1-dav23.bay1.hotmail.com with DAV;
	Mon, 23 Jun 2003 03:25:08 +0000
X-Originating-IP: [211.235.188.62]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: Fw: URI & URIUtil as a separate Commons project?
Date: Mon, 23 Jun 2003 12:24:52 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV23BLEBwywzW0000a705@hotmail.com>
X-OriginalArrivalTime: 23 Jun 2003 03:25:08.0920 (UTC) FILETIME=[0C522380:01C33937]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


----- Original Message -----
From: "Sung-Gu" <jericho@apache.org>
To: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
Sent: Monday, June 23, 2003 11:47 AM
Subject: Re: URI & URIUtil as a separate Commons project?


> >
> > ----- Original Message -----
> > From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
> > Subject: URI & URIUtil as a separate Commons project?
> >
> > I must confess I have had a change of heart on this issue. I am no more
> convinced that URI & URIUtil classes should be spun off into a Commons
> project of its own.
> >
> > 1) URL encoding logic that constitutes almost a half of the reusable
code
> in URI related classes clearly belongs to Commons-Codec package. URL
> encoding & decoding functions should be merged with Commons-Codec rather
> than spun off. HttpClient will introduce Commons-Codec as a dependency in
> the future. So, we should rather extend the existing frameworks, not
create
> competing ones.
>
> Hmm...  looks like... most're intersted in some uri encoding methods. (at
> least in the mailing list)
> However, I will say that URI is generally a parser for some purposes with
> having some coder feature.
>
> As I look into Commons-Codec, well... bula...bula...
> And I think it's not a right choice. (I guess, probably they wouldn't
think
> either)
>
> It's just the same case as there are both org.apache.commons.uri and
> org.apache.commons.httpclient directories in the commons-httpclient, I
> guess.
>
>
> > 2) URI specification by itself is just one class. It hardly makes any
> sense in my opinion to make a package out of it, even though URI class is
> clearly useful beyond HttpClient.
>
> If you want make an jar, you'd better setup the build.xml when you tar
it...

I mean some class files (not only jar) can be exported on the
build.apache.org.

Sung-Gu

From anonymous@nagoya.betaversion.org  Mon Jun 23 03:57:08 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 88531 invoked from network); 23 Jun 2003 03:57:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Jun 2003 03:57:08 -0000
Received: (qmail 17521 invoked by uid 50); 23 Jun 2003 03:59:39 -0000
Date: 23 Jun 2003 03:59:39 -0000
Message-ID: <20030623035939.17520.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding





------- Additional Comments From laura@lwerner.org  2003-06-23 03:59 -------
The new patch looks good.  Thanks for doing it and sorry I didn't get to it!

One minor comment:  It might be better to split the new formUrlEncode method
into two pieces: one that loops through the parameters and builds up the query
string, and one that simply encodes a string using
application/x-www-form-urlencoded.  The string-encoding method would definitely
belong in commons-codec, but I'm not sure whether the "loop over parameters"
part would.

From anonymous@nagoya.betaversion.org  Mon Jun 23 06:09:56 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 80646 invoked from network); 23 Jun 2003 06:09:56 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Jun 2003 06:09:56 -0000
Received: (qmail 19538 invoked by uid 50); 23 Jun 2003 06:12:28 -0000
Date: 23 Jun 2003 06:12:28 -0000
Message-ID: <20030623061228.19537.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20981]  -
    HTTPClient trace() calls a lot of overhead; consider isTraceEnabled() test
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20981>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20981

HTTPClient trace() calls a lot of overhead; consider isTraceEnabled() test





------- Additional Comments From ortwin.glueck@nose.ch  2003-06-23 06:12 -------
Gordon,

why do you think that the trace calls pose a significant overhead on HttpClient?
Did you make any specific measurements? Please post figures.

From anonymous@nagoya.betaversion.org  Mon Jun 23 07:33:31 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 64205 invoked from network); 23 Jun 2003 07:33:31 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Jun 2003 07:33:31 -0000
Received: (qmail 21200 invoked by uid 50); 23 Jun 2003 07:36:04 -0000
Date: 23 Jun 2003 07:36:04 -0000
Message-ID: <20030623073604.21199.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21007] New:  -
    method.getResponseBodyAsString() doesn't work for URL http://www.agalinks.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21007>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21007

method.getResponseBodyAsString() doesn't work for URL http://www.agalinks.com

           Summary: method.getResponseBodyAsString() doesn't work for URL
                    http://www.agalinks.com
           Product: Commons
           Version: Nightly Builds
          Platform: PC
        OS/Version: Other
            Status: NEW
          Severity: Normal
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: michael@advweb.com


http://www.agalinks.com sends a redirect code (301 or 302), yet the
method.getResponseBodyAsString() returns an empty string.  The URL works fine
in Lynx & Internet Explorer.

From anonymous@nagoya.betaversion.org  Mon Jun 23 07:52:39 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 89556 invoked from network); 23 Jun 2003 07:52:39 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Jun 2003 07:52:39 -0000
Received: (qmail 21706 invoked by uid 50); 23 Jun 2003 07:55:11 -0000
Date: 23 Jun 2003 07:55:11 -0000
Message-ID: <20030623075511.21705.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21007]  -
    method.getResponseBodyAsString() doesn't work for URL http://www.agalinks.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21007>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21007

method.getResponseBodyAsString() doesn't work for URL http://www.agalinks.com

ortwin.glueck@nose.ch changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |LATER



------- Additional Comments From ortwin.glueck@nose.ch  2003-06-23 07:55 -------
it redirects to a different host name: www.agaweb01.agalinks.com

It is a known restriction of HttpClient. Please see
http://jakarta.apache.org/commons/httpclient/redirects.html

From anonymous@nagoya.betaversion.org  Mon Jun 23 07:58:57 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 97852 invoked from network); 23 Jun 2003 07:58:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Jun 2003 07:58:57 -0000
Received: (qmail 21812 invoked by uid 50); 23 Jun 2003 08:01:30 -0000
Date: 23 Jun 2003 08:01:30 -0000
Message-ID: <20030623080130.21811.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21007]  -
    method.getResponseBodyAsString() doesn't work for URL http://www.agalinks.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21007>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21007

method.getResponseBodyAsString() doesn't work for URL http://www.agalinks.com

michael@advweb.com changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|RESOLVED                    |CLOSED



------- Additional Comments From michael@advweb.com  2003-06-23 08:01 -------
Thanks for the link, I did not know about the location response header.  I had
been parsing the response body for the URL, and for this particular site their
response body was blank.  I'll update my code to use the location header.

Thanks

From oleg.kalnichevski@bearingpoint.com  Mon Jun 23 08:15:14 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 14264 invoked from network); 23 Jun 2003 08:15:14 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 23 Jun 2003 08:15:14 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 23 Jun 2003 08:12:27 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable
Subject: RE: URI & URIUtil as a separate Commons project?
Date: Mon, 23 Jun 2003 09:15:06 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE57E@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: URI & URIUtil as a separate Commons project?
Thread-Index: AcM5Nw4U5yxLRNk+R7Sy/xMImAB6tQAIP3yw
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 23 Jun 2003 08:12:27.0015 (UTC) FILETIME=[2F06B170:01C3395F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Hmm...  looks like... most're intersted in some uri encoding methods. =
(at
> least in the mailing list)
> However, I will say that URI is generally a parser for some purposes =
with
> having some coder feature.
>
> As I look into Commons-Codec, well... bula...bula...
> And I think it's not a right choice. (I guess, probably they wouldn't
think
> either)

Sung-Gu,

What do you mean by "As I look into Commons-Codec, well... =
bula...bula..."?

Undoubtedly, URI specification doesn't belong to Commons-Codec. No one =
has ever suggested otherwise. The idea is to factor out only URL =
encoding/decoding logic that clearly does.


> > 2) URI specification by itself is just one class. It hardly makes =
any
> sense in my opinion to make a package out of it, even though URI class =
is
> clearly useful beyond HttpClient.
>
> If you want make an jar, you'd better setup the build.xml when you tar
it...

This is not just about creating a separate jar file with URI spec =
implementation. The initial idea was to create Commons-URI sub-project =
out of existing URI spec implementation in HttpClient. However, as many =
pointed out, the overhead of maintaining a full fledged Jakarta Commons =
sub-project around what is essentially one class would be simply too =
much. This said, if you can write a proposal for Commons-URI sub-project =
and make a convincing case to the rest of the Jakarta Commons community, =
we will whole-heartedly support you.

Oleg


From anonymous@nagoya.betaversion.org  Mon Jun 23 12:26:58 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 17308 invoked from network); 23 Jun 2003 12:26:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Jun 2003 12:26:58 -0000
Received: (qmail 28320 invoked by uid 50); 23 Jun 2003 12:29:19 -0000
Date: 23 Jun 2003 12:29:19 -0000
Message-ID: <20030623122919.28319.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding





------- Additional Comments From becke@u.washington.edu  2003-06-23 12:29 -------
Hi Laura,

Thank you for looking over the patch.  I agree that we might want to spilt this functionality when
moving to codec.  For the moment though I think it's okay to keep it together.

Mike

From oleg.kalnichevski@bearingpoint.com  Mon Jun 23 12:37:58 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 51650 invoked from network); 23 Jun 2003 12:37:58 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 23 Jun 2003 12:37:58 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 23 Jun 2003 12:35:18 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C33984.46B8CE6E"
Subject: RE: DO NOT REPLY [Bug 20481]  -     HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
Date: Mon, 23 Jun 2003 13:37:58 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE57F@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator: <825BF35A92B3F0479CC164ECBBE9376E0DE57F@kccxoex06.corp.kpmgconsulting.com>
Thread-Topic: DO NOT REPLY [Bug 20481]  -     HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
Thread-Index: AcM5gsDVfsBYkRb9T3KUKM/zhNAmbgAABiyg
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 23 Jun 2003 12:35:18.0593 (UTC) FILETIME=[E79E8310:01C33983]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33984.46B8CE6E
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Mike,
The patch looks fine. I think it's good to be committed.

I have just started working on URLEncoder/URLDecoder port to =
commons-codec, as there's a relative lull in HttpClient core =
development, anyway. I believe it's the right moment to get this done. =
Any objections to that?

Oleg



-----Original Message-----
From:	bugzilla@apache.org [mailto:bugzilla@apache.org]
Sent:	Mon 6/23/2003 14:29
To:	commons-httpclient-dev@jakarta.apache.org
Cc:=09
Subject:	DO NOT REPLY [Bug 20481]  -     HttpClient does not properly =
handle 'application/x-www-form-urlencoded' encoding
DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG=20
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=3D20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND=20
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=3D20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' =
encoding





------- Additional Comments From becke@u.washington.edu  2003-06-23 =
12:29 -------
Hi Laura,

Thank you for looking over the patch.  I agree that we might want to =
spilt this functionality when=20
moving to codec.  For the moment though I think it's okay to keep it =
together.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org





------_=_NextPart_001_01C33984.46B8CE6E--

From becke@u.washington.edu  Mon Jun 23 13:14:06 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 36803 invoked from network); 23 Jun 2003 13:14:06 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 23 Jun 2003 13:14:06 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5NDE66S006740
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 23 Jun 2003 06:14:06 -0700
Received: from u.washington.edu (ss1.bluebird.ibm.com [129.42.208.139])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5NDE1XZ029496
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 23 Jun 2003 06:14:06 -0700
Message-ID: <3EF6FCEF.4070509@u.washington.edu>
Date: Mon, 23 Jun 2003 09:13:19 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: DO NOT REPLY [Bug 20481]  -     HttpClient does not properly
 handle 'application/x-www-form-urlencoded' encoding
References: <825BF35A92B3F0479CC164ECBBE9376E0DE57F@kccxoex06.corp.kpmgconsulting.com>
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE57F@kccxoex06.corp.kpmgconsulting.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I have just started working on URLEncoder/URLDecoder port to
> commons-codec, as there's a relative lull in HttpClient core
> development, anyway. I believe it's the right moment to get this
> done. Any objections to that?

Please do.  I think it's an excellent time to get started on it.  Please
let me know if you would like any assistance.

Mike


From eric@tibco.com  Mon Jun 23 16:00:40 2003
Return-Path: <eric@tibco.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 97804 invoked from network); 23 Jun 2003 16:00:40 -0000
Received: from outhub2.tibco.com (63.100.100.156)
  by daedalus.apache.org with SMTP; 23 Jun 2003 16:00:40 -0000
Received: from unknown(10.106.128.33) by outhub2.tibco.com via csmap
	 id 17301; Mon, 23 Jun 2003 09:01:41 -0700 (PDT)
Received: from mail1.tibco.com (nsmail1.tibco.com [10.106.128.41])
	by na-h-inhub1.tibco.com (8.12.2/8.12.2) with ESMTP id h5NG0gdB029164
	for <commons-httpclient-dev@jakarta.apache.org>; Mon, 23 Jun 2003 09:00:42 -0700 (PDT)
Received: from tibco.com ([10.98.32.103]) by mail1.tibco.com
          (Netscape Messaging Server 4.15) with ESMTP id HGXZ4N00.VV0 for
          <commons-httpclient-dev@jakarta.apache.org>; Mon, 23 Jun 2003
          09:00:23 -0700
Message-ID: <3EF72449.7020408@tibco.com>
Date: Mon, 23 Jun 2003 12:01:13 -0400
From: "Eric Johnson" <eric@tibco.com>
Organization: TIBCO Extensibility
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Test Coverage
References: <40DD63EB-A316-11D7-A033-000393016056@intencha.com>
In-Reply-To: <40DD63EB-A316-11D7-A033-000393016056@intencha.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian,

Good of you to bring up the topic...

Adrian Sutton wrote:

> Howdy all,
> We now have a license for clover to analyze our test cases and am now
> just starting to work through adding test cases to improve our code
> coverage.  I've very quickly come to the realization that 100% code
> coverage may actually be a bad thing.  I've gotten AuthChallengeParser
> to 100% coverage now so let me use it as an example:

I think, like all code metrics, that coverage is a useful metric, but
one that can be just as misleading as any other code metric - for
example, lines of comments, or lines of code.  It is just as easy to
have a false sense of security due to metrics such as this one.  If you
consider a simple function like:

void doSomething(...) {
if (a) { ... }
if (b) { ... }
if (c) { ... }
...
}

Your "coverage" tool will tell you you've exercised 100% of the code
when you've only covered three of the eight possible ways through the
routine, and that is in a function without any looping.  In any case,
the above function may either need detailed test cases that track for
all eight possibilities, or only three, depending on how the routine
works, and the contract it exposes, and how critical the code is.

So I would agree with your premise that 100% coverage could be a bad
thing, particularly if it lulls you into a false sense of security.
Also, given scarce resources, we should focus our time on testing those
areas that most need it, rather than simply improving the statistics.
On the other hand, now that we have the statistic, it should never go
_down_.

>
>
> There are four test cases that I consider pedantic and 1 of those that
> I really don't like.  The pedantic ones are:

[snip]

>
> Now, I don't mind what happens with any of these decisions to be
> honest as none affect the actual behaviour of HttpClient - they are
> very much edge cases.  I would however like to set up a policy on the
> types of test cases I should create (do we want to avoid testing
> things like the pedantic things above) as well as the best way to keep
> track of questionable or overly pedantic test cases.  Currently I'm
> just adding a // pedantic  above any test case that seems pedantic and
> a todo comment over anything that I think may require a change to the
> code but isn't clearly a bug.
>
> I figure from time to time I can provide a list of issues that need to
> be considered as I work my way through the codebase.

I struggled with a project with reams of test code on "getters" and
"setters", yet the value of those "get/set" functions and the tests that
went with them wasn't properly evaluated until late in the project.  My
attitude would be to avoid adding such test cases, to the extent that
doing so does effectively enlarge the contract of the API.  On the other
hand, where such tests already exists, I don't see much point in
removing them until they are actually in the way, either wrong or
testing deprecated functionality.

>
> Personally, I'm hoping to achieve 100% test coverage firstly because
> I've discovered how dependent I am on having good test cases while
> working on HttpClient (most people don't have the detailed level of
> knowledge that Mike and Oleg do and thus aren't aware that a change
> will break some other section of code - NTLM is a regular victim of
> this).  Also, aiming for 100% coverage makes a very clear-cut decision
> on when the job is done which make life easier as well and makes it
> much more noticeable when new test cases need to be added.
>
> Any thoughts?

If there is one thing I'd like to see with the testing code of
HttpClient, it is a better way to test without having to actually have a
"connection" to either local or remote host or proxy server.  I'd
enhance SimpleConnection and SimpleConnectionManager so that we could
simulate more cases without actually having to resort to connecting to
actual servers.  Putting in simulations of proxy handling, simulations
of dropped connections, NTLM, and so on, would be very cool.  And I'd
like a way to do it so that you simply write a "configuration file" that
specifies what should be received and what the response should be.
Unfortunately, I've not had the time to tackle the problem, and this
week I'm spending my scarce open source time on the client side Slide
DAV library, to improve its compatibility with HttpClient.

Maybe someone else can run with the idea?

-Eric.




From anonymous@nagoya.betaversion.org  Mon Jun 23 18:38:55 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 90161 invoked from network); 23 Jun 2003 18:38:55 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Jun 2003 18:38:55 -0000
Received: (qmail 11806 invoked by uid 50); 23 Jun 2003 18:41:20 -0000
Date: 23 Jun 2003 18:41:20 -0000
Message-ID: <20030623184120.11805.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20981]  -
    HTTPClient trace() calls a lot of overhead; consider isTraceEnabled() test
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20981>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20981

HTTPClient trace() calls a lot of overhead; consider isTraceEnabled() test





------- Additional Comments From gojomo@archive.org  2003-06-23 18:41 -------
Short version: updating to commons-logging 1.0.3 fixed the problem

Longer version: I am profiling a web crawling application using the free
JMechanic profiling plug-in for Eclipse.  Previously with commons logging
1.0.2, Throwable.getStackTraceElement was taking over 30% of sampled CPU time,
always triggered by HTTPClient's trace() calls. Now that Jdk14Logger has been
updated to include the immediate test of logging level (as referred to in
Adrian's comment), the overhead is negligible.

Thanks for the comment that highlighted my logging library wasn't doing what
it should!

From anonymous@nagoya.betaversion.org  Mon Jun 23 23:43:59 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 20756 invoked from network); 23 Jun 2003 23:43:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 23 Jun 2003 23:43:59 -0000
Received: (qmail 18802 invoked by uid 50); 23 Jun 2003 23:46:27 -0000
Date: 23 Jun 2003 23:46:27 -0000
Message-ID: <20030623234627.18801.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20481]  -
    HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20481

HttpClient does not properly handle 'application/x-www-form-urlencoded' encoding

becke@u.washington.edu changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|REOPENED                    |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From becke@u.washington.edu  2003-06-23 23:46 -------
Patch committed.

From anonymous@nagoya.betaversion.org  Tue Jun 24 07:21:08 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 88611 invoked from network); 24 Jun 2003 07:21:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 24 Jun 2003 07:21:08 -0000
Received: (qmail 26876 invoked by uid 50); 24 Jun 2003 07:23:40 -0000
Date: 24 Jun 2003 07:23:40 -0000
Message-ID: <20030624072340.26875.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20981]  -
    HTTPClient trace() calls a lot of overhead; consider isTraceEnabled() test
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20981>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20981

HTTPClient trace() calls a lot of overhead; consider isTraceEnabled() test

ortwin.glueck@nose.ch changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |INVALID



------- Additional Comments From ortwin.glueck@nose.ch  2003-06-24 07:23 -------
not a bug in http client

From oleg.kalnichevski@bearingpoint.com  Tue Jun 24 16:09:59 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 89886 invoked from network); 24 Jun 2003 16:09:59 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 24 Jun 2003 16:09:59 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 24 Jun 2003 16:07:20 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable
Subject: URL codec contribution to Commons Codec submitted
Date: Tue, 24 Jun 2003 17:10:00 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE585@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: URL codec contribution to Commons Codec submitted
Thread-Index: AcM6axBH1oKR8z6uSOueWyKosNhzAw==
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 24 Jun 2003 16:07:20.0531 (UTC) FILETIME=[B0E5F230:01C33A6A]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Folks,

I have just finished the first draft of the URL codec and submitted it =
to the Commons Codec people for review as the following feature request:

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=3D21053

Please let me know what you think. Feel free to submit variations of my =
patch if you find any flaws.

Cheers

Oleg

From Fa.MSG.Hr.Liebling@wacker.com  Tue Jun 24 16:15:35 2003
Return-Path: <Fa.MSG.Hr.Liebling@wacker.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 9694 invoked from network); 24 Jun 2003 16:15:35 -0000
Received: from zmucdmz02.wacker.com (195.183.97.53)
  by daedalus.apache.org with SMTP; 24 Jun 2003 16:15:35 -0000
Received: from xmuc19420.muc.wacker.de ([193.19.1.16])
	by zmucdmz02.wacker.com (8.12.9/8.12.9) with ESMTP id h5OGFbPJ028267
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 24 Jun 2003 18:15:37 +0200
Received: from zmucm07.muc.wacker.de (unverified) by xmuc19420.muc.wacker.de
 (Content Technologies SMTPRS 2.0.15) with ESMTP id <B0002839400@xmuc19420.muc.wacker.de> for <commons-httpclient-dev@jakarta.apache.org>;
 Tue, 24 Jun 2003 18:15:25 +0200
Received: by zmucm07.muc.wacker.de with Internet Mail Service (5.5.2656.59)
	id <N2ZTP2M7>; Tue, 24 Jun 2003 18:15:25 +0200
Message-Id: <2EA838BF3340D5119BF100508BB0856E05257E72@zmucm01.muc.wacker.de>
From: "Fa. MSG Hr. Liebling" <Fa.MSG.Hr.Liebling@wacker.com>
To: "'commons-httpclient-dev@jakarta.apache.org'"
	 <commons-httpclient-dev@jakarta.apache.org>
Subject: RE:  Extra newline when using ByteArrayPartSource and FilePart
Date: Tue, 24 Jun 2003 18:15:22 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

After looking at the spec, the actual request looks ok (there should be 2
newlines).  any other ideas as to why I'm getting a newline at the beginning
of the uploaded file once it's saved on the server?  Unfortunately, I don't
have access to the server or server code to debug it, I can only see the
resulting file.

Thanks!

Aaron

	I'm uploading a file from an array of bytes using
	ByteArrayPartSource and FilePart.  The upload
	succeeds, but when I view the file on the server side,
	I see that an extra \r\n (^M or newline) has been
	preprended to it.

	My code sample is as follows:

	byte[] bytes = baOS.toByteArray();

	ByteArrayPartSource baPS =
	new
	ByteArrayPartSource(mpRequest.getFileSystemName(paramName),
	                            bytes);

	 FilePart filePart = new FilePart(paramName,baPS);
	                    mppMethod.addPart(filePart);

	From the wire, the request looks like:

	"POST

/RightSite/ssi4_logged_in?rndn=70518498&operation=import_object&DMW_ON_ERROR
=relogon_http&embedded=true&type=dm_folder&DMW_DOCBASE=muc_d_corp_01&id=0b00
91bb80193a03&enableIndex=true&object_name=WACKER-NOC2-Build%2BDeploy-2003041
1.doc&a_full_text=FALSE&r_object_type=corp00_o_superdoc&wa_language_code=en_
US&a_content_type=msw8%3B1&subject=BETA1&doc_format=msw8&title=BETA1&entry=p
rocess_index&automaticIndex=false
	HTTP/1.1[\r][\n]"
	"accept: application/vnd.ms-excel, application/msword,
	application/vnd.ms-powerpoint, image/gif,
	image/x-xbitmap, image/jpeg, image/pjpeg, */*[\r][\n]"
	"accept-language: de[\r][\n]"
	"accept-encoding: gzip, deflate[\r][\n]"
	"user-agent: Mozilla/4.0 (compatible; MSIE 6.0;
	Windows NT 4.0)[\r][\n]"
	"connection: Keep-Alive[\r][\n]"
	"cache-control: no-cache[\r][\n]"
	"WL-PATH-PREPEND: /extranet[\r][\n]"
	"WL-Proxy-SSL: false[\r][\n]"
	"X-WebLogic-Force-Cookie: true[\r][\n]"
	"WL-Proxy-Client-IP: 193.19.4.32[\r][\n]"
	"Proxy-Path-Translated:
	/RightSite/ssi4_logged_in[\r][\n]"
	"X-WebLogic-Request-ClusterInfo: true[\r][\n]"
	"Host: zmucdoc1:8040[\r][\n]"
	"Cookie: $Version=0; DMW_AUTHORIZATION=FALSE[\r][\n]"
	"Cookie: $Version=0;
	jrunsessionid=1056462816518120373; $Path=/[\r][\n]"
	"Cookie: $Version=0; storedLocale=en-us;
	$Path=/[\r][\n]"
	"Cookie: $Version=0; storedDBName=muc_d_corp_01;
	$Path=/[\r][\n]"
	"Cookie: $Version=0; storedUserName=lieblin-ex;
	$Path=/[\r][\n]"
	"Cookie: $Version=0; storedDomainName=;
	$Path=/[\r][\n]"
	"Cookie: $Version=0;
	DMW_SESSIONID=2117204380119467_18_1056245705;
	$Path=/[\r][\n]"
	"Cookie: $Version=0; DMW_DOCBASE=muc_d_corp_01;
	$Path=/[\r][\n]"
	"Content-Length: 127752[\r][\n]"
	"Content-Type: multipart/form-data;
	boundary=----------------314159265358979323846[\r][\n]"
	"[\r][\n]"

	"----------------314159265358979323846"
	"[\r][\n]"
	"Content-Disposition: form-data; name="

	"DMW_FILENAME"

	filename="

	"WACKER-NOC2-Build+Deploy-20030411.doc"

	"[\r][\n]"
	"Content-Type: "
	"application/octet-stream"
	"[\r][\n]"
	"Content-Transfer-Encoding: "
	"binary"
	"[\r][\n]"
	"[\r][\n]"
	"[0x11]...binary data here"

	Thanks!


From rana@solis.jp  Wed Jun 25 02:19:11 2003
Return-Path: <rana@solis.jp>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 90117 invoked from network); 25 Jun 2003 02:19:11 -0000
Received: from unknown (HELO server1.nipponsolutions.com) (209.61.182.29)
  by daedalus.apache.org with SMTP; 25 Jun 2003 02:19:11 -0000
Received: from RANAS8200 ([218.224.205.236])
	by server1.nipponsolutions.com (8.11.6/8.11.6) with ESMTP id h5P2JcH26275
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 24 Jun 2003 21:19:39 -0500
From: "Amit Rana" <rana@solis.jp>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: automatic management of cookie
Date: Wed, 25 Jun 2003 11:19:12 +0900
Message-ID: <000a01c33ac0$2f7ae1a0$0c01a8c0@RANAS8200>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Cookies document at
http://jakarta.apache.org/commons/httpclient/cookies.html states
	<quote> HttpClient supports automatic management of cookies,
including allowing the server to set cookies and automatically return
them to the server when required. </quote>

	Do we have to make any special settings to enable this or will
the following code defaults to above?

HttpClient client = new HttpClient();
client.getState().setCookiePolicy(CookiePolicy.COMPATIBILITY);
HttpMethod method = new GetMethod(url);
Int statusCode = client.executeMethod(method);

Please feel free to point me to a document/link which can give more
information about the same.

	I am trying to connect to a website which needs cookie support
from the client. I am getting same response while trying to connect from
httpclient which I get when I access the site with cookies disabled in
my browser.

Regards,
Amit.


From zumrani@novell.com  Wed Jun 25 02:19:38 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 90482 invoked from network); 25 Jun 2003 02:19:38 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 25 Jun 2003 02:19:38 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Tue, 24 Jun 2003 20:19:47 -0600
Message-Id: <sef8b263.033@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Tue, 24 Jun 2003 17:18:54 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: INFO
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Does anyone know how to suppress the information message generated by
http client.

[INFO] HttpMethod - -100 (continue) read timeout. Resume sending the
request

Thanks.

From becke@u.washington.edu  Wed Jun 25 02:45:59 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 19081 invoked from network); 25 Jun 2003 02:45:59 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 25 Jun 2003 02:45:59 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5P2k86S004192
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 24 Jun 2003 19:46:08 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5P2k6XZ021578
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 24 Jun 2003 19:46:07 -0700
Date: Tue, 24 Jun 2003 22:46:03 -0400
Subject: Re: automatic management of cookie
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <000a01c33ac0$2f7ae1a0$0c01a8c0@RANAS8200>
Message-Id: <29ACFAC2-A6B7-11D7-B98C-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Amit,

> HttpClient client = new HttpClient();
> client.getState().setCookiePolicy(CookiePolicy.COMPATIBILITY);
> HttpMethod method = new GetMethod(url);
> Int statusCode = client.executeMethod(method);

This will configure HttpClient to use the compatibility cookie mode.
This is not necessarily required but is probably best to ensure correct
cookie handling.

> Please feel free to point me to a document/link which can give more
> information about the same.
>
> 	I am trying to connect to a website which needs cookie support
> from the client. I am getting same response while trying to connect
> from
> httpclient which I get when I access the site with cookies disabled in
> my browser.

The cookie documentation on the HttpClient site is about all there is.
There's not too much more to it.

What exactly is the problem you are having?  Is HttpClient throwing
exceptions when it tries to parse the cookies from this server?

Please take a look at the trouble shooting guide
<http://jakarta.apache.org/commons/httpclient/troubleshooting.html> for
some more things to look at.  If this is not helpful in resolving the
problem please post a wire log to the mailing list that shows the
problematic transmission, see
<http://jakarta.apache.org/commons/httpclient/logging.html> for how to
create a wire log.

Mike


From becke@u.washington.edu  Wed Jun 25 02:49:31 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 21547 invoked from network); 25 Jun 2003 02:49:31 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 25 Jun 2003 02:49:31 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout2.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5P2neo0026414
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 24 Jun 2003 19:49:40 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5P2ncXZ021640
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 24 Jun 2003 19:49:39 -0700
Date: Tue, 24 Jun 2003 22:49:37 -0400
Subject: Re: INFO
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <sef8b263.033@prv-mail20.provo.novell.com>
Message-Id: <A940885C-A6B7-11D7-B98C-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Zulfi,

HttpClient uses the commons-logging library for all of its logging.
Please take a look at the commons-logging site for configuration
details <http://jakarta.apache.org/commons/logging.html>.  In general
you will want to set the log level for "org.apache.commons.httpclient"
to something less sensitive that INFO (WARN or ERROR perhaps).

Mike

On Tuesday, June 24, 2003, at 07:18 PM, Zulfi Umrani wrote:

> Does anyone know how to suppress the information message generated by
> http client.
>
> [INFO] HttpMethod - -100 (continue) read timeout. Resume sending the
> request
>
> Thanks.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From rana@solis.jp  Wed Jun 25 03:12:11 2003
Return-Path: <rana@solis.jp>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 34913 invoked from network); 25 Jun 2003 03:12:11 -0000
Received: from unknown (HELO server1.nipponsolutions.com) (209.61.182.29)
  by daedalus.apache.org with SMTP; 25 Jun 2003 03:12:11 -0000
Received: from RANAS8200 ([218.224.205.236])
	by server1.nipponsolutions.com (8.11.6/8.11.6) with ESMTP id h5P3CcH26969
	for <commons-httpclient-dev@jakarta.apache.org>; Tue, 24 Jun 2003 22:12:39 -0500
From: "Amit Rana" <rana@solis.jp>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: automatic management of cookie
Date: Wed, 25 Jun 2003 12:12:17 +0900
Message-ID: <000101c33ac7$96a27d00$0c01a8c0@RANAS8200>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0002_01C33B13.068A2500"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <29ACFAC2-A6B7-11D7-B98C-00306557E112@u.washington.edu>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0002_01C33B13.068A2500
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hello Michael,

 Thank you for the reply.

> What exactly is the problem you are having?  Is HttpClient throwing
> exceptions when it tries to parse the cookies from this server?
I am sorry for not writing clearly before.

I am trying to access a site which gives me a fixed response "Server is
busy please try later". This seems to be a canned response which I get
from my browser only when I disable cookies. Otherwise I have never
received this response on a browser.

Please feel free to correct me if I am wrong
1. Either the server has some check and sends a canned response for
anybody trying to access using a program, I think this should not be the
case because only way they can find the client is by User-agent which
can be set or
2. My browser gives same response code when cookies are disabled so I
want to make sure it is not a cookie problem.

I am trying to perform a Japanese trademark search on this site
http://www2.ipdl.jpo.go.jp/beginner_tm/TM_AREA.cgi (NOTE: if you want to
try it, text box expects only double byte input)

PFA the log. I highly appreciate your help.

Regards,
Amit.

> -----Original Message-----
> From: Michael Becke [mailto:becke@u.washington.edu]
> Sent: Wednesday, June 25, 2003 11:46 AM
> To: Commons HttpClient Project
> Subject: Re: automatic management of cookie
>
> Hello Amit,
>
> > HttpClient client = new HttpClient();
> > client.getState().setCookiePolicy(CookiePolicy.COMPATIBILITY);
> > HttpMethod method = new GetMethod(url);
> > Int statusCode = client.executeMethod(method);
>
> This will configure HttpClient to use the compatibility cookie mode.
> This is not necessarily required but is probably best to ensure
correct
> cookie handling.
>
> > Please feel free to point me to a document/link which can give more
> > information about the same.
> >
> > 	I am trying to connect to a website which needs cookie support
> > from the client. I am getting same response while trying to connect
> > from
> > httpclient which I get when I access the site with cookies disabled
in
> > my browser.
>
> The cookie documentation on the HttpClient site is about all there is.
> There's not too much more to it.
>
> What exactly is the problem you are having?  Is HttpClient throwing
> exceptions when it tries to parse the cookies from this server?
>
> Please take a look at the trouble shooting guide
> <http://jakarta.apache.org/commons/httpclient/troubleshooting.html>
for
> some more things to look at.  If this is not helpful in resolving the
> problem please post a wire log to the mailing list that shows the
> problematic transmission, see
> <http://jakarta.apache.org/commons/httpclient/logging.html> for how to
> create a wire log.
>
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org

------=_NextPart_000_0002_01C33B13.068A2500
Content-Type: text/plain;
	name="log.txt"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="log.txt"

2003/06/25 11:59:55:714 JST [DEBUG] HttpClient - -Java version: 1.4.1_01
2003/06/25 11:59:55:714 JST [DEBUG] HttpClient - -Java vendor: Sun =
Microsystems Inc.
2003/06/25 11:59:55:714 JST [DEBUG] HttpClient - -Java class path: =
E:\Solis-work\solismark\WEB-INF\classes;E:\Solis-work\solismark\WEB-INF\l=
ib\commons-httpclient-2.0-beta1.jar;E:\Solis-work\solismark\WEB-INF\lib\c=
ommons-logging-1.0.2.jar;E:\Solis-work\solismark\WEB-INF\lib\htmlparser.j=
ar
2003/06/25 11:59:55:714 JST [DEBUG] HttpClient - -Operating system name: =
Windows XP
2003/06/25 11:59:55:714 JST [DEBUG] HttpClient - -Operating system =
architecture: x86
2003/06/25 11:59:55:714 JST [DEBUG] HttpClient - -Operating system =
version: 5.1
2003/06/25 11:59:56:175 JST [DEBUG] HttpClient - -SUN 1.2: SUN (DSA =
key/parameter generation; DSA signing; SHA-1, MD5 digests; SecureRandom; =
X.509 certificates; JKS keystore; PKIX CertPathValidator; PKIX =
CertPathBuilder; LDAP, Collection CertStores)
2003/06/25 11:59:56:175 JST [DEBUG] HttpClient - -SunJSSE 1.41: Sun JSSE =
provider(implements RSA Signatures, PKCS12, SunX509 key/trust factories, =
SSLv3, TLSv1)
2003/06/25 11:59:56:175 JST [DEBUG] HttpClient - -SunRsaSign 1.0: SUN's =
provider for RSA signatures
2003/06/25 11:59:56:175 JST [DEBUG] HttpClient - -SunJCE 1.4: SunJCE =
Provider (implements DES, Triple DES, Blowfish, PBE, Diffie-Hellman, =
HMAC-MD5, HMAC-SHA1)
2003/06/25 11:59:56:175 JST [DEBUG] HttpClient - -SunJGSS 1.0: Sun =
(Kerberos v5)
2003/06/25 11:59:56:285 JST [TRACE] GetMethod - -enter GetMethod(String)
2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - =
-HttpMethodBase.addRequestHeader(Header)
2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - =
-HttpMethodBase.addRequestHeader(Header)
2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - =
-HttpMethodBase.addRequestHeader(Header)
2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - =
-HttpMethodBase.addRequestHeader(Header)
2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - =
-HttpMethodBase.addRequestHeader(Header)
2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - =
-HttpMethodBase.addRequestHeader(Header)
2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - =
-HttpMethodBase.addRequestHeader(Header)
2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - =
-HttpMethodBase.addRequestHeader(Header)
2003/06/25 11:59:56:315 JST [TRACE] HttpClient - -enter =
HttpClient.executeMethod(HttpMethod)
2003/06/25 11:59:56:315 JST [TRACE] HttpClient - -enter =
HttpClient.executeMethod(HostConfiguration,HttpMethod,HttpState)
2003/06/25 11:59:56:335 JST [DEBUG] HttpConnection - -Creating =
connection for www2.ipdl.jpo.go.jp using protocol http:80
2003/06/25 11:59:56:335 JST [DEBUG] HttpConnection - =
-HttpConnection.setSoTimeout(0)
2003/06/25 11:59:56:335 JST [TRACE] HttpConnection - -enter =
HttpConnection.open()
2003/06/25 11:59:56:395 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.execute(HttpState, HttpConnection)
2003/06/25 11:59:56:395 JST [DEBUG] HttpMethod - -Preemptively sending =
default basic credentials
2003/06/25 11:59:56:405 JST [TRACE] HttpAuthenticator - -enter =
HttpAuthenticator.authenticateDefault(HttpMethod, HttpConnection, =
HttpState)
2003/06/25 11:59:56:405 JST [TRACE] HttpState - -enter =
HttpState.getCredentials(String, String
2003/06/25 11:59:56:405 JST [DEBUG] HttpMethod - -Execute loop try 1
2003/06/25 11:59:56:405 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.processRequest(HttpState, HttpConnection)
2003/06/25 11:59:56:405 JST [TRACE] HttpMethod - -Attempt number 1 to =
process request
2003/06/25 11:59:56:405 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.writeRequest(HttpState, HttpConnection)
2003/06/25 11:59:56:405 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.writeRequestLine(HttpState, HttpConnection)
2003/06/25 11:59:56:405 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.generateRequestLine(HttpConnection, String, String, =
String, String)
2003/06/25 11:59:56:405 JST [DEBUG] wire - ->> "POST =
/beginner_tm/TM_SEARCH.cgi HTTP/1.1[\r][\n]"
2003/06/25 11:59:56:415 JST [TRACE] HttpConnection - -enter =
HttpConnection.print(String)
2003/06/25 11:59:56:415 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[])
2003/06/25 11:59:56:415 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[], int, int)
2003/06/25 11:59:56:415 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.writeRequestHeaders(HttpState,HttpConnection)
2003/06/25 11:59:56:415 JST [TRACE] ExpectContinueMethod - -enter =
ExpectContinueMethod.addRequestHeaders(HttpState, HttpConnection)
2003/06/25 11:59:56:415 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.addRequestHeaders(HttpState, HttpConnection)
2003/06/25 11:59:56:415 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.addUserAgentRequestHeaders(HttpState, HttpConnection)
2003/06/25 11:59:56:415 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.addHostRequestHeader(HttpState, HttpConnection)
2003/06/25 11:59:56:415 JST [DEBUG] HttpMethod - -Adding Host request =
header
2003/06/25 11:59:56:415 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.addCookieRequestHeader(HttpState, HttpConnection)
2003/06/25 11:59:56:425 JST [TRACE] HttpState - -enter =
HttpState.getCookies()
2003/06/25 11:59:56:425 JST [TRACE] CookieSpec - -enter =
CookieSpecBase.match(String, int, String, boolean, Cookie[])
2003/06/25 11:59:56:425 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.addAuthorizationRequestHeader(HttpState, HttpConnection)
2003/06/25 11:59:56:425 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.addProxyAuthorizationRequestHeader(HttpState, =
HttpConnection)
2003/06/25 11:59:56:425 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.addProxyConnectionHeader(HttpState, HttpConnection)
2003/06/25 11:59:56:435 JST [TRACE] EntityEnclosingMethod - -enter =
HttpMethodBase.addContentLengthRequestHeader(HttpState, HttpConnection)
2003/06/25 11:59:56:435 JST [TRACE] EntityEnclosingMethod - -enter =
EntityEnclosingMethod.getRequestContentLength()
2003/06/25 11:59:56:435 JST [TRACE] PostMethod - -enter =
PostMethod.hasRequestContent()
2003/06/25 11:59:56:435 JST [TRACE] EntityEnclosingMethod - -enter =
EntityEnclosingMethod.hasRequestContent()
2003/06/25 11:59:56:435 JST [TRACE] HttpMethod - =
-HttpMethodBase.addRequestHeader(Header)
2003/06/25 11:59:56:435 JST [DEBUG] wire - ->> "User-Agent: Mozilla/4.0 =
(compatible; MSIE 6.0; Windows NT 5.1)[\r][\n]"
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.print(String)
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[])
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[], int, int)
2003/06/25 11:59:56:445 JST [DEBUG] wire - ->> "search_mode: 0[\r][\n]"
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.print(String)
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[])
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[], int, int)
2003/06/25 11:59:56:445 JST [DEBUG] wire - ->> "start: 1[\r][\n]"
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.print(String)
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[])
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[], int, int)
2003/06/25 11:59:56:445 JST [DEBUG] wire - ->> "go_list: 1[\r][\n]"
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.print(String)
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[])
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[], int, int)
2003/06/25 11:59:56:445 JST [DEBUG] wire - ->> "shit: 36545[\r][\n]"
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.print(String)
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[])
2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[], int, int)
2003/06/25 11:59:56:455 JST [DEBUG] wire - ->> "key01: ??[\r][\n]"
2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter =
HttpConnection.print(String)
2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[])
2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[], int, int)
2003/06/25 11:59:56:455 JST [DEBUG] wire - ->> "ron01: 02[\r][\n]"
2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter =
HttpConnection.print(String)
2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[])
2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[], int, int)
2003/06/25 11:59:56:455 JST [DEBUG] wire - ->> "time: =
1056509996305[\r][\n]"
2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter =
HttpConnection.print(String)
2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[])
2003/06/25 11:59:56:465 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[], int, int)
2003/06/25 11:59:56:465 JST [DEBUG] wire - ->> "Host: =
www2.ipdl.jpo.go.jp[\r][\n]"
2003/06/25 11:59:56:465 JST [TRACE] HttpConnection - -enter =
HttpConnection.print(String)
2003/06/25 11:59:56:465 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[])
2003/06/25 11:59:56:465 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[], int, int)
2003/06/25 11:59:56:465 JST [DEBUG] wire - ->> "Content-Length: =
0[\r][\n]"
2003/06/25 11:59:56:465 JST [TRACE] HttpConnection - -enter =
HttpConnection.print(String)
2003/06/25 11:59:56:465 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[])
2003/06/25 11:59:56:475 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[], int, int)
2003/06/25 11:59:56:475 JST [TRACE] HttpConnection - -enter =
HttpConnection.writeLine()
2003/06/25 11:59:56:475 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[])
2003/06/25 11:59:56:475 JST [TRACE] HttpConnection - -enter =
HttpConnection.write(byte[], int, int)
2003/06/25 11:59:56:475 JST [TRACE] HttpConnection - -enter =
HttpConnection.flushRequestOutputStream()
2003/06/25 11:59:56:475 JST [DEBUG] wire - ->> "[\r][\n]"
2003/06/25 11:59:56:475 JST [TRACE] EntityEnclosingMethod - -enter =
EntityEnclosingMethod.writeRequestBody(HttpState, HttpConnection)
2003/06/25 11:59:56:475 JST [TRACE] PostMethod - -enter =
PostMethod.hasRequestContent()
2003/06/25 11:59:56:475 JST [TRACE] EntityEnclosingMethod - -enter =
EntityEnclosingMethod.hasRequestContent()
2003/06/25 11:59:56:475 JST [DEBUG] EntityEnclosingMethod - -Request =
body has not been specified
2003/06/25 11:59:56:475 JST [TRACE] HttpConnection - -enter =
HttpConnection.flushRequestOutputStream()
2003/06/25 11:59:56:485 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.readResponse(HttpState, HttpConnection)
2003/06/25 11:59:56:485 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.readStatusLine(HttpState, HttpConnection)
2003/06/25 11:59:56:485 JST [TRACE] HttpConnection - -enter =
HttpConnection.readLine()
2003/06/25 11:59:56:485 JST [TRACE] HttpParser - -enter =
HttpParser.readLine()
2003/06/25 11:59:56:485 JST [TRACE] HttpParser - -enter =
HttpParser.readRawLine()
2003/06/25 11:59:56:565 JST [DEBUG] wire - -<< "HTTP/1.1 200 OK[\r][\n]"
2003/06/25 11:59:56:565 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.readResponseHeaders(HttpState,HttpConnection)
2003/06/25 11:59:56:565 JST [TRACE] HttpConnection - -enter =
HttpConnection.getResponseInputStream()
2003/06/25 11:59:56:565 JST [TRACE] HttpParser - -enter =
HeaderParser.parseHeaders(HttpConnection, HeaderGroup)
2003/06/25 11:59:56:565 JST [TRACE] HttpParser - -enter =
HttpParser.readLine()
2003/06/25 11:59:56:565 JST [TRACE] HttpParser - -enter =
HttpParser.readRawLine()
2003/06/25 11:59:56:565 JST [TRACE] HttpParser - -enter =
HttpParser.readLine()
2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter =
HttpParser.readRawLine()
2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter =
HttpParser.readLine()
2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter =
HttpParser.readRawLine()
2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter =
HttpParser.readLine()
2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter =
HttpParser.readRawLine()
2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter =
HttpParser.readLine()
2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter =
HttpParser.readRawLine()
2003/06/25 11:59:56:575 JST [DEBUG] wire - -<< "Date: Wed, 25 Jun 2003 =
03:01:32 GMT[\r][\n]"
2003/06/25 11:59:56:575 JST [DEBUG] wire - -<< "Server: Hitachi Web =
Server 01-00 (Unix)[\r][\n]"
2003/06/25 11:59:56:575 JST [DEBUG] wire - -<< "Transfer-Encoding: =
chunked[\r][\n]"
2003/06/25 11:59:56:575 JST [DEBUG] wire - -<< "Content-Type: =
text/html[\r][\n]"
2003/06/25 11:59:56:575 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.processResponseHeaders(HttpState, HttpConnection)
2003/06/25 11:59:56:575 JST [TRACE] GetMethod - -enter =
GetMethod.readResponseBody(HttpState, HttpConnection)
2003/06/25 11:59:56:575 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.readResponseBody(HttpState, HttpConnection)
2003/06/25 11:59:56:575 JST [TRACE] HttpMethod - -enter =
HttpMethodBase.readResponseBody(HttpState, HttpConnection)
2003/06/25 11:59:56:585 JST [TRACE] HttpConnection - -enter =
HttpConnection.getResponseInputStream()
2003/06/25 11:59:56:585 JST [DEBUG] HttpConnection - =
-HttpConnection.getSoTimeout()
2003/06/25 11:59:56:585 JST [TRACE] HttpConnection - -enter =
HttpConnection.isResponseAvailable(int)
2003/06/25 11:59:56:585 JST [DEBUG] wire - -<< "1"
2003/06/25 11:59:56:585 JST [DEBUG] wire - -<< "8"
2003/06/25 11:59:56:585 JST [DEBUG] wire - -<< "E"
2003/06/25 11:59:56:585 JST [DEBUG] wire - -<< "[\r]"
2003/06/25 11:59:56:585 JST [DEBUG] wire - -<< "[\n]"
2003/06/25 11:59:56:585 JST [DEBUG] wire - -<< "<html>[\n]"
2003/06/25 11:59:56:595 JST [DEBUG] wire - -<< "<head>[\n]"
2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< =
"<title>[0xfffd][0xfffd][0xfffd]S[0xfffd][0xfffd][0xfffd][0xfffd][0xfffd]=
[0xfffd][0xfffd][0xfffd][0xfffd][0xfffd] =
[0xfffd]i[0xfffd]G[0xfffd][0xfffd][0xfffd][[0xfffd]C[0xfffd][0xfffd][0xff=
fd]t[0xfffd]H[0xfffd][0xfffd][0xfffd][[0xfffd]V[0xfffd][0xfffd][0xfffd][0=
xfffd][0xfffd]j</title>[\n]"
2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "</head>[\n]"
2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "<body =
bgcolor=3D"#FFFFFF" text=3D"#000000">[\n]"
2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "<H2><IMG =
SRC=3D"/BE0/BE2/pate.gif" =
border=3D0>[0xfffd][0xfffd][0xfffd]S[0xfffd][0xfffd][0xfffd][0xfffd][0xff=
fd][0xfffd][0xfffd]G[0xfffd][0xfffd][0xfffd][[0xfffd]C[0xfffd][0xfffd][0x=
fffd]t[0xfffd]H[0xfffd][0xfffd][0xfffd][[0xfffd]V[0xfffd][0xfffd][0xfffd]=
[0xfffd]</H2><HR>[\n]"
2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< =
"[0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd]T[0xfffd][[0xfff=
d]o[0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfff=
d][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd=
][0xfffd]B[0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd=
][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd]=
[0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][=
0xfffd][0xfffd][0xfffd][0xfffd][0xfffd]B<BR>[\n]"
2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< =
"[0xfffd]I[0xfffd][0xfffd][0xfffd]R[0xfffd][[0xfffd]h[0xfffd]F[BE20013E][=
\n]"
2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "<BR><HR>[\n]"
2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "<A =
HREF=3D"/BE0/index.html"><IMG SRC=3D"/BE0/BE2/header_top.gif" =
border=3D0></A>[\n]"
2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "</body>[\n]"
2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "</html>"
2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "[\r]"
2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "[\n]"
2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "0"
2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "[\r]"
2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "[\n]"
2003/06/25 11:59:56:615 JST [TRACE] HttpParser - -enter =
HeaderParser.parseHeaders(HttpConnection, HeaderGroup)
2003/06/25 11:59:56:615 JST [TRACE] HttpParser - -enter =
HttpParser.readLine()
2003/06/25 11:59:56:615 JST [TRACE] HttpParser - -enter =
HttpParser.readRawLine()
2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "[\r]"
2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "[\n]"
2003/06/25 11:59:56:615 JST [DEBUG] HttpMethod - -Resorting to protocol =
version default close connection policy
2003/06/25 11:59:56:615 JST [DEBUG] HttpMethod - -Should NOT close =
connection, using HTTP/1.1.
2003/06/25 11:59:56:615 JST [TRACE] HttpConnection - -enter =
HttpConnection.releaseConnection()
2003/06/25 11:59:56:615 JST [DEBUG] HttpMethod - -buffering response =
body

------=_NextPart_000_0002_01C33B13.068A2500--


From aliebling@yahoo.com  Tue Jun 24 14:22:05 2003
Return-Path: <aliebling@yahoo.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 6136 invoked from network); 24 Jun 2003 14:22:05 -0000
Received: from web11701.mail.yahoo.com (216.136.172.67)
  by daedalus.apache.org with SMTP; 24 Jun 2003 14:22:05 -0000
Message-ID: <20030624142207.24646.qmail@web11701.mail.yahoo.com>
Received: from [195.183.97.36] by web11701.mail.yahoo.com via HTTP; Tue, 24 Jun 2003 07:22:07 PDT
Date: Tue, 24 Jun 2003 07:22:07 -0700 (PDT)
From: Aaron Liebling <aliebling@yahoo.com>
Reply-To: aaron@addesigninc.com
Subject: Extra newline when using ByteArrayPartSource and FilePart
To: commons-httpclient-dev@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I#m uploading a file from an array of bytes using
ByteArrayPartSource and FilePart.  The upload
succeeds, but when I view the file on the server side,
I see that an extra \r\n (^M or newline) has been
preprended to it.

My code sample is as follows:

byte[] bytes = baOS.toByteArray();

ByteArrayPartSource baPS =
new
ByteArrayPartSource(mpRequest.getFileSystemName(paramName),
                            bytes);

 FilePart filePart = new FilePart(paramName,baPS);
                    mppMethod.addPart(filePart);

From the wire, the request looks like:

"POST
/RightSite/ssi4_logged_in?rndn=70518498&operation=import_object&DMW_ON_ERROR=relogon_http&embedded=true&type=dm_folder&DMW_DOCBASE=muc_d_corp_01&id=0b0091bb80193a03&enableIndex=true&object_name=WACKER-NOC2-Build%2BDeploy-20030411.doc&a_full_text=FALSE&r_object_type=corp00_o_superdoc&wa_language_code=en_US&a_content_type=msw8%3B1&subject=BETA1&doc_format=msw8&title=BETA1&entry=process_index&automaticIndex=false
HTTP/1.1[\r][\n]"
"accept: application/vnd.ms-excel, application/msword,
application/vnd.ms-powerpoint, image/gif,
image/x-xbitmap, image/jpeg, image/pjpeg, */*[\r][\n]"
"accept-language: de[\r][\n]"
"accept-encoding: gzip, deflate[\r][\n]"
"user-agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 4.0)[\r][\n]"
"connection: Keep-Alive[\r][\n]"
"cache-control: no-cache[\r][\n]"
"WL-PATH-PREPEND: /extranet[\r][\n]"
"WL-Proxy-SSL: false[\r][\n]"
"X-WebLogic-Force-Cookie: true[\r][\n]"
"WL-Proxy-Client-IP: 193.19.4.32[\r][\n]"
"Proxy-Path-Translated:
/RightSite/ssi4_logged_in[\r][\n]"
"X-WebLogic-Request-ClusterInfo: true[\r][\n]"
"Host: zmucdoc1:8040[\r][\n]"
"Cookie: $Version=0; DMW_AUTHORIZATION=FALSE[\r][\n]"
"Cookie: $Version=0;
jrunsessionid=1056462816518120373; $Path=/[\r][\n]"
"Cookie: $Version=0; storedLocale=en-us;
$Path=/[\r][\n]"
"Cookie: $Version=0; storedDBName=muc_d_corp_01;
$Path=/[\r][\n]"
"Cookie: $Version=0; storedUserName=lieblin-ex;
$Path=/[\r][\n]"
"Cookie: $Version=0; storedDomainName=;
$Path=/[\r][\n]"
"Cookie: $Version=0;
DMW_SESSIONID=2117204380119467_18_1056245705;
$Path=/[\r][\n]"
"Cookie: $Version=0; DMW_DOCBASE=muc_d_corp_01;
$Path=/[\r][\n]"
"Content-Length: 127752[\r][\n]"
"Content-Type: multipart/form-data;
boundary=----------------314159265358979323846[\r][\n]"
"[\r][\n]"

"----------------314159265358979323846"
"[\r][\n]"
"Content-Disposition: form-data; name="

"DMW_FILENAME"

filename="

"WACKER-NOC2-Build+Deploy-20030411.doc"

"[\r][\n]"
"Content-Type: "
"application/octet-stream"
"[\r][\n]"
"Content-Transfer-Encoding: "
"binary"
"[\r][\n]"
"[\r][\n]"
"[0x11]...binary data here"

Thanks!

Aaron

__________________________________
Do you Yahoo!?
SBC Yahoo! DSL - Now only $29.95 per month!
http://sbc.yahoo.com

From byosmosis@hotmail.com  Wed Jun 25 05:09:48 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 10948 invoked from network); 25 Jun 2003 05:09:48 -0000
Received: from bay1-dav12.bay1.hotmail.com (HELO hotmail.com) (65.54.244.116)
  by daedalus.apache.org with SMTP; 25 Jun 2003 05:09:48 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 24 Jun 2003 22:09:59 -0700
Received: from 211.235.188.62 by bay1-dav12.bay1.hotmail.com with DAV;
	Wed, 25 Jun 2003 05:09:59 +0000
X-Originating-IP: [211.235.188.62]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Jakarta Commons Developers List" <commons-dev@jakarta.apache.org>,
	"Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: [SURVEY] Commons-URI or not?
Date: Wed, 25 Jun 2003 14:09:40 +0900
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0029_01C33B23.6B783500"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com>
X-OriginalArrivalTime: 25 Jun 2003 05:09:59.0443 (UTC) FILETIME=[06974630:01C33AD8]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0029_01C33B23.6B783500
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: 7bit


Hi all,

I suggest that jakarta-commons provides flexible URI issue implementations
as a package.

Various applications using URI concept comes in the internet world.   and
they need common mechanisms and algorithms for URI.

For example, all internet programs will need fundamental functionalites of
URI like extensible parsing and manipulation container for URL reference,
URN and URC,  escape codec mechanism, charset tranformation functionality,
URI transformation from real world identities or URN, or other
transformations related to DNS or telephony...   If it would be prepared
commonly in Jakarta, we can save development powers.   So I suggest new
commons-uri package.

FYI, currently the commons-httpclient is using it.

Any comments?
Or any +1, -1?

Sung-Gu

P.S.: If the requirement is very weak, I want  to put the new package into
commons-sandbox even for a long while in my opinion...


------=_NextPart_000_0029_01C33B23.6B783500--

From brown2@reflexe.fr  Wed Jun 25 07:25:09 2003
Return-Path: <brown2@reflexe.fr>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 60746 invoked from network); 25 Jun 2003 07:25:09 -0000
Received: from unknown (HELO vacarme.reflexe.fr) (212.157.126.82)
  by daedalus.apache.org with SMTP; 25 Jun 2003 07:25:09 -0000
Received: from terre [192.168.20.10] by vacarme.reflexe.fr with ESMTP
  (SMTPD32-8.00) id AC023E80108; Wed, 25 Jun 2003 09:15:14 +0200
Message-ID: <002601c33aeb$2bac17d0$0a14a8c0@terre>
From: "Chris Brown" <brown2@reflexe.fr>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com>
Subject: Re: [SURVEY] Commons-URI or not?
Date: Wed, 25 Jun 2003 09:27:01 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Please NO !!!

We're now finding it very difficult to use a lot of Jakarta projects,
because of "dependency hell"... it's becoming worse than Microsoft's famous
"DLL hell" problem.  The more self-contained you can keep an API, the better
; yes, there are issues concerning code re-use, but at present, we're having
great difficulty using more than one Jakarta project at a time in our
projects.

If you only use one Jakarta project at a time, you're generally ok.

If you try to use more than one Jakarta project at the same time within your
own projects, you have to hope that no such library relies upon any other
commons component, because chances are that they won't be expecting the same
version of each library (they don't always include the latest version of
each "basic" API, and each "main" Jakarta API has a different release
cycle).  Commons-logging is generally included as standard.  If each version
of an API was always backwards-compatible, maybe that'd work, but that's not
always pratical, realistic, or efficient.

Or start hacking around with classloaders... and this too becomes a futile
exercise when you start deploying things on some versions of Tomcat (for
example) that "helpfully" expose common functionality, using perhaps
incompatible versions of APIs (usually from commons) that are obsolete (or
more recent than) the versions of these APIs required by some other
"empirical" Jakarta library.

Some of the recent commons components, such as commons-sql, have a
ridiculous number of dependencies.

One other observation about Commons projects (and Jakarta/Apache in general)
; although code re-use seems like a good idea, I'm now seeing several
different projects that aim to do more or less the same thing, such as :

 - ant and maven
 - torque and commons-sql
 - oro and regexp
 - tapestry, turbine, etc.

Furthermore, if there's Log4J, why not just use it, instead of the
Commons-Logging layer?  If a project goes JDK1.4+ -only after, then migrate
to java.util.logging ?

On a personal note, I'm hoping that commons-net, which used to just work
"as-is", doesn't start depending on lots of different API versions...

I know this is the HttpClient list, and not some general Jakarta list, but I
sincerely hope that one of the few remaining Jakarta projects that doesn't
depend on many others doesn't go down the same dependency nightmare route as
many of the others, so I wanted to illustrate *why* (as a user) I feel this
way...

- Chris

----- Original Message -----
From: "Sung-Gu" <jericho@apache.org>
To: "Jakarta Commons Developers List" <commons-dev@jakarta.apache.org>;
"Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Wednesday, June 25, 2003 7:09 AM
Subject: [SURVEY] Commons-URI or not?


>
> Hi all,
>
> I suggest that jakarta-commons provides flexible URI issue implementations
> as a package.
>
> Various applications using URI concept comes in the internet world.   and
> they need common mechanisms and algorithms for URI.
>
> For example, all internet programs will need fundamental functionalites of
> URI like extensible parsing and manipulation container for URL reference,
> URN and URC,  escape codec mechanism, charset tranformation functionality,
> URI transformation from real world identities or URN, or other
> transformations related to DNS or telephony...   If it would be prepared
> commonly in Jakarta, we can save development powers.   So I suggest new
> commons-uri package.
>
> FYI, currently the commons-httpclient is using it.
>
> Any comments?
> Or any +1, -1?
>
> Sung-Gu
>
> P.S.: If the requirement is very weak, I want  to put the new package into
> commons-sandbox even for a long while in my opinion...
>
>
>


----------------------------------------------------------------------------
----


> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org



From apernoud@sopragroup.com  Wed Jun 25 07:38:43 2003
Return-Path: <apernoud@sopragroup.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 89368 invoked from network); 25 Jun 2003 07:38:43 -0000
Received: from smtp1.zpar1.sopragroup.com (HELO sopragroup.com) (213.223.36.98)
  by daedalus.apache.org with SMTP; 25 Jun 2003 07:38:43 -0000
Received: (qmail 5556 invoked from network); 25 Jun 2003 07:38:54 -0000
Received: from Antivirus (HELO Antivirus) (Antivirus@Antivirus)
  by smtp1.sopragroup.com with SMTP; 25 Jun 2003 07:38:54 -0000
From: "Aurelien Pernoud" <apernoud@sopragroup.com>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: [SURVEY] Commons-URI or not?
Date: Wed, 25 Jun 2003 09:38:51 +0200
Message-ID: <9E035BE80785AA4EAA456959ECB4A30D035CAD6C@nt036.an.sopra>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.6604 (9.0.2911.0)
In-Reply-To: <9E035BE80785AA4EAA456959ECB4A30D076081C2@nt036.an.sopra>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


As a user of jakarta projects I must say I agree with Chris on this one.

No offense, but in the way I see it HttpClient isn't "big enough" to be =
splitted and to have one more dependency. I met the same trouble as =
Chris for commons-logging, helpfully most jakarta projects are willing =
to update to the latest when you ask, but sometimes it takes time.

Aurelien

Chris Brown a =C3=A9crit :

> Please NO !!!
>=20
> We're now finding it very difficult to use a lot of Jakarta projects,
> because of "dependency hell"... it's becoming worse than Microsoft's
> famous "DLL hell" problem.  The more self-contained you can keep an
> API, the better ; yes, there are issues concerning code re-use, but
> at present, we're having great difficulty using more than one Jakarta
> project at a time in our projects.=20
>=20
> If you only use one Jakarta project at a time, you're generally ok.
>=20
> If you try to use more than one Jakarta project at the same time
> within your own projects, you have to hope that no such library
> relies upon any other commons component, because chances are that
> they won't be expecting the same version of each library (they don't
> always include the latest version of each "basic" API, and each
> "main" Jakarta API has a different release cycle).  Commons-logging
> is generally included as standard. If each version of an API was
> always backwards-compatible, maybe that'd work, but that's not always
> pratical, realistic, or efficient.=20
>=20
> Or start hacking around with classloaders... and this too becomes a
> futile exercise when you start deploying things on some versions of
> Tomcat (for example) that "helpfully" expose common functionality,
> using perhaps incompatible versions of APIs (usually from commons)
> that are obsolete (or more recent than) the versions of these APIs
> required by some other "empirical" Jakarta library.=20
>=20
> Some of the recent commons components, such as commons-sql, have a
> ridiculous number of dependencies.
>=20
> One other observation about Commons projects (and
> Jakarta/Apache in general)
> ; although code re-use seems like a good idea, I'm now seeing several
> different projects that aim to do more or less the same thing, such
> as :=20
>=20
>  - ant and maven
>  - torque and commons-sql
>  - oro and regexp
>  - tapestry, turbine, etc.
>=20
> Furthermore, if there's Log4J, why not just use it, instead of the
> Commons-Logging layer?  If a project goes JDK1.4+ -only after, then
> migrate to java.util.logging ?
>=20
> On a personal note, I'm hoping that commons-net, which used to just
> work "as-is", doesn't start depending on lots of different API
> versions...=20
>=20
> I know this is the HttpClient list, and not some general Jakarta
> list, but I sincerely hope that one of the few remaining Jakarta
> projects that doesn't depend on many others doesn't go down the same
> dependency nightmare route as many of the others, so I wanted to
> illustrate *why* (as a user) I feel this way...
>=20
> - Chris


From ortwin.glueck@nose.ch  Wed Jun 25 07:51:50 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 4209 invoked from network); 25 Jun 2003 07:51:50 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 25 Jun 2003 07:51:50 -0000
Received: (qmail 5524 invoked from network); 25 Jun 2003 07:52:01 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 25 Jun 2003 07:52:01 -0000
Message-ID: <3EF954A0.2000508@nose.ch>
Date: Wed, 25 Jun 2003 09:52:00 +0200
From: =?UTF-8?B?T3J0d2luIEdsw7xjaw==?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [SURVEY] Commons-URI or not?
References: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com> <002601c33aeb$2bac17d0$0a14a8c0@terre>
In-Reply-To: <002601c33aeb$2bac17d0$0a14a8c0@terre>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Chris Brown wrote:
> We're now finding it very difficult to use a lot of Jakarta projects,
> because of "dependency hell"... it's becoming worse than Microsoft's famous
> "DLL hell" problem.

You can work around the DLL hell by using different class loaders for
different Jakarta tools.

Odi

BTW the DLL hell is not confined to MS operating systems. This is very
common on Linux as well. Ever used different versions of the BDB at the
same time?


From olegk@apache.org  Wed Jun 25 08:33:27 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 85931 invoked from network); 25 Jun 2003 08:33:27 -0000
Received: from mail1.bluewin.ch (195.186.1.74)
  by daedalus.apache.org with SMTP; 25 Jun 2003 08:33:27 -0000
Received: from olddude.tislab.ch (213.3.42.6) by mail1.bluewin.ch (Bluewin AG 7.0.016)
        id 3EF185410009680C for commons-httpclient-dev@jakarta.apache.org; Wed, 25 Jun 2003 08:33:39 +0000
Subject: RE: automatic management of cookie
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <000101c33ac7$96a27d00$0c01a8c0@RANAS8200>
References: <000101c33ac7$96a27d00$0c01a8c0@RANAS8200>
Content-Type: text/plain
Message-Id: <1056530012.1972.9.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 25 Jun 2003 10:33:32 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Amin,

It is not quite clear what is going on there. My best guess it that the
cookie sent by the target host is malformed and as such rejected by
HttpClient.

However, it is just a guess. We will be able to give more definitive
answers if you provide us with the wire log of the HTTP session in
question.

Please have a look at the logging guide for more details

http://jakarta.apache.org/commons/httpclient/logging.html

Oleg

On Wed, 2003-06-25 at 05:12, Amit Rana wrote:
> Hello Michael,
>
>  Thank you for the reply.
>
> > What exactly is the problem you are having?  Is HttpClient throwing
> > exceptions when it tries to parse the cookies from this server?
> I am sorry for not writing clearly before.
>
> I am trying to access a site which gives me a fixed response "Server is
> busy please try later". This seems to be a canned response which I get
> from my browser only when I disable cookies. Otherwise I have never
> received this response on a browser.
>
> Please feel free to correct me if I am wrong
> 1. Either the server has some check and sends a canned response for
> anybody trying to access using a program, I think this should not be the
> case because only way they can find the client is by User-agent which
> can be set or
> 2. My browser gives same response code when cookies are disabled so I
> want to make sure it is not a cookie problem.
>
> I am trying to perform a Japanese trademark search on this site
> http://www2.ipdl.jpo.go.jp/beginner_tm/TM_AREA.cgi (NOTE: if you want to
> try it, text box expects only double byte input)
>
> PFA the log. I highly appreciate your help.
>
> Regards,
> Amit.
>
> > -----Original Message-----
> > From: Michael Becke [mailto:becke@u.washington.edu]
> > Sent: Wednesday, June 25, 2003 11:46 AM
> > To: Commons HttpClient Project
> > Subject: Re: automatic management of cookie
> >
> > Hello Amit,
> >
> > > HttpClient client = new HttpClient();
> > > client.getState().setCookiePolicy(CookiePolicy.COMPATIBILITY);
> > > HttpMethod method = new GetMethod(url);
> > > Int statusCode = client.executeMethod(method);
> >
> > This will configure HttpClient to use the compatibility cookie mode.
> > This is not necessarily required but is probably best to ensure
> correct
> > cookie handling.
> >
> > > Please feel free to point me to a document/link which can give more
> > > information about the same.
> > >
> > > 	I am trying to connect to a website which needs cookie support
> > > from the client. I am getting same response while trying to connect
> > > from
> > > httpclient which I get when I access the site with cookies disabled
> in
> > > my browser.
> >
> > The cookie documentation on the HttpClient site is about all there is.
> > There's not too much more to it.
> >
> > What exactly is the problem you are having?  Is HttpClient throwing
> > exceptions when it tries to parse the cookies from this server?
> >
> > Please take a look at the trouble shooting guide
> > <http://jakarta.apache.org/commons/httpclient/troubleshooting.html>
> for
> > some more things to look at.  If this is not helpful in resolving the
> > problem please post a wire log to the mailing list that shows the
> > problematic transmission, see
> > <http://jakarta.apache.org/commons/httpclient/logging.html> for how to
> > create a wire log.
> >
> > Mike
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > commons-httpclient-dev-help@jakarta.apache.org
>
> ______________________________________________________________________
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org


From rana@solis.jp  Wed Jun 25 08:40:03 2003
Return-Path: <rana@solis.jp>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 98508 invoked from network); 25 Jun 2003 08:40:03 -0000
Received: from unknown (HELO server1.nipponsolutions.com) (209.61.182.29)
  by daedalus.apache.org with SMTP; 25 Jun 2003 08:40:03 -0000
Received: from RANAS8200 ([218.224.205.236])
	by server1.nipponsolutions.com (8.11.6/8.11.6) with ESMTP id h5P8eaH31533
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 25 Jun 2003 03:40:36 -0500
From: "Amit Rana" <rana@solis.jp>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: automatic management of cookie
Date: Wed, 25 Jun 2003 17:40:13 +0900
Message-ID: <001c01c33af5$66615840$0c01a8c0@RANAS8200>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Importance: Normal
In-Reply-To: <1056530012.1972.9.camel@kczrh-okt22.corp.bearingpoint.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Oleg,

 Thanks for your response.

> However, it is just a guess. We will be able to give more definitive
> answers if you provide us with the wire log of the HTTP session in
> question.
The file I attached in my last message in reply of Michael's comment
isn't that the log?

That file contains the stdout after I followed the instructions given on
the link.

Please feel free to point out if I need to do something else or if I
should resend the file.

Regards,
Amit.

> -----Original Message-----
> From: Oleg Kalnichevski [mailto:olegk@apache.org]
> Sent: Wednesday, June 25, 2003 5:34 PM
> To: Commons HttpClient Project
> Subject: RE: automatic management of cookie
>
> Amin,
>
> It is not quite clear what is going on there. My best guess it that
the
> cookie sent by the target host is malformed and as such rejected by
> HttpClient.
>
> However, it is just a guess. We will be able to give more definitive
> answers if you provide us with the wire log of the HTTP session in
> question.
>
> Please have a look at the logging guide for more details
>
> http://jakarta.apache.org/commons/httpclient/logging.html
>
> Oleg


From ortwin.glueck@nose.ch  Wed Jun 25 08:42:31 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 1605 invoked from network); 25 Jun 2003 08:42:31 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 25 Jun 2003 08:42:31 -0000
Received: (qmail 6314 invoked from network); 25 Jun 2003 08:42:42 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 25 Jun 2003 08:42:42 -0000
Message-ID: <3EF96081.2060701@nose.ch>
Date: Wed, 25 Jun 2003 10:42:41 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Logging guide
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think we should change the logging guide to set the log level to DEBUG
for org.apache.commons.httpclient. Currently it is set to TRACE and
users seem to leave it like this. Oleg, do you find this TRACE level
bloated logs useful? I think in the majority of cases a DEBUG level
output is sufficient. What do you think?

Odi


From olegk@apache.org  Wed Jun 25 09:02:59 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 31863 invoked from network); 25 Jun 2003 09:02:59 -0000
Received: from mail5.bluewin.ch (195.186.1.207)
  by daedalus.apache.org with SMTP; 25 Jun 2003 09:02:59 -0000
Received: from olddude.tislab.ch (213.3.42.6) by mail5.bluewin.ch (Bluewin AG 7.0.015)
        id 3EF186D40009D385 for commons-httpclient-dev@jakarta.apache.org; Wed, 25 Jun 2003 09:03:12 +0000
Subject: RE: automatic management of cookie
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <001c01c33af5$66615840$0c01a8c0@RANAS8200>
References: <001c01c33af5$66615840$0c01a8c0@RANAS8200>
Content-Type: text/plain
Message-Id: <1056531785.1972.55.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 25 Jun 2003 11:03:05 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Amit,

Sorry. It is indeed the log I was asking about.

If you cookie theory is right, I think before you execute POST request
you have to make sure that you get the cookie set by the target host.
You should execute a GET request to a URL that returns the cookie that
the target host expects to find in your POST request. You will see
something like 'Set-Cookie: whatever' in the wire log. Without knowing
how that CGI script has been programmed, unfortunately I am unable to
help you any further.

Oleg

On Wed, 2003-06-25 at 10:40, Amit Rana wrote:
> Hello Oleg,
>
>  Thanks for your response.
>
> > However, it is just a guess. We will be able to give more definitive
> > answers if you provide us with the wire log of the HTTP session in
> > question.
> The file I attached in my last message in reply of Michael's comment
> isn't that the log?
>
> That file contains the stdout after I followed the instructions given on
> the link.
>
> Please feel free to point out if I need to do something else or if I
> should resend the file.
>
> Regards,
> Amit.
>
> > -----Original Message-----
> > From: Oleg Kalnichevski [mailto:olegk@apache.org]
> > Sent: Wednesday, June 25, 2003 5:34 PM
> > To: Commons HttpClient Project
> > Subject: RE: automatic management of cookie
> >
> > Amin,
> >
> > It is not quite clear what is going on there. My best guess it that
> the
> > cookie sent by the target host is malformed and as such rejected by
> > HttpClient.
> >
> > However, it is just a guess. We will be able to give more definitive
> > answers if you provide us with the wire log of the HTTP session in
> > question.
> >
> > Please have a look at the logging guide for more details
> >
> > http://jakarta.apache.org/commons/httpclient/logging.html
> >
> > Oleg
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From olegk@apache.org  Wed Jun 25 09:05:30 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 37643 invoked from network); 25 Jun 2003 09:05:30 -0000
Received: from mail3.bluewin.ch (195.186.1.75)
  by daedalus.apache.org with SMTP; 25 Jun 2003 09:05:30 -0000
Received: from olddude.tislab.ch (213.3.42.6) by mail3.bluewin.ch (Bluewin AG 7.0.016)
        id 3EF169A90009CD59 for commons-httpclient-dev@jakarta.apache.org; Wed, 25 Jun 2003 09:05:42 +0000
Subject: Re: Logging guide
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <3EF96081.2060701@nose.ch>
References: <3EF96081.2060701@nose.ch>
Content-Type: text/plain; charset=ISO-8859-1
Message-Id: <1056531936.1972.62.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 25 Jun 2003 11:05:36 +0200
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I fully agree. In 99% cases TRACE log produces no useful information. I
even usually grep through the logs excluding TRACE entries in order to
make them comprehensible.

Oleg


On Wed, 2003-06-25 at 10:42, Ortwin Glück wrote:
> I think we should change the logging guide to set the log level to DEBUG
> for org.apache.commons.httpclient. Currently it is set to TRACE and
> users seem to leave it like this. Oleg, do you find this TRACE level
> bloated logs useful? I think in the majority of cases a DEBUG level
> output is sufficient. What do you think?
>
> Odi
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From olegk@apache.org  Wed Jun 25 09:24:29 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 77062 invoked from network); 25 Jun 2003 09:24:29 -0000
Received: from mail1.bluewin.ch (195.186.1.74)
  by daedalus.apache.org with SMTP; 25 Jun 2003 09:24:29 -0000
Received: from olddude.tislab.ch (213.3.42.6) by mail1.bluewin.ch (Bluewin AG 7.0.016)
        id 3EF1854100098733 for commons-httpclient-dev@jakarta.apache.org; Wed, 25 Jun 2003 09:24:42 +0000
Subject: Re: [SURVEY] Commons-URI or not?
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <002601c33aeb$2bac17d0$0a14a8c0@terre>
References: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com>
	 <002601c33aeb$2bac17d0$0a14a8c0@terre>
Content-Type: text/plain
Message-Id: <1056533074.1972.83.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 25 Jun 2003 11:24:35 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Chris,

This problem is as old as software engineering itself. Code reuse
provides many benefits as well as many potential problems such as
versioning conflicts. In my opinion benefits still outweigh the
problems. Usually code reuse done right results in higher code quality,
provided that you get more people looking at it and stressing it in
different ways. This is exactly what URI code is in a dire need of.

We do plan to introduce other external dependencies in addition to
commons-logging, such as commons-codec. This said, we surely will not
let the number of external dependencies to get out of hands (Believe me,
there are several fine open-source products that I HATE simply because
of ridiculous number of dependencies: dom4j, werkflow, drools being one
of the most notorious). Any potential external dependency will be
subject to thorough analysis and discussion (or even voting) on this
mailing list. You can count on that.

Cheers

Oleg


On Wed, 2003-06-25 at 09:27, Chris Brown wrote:
> Please NO !!!
>
> We're now finding it very difficult to use a lot of Jakarta projects,
> because of "dependency hell"... it's becoming worse than Microsoft's famous
> "DLL hell" problem.  The more self-contained you can keep an API, the better
> ; yes, there are issues concerning code re-use, but at present, we're having
> great difficulty using more than one Jakarta project at a time in our
> projects.
>
> If you only use one Jakarta project at a time, you're generally ok.
>
> If you try to use more than one Jakarta project at the same time within your
> own projects, you have to hope that no such library relies upon any other
> commons component, because chances are that they won't be expecting the same
> version of each library (they don't always include the latest version of
> each "basic" API, and each "main" Jakarta API has a different release
> cycle).  Commons-logging is generally included as standard.  If each version
> of an API was always backwards-compatible, maybe that'd work, but that's not
> always pratical, realistic, or efficient.
>
> Or start hacking around with classloaders... and this too becomes a futile
> exercise when you start deploying things on some versions of Tomcat (for
> example) that "helpfully" expose common functionality, using perhaps
> incompatible versions of APIs (usually from commons) that are obsolete (or
> more recent than) the versions of these APIs required by some other
> "empirical" Jakarta library.
>
> Some of the recent commons components, such as commons-sql, have a
> ridiculous number of dependencies.
>
> One other observation about Commons projects (and Jakarta/Apache in general)
> ; although code re-use seems like a good idea, I'm now seeing several
> different projects that aim to do more or less the same thing, such as :
>
>  - ant and maven
>  - torque and commons-sql
>  - oro and regexp
>  - tapestry, turbine, etc.
>
> Furthermore, if there's Log4J, why not just use it, instead of the
> Commons-Logging layer?  If a project goes JDK1.4+ -only after, then migrate
> to java.util.logging ?
>
> On a personal note, I'm hoping that commons-net, which used to just work
> "as-is", doesn't start depending on lots of different API versions...
>
> I know this is the HttpClient list, and not some general Jakarta list, but I
> sincerely hope that one of the few remaining Jakarta projects that doesn't
> depend on many others doesn't go down the same dependency nightmare route as
> many of the others, so I wanted to illustrate *why* (as a user) I feel this
> way...
>
> - Chris
>
> ----- Original Message -----
> From: "Sung-Gu" <jericho@apache.org>
> To: "Jakarta Commons Developers List" <commons-dev@jakarta.apache.org>;
> "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
> Sent: Wednesday, June 25, 2003 7:09 AM
> Subject: [SURVEY] Commons-URI or not?
>
>
> >
> > Hi all,
> >
> > I suggest that jakarta-commons provides flexible URI issue implementations
> > as a package.
> >
> > Various applications using URI concept comes in the internet world.   and
> > they need common mechanisms and algorithms for URI.
> >
> > For example, all internet programs will need fundamental functionalites of
> > URI like extensible parsing and manipulation container for URL reference,
> > URN and URC,  escape codec mechanism, charset tranformation functionality,
> > URI transformation from real world identities or URN, or other
> > transformations related to DNS or telephony...   If it would be prepared
> > commonly in Jakarta, we can save development powers.   So I suggest new
> > commons-uri package.
> >
> > FYI, currently the commons-httpclient is using it.
> >
> > Any comments?
> > Or any +1, -1?
> >
> > Sung-Gu
> >
> > P.S.: If the requirement is very weak, I want  to put the new package into
> > commons-sandbox even for a long while in my opinion...
> >
> >
> >
>
>
> ----------------------------------------------------------------------------
> ----
>
>
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From ortwin.glueck@nose.ch  Wed Jun 25 09:45:53 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 4514 invoked from network); 25 Jun 2003 09:45:53 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 25 Jun 2003 09:45:53 -0000
Received: (qmail 7241 invoked from network); 25 Jun 2003 09:46:04 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 25 Jun 2003 09:46:04 -0000
Message-ID: <3EF96F5B.60705@nose.ch>
Date: Wed, 25 Jun 2003 11:46:03 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Logging guide
References: <3EF96081.2060701@nose.ch> <1056531936.1972.62.camel@kczrh-okt22.corp.bearingpoint.com>
In-Reply-To: <1056531936.1972.62.camel@kczrh-okt22.corp.bearingpoint.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Oleg Kalnichevski wrote:
> I fully agree. In 99% cases TRACE log produces no useful information. I
> even usually grep through the logs excluding TRACE entries in order to
> make them comprehensible.
>
> Oleg

Patch to xdocs applied. The web will reflect the changes when it is next
generated.

Odi


From cmlenz@gmx.de  Wed Jun 25 10:49:17 2003
Return-Path: <cmlenz@gmx.de>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 89594 invoked from network); 25 Jun 2003 10:49:17 -0000
Received: from unknown (HELO io.heavens-door.net) (62.96.5.66)
  by daedalus.apache.org with SMTP; 25 Jun 2003 10:49:17 -0000
Received: from gmx.de (fire1.mediatis.de [62.96.5.65])
	by io.heavens-door.net (Postfix) with ESMTP id 8AE1D1FECF
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 25 Jun 2003 12:49:12 +0200 (CEST)
Message-ID: <3EF97E95.7060502@gmx.de>
Date: Wed, 25 Jun 2003 12:51:01 +0200
From: Christopher Lenz <cmlenz@gmx.de>
Organization: mediatis GmbH
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: de-de, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Logging guide
References: <3EF96081.2060701@nose.ch> <1056531936.1972.62.camel@kczrh-okt22.corp.bearingpoint.com>
In-Reply-To: <1056531936.1972.62.camel@kczrh-okt22.corp.bearingpoint.com>
X-Enigmail-Version: 0.73.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-MailScanner-Information: Please contact the ISP for more information
X-MailScanner: Found to be clean
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

AFAIK, Log4j doesn't have a separate TRACE level, so all TRACE logs actually
end up as DEBUG logs. So at least for Log4j users, there's no difference.
Just FYI.

-chris

Oleg Kalnichevski wrote:
> I fully agree. In 99% cases TRACE log produces no useful information. I
> even usually grep through the logs excluding TRACE entries in order to
> make them comprehensible.
>
> Oleg
>
>
> On Wed, 2003-06-25 at 10:42, Ortwin Glück wrote:
>
>>I think we should change the logging guide to set the log level to DEBUG
>>for org.apache.commons.httpclient. Currently it is set to TRACE and
>>users seem to leave it like this. Oleg, do you find this TRACE level
>>bloated logs useful? I think in the majority of cases a DEBUG level
>>output is sufficient. What do you think?
>>
>>Odi


From eric@tibco.com  Wed Jun 25 13:38:09 2003
Return-Path: <eric@tibco.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 28304 invoked from network); 25 Jun 2003 13:38:09 -0000
Received: from outhub2.tibco.com (63.100.100.156)
  by daedalus.apache.org with SMTP; 25 Jun 2003 13:38:09 -0000
Received: from unknown(10.106.132.33) by outhub2.tibco.com via csmap
	 id 24201; Wed, 25 Jun 2003 06:39:14 -0700 (PDT)
Received: from mail1.tibco.com (nsmail1.tibco.com [10.106.128.41])
	by na-h-inhub2.tibco.com (8.12.9/8.12.9) with ESMTP id h5PDcA3U027351;
	Wed, 25 Jun 2003 06:38:10 -0700 (PDT)
Received: from tibco.com ([10.98.32.91]) by mail1.tibco.com
          (Netscape Messaging Server 4.15) with ESMTP id HH1HV200.O5T;
          Wed, 25 Jun 2003 06:37:50 -0700
Message-ID: <3EF9A5E4.7040802@tibco.com>
Date: Wed, 25 Jun 2003 09:38:44 -0400
From: "Eric Johnson" <eric@tibco.com>
Organization: TIBCO Extensibility
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3) Gecko/20030312
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
CC: Jakarta Commons Developers List <commons-dev@jakarta.apache.org>
Subject: Re: [SURVEY] Commons-URI or not?
References: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com>
In-Reply-To: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It would seem that most if not all of the responses from the HttpClient
crew responded only to the HttpClient list, and not to commons dev.  So
I'm not sure that all that might need/want to see the entirely negative
feedback have seen it.  I don't subscribe to commons-dev, so if this
doesn't get through, would someone mind reposting it there?

I too am against a separate URI commons package, at least for the moment.

In any event, who else depends on a URI class?  At the moment, there are
three obvious sources for URI type functionality that I am aware of:
HttpClient, Slide, and JRE 1.4.  Slide, rather than using what is in
HttpClient, is using its own, even though Slide includes HttpClient in
its build dependencies.  Without anyone even sharing the code in the
first place, it doesn't seem like a good candidate for a separate project.

One of the negatives that others have mentioned on the HttpClient list
is the growing dependency problem within the Apache projects,
particularly with the myriad of dependencies on commons projects, and
among the commons projects themselves.  Perhaps what we need to do is
start clumping some of the commons projects together, as well as having
the stand-alone pieces we have now.  A first cut at combining some of
the commons projects into one giant JAR might include:

    * beanutil
    * cli
    * codec
    * collections
    * dbcp
    * fileupload
    * httpclient
    * lang
    * logging
    * net
    * pool

My criteria for the above list were three-fold - base requirement of JRE
1.2 or later, that the project should have an official blessed release,
and that it shouldn't depend on any outside libraries - like an XML
parser - at runtime.  And I'll admit that I'm fudging on HttpClient (and
file upload) a little, in that I don't think anyone following HttpClient
would want to include the 1.0 release, but I'm guessing that by the time
such a project is agreed upon and pulled together, HttpClient 2.0 will
be final....  At least here's to hoping.

Anyway, to the extent that a separate URI package would make sense, if
we had a model such as the above, where most people used the one giant
JAR instead of the individual ones, the creation of a separate commons
URI project would be largely one of focus and interest, rather than an
additional dependency quagmire.

-Eric Johnson

Sung-Gu wrote:

>Hi all,
>
>I suggest that jakarta-commons provides flexible URI issue implementations
>as a package.
>
>Various applications using URI concept comes in the internet world.   and
>they need common mechanisms and algorithms for URI.
>
>For example, all internet programs will need fundamental functionalites of
>URI like extensible parsing and manipulation container for URL reference,
>URN and URC,  escape codec mechanism, charset tranformation functionality,
>URI transformation from real world identities or URN, or other
>transformations related to DNS or telephony...   If it would be prepared
>commonly in Jakarta, we can save development powers.   So I suggest new
>commons-uri package.
>
>FYI, currently the commons-httpclient is using it.
>
>Any comments?
>Or any +1, -1?
>
>Sung-Gu
>
>P.S.: If the requirement is very weak, I want  to put the new package into
>commons-sandbox even for a long while in my opinion...
>
>
>
>
>------------------------------------------------------------------------
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>



From rg1915@dslextreme.com  Wed Jun 25 14:27:51 2003
Return-Path: <rg1915@dslextreme.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 81027 invoked from network); 25 Jun 2003 14:27:51 -0000
Received: from securemail3.diginsite.com (HELO securemail.diginsite.com) (206.107.78.16)
  by daedalus.apache.org with SMTP; 25 Jun 2003 14:27:51 -0000
Received: from warden.diginsite.com (warden-p.diginsite.com [208.29.163.248] (may be forged))
	by securemail.diginsite.com (8.12.9/8.12.4) with SMTP id h5PERqBC012648
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 25 Jun 2003 07:27:53 -0700
Received: from no.name.available by warden.diginsite.com
          via smtpd (for securemail.diginsite.com [206.107.78.4]) with SMTP; Wed, 25 Jun 2003 07:27:52 -0700
Message-Id: <5.2.0.9.0.20030625072513.00a89cf8@mail.dslextreme.com>
X-Sender: rg1915@mail.dslextreme.com
X-Mailer: QUALCOMM Windows Eudora Version 5.2.0.9
Date: Wed, 25 Jun 2003 07:26:58 -0700
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
From: Ralph Goers <rg1915@dslextreme.com>
Subject: RE: automatic management of cookie
In-Reply-To: <000101c33ac7$96a27d00$0c01a8c0@RANAS8200>
References: <29ACFAC2-A6B7-11D7-B98C-00306557E112@u.washington.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Have you checked all the responses?  Our site uses javascript to determine
if the browser supports cookies. If the javascript cannot store a cookie
then further requests are rejected.

Ralph




From brown2@reflexe.fr  Wed Jun 25 15:04:27 2003
Return-Path: <brown2@reflexe.fr>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 82473 invoked from network); 25 Jun 2003 15:04:27 -0000
Received: from unknown (HELO vacarme.reflexe.fr) (212.157.126.82)
  by daedalus.apache.org with SMTP; 25 Jun 2003 15:04:27 -0000
Received: from terre [192.168.20.10] by vacarme.reflexe.fr with ESMTP
  (SMTPD32-8.00) id A79E6BB0110; Wed, 25 Jun 2003 16:54:22 +0200
Message-ID: <004901c33b2b$4ed302b0$0a14a8c0@terre>
From: "Chris Brown" <brown2@reflexe.fr>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Cc: "Jakarta Commons Developers List" <commons-dev@jakarta.apache.org>
References: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com> <3EF9A5E4.7040802@tibco.com>
Subject: Re: dependency hell
Date: Wed, 25 Jun 2003 17:06:08 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hello all,

Concerning the "dependency hell" thread (that I sort of started on
httpclient's list), I would favour an "all-in-one, large .jar" approach as
suggested by Eric Johnson, because it should keep all versions and internal
dependencies nicely in sync, even if it complicates the release cycle.  It'd
be nice to keep an option to build (from source, with
Ant/maven/<build-system-of-the-day>) independent components, rather than one
big component, for those that *really* need it.  For projects outside of the
"all-in-one" jar (say, commons-sql), this'd at least reduce significantly
the number of dependencies (and the associated synchronisation problems).

On a related point, any comments on the rationale behind so many Apache
projects seemingly "competing" with each other?  From a user perspective,
this is confusing and off-putting, from a developer perspective, it seems a
waste of resources (why re-invent the wheel with slight differences, instead
of making a better wheel?).  Here's some examples that, as a user, seem to
illustrate this point:

 - ant and maven
 - torque and commons-sql
 - oro and regexp
 - tapestry, turbine, etc.

Hope this is constructive,
Chris

PS: I'm not subscribed to commons-dev, I'm (exceptionnally) cross-posting as
suggested by Eric ; I probably won't receive any replies unless I'm CC'd.

----- Original Message -----
From: "Eric Johnson" <eric@tibco.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Cc: "Jakarta Commons Developers List" <commons-dev@jakarta.apache.org>
Sent: Wednesday, June 25, 2003 3:38 PM
Subject: Re: [SURVEY] Commons-URI or not?


> It would seem that most if not all of the responses from the HttpClient
> crew responded only to the HttpClient list, and not to commons dev.  So
> I'm not sure that all that might need/want to see the entirely negative
> feedback have seen it.  I don't subscribe to commons-dev, so if this
> doesn't get through, would someone mind reposting it there?
>
> I too am against a separate URI commons package, at least for the moment.
>
> In any event, who else depends on a URI class?  At the moment, there are
> three obvious sources for URI type functionality that I am aware of:
> HttpClient, Slide, and JRE 1.4.  Slide, rather than using what is in
> HttpClient, is using its own, even though Slide includes HttpClient in
> its build dependencies.  Without anyone even sharing the code in the
> first place, it doesn't seem like a good candidate for a separate project.
>
> One of the negatives that others have mentioned on the HttpClient list
> is the growing dependency problem within the Apache projects,
> particularly with the myriad of dependencies on commons projects, and
> among the commons projects themselves.  Perhaps what we need to do is
> start clumping some of the commons projects together, as well as having
> the stand-alone pieces we have now.  A first cut at combining some of
> the commons projects into one giant JAR might include:
>
>     * beanutil
>     * cli
>     * codec
>     * collections
>     * dbcp
>     * fileupload
>     * httpclient
>     * lang
>     * logging
>     * net
>     * pool
>
> My criteria for the above list were three-fold - base requirement of JRE
> 1.2 or later, that the project should have an official blessed release,
> and that it shouldn't depend on any outside libraries - like an XML
> parser - at runtime.  And I'll admit that I'm fudging on HttpClient (and
> file upload) a little, in that I don't think anyone following HttpClient
> would want to include the 1.0 release, but I'm guessing that by the time
> such a project is agreed upon and pulled together, HttpClient 2.0 will
> be final....  At least here's to hoping.
>
> Anyway, to the extent that a separate URI package would make sense, if
> we had a model such as the above, where most people used the one giant
> JAR instead of the individual ones, the creation of a separate commons
> URI project would be largely one of focus and interest, rather than an
> additional dependency quagmire.
>
> -Eric Johnson
>
> chris brown wrote:
>
> Please NO !!!
>
> We're now finding it very difficult to use a lot of Jakarta projects,
> because of "dependency hell"... it's becoming worse than Microsoft's
> famous "DLL hell" problem.  The more self-contained you can keep an
> API, the better ; yes, there are issues concerning code re-use, but
> at present, we're having great difficulty using more than one Jakarta
> project at a time in our projects.
>
> If you only use one Jakarta project at a time, you're generally ok.
>
> If you try to use more than one Jakarta project at the same time
> within your own projects, you have to hope that no such library
> relies upon any other commons component, because chances are that
> they won't be expecting the same version of each library (they don't
> always include the latest version of each "basic" API, and each
> "main" Jakarta API has a different release cycle).  Commons-logging
> is generally included as standard. If each version of an API was
> always backwards-compatible, maybe that'd work, but that's not always
> pratical, realistic, or efficient.
>
> Or start hacking around with classloaders... and this too becomes a
> futile exercise when you start deploying things on some versions of
> Tomcat (for example) that "helpfully" expose common functionality,
> using perhaps incompatible versions of APIs (usually from commons)
> that are obsolete (or more recent than) the versions of these APIs
> required by some other "empirical" Jakarta library.
>
> Some of the recent commons components, such as commons-sql, have a
> ridiculous number of dependencies.
>
> One other observation about Commons projects (and
> Jakarta/Apache in general)
> ; although code re-use seems like a good idea, I'm now seeing several
> different projects that aim to do more or less the same thing, such
> as :
>
>  - ant and maven
>  - torque and commons-sql
>  - oro and regexp
>  - tapestry, turbine, etc.
>
> Furthermore, if there's Log4J, why not just use it, instead of the
> Commons-Logging layer?  If a project goes JDK1.4+ -only after, then
> migrate to java.util.logging ?
>
> On a personal note, I'm hoping that commons-net, which used to just
> work "as-is", doesn't start depending on lots of different API
> versions...
>
> I know this is the HttpClient list, and not some general Jakarta
> list, but I sincerely hope that one of the few remaining Jakarta
> projects that doesn't depend on many others doesn't go down the same
> dependency nightmare route as many of the others, so I wanted to
> illustrate *why* (as a user) I feel this way...
>
> - Chris
>
> Sung-Gu wrote:
>
> >Hi all,
> >
> >I suggest that jakarta-commons provides flexible URI issue
implementations
> >as a package.
> >
> >Various applications using URI concept comes in the internet world.   and
> >they need common mechanisms and algorithms for URI.
> >
> >For example, all internet programs will need fundamental functionalites
of
> >URI like extensible parsing and manipulation container for URL reference,
> >URN and URC,  escape codec mechanism, charset tranformation
functionality,
> >URI transformation from real world identities or URN, or other
> >transformations related to DNS or telephony...   If it would be prepared
> >commonly in Jakarta, we can save development powers.   So I suggest new
> >commons-uri package.
> >
> >FYI, currently the commons-httpclient is using it.
> >
> >Any comments?
> >Or any +1, -1?
> >
> >Sung-Gu
> >
> >P.S.: If the requirement is very weak, I want  to put the new package
into
> >commons-sandbox even for a long while in my opinion...



From becke@u.washington.edu  Wed Jun 25 17:11:08 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 39958 invoked from network); 25 Jun 2003 17:11:08 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 25 Jun 2003 17:11:08 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout2.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5PHBBo0016037
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 25 Jun 2003 10:11:12 -0700
Received: from u.washington.edu (ss05.co.us.ibm.com [32.97.110.70])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5PHBAXZ010266
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 25 Jun 2003 10:11:11 -0700
Message-ID: <3EF9D771.7010303@u.washington.edu>
Date: Wed, 25 Jun 2003 13:10:09 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: automatic management of cookie
References: <000101c33ac7$96a27d00$0c01a8c0@RANAS8200>
In-Reply-To: <000101c33ac7$96a27d00$0c01a8c0@RANAS8200>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Amit,

Yes, I think Oleg is correct.  You need to perform a get from the server
before the post so that a cookie is set.  Doing a get on
http://www2.ipdl.jpo.go.jp/beginner_tm/TM_AREA.cgi set the following cookie:

Set-Cookie: Name=BE21056561003 StartTime=2003/06/26 02:10:03
domain=jpo.go.jp Path=/beginner_tm Experies=Thu, 26-Jun-2003 02:10:03 GMT

Mike

Amit Rana wrote:
> Hello Michael,
>
>  Thank you for the reply.
>
>
>>What exactly is the problem you are having?  Is HttpClient throwing
>>exceptions when it tries to parse the cookies from this server?
>
> I am sorry for not writing clearly before.
>
> I am trying to access a site which gives me a fixed response "Server is
> busy please try later". This seems to be a canned response which I get
> from my browser only when I disable cookies. Otherwise I have never
> received this response on a browser.
>
> Please feel free to correct me if I am wrong
> 1. Either the server has some check and sends a canned response for
> anybody trying to access using a program, I think this should not be the
> case because only way they can find the client is by User-agent which
> can be set or
> 2. My browser gives same response code when cookies are disabled so I
> want to make sure it is not a cookie problem.
>
> I am trying to perform a Japanese trademark search on this site
> http://www2.ipdl.jpo.go.jp/beginner_tm/TM_AREA.cgi (NOTE: if you want to
> try it, text box expects only double byte input)
>
> PFA the log. I highly appreciate your help.
>
> Regards,
> Amit.
>
>
>>-----Original Message-----
>>From: Michael Becke [mailto:becke@u.washington.edu]
>>Sent: Wednesday, June 25, 2003 11:46 AM
>>To: Commons HttpClient Project
>>Subject: Re: automatic management of cookie
>>
>>Hello Amit,
>>
>>
>>>HttpClient client = new HttpClient();
>>>client.getState().setCookiePolicy(CookiePolicy.COMPATIBILITY);
>>>HttpMethod method = new GetMethod(url);
>>>Int statusCode = client.executeMethod(method);
>>
>>This will configure HttpClient to use the compatibility cookie mode.
>>This is not necessarily required but is probably best to ensure
>
> correct
>
>>cookie handling.
>>
>>
>>>Please feel free to point me to a document/link which can give more
>>>information about the same.
>>>
>>>	I am trying to connect to a website which needs cookie support
>>>from the client. I am getting same response while trying to connect
>>>from
>>>httpclient which I get when I access the site with cookies disabled
>
> in
>
>>>my browser.
>>
>>The cookie documentation on the HttpClient site is about all there is.
>>There's not too much more to it.
>>
>>What exactly is the problem you are having?  Is HttpClient throwing
>>exceptions when it tries to parse the cookies from this server?
>>
>>Please take a look at the trouble shooting guide
>><http://jakarta.apache.org/commons/httpclient/troubleshooting.html>
>
> for
>
>>some more things to look at.  If this is not helpful in resolving the
>>problem please post a wire log to the mailing list that shows the
>>problematic transmission, see
>><http://jakarta.apache.org/commons/httpclient/logging.html> for how to
>>create a wire log.
>>
>>Mike
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail:
>>commons-httpclient-dev-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>commons-httpclient-dev-help@jakarta.apache.org
>>
>>
>>------------------------------------------------------------------------
>>
>>2003/06/25 11:59:55:714 JST [DEBUG] HttpClient - -Java version: 1.4.1_01
>>2003/06/25 11:59:55:714 JST [DEBUG] HttpClient - -Java vendor: Sun Microsystems Inc.
>>2003/06/25 11:59:55:714 JST [DEBUG] HttpClient - -Java class path: E:\Solis-work\solismark\WEB-INF\classes;E:\Solis-work\solismark\WEB-INF\lib\commons-httpclient-2.0-beta1.jar;E:\Solis-work\solismark\WEB-INF\lib\commons-logging-1.0.2.jar;E:\Solis-work\solismark\WEB-INF\lib\htmlparser.jar
>>2003/06/25 11:59:55:714 JST [DEBUG] HttpClient - -Operating system name: Windows XP
>>2003/06/25 11:59:55:714 JST [DEBUG] HttpClient - -Operating system architecture: x86
>>2003/06/25 11:59:55:714 JST [DEBUG] HttpClient - -Operating system version: 5.1
>>2003/06/25 11:59:56:175 JST [DEBUG] HttpClient - -SUN 1.2: SUN (DSA key/parameter generation; DSA signing; SHA-1, MD5 digests; SecureRandom; X.509 certificates; JKS keystore; PKIX CertPathValidator; PKIX CertPathBuilder; LDAP, Collection CertStores)
>>2003/06/25 11:59:56:175 JST [DEBUG] HttpClient - -SunJSSE 1.41: Sun JSSE provider(implements RSA Signatures, PKCS12, SunX509 key/trust factories, SSLv3, TLSv1)
>>2003/06/25 11:59:56:175 JST [DEBUG] HttpClient - -SunRsaSign 1.0: SUN's provider for RSA signatures
>>2003/06/25 11:59:56:175 JST [DEBUG] HttpClient - -SunJCE 1.4: SunJCE Provider (implements DES, Triple DES, Blowfish, PBE, Diffie-Hellman, HMAC-MD5, HMAC-SHA1)
>>2003/06/25 11:59:56:175 JST [DEBUG] HttpClient - -SunJGSS 1.0: Sun (Kerberos v5)
>>2003/06/25 11:59:56:285 JST [TRACE] GetMethod - -enter GetMethod(String)
>>2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - -HttpMethodBase.addRequestHeader(Header)
>>2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - -HttpMethodBase.addRequestHeader(Header)
>>2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - -HttpMethodBase.addRequestHeader(Header)
>>2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - -HttpMethodBase.addRequestHeader(Header)
>>2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - -HttpMethodBase.addRequestHeader(Header)
>>2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - -HttpMethodBase.addRequestHeader(Header)
>>2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - -HttpMethodBase.addRequestHeader(Header)
>>2003/06/25 11:59:56:305 JST [TRACE] HttpMethod - -HttpMethodBase.addRequestHeader(Header)
>>2003/06/25 11:59:56:315 JST [TRACE] HttpClient - -enter HttpClient.executeMethod(HttpMethod)
>>2003/06/25 11:59:56:315 JST [TRACE] HttpClient - -enter HttpClient.executeMethod(HostConfiguration,HttpMethod,HttpState)
>>2003/06/25 11:59:56:335 JST [DEBUG] HttpConnection - -Creating connection for www2.ipdl.jpo.go.jp using protocol http:80
>>2003/06/25 11:59:56:335 JST [DEBUG] HttpConnection - -HttpConnection.setSoTimeout(0)
>>2003/06/25 11:59:56:335 JST [TRACE] HttpConnection - -enter HttpConnection.open()
>>2003/06/25 11:59:56:395 JST [TRACE] HttpMethod - -enter HttpMethodBase.execute(HttpState, HttpConnection)
>>2003/06/25 11:59:56:395 JST [DEBUG] HttpMethod - -Preemptively sending default basic credentials
>>2003/06/25 11:59:56:405 JST [TRACE] HttpAuthenticator - -enter HttpAuthenticator.authenticateDefault(HttpMethod, HttpConnection, HttpState)
>>2003/06/25 11:59:56:405 JST [TRACE] HttpState - -enter HttpState.getCredentials(String, String
>>2003/06/25 11:59:56:405 JST [DEBUG] HttpMethod - -Execute loop try 1
>>2003/06/25 11:59:56:405 JST [TRACE] HttpMethod - -enter HttpMethodBase.processRequest(HttpState, HttpConnection)
>>2003/06/25 11:59:56:405 JST [TRACE] HttpMethod - -Attempt number 1 to process request
>>2003/06/25 11:59:56:405 JST [TRACE] HttpMethod - -enter HttpMethodBase.writeRequest(HttpState, HttpConnection)
>>2003/06/25 11:59:56:405 JST [TRACE] HttpMethod - -enter HttpMethodBase.writeRequestLine(HttpState, HttpConnection)
>>2003/06/25 11:59:56:405 JST [TRACE] HttpMethod - -enter HttpMethodBase.generateRequestLine(HttpConnection, String, String, String, String)
>>2003/06/25 11:59:56:405 JST [DEBUG] wire - ->> "POST /beginner_tm/TM_SEARCH.cgi HTTP/1.1[\r][\n]"
>>2003/06/25 11:59:56:415 JST [TRACE] HttpConnection - -enter HttpConnection.print(String)
>>2003/06/25 11:59:56:415 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[])
>>2003/06/25 11:59:56:415 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[], int, int)
>>2003/06/25 11:59:56:415 JST [TRACE] HttpMethod - -enter HttpMethodBase.writeRequestHeaders(HttpState,HttpConnection)
>>2003/06/25 11:59:56:415 JST [TRACE] ExpectContinueMethod - -enter ExpectContinueMethod.addRequestHeaders(HttpState, HttpConnection)
>>2003/06/25 11:59:56:415 JST [TRACE] HttpMethod - -enter HttpMethodBase.addRequestHeaders(HttpState, HttpConnection)
>>2003/06/25 11:59:56:415 JST [TRACE] HttpMethod - -enter HttpMethodBase.addUserAgentRequestHeaders(HttpState, HttpConnection)
>>2003/06/25 11:59:56:415 JST [TRACE] HttpMethod - -enter HttpMethodBase.addHostRequestHeader(HttpState, HttpConnection)
>>2003/06/25 11:59:56:415 JST [DEBUG] HttpMethod - -Adding Host request header
>>2003/06/25 11:59:56:415 JST [TRACE] HttpMethod - -enter HttpMethodBase.addCookieRequestHeader(HttpState, HttpConnection)
>>2003/06/25 11:59:56:425 JST [TRACE] HttpState - -enter HttpState.getCookies()
>>2003/06/25 11:59:56:425 JST [TRACE] CookieSpec - -enter CookieSpecBase.match(String, int, String, boolean, Cookie[])
>>2003/06/25 11:59:56:425 JST [TRACE] HttpMethod - -enter HttpMethodBase.addAuthorizationRequestHeader(HttpState, HttpConnection)
>>2003/06/25 11:59:56:425 JST [TRACE] HttpMethod - -enter HttpMethodBase.addProxyAuthorizationRequestHeader(HttpState, HttpConnection)
>>2003/06/25 11:59:56:425 JST [TRACE] HttpMethod - -enter HttpMethodBase.addProxyConnectionHeader(HttpState, HttpConnection)
>>2003/06/25 11:59:56:435 JST [TRACE] EntityEnclosingMethod - -enter HttpMethodBase.addContentLengthRequestHeader(HttpState, HttpConnection)
>>2003/06/25 11:59:56:435 JST [TRACE] EntityEnclosingMethod - -enter EntityEnclosingMethod.getRequestContentLength()
>>2003/06/25 11:59:56:435 JST [TRACE] PostMethod - -enter PostMethod.hasRequestContent()
>>2003/06/25 11:59:56:435 JST [TRACE] EntityEnclosingMethod - -enter EntityEnclosingMethod.hasRequestContent()
>>2003/06/25 11:59:56:435 JST [TRACE] HttpMethod - -HttpMethodBase.addRequestHeader(Header)
>>2003/06/25 11:59:56:435 JST [DEBUG] wire - ->> "User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)[\r][\n]"
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.print(String)
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[])
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[], int, int)
>>2003/06/25 11:59:56:445 JST [DEBUG] wire - ->> "search_mode: 0[\r][\n]"
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.print(String)
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[])
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[], int, int)
>>2003/06/25 11:59:56:445 JST [DEBUG] wire - ->> "start: 1[\r][\n]"
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.print(String)
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[])
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[], int, int)
>>2003/06/25 11:59:56:445 JST [DEBUG] wire - ->> "go_list: 1[\r][\n]"
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.print(String)
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[])
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[], int, int)
>>2003/06/25 11:59:56:445 JST [DEBUG] wire - ->> "shit: 36545[\r][\n]"
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.print(String)
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[])
>>2003/06/25 11:59:56:445 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[], int, int)
>>2003/06/25 11:59:56:455 JST [DEBUG] wire - ->> "key01: ??[\r][\n]"
>>2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter HttpConnection.print(String)
>>2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[])
>>2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[], int, int)
>>2003/06/25 11:59:56:455 JST [DEBUG] wire - ->> "ron01: 02[\r][\n]"
>>2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter HttpConnection.print(String)
>>2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[])
>>2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[], int, int)
>>2003/06/25 11:59:56:455 JST [DEBUG] wire - ->> "time: 1056509996305[\r][\n]"
>>2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter HttpConnection.print(String)
>>2003/06/25 11:59:56:455 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[])
>>2003/06/25 11:59:56:465 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[], int, int)
>>2003/06/25 11:59:56:465 JST [DEBUG] wire - ->> "Host: www2.ipdl.jpo.go.jp[\r][\n]"
>>2003/06/25 11:59:56:465 JST [TRACE] HttpConnection - -enter HttpConnection.print(String)
>>2003/06/25 11:59:56:465 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[])
>>2003/06/25 11:59:56:465 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[], int, int)
>>2003/06/25 11:59:56:465 JST [DEBUG] wire - ->> "Content-Length: 0[\r][\n]"
>>2003/06/25 11:59:56:465 JST [TRACE] HttpConnection - -enter HttpConnection.print(String)
>>2003/06/25 11:59:56:465 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[])
>>2003/06/25 11:59:56:475 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[], int, int)
>>2003/06/25 11:59:56:475 JST [TRACE] HttpConnection - -enter HttpConnection.writeLine()
>>2003/06/25 11:59:56:475 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[])
>>2003/06/25 11:59:56:475 JST [TRACE] HttpConnection - -enter HttpConnection.write(byte[], int, int)
>>2003/06/25 11:59:56:475 JST [TRACE] HttpConnection - -enter HttpConnection.flushRequestOutputStream()
>>2003/06/25 11:59:56:475 JST [DEBUG] wire - ->> "[\r][\n]"
>>2003/06/25 11:59:56:475 JST [TRACE] EntityEnclosingMethod - -enter EntityEnclosingMethod.writeRequestBody(HttpState, HttpConnection)
>>2003/06/25 11:59:56:475 JST [TRACE] PostMethod - -enter PostMethod.hasRequestContent()
>>2003/06/25 11:59:56:475 JST [TRACE] EntityEnclosingMethod - -enter EntityEnclosingMethod.hasRequestContent()
>>2003/06/25 11:59:56:475 JST [DEBUG] EntityEnclosingMethod - -Request body has not been specified
>>2003/06/25 11:59:56:475 JST [TRACE] HttpConnection - -enter HttpConnection.flushRequestOutputStream()
>>2003/06/25 11:59:56:485 JST [TRACE] HttpMethod - -enter HttpMethodBase.readResponse(HttpState, HttpConnection)
>>2003/06/25 11:59:56:485 JST [TRACE] HttpMethod - -enter HttpMethodBase.readStatusLine(HttpState, HttpConnection)
>>2003/06/25 11:59:56:485 JST [TRACE] HttpConnection - -enter HttpConnection.readLine()
>>2003/06/25 11:59:56:485 JST [TRACE] HttpParser - -enter HttpParser.readLine()
>>2003/06/25 11:59:56:485 JST [TRACE] HttpParser - -enter HttpParser.readRawLine()
>>2003/06/25 11:59:56:565 JST [DEBUG] wire - -<< "HTTP/1.1 200 OK[\r][\n]"
>>2003/06/25 11:59:56:565 JST [TRACE] HttpMethod - -enter HttpMethodBase.readResponseHeaders(HttpState,HttpConnection)
>>2003/06/25 11:59:56:565 JST [TRACE] HttpConnection - -enter HttpConnection.getResponseInputStream()
>>2003/06/25 11:59:56:565 JST [TRACE] HttpParser - -enter HeaderParser.parseHeaders(HttpConnection, HeaderGroup)
>>2003/06/25 11:59:56:565 JST [TRACE] HttpParser - -enter HttpParser.readLine()
>>2003/06/25 11:59:56:565 JST [TRACE] HttpParser - -enter HttpParser.readRawLine()
>>2003/06/25 11:59:56:565 JST [TRACE] HttpParser - -enter HttpParser.readLine()
>>2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter HttpParser.readRawLine()
>>2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter HttpParser.readLine()
>>2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter HttpParser.readRawLine()
>>2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter HttpParser.readLine()
>>2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter HttpParser.readRawLine()
>>2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter HttpParser.readLine()
>>2003/06/25 11:59:56:575 JST [TRACE] HttpParser - -enter HttpParser.readRawLine()
>>2003/06/25 11:59:56:575 JST [DEBUG] wire - -<< "Date: Wed, 25 Jun 2003 03:01:32 GMT[\r][\n]"
>>2003/06/25 11:59:56:575 JST [DEBUG] wire - -<< "Server: Hitachi Web Server 01-00 (Unix)[\r][\n]"
>>2003/06/25 11:59:56:575 JST [DEBUG] wire - -<< "Transfer-Encoding: chunked[\r][\n]"
>>2003/06/25 11:59:56:575 JST [DEBUG] wire - -<< "Content-Type: text/html[\r][\n]"
>>2003/06/25 11:59:56:575 JST [TRACE] HttpMethod - -enter HttpMethodBase.processResponseHeaders(HttpState, HttpConnection)
>>2003/06/25 11:59:56:575 JST [TRACE] GetMethod - -enter GetMethod.readResponseBody(HttpState, HttpConnection)
>>2003/06/25 11:59:56:575 JST [TRACE] HttpMethod - -enter HttpMethodBase.readResponseBody(HttpState, HttpConnection)
>>2003/06/25 11:59:56:575 JST [TRACE] HttpMethod - -enter HttpMethodBase.readResponseBody(HttpState, HttpConnection)
>>2003/06/25 11:59:56:585 JST [TRACE] HttpConnection - -enter HttpConnection.getResponseInputStream()
>>2003/06/25 11:59:56:585 JST [DEBUG] HttpConnection - -HttpConnection.getSoTimeout()
>>2003/06/25 11:59:56:585 JST [TRACE] HttpConnection - -enter HttpConnection.isResponseAvailable(int)
>>2003/06/25 11:59:56:585 JST [DEBUG] wire - -<< "1"
>>2003/06/25 11:59:56:585 JST [DEBUG] wire - -<< "8"
>>2003/06/25 11:59:56:585 JST [DEBUG] wire - -<< "E"
>>2003/06/25 11:59:56:585 JST [DEBUG] wire - -<< "[\r]"
>>2003/06/25 11:59:56:585 JST [DEBUG] wire - -<< "[\n]"
>>2003/06/25 11:59:56:585 JST [DEBUG] wire - -<< "<html>[\n]"
>>2003/06/25 11:59:56:595 JST [DEBUG] wire - -<< "<head>[\n]"
>>2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "<title>[0xfffd][0xfffd][0xfffd]S[0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd] [0xfffd]i[0xfffd]G[0xfffd][0xfffd][0xfffd][[0xfffd]C[0xfffd][0xfffd][0xfffd]t[0xfffd]H[0xfffd][0xfffd][0xfffd][[0xfffd]V[0xfffd][0xfffd][0xfffd][0xfffd][0xfffd]j</title>[\n]"
>>2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "</head>[\n]"
>>2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "<body bgcolor="#FFFFFF" text="#000000">[\n]"
>>2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "<H2><IMG SRC="/BE0/BE2/pate.gif" border=0>[0xfffd][0xfffd][0xfffd]S[0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd]G[0xfffd][0xfffd][0xfffd][[0xfffd]C[0xfffd][0xfffd][0xfffd]t[0xfffd]H[0xfffd][0xfffd][0xfffd][[0xfffd]V[0xfffd][0xfffd][0xfffd][0xfffd]</H2><HR>[\n]"
>>2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "[0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd]T[0xfffd][[0xfffd]o[0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd]B[0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd][0xfffd]B<BR>[\n]"
>>2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "[0xfffd]I[0xfffd][0xfffd][0xfffd]R[0xfffd][[0xfffd]h[0xfffd]F[BE20013E][\n]"
>>2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "<BR><HR>[\n]"
>>2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "<A HREF="/BE0/index.html"><IMG SRC="/BE0/BE2/header_top.gif" border=0></A>[\n]"
>>2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "</body>[\n]"
>>2003/06/25 11:59:56:605 JST [DEBUG] wire - -<< "</html>"
>>2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "[\r]"
>>2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "[\n]"
>>2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "0"
>>2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "[\r]"
>>2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "[\n]"
>>2003/06/25 11:59:56:615 JST [TRACE] HttpParser - -enter HeaderParser.parseHeaders(HttpConnection, HeaderGroup)
>>2003/06/25 11:59:56:615 JST [TRACE] HttpParser - -enter HttpParser.readLine()
>>2003/06/25 11:59:56:615 JST [TRACE] HttpParser - -enter HttpParser.readRawLine()
>>2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "[\r]"
>>2003/06/25 11:59:56:615 JST [DEBUG] wire - -<< "[\n]"
>>2003/06/25 11:59:56:615 JST [DEBUG] HttpMethod - -Resorting to protocol version default close connection policy
>>2003/06/25 11:59:56:615 JST [DEBUG] HttpMethod - -Should NOT close connection, using HTTP/1.1.
>>2003/06/25 11:59:56:615 JST [TRACE] HttpConnection - -enter HttpConnection.releaseConnection()
>>2003/06/25 11:59:56:615 JST [DEBUG] HttpMethod - -buffering response body
>>
>>
>>
>>------------------------------------------------------------------------
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org


From secoskem@aciworldwide.com  Wed Jun 25 17:33:28 2003
Return-Path: <secoskem@aciworldwide.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 89846 invoked from network); 25 Jun 2003 17:33:28 -0000
Received: from mail.tsainc.com (HELO acio-cissun4.tsainc.com) (206.201.23.30)
  by daedalus.apache.org with SMTP; 25 Jun 2003 17:33:28 -0000
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: Client Auth / Certificates
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 5.0.10  March 22, 2002
From: secoskem@aciworldwide.com
Message-ID: <OFC816EFA3.B18702AE-ON86256D50.005FE69B-86256D50.00607A91@tsainc.com>
Date: Wed, 25 Jun 2003 12:33:31 -0500
X-MIMETrack: Serialize by Router on lng002/SVR/TSA(Release 5.0.10 |March 22, 2002) at 06/25/2003
 12:34:31 PM,
	Serialize complete at 06/25/2003 12:34:31 PM
Content-Type: multipart/alternative; boundary="=_alternative 00607A4186256D50_="
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=_alternative 00607A4186256D50_=
Content-Type: text/plain; charset="us-ascii"

Hello All,

I a nub to HttpClient.  I am looking for a way to specify a particular
client SSL certificate for Client Authenticated SSL.   I do not see
anything in the HttpClient javadocs, so I'm posting the question here.  Is
there such a mechanism already in place in HttpClient, or do I need to
write my own?  I have already written some code that works with the
JDK/JSSE HttpsURLConnection, I'm just looking for more functionality
(Timeouts) than what the JDK gives me.

Thanks,
- Matt Secoske
--=_alternative 00607A4186256D50_=--

From olegk@apache.org  Wed Jun 25 18:58:45 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 17320 invoked from network); 25 Jun 2003 18:58:45 -0000
Received: from mail2.bluewin.ch (195.186.4.73)
  by daedalus.apache.org with SMTP; 25 Jun 2003 18:58:45 -0000
Received: from olddude.tislab.ch (62.203.191.241) by mail2.bluewin.ch (Bluewin AG 7.0.016)
        id 3EF9913D0000C805 for commons-httpclient-dev@jakarta.apache.org; Wed, 25 Jun 2003 18:58:49 +0000
Subject: RE:  Extra newline when using ByteArrayPartSource and FilePart
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <2EA838BF3340D5119BF100508BB0856E05257E72@zmucm01.muc.wacker.de>
References: <2EA838BF3340D5119BF100508BB0856E05257E72@zmucm01.muc.wacker.de>
Content-Type: text/plain
Message-Id: <1056567522.2398.20.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 25 Jun 2003 20:58:43 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Aaron,
I am afraid it is premature to draw such a conclusion. I will
double-check that it is not a bug in HttpClient and get back to you as
soon as I can.

Oleg


On Tue, 2003-06-24 at 18:15, Fa. MSG Hr. Liebling wrote:
> After looking at the spec, the actual request looks ok (there should be 2
> newlines).  any other ideas as to why I'm getting a newline at the beginning
> of the uploaded file once it's saved on the server?  Unfortunately, I don't
> have access to the server or server code to debug it, I can only see the
> resulting file.
>
> Thanks!
>
> Aaron
>
> 	I'm uploading a file from an array of bytes using
> 	ByteArrayPartSource and FilePart.  The upload
> 	succeeds, but when I view the file on the server side,
> 	I see that an extra \r\n (^M or newline) has been
> 	preprended to it.
>
> 	My code sample is as follows:
>
> 	byte[] bytes = baOS.toByteArray();
>
> 	ByteArrayPartSource baPS =
> 	new
> 	ByteArrayPartSource(mpRequest.getFileSystemName(paramName),
> 	                            bytes);
>
> 	 FilePart filePart = new FilePart(paramName,baPS);
> 	                    mppMethod.addPart(filePart);
>
> 	From the wire, the request looks like:
>
> 	"POST
>
> /RightSite/ssi4_logged_in?rndn=70518498&operation=import_object&DMW_ON_ERROR
> =relogon_http&embedded=true&type=dm_folder&DMW_DOCBASE=muc_d_corp_01&id=0b00
> 91bb80193a03&enableIndex=true&object_name=WACKER-NOC2-Build%2BDeploy-2003041
> 1.doc&a_full_text=FALSE&r_object_type=corp00_o_superdoc&wa_language_code=en_
> US&a_content_type=msw8%3B1&subject=BETA1&doc_format=msw8&title=BETA1&entry=p
> rocess_index&automaticIndex=false
> 	HTTP/1.1[\r][\n]"
> 	"accept: application/vnd.ms-excel, application/msword,
> 	application/vnd.ms-powerpoint, image/gif,
> 	image/x-xbitmap, image/jpeg, image/pjpeg, */*[\r][\n]"
> 	"accept-language: de[\r][\n]"
> 	"accept-encoding: gzip, deflate[\r][\n]"
> 	"user-agent: Mozilla/4.0 (compatible; MSIE 6.0;
> 	Windows NT 4.0)[\r][\n]"
> 	"connection: Keep-Alive[\r][\n]"
> 	"cache-control: no-cache[\r][\n]"
> 	"WL-PATH-PREPEND: /extranet[\r][\n]"
> 	"WL-Proxy-SSL: false[\r][\n]"
> 	"X-WebLogic-Force-Cookie: true[\r][\n]"
> 	"WL-Proxy-Client-IP: 193.19.4.32[\r][\n]"
> 	"Proxy-Path-Translated:
> 	/RightSite/ssi4_logged_in[\r][\n]"
> 	"X-WebLogic-Request-ClusterInfo: true[\r][\n]"
> 	"Host: zmucdoc1:8040[\r][\n]"
> 	"Cookie: $Version=0; DMW_AUTHORIZATION=FALSE[\r][\n]"
> 	"Cookie: $Version=0;
> 	jrunsessionid=1056462816518120373; $Path=/[\r][\n]"
> 	"Cookie: $Version=0; storedLocale=en-us;
> 	$Path=/[\r][\n]"
> 	"Cookie: $Version=0; storedDBName=muc_d_corp_01;
> 	$Path=/[\r][\n]"
> 	"Cookie: $Version=0; storedUserName=lieblin-ex;
> 	$Path=/[\r][\n]"
> 	"Cookie: $Version=0; storedDomainName=;
> 	$Path=/[\r][\n]"
> 	"Cookie: $Version=0;
> 	DMW_SESSIONID=2117204380119467_18_1056245705;
> 	$Path=/[\r][\n]"
> 	"Cookie: $Version=0; DMW_DOCBASE=muc_d_corp_01;
> 	$Path=/[\r][\n]"
> 	"Content-Length: 127752[\r][\n]"
> 	"Content-Type: multipart/form-data;
> 	boundary=----------------314159265358979323846[\r][\n]"
> 	"[\r][\n]"
>
> 	"----------------314159265358979323846"
> 	"[\r][\n]"
> 	"Content-Disposition: form-data; name="
>
> 	"DMW_FILENAME"
>
> 	filename="
>
> 	"WACKER-NOC2-Build+Deploy-20030411.doc"
>
> 	"[\r][\n]"
> 	"Content-Type: "
> 	"application/octet-stream"
> 	"[\r][\n]"
> 	"Content-Transfer-Encoding: "
> 	"binary"
> 	"[\r][\n]"
> 	"[\r][\n]"
> 	"[0x11]...binary data here"
>
> 	Thanks!
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From christian.sell@netcologne.de  Wed Jun 25 19:22:42 2003
Return-Path: <christian.sell@netcologne.de>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 83154 invoked from network); 25 Jun 2003 19:22:42 -0000
Received: from smtp2.netcologne.de (194.8.194.218)
  by daedalus.apache.org with SMTP; 25 Jun 2003 19:22:42 -0000
Received: from netcologne.de (dial-213-168-73-83.netcologne.de [213.168.73.83])
	by smtp2.netcologne.de (Postfix) with ESMTP id 0AF9D3A0F2
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 25 Jun 2003 21:22:46 +0200 (MEST)
Message-ID: <3EF9F66C.6060909@netcologne.de>
Date: Wed, 25 Jun 2003 21:22:20 +0200
From: Christian Sell <christian.sell@netcologne.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3b) Gecko/20030210
X-Accept-Language: de-de, de, en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: HTTP client caching
References: <000101c33ac7$96a27d00$0c01a8c0@RANAS8200> <3EF9D771.7010303@u.washington.edu>
In-Reply-To: <3EF9D771.7010303@u.washington.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hello all,


I am looking for a library to implement browser-like behavior, including
HTTP 1.1 conformat caching. I have 2 questions regarding HttpClient:

1. Has it ever been considered to implement this as part of HttpClient?

2. I have seen an archiecture in JTidy (w3c.org), which I find quite
handy. They have something called filters that can be registered into
the request/respose flow and alter or amend it as needed. Consequently,
they have implemented caching as a filter that returns the cached
response if applicable.
I checked into HttpClient and found it almost impossible to introduce
something similar - i.e. intercept the request/response flow, without
directly hacking into the code. Am I missing something here, or is
caching really not in the scope of HttpClient. Would it not make sense
to introduce a concept like filters/interceptors (well, not in 2.0 I
assume).

regards,
Christian


From olegk@apache.org  Wed Jun 25 19:47:56 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 44090 invoked from network); 25 Jun 2003 19:47:56 -0000
Received: from mail6.bluewin.ch (195.186.4.229)
  by daedalus.apache.org with SMTP; 25 Jun 2003 19:47:56 -0000
Received: from olddude.tislab.ch (62.203.191.241) by mail6.bluewin.ch (Bluewin AG 7.0.016)
        id 3EF997F90000CABB for commons-httpclient-dev@jakarta.apache.org; Wed, 25 Jun 2003 19:48:00 +0000
Subject: Re: Client Auth / Certificates
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <OFC816EFA3.B18702AE-ON86256D50.005FE69B-86256D50.00607A91@tsainc.com>
References:
	 <OFC816EFA3.B18702AE-ON86256D50.005FE69B-86256D50.00607A91@tsainc.com>
Content-Type: text/plain
Message-Id: <1056570472.2398.40.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 25 Jun 2003 21:47:52 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Matt,

No, there's no such mechanism in place. However, there's a way provide a
custom SSL implementation that meets your specific needs. Have a look at
the HttpClient SSL guide at the following location:

http://jakarta.apache.org/commons/httpclient/sslguide.html

There's a section on customising SSL support followed by a few samples.
That should give you a rough idea how to proceed.

Oleg


On Wed, 2003-06-25 at 19:33, secoskem@aciworldwide.com wrote:
> Hello All,
>
> I a nub to HttpClient.  I am looking for a way to specify a particular
> client SSL certificate for Client Authenticated SSL.   I do not see
> anything in the HttpClient javadocs, so I'm posting the question here.  Is
> there such a mechanism already in place in HttpClient, or do I need to
> write my own?  I have already written some code that works with the
> JDK/JSSE HttpsURLConnection, I'm just looking for more functionality
> (Timeouts) than what the JDK gives me.
>
> Thanks,
> - Matt Secoske


From Teresa.Molina@eScout.com  Wed Jun 25 19:49:08 2003
Return-Path: <Teresa.Molina@eScout.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 45491 invoked from network); 25 Jun 2003 19:49:08 -0000
Received: from unknown (HELO VWOUT1LSMOUS) (63.173.20.148)
  by daedalus.apache.org with SMTP; 25 Jun 2003 19:49:08 -0000
Received: from 10.250.0.17 by VWOUT1LSMOUS (InterScan E-Mail VirusWall NT); Wed, 25 Jun 2003 14:49:32 -0500
Received: by corlsmxsusr01.escout.com with Internet Mail Service (5.5.2656.59)
	id <JTSPLBLF>; Wed, 25 Jun 2003 14:47:02 -0500
Message-ID: <D4D2B55E7576D411B04000508BE343DC0AACC1C6@corlsmxsusr01.escout.com>
From: "Molina, Teresa" <Teresa.Molina@eScout.com>
To: "commons-httpclient-dev@jakarta.apache.org (E-mail)"
	 <commons-httpclient-dev@jakarta.apache.org>
Subject: invalid response code/body
Date: Wed, 25 Jun 2003 14:46:55 -0500
X-MS-TNEF-Correlator: <D4D2B55E7576D411B04000508BE343DC0AACC1C6@corlsmxsusr01.escout.com>
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_000_01C33B52.881A2E00"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_000_01C33B52.881A2E00
Content-Type: text/plain;
	charset="iso-8859-1"

I've looked in Bugzilla and the list archives to find a comparable issue,
but have been unsuccessful at finding a similar circumstance. If someone
recognizes the problem and has an implementation solution, I would be very
grateful for any suggestions you could provide.

I'm experiencing a problem with the response code (and body) returned after
HttpClient tries to execute a (get) method on an unknown host. If the host
had previously been in DNS and returned a valid (200, eg) response code,
subsequent attempts to execute still return that same code and body,
although the host is actually unavailable. All instances of the client
object will continue to return the same 200 response until the servlet
container has been restarted; after the restart, the client does throw the
expected unknown host exception.

Alternatively, if the first execution of a get method returns the unknown
host error, further attempts to execute return that same exception, even
after the host has DNS restored. Again, restarting Tomcat/JRun 'fixes' the
return code.

I have implemented the client code in both Tomcat 4 on Linux (Redhat) (as a
struts action servlet) and JRun 3 on Windows 2000 (as a jsp servlet), with
the same results. Turning on trace and logging has not afforded any insights
into the problem. Please let me know if this description does not make any
sense, or code/logs would be helpful (hopefully, this problem sounds
familiar to someone, and I've simply done something wrong in my code).

------_=_NextPart_000_01C33B52.881A2E00--

From olegk@apache.org  Wed Jun 25 20:18:22 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 6277 invoked from network); 25 Jun 2003 20:18:22 -0000
Received: from mail3.bluewin.ch (195.186.1.75)
  by daedalus.apache.org with SMTP; 25 Jun 2003 20:18:22 -0000
Received: from olddude.tislab.ch (62.203.191.241) by mail3.bluewin.ch (Bluewin AG 7.0.016)
        id 3EF9DCA800004C73 for commons-httpclient-dev@jakarta.apache.org; Wed, 25 Jun 2003 20:18:27 +0000
Subject: Re: HTTP client caching
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <3EF9F66C.6060909@netcologne.de>
References: <000101c33ac7$96a27d00$0c01a8c0@RANAS8200>
	 <3EF9D771.7010303@u.washington.edu>  <3EF9F66C.6060909@netcologne.de>
Content-Type: text/plain
Message-Id: <1056572300.2398.63.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 25 Jun 2003 22:18:20 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Christian,

Let me present my take on these issues (See below):

On Wed, 2003-06-25 at 21:22, Christian Sell wrote:
> hello all,
>
>
> I am looking for a library to implement browser-like behavior, including
> HTTP 1.1 conformat caching. I have 2 questions regarding HttpClient:
>
> 1. Has it ever been considered to implement this as part of HttpClient?
>

Yes, it has and the idea has been turned down, if my memory does not
fail me. The consensus was that HttpClient should remain a HTTP
communication library and would not attempt to evolve into a browser of
a sort, a vacuum cleaner, or anything else.

> 2. I have seen an archiecture in JTidy (w3c.org), which I find quite
> handy. They have something called filters that can be registered into
> the request/respose flow and alter or amend it as needed. Consequently,
> they have implemented caching as a filter that returns the cached
> response if applicable.
> I checked into HttpClient and found it almost impossible to introduce
> something similar - i.e. intercept the request/response flow, without
> directly hacking into the code. Am I missing something here, or is
> caching really not in the scope of HttpClient. Would it not make sense
> to introduce a concept like filters/interceptors (well, not in 2.0 I
> assume).
>

That sounds like a good idea for release 3.0. Still, any caching
mechanism should still be out of scope in my opinion. This said, we
happily accept useful code as officially unsupported contributions.

Cheers

Oleg


From zumrani@novell.com  Wed Jun 25 21:08:30 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 12639 invoked from network); 25 Jun 2003 21:08:30 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 25 Jun 2003 21:08:30 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Wed, 25 Jun 2003 15:08:36 -0600
Message-Id: <sef9baf4.014@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Wed, 25 Jun 2003 12:07:41 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: performance
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I will appreciate if anyone answers my questions below.

-Does anyone has perfromance comparison between HTTPClient and JDK
HttpURLConnection?

-Are there any performance techniques that can be used to improve the
performance of HTTPClient?

-When will the final version of HTTPClient be out?

Thanks.

From christian.sell@netcologne.de  Wed Jun 25 21:14:20 2003
Return-Path: <christian.sell@netcologne.de>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 24709 invoked from network); 25 Jun 2003 21:14:20 -0000
Received: from smtp2.netcologne.de (194.8.194.218)
  by daedalus.apache.org with SMTP; 25 Jun 2003 21:14:20 -0000
Received: from netcologne.de (dial-213-168-95-80.netcologne.de [213.168.95.80])
	by smtp2.netcologne.de (Postfix) with ESMTP id CFA593A194
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 25 Jun 2003 23:14:24 +0200 (MEST)
Message-ID: <3EFA1097.3000204@netcologne.de>
Date: Wed, 25 Jun 2003 23:13:59 +0200
From: Christian Sell <christian.sell@netcologne.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3b) Gecko/20030210
X-Accept-Language: de-de, de, en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: HTTP client caching
References: <000101c33ac7$96a27d00$0c01a8c0@RANAS8200>	 <3EF9D771.7010303@u.washington.edu>  <3EF9F66C.6060909@netcologne.de> <1056572300.2398.63.camel@kczrh-okt22.corp.bearingpoint.com>
In-Reply-To: <1056572300.2398.63.camel@kczrh-okt22.corp.bearingpoint.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Oleg Kalnichevski wrote:
>>1. Has it ever been considered to implement this as part of HttpClient?
>>
>
>
> Yes, it has and the idea has been turned down, if my memory does not
> fail me. The consensus was that HttpClient should remain a HTTP
> communication library and would not attempt to evolve into a browser of
> a sort, a vacuum cleaner, or anything else.

well, a vacuum cleaner is indeed a bit far off ;-). However, I think
that implementing an Http Client (i.e. a browser emulator without
rendering engine) should be much closer to HttpClients purpose.

What I find a little disappointing is the fact that I am faced with
almost unsurmountable obstacles in doing this (i.e., if I want to avoid
hacking the code). Maybe someone with a better understanding of the
architecture has a suggestion..

>
>
>>2. I have seen an archiecture in JTidy (w3c.org), which I find quite
>>handy. They have something called filters that can be registered into
>>the request/respose flow and alter or amend it as needed. Consequently,
>>they have implemented caching as a filter that returns the cached
>>response if applicable.
>>I checked into HttpClient and found it almost impossible to introduce
>>something similar - i.e. intercept the request/response flow, without
>>directly hacking into the code. Am I missing something here, or is
>>caching really not in the scope of HttpClient. Would it not make sense
>>to introduce a concept like filters/interceptors (well, not in 2.0 I
>>assume).
>>
>
>
> That sounds like a good idea for release 3.0. Still, any caching
> mechanism should still be out of scope in my opinion. This said, we
> happily accept useful code as officially unsupported contributions.
>
> Cheers
>
> Oleg
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>
>



From olegk@apache.org  Wed Jun 25 21:41:34 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 65029 invoked from network); 25 Jun 2003 21:41:34 -0000
Received: from mail6.bluewin.ch (195.186.4.229)
  by daedalus.apache.org with SMTP; 25 Jun 2003 21:41:34 -0000
Received: from olddude.tislab.ch (62.203.191.241) by mail6.bluewin.ch (Bluewin AG 7.0.016)
        id 3EF997F90000FBA7 for commons-httpclient-dev@jakarta.apache.org; Wed, 25 Jun 2003 21:41:40 +0000
Subject: Re: HTTP client caching
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <3EFA1097.3000204@netcologne.de>
References: <000101c33ac7$96a27d00$0c01a8c0@RANAS8200>
	 <3EF9D771.7010303@u.washington.edu>  <3EF9F66C.6060909@netcologne.de>
	 <1056572300.2398.63.camel@kczrh-okt22.corp.bearingpoint.com>
	 <3EFA1097.3000204@netcologne.de>
Content-Type: text/plain
Message-Id: <1056577290.3005.23.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 25 Jun 2003 23:41:31 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


> What I find a little disappointing is the fact that I am faced with
> almost unsurmountable obstacles in doing this (i.e., if I want to avoid
> hacking the code). Maybe someone with a better understanding of the
> architecture has a suggestion..
>

Believe me, I am also REALLY unhappy with the existing architecture. The
present generation of HttpClient developers simply inherited the
existing architecture from previous ones and ended up having to maintain
the present APIs (even though we all find it sub-optimal) because a
sizable group of users had been using HttpClients CVS snapshots for
months before the API was formally frozen. At the moment there's simply
no way around forking HttpClient if you want to bend its design in
certain ways. I personally maintain a fork of my own because certain
things my clients wanted could not have been implemented using Jakarta
Commons' official version.

Our plan is to release 2.0 beta2 as soon as possible, branch out 2.0
release, and start fixing known architectural flaws in CVS head. So,
bear with us for a while. Good things come to those who wait. Not just
Guinness, but also a more flexible HttpClient architecture. If you can't
afford waiting, a code fork is your only resort.

Oleg


From becke@u.washington.edu  Wed Jun 25 21:55:46 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 84864 invoked from network); 25 Jun 2003 21:55:46 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 25 Jun 2003 21:55:46 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5PLtq5c009349
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 25 Jun 2003 14:55:52 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5PLtp49029634
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 25 Jun 2003 14:55:52 -0700
Date: Wed, 25 Jun 2003 17:55:48 -0400
Subject: Re: HTTP client caching
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EF9F66C.6060909@netcologne.de>
Message-Id: <C7F76A0C-A757-11D7-82E9-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

My impression was that Laura had implemented some kind of caching
mechanism.  Laura, is that true or am I hallucinating again:) ?

Mike

On Wednesday, June 25, 2003, at 03:22 PM, Christian Sell wrote:

> hello all,
>
>
> I am looking for a library to implement browser-like behavior,
> including HTTP 1.1 conformat caching. I have 2 questions regarding
> HttpClient:
>
> 1. Has it ever been considered to implement this as part of HttpClient?
>
> 2. I have seen an archiecture in JTidy (w3c.org), which I find quite
> handy. They have something called filters that can be registered into
> the request/respose flow and alter or amend it as needed.
> Consequently, they have implemented caching as a filter that returns
> the cached response if applicable.
> I checked into HttpClient and found it almost impossible to introduce
> something similar - i.e. intercept the request/response flow, without
> directly hacking into the code. Am I missing something here, or is
> caching really not in the scope of HttpClient. Would it not make sense
> to introduce a concept like filters/interceptors (well, not in 2.0 I
> assume).
>
> regards,
> Christian
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From adrian@intencha.com  Wed Jun 25 22:24:24 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 26745 invoked from network); 25 Jun 2003 22:24:24 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 25 Jun 2003 22:24:24 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0056384699@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Wed, 25 Jun 2003 16:21:26 -0600
Date: Thu, 26 Jun 2003 08:24:48 +1000
Subject: Re: HTTP client caching
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EFA1097.3000204@netcologne.de>
Message-Id: <D4EBBA08-A75B-11D7-8683-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> well, a vacuum cleaner is indeed a bit far off ;-). However, I think
> that implementing an Http Client (i.e. a browser emulator without
> rendering engine) should be much closer to HttpClients purpose.

I would actually think that a nice generic caching library would be
very beneficial, but it should definitely be outside of HttpClient as
HttpClient is very regularly used without any desire for caching at
all.  That said, a caching library could either be provided in
HttpClient's contrib directory if it was small and not too actively
developed, or if it gets really active or get a lot of use it can be
moved over to the commons-sandbox to start life as an independant
component.  Alternatively, if there is an interest straight away it
could start in the commons-sandbox, it does seem to have a wide enough
scope to warrant it's own component.

We actually need something like this for a future version of our
product (1-2 months time maybe) so I'd be interested in helping out and
can definitely act as the "committer gateway" to review submissions and
get them into CVS etc.

> What I find a little disappointing is the fact that I am faced with
> almost unsurmountable obstacles in doing this (i.e., if I want to
> avoid hacking the code). Maybe someone with a better understanding of
> the architecture has a suggestion..

There shouldn't be any obstacles in your way to implement caching.  You
will have to manually add the headers for last-modified etc, but that's
all quite simple with the current HttpClient APIs.  If you can give a
little more detail about what obstacles you're hitting I can probably
point out how to get around them.

Regards,

Adrian Sutton.


From adrian@intencha.com  Thu Jun 26 00:37:36 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 88879 invoked from network); 26 Jun 2003 00:37:36 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 26 Jun 2003 00:37:36 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0056394097@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Wed, 25 Jun 2003 18:34:42 -0600
Date: Thu, 26 Jun 2003 10:38:04 +1000
Mime-Version: 1.0 (Apple Message framework v552)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: HttpClient Article
From: Adrian Sutton <adrian@intencha.com>
To: Commons Project <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
Message-Id: <7311519B-A76E-11D7-8683-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Feel good moment for you all.  As part of an article on the entire
jakarta-commons project, HttpClient got a mention with a very positive
review:

http://www.onjava.com/pub/a/onjava/2003/06/25/commons.html?page=3

The beginning of the article is at:
http://www.onjava.com/pub/a/onjava/2003/06/25/commons.html

Regards,

Adrian Sutton.


From laura@lwerner.org  Thu Jun 26 00:41:10 2003
Return-Path: <laura@lwerner.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 90878 invoked from network); 26 Jun 2003 00:41:10 -0000
Received: from unknown (HELO vocalsend.bevocal.com) (66.147.154.130)
  by daedalus.apache.org with SMTP; 26 Jun 2003 00:41:10 -0000
Received: from lwerner.org (speedtrap.bevocal.com [172.16.2.66])
	by vocalsend.bevocal.com (8.11.0/8.11.0) with ESMTP id h5PMqZE11948
	for <commons-httpclient-dev@jakarta.apache.org>; Wed, 25 Jun 2003 15:52:35 -0700
Message-ID: <3EFA412D.4060101@lwerner.org>
Date: Wed, 25 Jun 2003 17:41:17 -0700
From: Laura Werner <laura@lwerner.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: HTTP client caching
References: <D4EBBA08-A75B-11D7-8683-000393016056@intencha.com>
In-Reply-To: <D4EBBA08-A75B-11D7-8683-000393016056@intencha.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian Sutton wrote:

> I would actually think that a nice generic caching library would be
> very beneficial, but it should definitely be outside of HttpClient as
> HttpClient is very regularly used without any desire for caching at all.

Agreed on both counts.  I have a caching library that sits on top of
HttpClient right now, and if I ever find the time I'm going to try to
build a version of it that can be made open source.  But I don't think
it should go inside HttpClient; rather it should be a separate library
that uses HttpClient.

> There shouldn't be any obstacles in your way to implement caching.

It depends on what you want the cache's API to look like.  I've been
meaning to post about this lately, so here goes....

Ideally, I'd want the API for executing an HTTP method via the cache to
look almost identical to the API for executing it directly with
HttpClient.  Something like:
  HttpCache myCache = new HttpCache( new
MultithreadedHttpConnectionManager());
  HttpMethod get = new GetMethod("http://www.google.com");
  int statusCode = myCache.executeMethod(get, ...);
  String type = get.getResponseHeader("Content-Type");
  InputStream is = get.getResponseInputStream();
  ...

Unfortunately, you can't really do this with the current HttpClient
architecture.  The biggest "gotcha" is that the methods that set
response-related fields on an HttpMethod are all private or protected --
things like setResponseStream, getResponseHeaderGroup, statusLine, etc.
To make a cache API that looks like the current HttpClient API, I think
it would be necessary to duplicate the existing method classes with
versions that either construct their results from the cache or delegate
to one of the HttpClient method classes depending on cacheability and so on.

Someone (Oleg, I think) has suggested splitting HttpMethod into two
interfaces for 2.1 or 3.0: HttpRequest and HttpResponse.  I really like
that idea.  Aside from being architecturally cleaner, that would make it
much easier to create a clean cache API; the cache could just provide
its own HttpResponse implementation.  Another suggestion is to abstract
out some of HttpClient's non-implementation-specific functionalityinto
an interface that could be implemented by other HTTP providers like a cache.

I also like the idea of filters that Christian mentioned.  Adding some
hooks like that into HttpClient would probably make it more generally
useful, though I don't know what the cost in complexity would be.  I'll
have to go look at the specifics of what JTidy does.  I think Axis also
has a similar notion of filter chains, and maybe Tomcat too (or servlet
engines in general?).

-- Laura


From ggregory@seagullsw.com  Wed Jun 25 22:34:56 2003
Return-Path: <ggregory@seagullsw.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 42461 invoked from network); 25 Jun 2003 22:34:56 -0000
Received: from vpn1.seagullsw.com (HELO atlanta.seagullsw.com) (12.6.96.4)
  by daedalus.apache.org with SMTP; 25 Jun 2003 22:34:56 -0000
Received: by atlanta.seagullsw.com with Internet Mail Service (5.5.2656.59)
	id <NTVKHY34>; Wed, 25 Jun 2003 16:49:05 -0400
Message-ID: <245A7290F0E0D311BF6E009027E7908B07204601@atlanta.seagullsw.com>
From: Gary Gregory <ggregory@seagullsw.com>
To: 'Jakarta Commons Developers List' <commons-dev@jakarta.apache.org>,
	Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: [SURVEY] Commons-URI or not?
Date: Wed, 25 Jun 2003 16:49:04 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C33B5B.36F933F0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33B5B.36F933F0
Content-Type: text/plain

I like this idea. I would also propose:

o This "commons.jar", "commons-all.jar" or whatever it should be called be
part of the nightly-build. If a sub-component's build failed, then this
build fails.
o A release of commons-all would be automatically attempted when a new
release of a sub-component is successful.
o This project would not contain code but additional unit tests perhaps to
insure that all the pieces play together nicely. Tricky stuff perhaps.

Having one jar does not solve the issue we currently have where code is
duplicated b/w for example collections and lang because neither project
wants to depend on the other. Worse, I am sure useful features are not being
used to avoid dependenices. If you were to look at commons in one jar and
see this duplication it would be, well... That's the way it is.

Perhaps we should have a commons-core project/jar that all other projects
can depend on instead of duplicating code. The criteria for putting
something in core, which BTW, could just have the "proper" package name for
its classes and not a "core" package name, would be simple: if two projects
duplicate code, put it in core. I am not sure how messy and hairy this would
be, but it certainly could be.

Aside from allowing dependencies and creating a commons dependency tree when
projects use each others features, what else can we do?

Gary

-----Original Message-----
From: Eric Johnson [mailto:eric@tibco.com]
Sent: Wednesday, June 25, 2003 06:39
To: Commons HttpClient Project
Cc: Jakarta Commons Developers List
Subject: Re: [SURVEY] Commons-URI or not?


It would seem that most if not all of the responses from the HttpClient
crew responded only to the HttpClient list, and not to commons dev.  So
I'm not sure that all that might need/want to see the entirely negative
feedback have seen it.  I don't subscribe to commons-dev, so if this
doesn't get through, would someone mind reposting it there?

I too am against a separate URI commons package, at least for the moment.

In any event, who else depends on a URI class?  At the moment, there are
three obvious sources for URI type functionality that I am aware of:
HttpClient, Slide, and JRE 1.4.  Slide, rather than using what is in
HttpClient, is using its own, even though Slide includes HttpClient in
its build dependencies.  Without anyone even sharing the code in the
first place, it doesn't seem like a good candidate for a separate project.

One of the negatives that others have mentioned on the HttpClient list
is the growing dependency problem within the Apache projects,
particularly with the myriad of dependencies on commons projects, and
among the commons projects themselves.  Perhaps what we need to do is
start clumping some of the commons projects together, as well as having
the stand-alone pieces we have now.  A first cut at combining some of
the commons projects into one giant JAR might include:

    * beanutil
    * cli
    * codec
    * collections
    * dbcp
    * fileupload
    * httpclient
    * lang
    * logging
    * net
    * pool

My criteria for the above list were three-fold - base requirement of JRE
1.2 or later, that the project should have an official blessed release,
and that it shouldn't depend on any outside libraries - like an XML
parser - at runtime.  And I'll admit that I'm fudging on HttpClient (and
file upload) a little, in that I don't think anyone following HttpClient
would want to include the 1.0 release, but I'm guessing that by the time
such a project is agreed upon and pulled together, HttpClient 2.0 will
be final....  At least here's to hoping.

Anyway, to the extent that a separate URI package would make sense, if
we had a model such as the above, where most people used the one giant
JAR instead of the individual ones, the creation of a separate commons
URI project would be largely one of focus and interest, rather than an
additional dependency quagmire.

-Eric Johnson

Sung-Gu wrote:

>Hi all,
>
>I suggest that jakarta-commons provides flexible URI issue
>implementations as a package.
>
>Various applications using URI concept comes in the internet world.   and
>they need common mechanisms and algorithms for URI.
>
>For example, all internet programs will need fundamental functionalites
>of URI like extensible parsing and manipulation container for URL
>reference, URN and URC,  escape codec mechanism, charset tranformation
>functionality, URI transformation from real world identities or URN, or
other
>transformations related to DNS or telephony...   If it would be prepared
>commonly in Jakarta, we can save development powers.   So I suggest new
>commons-uri package.
>
>FYI, currently the commons-httpclient is using it.
>
>Any comments?
>Or any +1, -1?
>
>Sung-Gu
>
>P.S.: If the requirement is very weak, I want  to put the new package
>into commons-sandbox even for a long while in my opinion...
>
>
>
>
>-----------------------------------------------------------------------
>-
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail:
>commons-httpclient-dev-unsubscribe@jakarta.apache.org
>For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: commons-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: commons-dev-help@jakarta.apache.org

------_=_NextPart_001_01C33B5B.36F933F0--

From martinc@apache.org  Wed Jun 25 17:37:38 2003
Return-Path: <martinc@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 8735 invoked from network); 25 Jun 2003 17:37:38 -0000
Received: from icarus.apache.org (208.185.179.13)
  by daedalus.apache.org with SMTP; 25 Jun 2003 17:37:38 -0000
Received: (qmail 93424 invoked by uid 1339); 25 Jun 2003 17:37:37 -0000
Received: from localhost (sendmail-bs@127.0.0.1)
  by localhost with SMTP; 25 Jun 2003 17:37:37 -0000
Date: Wed, 25 Jun 2003 10:37:37 -0700 (PDT)
From: Martin Cooper <martinc@apache.org>
To: Jakarta Commons Developers List <commons-dev@jakarta.apache.org>
cc: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [SURVEY] Commons-URI or not?
In-Reply-To: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com>
Message-ID: <20030625102514.N84644@icarus.apache.org>
References: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: localhost 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



On Wed, 25 Jun 2003, Sung-Gu wrote:

>
> Hi all,
>
> I suggest that jakarta-commons provides flexible URI issue implementations
> as a package.
>
> Various applications using URI concept comes in the internet world.   and
> they need common mechanisms and algorithms for URI.
>
> For example, all internet programs will need fundamental functionalites of
> URI like extensible parsing and manipulation container for URL reference,
> URN and URC,  escape codec mechanism, charset tranformation functionality,
> URI transformation from real world identities or URN, or other
> transformations related to DNS or telephony...   If it would be prepared
> commonly in Jakarta, we can save development powers.   So I suggest new
> commons-uri package.

If you want to do this, I would recommend starting in the sandbox. That
way, we'll find out if it is viable as a standalone component, and, in
particular, if a community develops around it.

Even though the code originates from HttpClient, I would be against a
Commons-URI component starting out in Commons Proper, because history
shows us that a body of code does not always develop into a viable
component, with its own community, just because it comes from an already
successful project.

--
Martin Cooper


>
> FYI, currently the commons-httpclient is using it.
>
> Any comments?
> Or any +1, -1?
>
> Sung-Gu
>
> P.S.: If the requirement is very weak, I want  to put the new package into
> commons-sandbox even for a long while in my opinion...
>
>
>

From craigmcc@apache.org  Wed Jun 25 17:06:20 2003
Return-Path: <craigmcc@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 22630 invoked from network); 25 Jun 2003 17:06:20 -0000
Received: from icarus.apache.org (208.185.179.13)
  by daedalus.apache.org with SMTP; 25 Jun 2003 17:06:20 -0000
Received: (qmail 82813 invoked by uid 1059); 25 Jun 2003 17:06:19 -0000
Received: from localhost (sendmail-bs@127.0.0.1)
  by localhost with SMTP; 25 Jun 2003 17:06:19 -0000
Date: Wed, 25 Jun 2003 10:06:19 -0700 (PDT)
From: "Craig R. McClanahan" <craigmcc@apache.org>
To: Jakarta Commons Developers List <commons-dev@jakarta.apache.org>
cc: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [SURVEY] Commons-URI or not?
In-Reply-To: <3EF9A5E4.7040802@tibco.com>
Message-ID: <20030625100226.O79746@icarus.apache.org>
References: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com> <3EF9A5E4.7040802@tibco.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: localhost 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



On Wed, 25 Jun 2003, Eric Johnson wrote:

> [snip]
> One of the negatives that others have mentioned on the HttpClient list
> is the growing dependency problem within the Apache projects,
> particularly with the myriad of dependencies on commons projects, and
> among the commons projects themselves.  Perhaps what we need to do is
> start clumping some of the commons projects together, as well as having
> the stand-alone pieces we have now.  A first cut at combining some of
> the commons projects into one giant JAR might include:
>

Have a look at the build.xml file in the "combo" subdirectory of the
jakarta-commons CVS repository -- it lets you do exactly this sort of
thing, and even lets you pick the versions you want (by virtue of
specifying the CVS tags to build with).

I try to maintain the "latest official release" CVS tag of all released
commons packages (but nothing from the sandbox, since by definition they
are not released), but don't always have a chance to do so in a timely
manner -- others are welcome to help.

Craig McClanahan


From jsdever@apache.org  Thu Jun 26 04:39:21 2003
Return-Path: <jsdever@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 1277 invoked from network); 26 Jun 2003 04:39:21 -0000
Received: from defout.telus.net (HELO priv-edtnes57.telusplanet.net) (199.185.220.240)
  by daedalus.apache.org with SMTP; 26 Jun 2003 04:39:21 -0000
Received: from apache.org ([137.186.248.135])
          by priv-edtnes57.telusplanet.net
          (InterMail vM.5.01.05.17 201-253-122-126-117-20021021) with ESMTP
          id <20030626043932.RQKA5491.priv-edtnes57.telusplanet.net@apache.org>
          for <commons-httpclient-dev@jakarta.apache.org>;
          Wed, 25 Jun 2003 22:39:32 -0600
Message-ID: <3EFA7903.7060200@apache.org>
Date: Wed, 25 Jun 2003 22:39:31 -0600
From: Jandalf <jsdever@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3.1) Gecko/20030425
X-Accept-Language: en-ca, en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Poof!
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello all!

My house has sold, I've moved to Calgary and I have a new job.  All is
well.  I've been monitoring the list and have been taking care of the
moderate messages, but I'm back to start participating again.

Jandalf.


From adrian@intencha.com  Thu Jun 26 04:50:46 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 16459 invoked from network); 26 Jun 2003 04:50:46 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 26 Jun 2003 04:50:46 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0056416157@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Wed, 25 Jun 2003 22:42:55 -0600
Date: Thu, 26 Jun 2003 14:46:17 +1000
Subject: Re: Poof!
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EFA7903.7060200@apache.org>
Message-Id: <1FC728F6-A791-11D7-8683-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Excellent!  Welcome back Jandalf and congrats on the sale and the new
job!

You must now be Jandalf the White and have some thrilling stories about
killing that balrog. :)

Regards,

Adrian Sutton.

On Thursday, June 26, 2003, at 02:39  PM, Jandalf wrote:

> Hello all!
>
> My house has sold, I've moved to Calgary and I have a new job.  All is
> well.  I've been monitoring the list and have been taking care of the
> moderate messages, but I'm back to start participating again.
>
> Jandalf.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From byosmosis@hotmail.com  Thu Jun 26 04:57:45 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 28793 invoked from network); 26 Jun 2003 04:57:45 -0000
Received: from bay1-dav71.bay1.hotmail.com (HELO hotmail.com) (65.54.244.206)
  by daedalus.apache.org with SMTP; 26 Jun 2003 04:57:45 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 25 Jun 2003 21:57:56 -0700
Received: from 211.235.188.62 by bay1-dav71.adinternal.hotmail.com with DAV;
	Thu, 26 Jun 2003 04:57:56 +0000
X-Originating-IP: [211.235.188.62]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Jakarta Commons Developers List" <commons-dev@jakarta.apache.org>
Cc: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com> <20030625102514.N84644@icarus.apache.org>
Subject: Re: [SURVEY] Commons-URI or not? - about starting point
Date: Thu, 26 Jun 2003 13:57:37 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV71YiMCIqtQv00029e95@hotmail.com>
X-OriginalArrivalTime: 26 Jun 2003 04:57:56.0668 (UTC) FILETIME=[82324FC0:01C33B9F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


----- Original Message -----
From: "Martin Cooper" <martinc@apache.org>
To: "Jakarta Commons Developers List" <commons-dev@jakarta.apache.org>
Cc: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Thursday, June 26, 2003 2:37 AM
Subject: Re: [SURVEY] Commons-URI or not?


>
>
> On Wed, 25 Jun 2003, Sung-Gu wrote:
>
> >
> > Hi all,
> >
> > I suggest that jakarta-commons provides flexible URI issue
implementations
> > as a package.
> >
> > Various applications using URI concept comes in the internet world.
and
> > they need common mechanisms and algorithms for URI.
> >
> > For example, all internet programs will need fundamental functionalites
of
> > URI like extensible parsing and manipulation container for URL
reference,
> > URN and URC,  escape codec mechanism, charset tranformation
functionality,
> > URI transformation from real world identities or URN, or other
> > transformations related to DNS or telephony...   If it would be prepared
> > commonly in Jakarta, we can save development powers.   So I suggest new
> > commons-uri package.
>
> If you want to do this, I would recommend starting in the sandbox. That
> way, we'll find out if it is viable as a standalone component, and, in
> particular, if a community develops around it.

Yes, I think so.   That would be the proper procudure.
At this moment, I try to ask others' needs, not simply, rather than their
interests and concerns. ;)

Thank you,

Sung-Gu


> Even though the code originates from HttpClient, I would be against a
> Commons-URI component starting out in Commons Proper, because history
> shows us that a body of code does not always develop into a viable
> component, with its own community, just because it comes from an already
> successful project.
>
> --
> Martin Cooper
>
>
> >
> > FYI, currently the commons-httpclient is using it.
> >
> > Any comments?
> > Or any +1, -1?
> >
> > Sung-Gu
> >
> > P.S.: If the requirement is very weak, I want  to put the new package
into
> > commons-sandbox even for a long while in my opinion...

From jsdever@apache.org  Thu Jun 26 05:05:53 2003
Return-Path: <jsdever@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 35563 invoked from network); 26 Jun 2003 05:05:53 -0000
Received: from outbound04.telus.net (HELO priv-edtnes28.telusplanet.net) (199.185.220.223)
  by daedalus.apache.org with SMTP; 26 Jun 2003 05:05:53 -0000
Received: from apache.org ([137.186.248.135])
          by priv-edtnes28.telusplanet.net
          (InterMail vM.5.01.05.17 201-253-122-126-117-20021021) with ESMTP
          id <20030626050603.RZPV8186.priv-edtnes28.telusplanet.net@apache.org>;
          Wed, 25 Jun 2003 23:06:03 -0600
Message-ID: <3EFA7F3B.2080408@apache.org>
Date: Wed, 25 Jun 2003 23:06:03 -0600
From: Jandalf <jsdever@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3.1) Gecko/20030425
X-Accept-Language: en-ca, en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
CC: Jakarta Commons Developers List <commons-dev@jakarta.apache.org>
Subject: Re: [SURVEY] Commons-URI or not?
References: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com> <20030625102514.N84644@icarus.apache.org>
In-Reply-To: <20030625102514.N84644@icarus.apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The Guidelines of the commons charter has some guidance here:
http://jakarta.apache.org/commons/charter.html

   1. The primary unit of reuse and release is the package.
   2. The package library is not a framework but a collection of
      components designed to be used independently.
   3. Each package must have a clearly defined purpose, scope, and API
      -- Do one thing well, and keep your contracts.
   4. ...


HttpClient is generally concerned with URLs but URIs are useful beyond
HttpClient.  URIs are well documented with relevent RFCs.  I think that
a seperate RFC conforming URI package would be an excellent addition to
Jakarta.

A project of this nature should copy the current code from httpclient
and start a sandbox project.  Development should continue there untill
development has been proven and a formal commons project proposal can be
made.

Likely the developers would want to seek HttpClient as a key user of the
new package, but this does not mandate that HttpClient will use the new
package.  Nor does it require that a jar dependancy be added (re-use can
be achieved in multiple ways) but the new codebase could be re-used in
other ways if that was deemed preferable.

I would support having a seperate URI package.  From my perspective the
possible benefits are clear and the possible drawbacks are avoidable.

Jandalf.


From byosmosis@hotmail.com  Thu Jun 26 05:08:37 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 37276 invoked from network); 26 Jun 2003 05:08:37 -0000
Received: from bay1-dav34.bay1.hotmail.com (HELO hotmail.com) (65.54.244.91)
  by daedalus.apache.org with SMTP; 26 Jun 2003 05:08:37 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 25 Jun 2003 22:08:49 -0700
Received: from 211.235.188.62 by bay1-dav34.bay1.hotmail.com with DAV;
	Thu, 26 Jun 2003 05:08:48 +0000
X-Originating-IP: [211.235.188.62]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Cc: "Jakarta Commons Developers List" <commons-dev@jakarta.apache.org>
References: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com> <3EF9A5E4.7040802@tibco.com>
Subject: Re: [SURVEY] Commons-URI or not? - about its needs
Date: Thu, 26 Jun 2003 14:08:32 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV348Zcs3rdKa0002d70e@hotmail.com>
X-OriginalArrivalTime: 26 Jun 2003 05:08:49.0076 (UTC) FILETIME=[070FDF40:01C33BA1]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


----- Original Message -----
From: "Eric Johnson" <eric@tibco.com>

> I too am against a separate URI commons package, at least for the moment.

[snip]

> Anyway, to the extent that a separate URI package would make sense, if
> we had a model such as the above, where most people used the one giant
> JAR instead of the individual ones, the creation of a separate commons
> URI project would be largely one of focus and interest, rather than an
> additional dependency quagmire.

I think so... ;)
Thank you for clearing the current true issue.

Sung-Gu

> -Eric Johnson
>
> Sung-Gu wrote:
>
> >Hi all,
> >
> >I suggest that jakarta-commons provides flexible URI issue
implementations
> >as a package.
> >
> >Various applications using URI concept comes in the internet world.   and
> >they need common mechanisms and algorithms for URI.
> >
> >For example, all internet programs will need fundamental functionalites
of
> >URI like extensible parsing and manipulation container for URL reference,
> >URN and URC,  escape codec mechanism, charset tranformation
functionality,
> >URI transformation from real world identities or URN, or other
> >transformations related to DNS or telephony...   If it would be prepared
> >commonly in Jakarta, we can save development powers.   So I suggest new
> >commons-uri package.
> >
> >FYI, currently the commons-httpclient is using it.
> >
> >Any comments?
> >Or any +1, -1?
> >
> >Sung-Gu
> >
> >P.S.: If the requirement is very weak, I want  to put the new package
into
> >commons-sandbox even for a long while in my opinion...

From jsdever@apache.org  Thu Jun 26 05:10:29 2003
Return-Path: <jsdever@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 38683 invoked from network); 26 Jun 2003 05:10:29 -0000
Received: from outbound03.telus.net (HELO priv-edtnes12-hme0.telusplanet.net) (199.185.220.222)
  by daedalus.apache.org with SMTP; 26 Jun 2003 05:10:29 -0000
Received: from apache.org ([137.186.248.135])
          by priv-edtnes12-hme0.telusplanet.net
          (InterMail vM.5.01.05.17 201-253-122-126-117-20021021) with ESMTP
          id <20030626051040.RRJK5328.priv-edtnes12-hme0.telusplanet.net@apache.org>
          for <commons-httpclient-dev@jakarta.apache.org>;
          Wed, 25 Jun 2003 23:10:40 -0600
Message-ID: <3EFA804F.7060706@apache.org>
Date: Wed, 25 Jun 2003 23:10:39 -0600
From: Jandalf <jsdever@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3.1) Gecko/20030425
X-Accept-Language: en-ca, en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: 2.0 release
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I see that beta 1 is out which is fantastic.  Can somone post a update
on where we stand for a upcoming final release?

Jandalf.


From anonymous@nagoya.betaversion.org  Thu Jun 26 05:15:22 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 42031 invoked from network); 26 Jun 2003 05:15:22 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 26 Jun 2003 05:15:22 -0000
Received: (qmail 9139 invoked by uid 50); 26 Jun 2003 05:17:53 -0000
Date: 26 Jun 2003 05:17:53 -0000
Message-ID: <20030626051753.9138.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20986]  -
    Contributed utility for determing content type from file type extension
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20986>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20986

Contributed utility for determing content type from file type extension

adrian@ephox.com changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                 CC|                            |commons-httpclient-
                   |                            |dev@jakarta.apache.org
         AssignedTo|commons-httpclient-         |adrian@ephox.com
                   |dev@jakarta.apache.org      |



------- Additional Comments From adrian@ephox.com  2003-06-26 05:17 -------
Assigning to myself since I said I'd do this.

From adrian@intencha.com  Thu Jun 26 05:19:36 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 47036 invoked from network); 26 Jun 2003 05:19:36 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 26 Jun 2003 05:19:36 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0047199071@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Wed, 25 Jun 2003 23:15:23 -0600
Date: Thu, 26 Jun 2003 15:20:09 +1000
Subject: Re: 2.0 release
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EFA804F.7060706@apache.org>
Message-Id: <DB0ED25A-A795-11D7-8683-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Thursday, June 26, 2003, at 03:10  PM, Jandalf wrote:

> I see that beta 1 is out which is fantastic.  Can somone post a update
> on where we stand for a upcoming final release?

My current list of things to do:
* Add testimonials page
* Add clover report
* FilePart with autodetecting mime type.
* Localhost tests for DELETE

None of these are particularly related to the 2.0 release though.

Looking at bugzilla I see:
19102 Include generated website in the distribution
10816 User/Developer Documentation (only the first two items on my list
remain to get this working and it isn't a reason to hold up the release)
19373 Performance optimizations

There is also the untargetted:
17416 Send InputStreams instead of files in MultipartPostMethod

So it's looking like we should be pretty ready to tackle a first
release candidate.

> Jandalf.

Comments?

Adrian Sutton.


From byosmosis@hotmail.com  Thu Jun 26 05:48:57 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 70231 invoked from network); 26 Jun 2003 05:48:57 -0000
Received: from bay1-dav21.bay1.hotmail.com (HELO hotmail.com) (65.54.244.125)
  by daedalus.apache.org with SMTP; 26 Jun 2003 05:48:57 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 25 Jun 2003 22:49:09 -0700
Received: from 211.235.188.62 by bay1-dav21.bay1.hotmail.com with DAV;
	Thu, 26 Jun 2003 05:49:08 +0000
X-Originating-IP: [211.235.188.62]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Jakarta Commons Developers List" <commons-dev@jakarta.apache.org>
Cc: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <9C5166762F311146951505C6790A9CF8A6E784@US-VS1.corp.mpi.com>
Subject: Re: [SURVEY] Commons-URI or not? - with java.net.URI?
Date: Thu, 26 Jun 2003 14:48:51 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV21K9h779ixr00007655@hotmail.com>
X-OriginalArrivalTime: 26 Jun 2003 05:49:09.0247 (UTC) FILETIME=[A998A8F0:01C33BA6]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> ----- Original Message -----
> From: "Shapira, Yoav" <Yoav.Shapira@mpi.com>
> To: "Jakarta Commons Developers List" <commons-dev@jakarta.apache.org>
> Sent: Wednesday, June 25, 2003 9:38 PM
> Subject: RE: [SURVEY] Commons-URI or not?
>
> Howdy,
> I think a slightly more detailed proposal is needed: one that addresses
> specifically what commons-uri would address that's missing in
> java.net.URI and related classes.

The main reason required the own URI implementations for Jakarta is
portability and extensiblity issue I guess though.  Your comment is very
reasonable... ;)

+ Portability: JDK 1.2 or later
+ Extensibility:
  - URI-based specific extensiblity for each schemes
  - New URI related specifications support

Comparison with java.net.URI on JDK 1.4 (= one issue of new URI package
functionalities) might be important also.   The current new URI package has
some features (java.net.URI does not...) like:
- URI validate parsr (URI character sequence must be escaped, how to prove
it?)
- Charset-aware URI reference container (possbily lagacy support with old?
charset fashion, not UTF-8 though )
- Both escaped & unescaped components manipulations (regarded as only
escaped in java.net.URI?)
- Escape codec utility (possbile to define correct escaped URI components
manually by developers)

On top of my head, I can summarize the above much right now.

Thank you very much,

Sung-Gu


> Yoav Shapira
> Millennium ChemInformatics
>
>
> >-----Original Message-----
> >From: Sung-Gu [mailto:jericho@apache.org]
> >Sent: Wednesday, June 25, 2003 1:10 AM
> >To: Jakarta Commons Developers List; Commons HttpClient Project
> >Subject: [SURVEY] Commons-URI or not?
> >
> >
> >Hi all,
> >
> >I suggest that jakarta-commons provides flexible URI issue
> implementations
> >as a package.
> >
> >Various applications using URI concept comes in the internet world.
> and
> >they need common mechanisms and algorithms for URI.
> >
> >For example, all internet programs will need fundamental functionalites
> of
> >URI like extensible parsing and manipulation container for URL
> reference,
> >URN and URC,  escape codec mechanism, charset tranformation
> functionality,
> >URI transformation from real world identities or URN, or other
> >transformations related to DNS or telephony...   If it would be
> prepared
> >commonly in Jakarta, we can save development powers.   So I suggest new
> >commons-uri package.
> >
> >FYI, currently the commons-httpclient is using it.
> >
> >Any comments?
> >Or any +1, -1?
> >
> >Sung-Gu
> >
> >P.S.: If the requirement is very weak, I want  to put the new package
> into
> >commons-sandbox even for a long while in my opinion...


From byosmosis@hotmail.com  Thu Jun 26 06:12:57 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 92849 invoked from network); 26 Jun 2003 06:12:57 -0000
Received: from bay1-dav67.bay1.hotmail.com (HELO hotmail.com) (65.54.244.202)
  by daedalus.apache.org with SMTP; 26 Jun 2003 06:12:57 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 25 Jun 2003 23:13:09 -0700
Received: from 211.235.188.62 by bay1-dav67.bay1.hotmail.com with DAV;
	Thu, 26 Jun 2003 06:13:08 +0000
X-Originating-IP: [211.235.188.62]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>,
	"Jakarta Commons Developers List" <commons-dev@jakarta.apache.org>
Cc: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <BAY1-DAV12O8FNpyLAP00027dd8@hotmail.com> <3EF9A5E4.7040802@tibco.com> <20030625100226.O79746@icarus.apache.org>
Subject: Re: [SURVEY] Commons-URI or not? - jarring or ... and exposing some classes?
Date: Thu, 26 Jun 2003 15:12:51 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV6773SKZtEqk0002a398@hotmail.com>
X-OriginalArrivalTime: 26 Jun 2003 06:13:09.0105 (UTC) FILETIME=[03D18E10:01C33BAA]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


I'd like to consider the compelete opposite situation.

If a project (knows what they exactly need) wanted just several classes from
another project,
should they include a whole jar from the project?   What's the possbile
solution?

Here you are, my one...
You can notice there are xxx.md5, xxx.asc xxx.tar.gz and xxx.zip at
http://www.apache.org/dist/jakarta/commons/xxxx
How about exposing some classes files at
http://www.apache.org/dist/jakarta/commons/xxxx/classes?
Is it nonsense with ant from net?   They might be jarred as 'an only jar' in
build.xml of antother project

Hmmm...  Just my simple thought... your opinion please...

Sung-Gu


----- Original Message -----
From: "Craig R. McClanahan" <craigmcc@apache.org>
To: "Jakarta Commons Developers List" <commons-dev@jakarta.apache.org>
Cc: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Thursday, June 26, 2003 2:06 AM
Subject: Re: [SURVEY] Commons-URI or not?


>
>
> On Wed, 25 Jun 2003, Eric Johnson wrote:
>
> > [snip]
> > One of the negatives that others have mentioned on the HttpClient list
> > is the growing dependency problem within the Apache projects,
> > particularly with the myriad of dependencies on commons projects, and
> > among the commons projects themselves.  Perhaps what we need to do is
> > start clumping some of the commons projects together, as well as having
> > the stand-alone pieces we have now.  A first cut at combining some of
> > the commons projects into one giant JAR might include:
> >
>
> Have a look at the build.xml file in the "combo" subdirectory of the
> jakarta-commons CVS repository -- it lets you do exactly this sort of
> thing, and even lets you pick the versions you want (by virtue of
> specifying the CVS tags to build with).
>
> I try to maintain the "latest official release" CVS tag of all released
> commons packages (but nothing from the sandbox, since by definition they
> are not released), but don't always have a chance to do so in a timely
> manner -- others are welcome to help.
>
> Craig McClanahan
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>
>

From Fa.MSG.Hr.Liebling@wacker.com  Thu Jun 26 06:58:55 2003
Return-Path: <Fa.MSG.Hr.Liebling@wacker.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 35470 invoked from network); 26 Jun 2003 06:58:55 -0000
Received: from zmucdmz02.wacker.com (195.183.97.53)
  by daedalus.apache.org with SMTP; 26 Jun 2003 06:58:55 -0000
Received: from xmuc19420.muc.wacker.de ([193.19.1.16])
	by zmucdmz02.wacker.com (8.12.9/8.12.9) with ESMTP id h5Q6x5PJ029330
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 08:59:06 +0200
Received: from zmucm07.muc.wacker.de (unverified) by xmuc19420.muc.wacker.de
 (Content Technologies SMTPRS 2.0.15) with ESMTP id <B0002861735@xmuc19420.muc.wacker.de> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 26 Jun 2003 08:58:07 +0200
Received: by zmucm07.muc.wacker.de with Internet Mail Service (5.5.2656.59)
	id <N2ZTQ3KY>; Thu, 26 Jun 2003 08:58:07 +0200
Message-Id: <2EA838BF3340D5119BF100508BB0856E05257E74@zmucm01.muc.wacker.de>
From: "Fa. MSG Hr. Liebling" <Fa.MSG.Hr.Liebling@wacker.com>
To: "'Commons HttpClient Project'"
	 <commons-httpclient-dev@jakarta.apache.org>
Subject: AW: Extra newline when using ByteArrayPartSource and FilePart
Date: Thu, 26 Jun 2003 08:58:05 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks Oleg, but I found the issue...it definitely seems to be a =
problem on
the server side.  It turns out someone had reported a similar issue on =
the
mailing list (Bug 20744).  Somehow I had missed it in my previous =
searches.
The problem is that whatever package or classes the server is using to
handle multipart requests doesn't like the "Content-transfer-encoding"
header.  So while there could still be an issue with the request =
generated
by HttpClient, I really think it is a server problem in this case.

Thanks in any case for your repsonse!

Aaron


-----Urspr=FCngliche Nachricht-----
Von: Oleg Kalnichevski [mailto:olegk@apache.org]
Gesendet: Mittwoch, 25. Juni 2003 20:59
An: Commons HttpClient Project
Betreff: RE: Extra newline when using ByteArrayPartSource and FilePart


Aaron,
I am afraid it is premature to draw such a conclusion. I will
double-check that it is not a bug in HttpClient and get back to you as
soon as I can.

Oleg


On Tue, 2003-06-24 at 18:15, Fa. MSG Hr. Liebling wrote:
> After looking at the spec, the actual request looks ok (there should =
be 2
> newlines).  any other ideas as to why I'm getting a newline at the
beginning
> of the uploaded file once it's saved on the server?  Unfortunately, I
don't
> have access to the server or server code to debug it, I can only see =
the
> resulting file.
>=20
> Thanks!
>=20
> Aaron
>=20
> 	I'm uploading a file from an array of bytes using
> 	ByteArrayPartSource and FilePart.  The upload
> 	succeeds, but when I view the file on the server side,
> 	I see that an extra \r\n (^M or newline) has been
> 	preprended to it.
>=20
> 	My code sample is as follows:
>=20
> 	byte[] bytes =3D baOS.toByteArray();
> 	                   =20
> 	ByteArrayPartSource baPS =3D=20
> 	new
> 	ByteArrayPartSource(mpRequest.getFileSystemName(paramName),
> 	                            bytes);                 =20
> 	                   =20
> 	 FilePart filePart =3D new FilePart(paramName,baPS);
> 	                    mppMethod.addPart(filePart);
>=20
> 	From the wire, the request looks like:
>=20
> 	"POST
> =09
>
/RightSite/ssi4_logged_in?rndn=3D70518498&operation=3Dimport_object&DMW_=
ON_ERROR
>
=3Drelogon_http&embedded=3Dtrue&type=3Ddm_folder&DMW_DOCBASE=3Dmuc_d_cor=
p_01&id=3D0b00
>
91bb80193a03&enableIndex=3Dtrue&object_name=3DWACKER-NOC2-Build%2BDeploy=
-2003041
>
1.doc&a_full_text=3DFALSE&r_object_type=3Dcorp00_o_superdoc&wa_language_=
code=3Den_
>
US&a_content_type=3Dmsw8%3B1&subject=3DBETA1&doc_format=3Dmsw8&title=3DB=
ETA1&entry=3Dp
> rocess_index&automaticIndex=3Dfalse
> 	HTTP/1.1[\r][\n]"
> 	"accept: application/vnd.ms-excel, application/msword,
> 	application/vnd.ms-powerpoint, image/gif,
> 	image/x-xbitmap, image/jpeg, image/pjpeg, */*[\r][\n]"
> 	"accept-language: de[\r][\n]"
> 	"accept-encoding: gzip, deflate[\r][\n]"
> 	"user-agent: Mozilla/4.0 (compatible; MSIE 6.0;
> 	Windows NT 4.0)[\r][\n]"
> 	"connection: Keep-Alive[\r][\n]"
> 	"cache-control: no-cache[\r][\n]"
> 	"WL-PATH-PREPEND: /extranet[\r][\n]"
> 	"WL-Proxy-SSL: false[\r][\n]"
> 	"X-WebLogic-Force-Cookie: true[\r][\n]"
> 	"WL-Proxy-Client-IP: 193.19.4.32[\r][\n]"
> 	"Proxy-Path-Translated:
> 	/RightSite/ssi4_logged_in[\r][\n]"
> 	"X-WebLogic-Request-ClusterInfo: true[\r][\n]"
> 	"Host: zmucdoc1:8040[\r][\n]"
> 	"Cookie: $Version=3D0; DMW_AUTHORIZATION=3DFALSE[\r][\n]"
> 	"Cookie: $Version=3D0;
> 	jrunsessionid=3D1056462816518120373; $Path=3D/[\r][\n]"
> 	"Cookie: $Version=3D0; storedLocale=3Den-us;
> 	$Path=3D/[\r][\n]"
> 	"Cookie: $Version=3D0; storedDBName=3Dmuc_d_corp_01;
> 	$Path=3D/[\r][\n]"
> 	"Cookie: $Version=3D0; storedUserName=3Dlieblin-ex;
> 	$Path=3D/[\r][\n]"
> 	"Cookie: $Version=3D0; storedDomainName=3D;
> 	$Path=3D/[\r][\n]"
> 	"Cookie: $Version=3D0;
> 	DMW_SESSIONID=3D2117204380119467_18_1056245705;
> 	$Path=3D/[\r][\n]"
> 	"Cookie: $Version=3D0; DMW_DOCBASE=3Dmuc_d_corp_01;
> 	$Path=3D/[\r][\n]"
> 	"Content-Length: 127752[\r][\n]"
> 	"Content-Type: multipart/form-data;
> 	boundary=3D----------------314159265358979323846[\r][\n]"
> 	"[\r][\n]"
>=20
> 	"----------------314159265358979323846"
> 	"[\r][\n]"
> 	"Content-Disposition: form-data; name=3D"
>=20
> 	"DMW_FILENAME"
>=20
> 	filename=3D"
>=20
> 	"WACKER-NOC2-Build+Deploy-20030411.doc"
>=20
> 	"[\r][\n]"
> 	"Content-Type: "
> 	"application/octet-stream"
> 	"[\r][\n]"
> 	"Content-Transfer-Encoding: "
> 	"binary"
> 	"[\r][\n]"
> 	"[\r][\n]"
> 	"[0x11]...binary data here"
>=20
> 	Thanks!
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org

From oleg.kalnichevski@bearingpoint.com  Thu Jun 26 07:32:16 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 80466 invoked from network); 26 Jun 2003 07:32:16 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 26 Jun 2003 07:32:16 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 26 Jun 2003 07:34:20 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Poof!
Date: Thu, 26 Jun 2003 08:32:26 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0D4869@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Poof!
Thread-Index: AcM7nPKe6kzBpmmCTcK/APHjp3y+BgAF8p2g
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 26 Jun 2003 07:34:20.0281 (UTC) FILETIME=[5B440690:01C33BB5]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

"Is it safe? Is it secret?"

I knew it would happen. Welcome back. You have been missed

Oleg

-----Original Message-----
From: Jandalf [mailto:jsdever@apache.org]
Sent: Thursday, June 26, 2003 06:40
To: Commons HttpClient Project
Subject: Poof!


Hello all!

My house has sold, I've moved to Calgary and I have a new job.  All is=20
well.  I've been monitoring the list and have been taking care of the=20
moderate messages, but I'm back to start participating again.

Jandalf.


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From ortwin.glueck@nose.ch  Thu Jun 26 07:33:37 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 81267 invoked from network); 26 Jun 2003 07:33:37 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 26 Jun 2003 07:33:37 -0000
Received: (qmail 19398 invoked from network); 26 Jun 2003 07:33:47 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 26 Jun 2003 07:33:47 -0000
Message-ID: <3EFAA1DB.6080002@nose.ch>
Date: Thu, 26 Jun 2003 09:33:47 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: performance
References: <sef9baf4.014@prv-mail20.provo.novell.com>
In-Reply-To: <sef9baf4.014@prv-mail20.provo.novell.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Zulfi Umrani wrote:
> I will appreciate if anyone answers my questions below.
>
> -Does anyone has perfromance comparison between HTTPClient and JDK
> HttpURLConnection?

I remember there was a comment about that on the list some months ago.
The guy said that HttpClient was slightly faster than HttpUrlConnection
for what he was doing. But I don't remember all of it. Maybe check the
mail archive.

> -Are there any performance techniques that can be used to improve the
> performance of HTTPClient?

Not really. There are sime Timeouts you can set, and Nagling is disabled
by default. So there is little you can do. HttpClient's performance is
mainly affected by:
- The performance of the underlying streams (network, request input)
- The performance of the SSL implementation (if SSL is used)
- Authentication cycles
- Server roundtrips
- Connection stability

You see, the performance parameters are all *outside* HttpClient. So if
you want to tune, use a profiling tool and track down the source of the
performance problem.

> -When will the final version of HTTPClient be out?

We are in beta for 2.0 now. So 2.0 is "ante portas". No timeline
available though. As usual: it's ready when it's ready. But expect
something by end of summer.

HTH

Odi


From ortwin.glueck@nose.ch  Thu Jun 26 07:42:05 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 800 invoked from network); 26 Jun 2003 07:42:05 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 26 Jun 2003 07:42:05 -0000
Received: (qmail 19515 invoked from network); 26 Jun 2003 07:42:17 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 26 Jun 2003 07:42:17 -0000
Message-ID: <3EFAA3D9.9030902@nose.ch>
Date: Thu, 26 Jun 2003 09:42:17 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Poof!
References: <3EFA7903.7060200@apache.org>
In-Reply-To: <3EFA7903.7060200@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Good to here that you are fine! Welcome back to the Fellowship of The
Protocol. I have been missing your insightful comments on the list recently.

Odi

Jandalf wrote:
> My house has sold, I've moved to Calgary and I have a new job.  All is
> well.  I've been monitoring the list and have been taking care of the
> moderate messages, but I'm back to start participating again.
>
> Jandalf.


From ortwin.glueck@nose.ch  Thu Jun 26 07:47:38 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 5593 invoked from network); 26 Jun 2003 07:47:38 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 26 Jun 2003 07:47:38 -0000
Received: (qmail 19602 invoked from network); 26 Jun 2003 07:47:48 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 26 Jun 2003 07:47:48 -0000
Message-ID: <3EFAA520.3010509@nose.ch>
Date: Thu, 26 Jun 2003 09:47:44 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: invalid response code/body
References: <D4D2B55E7576D411B04000508BE343DC0AACC1C6@corlsmxsusr01.escout.com>
In-Reply-To: <D4D2B55E7576D411B04000508BE343DC0AACC1C6@corlsmxsusr01.escout.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Molina, Teresa wrote:
> I'm experiencing a problem with the response code (and body) returned after
> HttpClient tries to execute a (get) method on an unknown host. If the host
> had previously been in DNS and returned a valid (200, eg) response code,
> subsequent attempts to execute still return that same code and body,
> although the host is actually unavailable. All instances of the client
> object will continue to return the same 200 response until the servlet
> container has been restarted; after the restart, the client does throw the
> expected unknown host exception.

Teresa,

This sounds like DNS caching to me. By "unavailable" you mean the host
has no DNS entry but is still up and running under the same IP as when
it was "available"?
The java.net.InetAddress class does DNS caching. Prior to JDK 1.4 there
is no way to clear the DNS cache, you need to set some System properties
to limit the DNS cache time. From 1.4 on these limits have better
default values.

For 1.3 I usually set the System Properties
sun.net.inetaddr.ttl
sun.net.inetaddr.negative.ttl
to a value of 5 each.

HTH

Odi
--
_________________________________________________________________
  NOSE applied intelligence ag
                                    [www]      http://www.nose.ch
  ortwin glück                      [email] ortwin.glueck@nose.ch
  hardturmstrasse 171               [pgp key]          0x81CF3416
  8005 zurich                       [office]      +41-1-277 57 35
  switzerland                       [fax]         +41-1-277 57 12


From ortwin.glueck@nose.ch  Thu Jun 26 07:54:30 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 14633 invoked from network); 26 Jun 2003 07:54:30 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 26 Jun 2003 07:54:30 -0000
Received: (qmail 19673 invoked from network); 26 Jun 2003 07:54:41 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 26 Jun 2003 07:54:41 -0000
Message-ID: <3EFAA6C1.4030606@nose.ch>
Date: Thu, 26 Jun 2003 09:54:41 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: 2.0 release
References: <DB0ED25A-A795-11D7-8683-000393016056@intencha.com>
In-Reply-To: <DB0ED25A-A795-11D7-8683-000393016056@intencha.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian Sutton wrote:
> * FilePart with autodetecting mime type.
> There is also the untargetted:
> 17416 Send InputStreams instead of files in MultipartPostMethod

IMHO these should wait until after 2.0. Do not forget: We are beta now
and NOT supposed to add features / change API. We must focus on
stability and documentation now. This means we are feature complete for
2.0. The last call for features was issued by Oleg just before we
released beta 1. So it's definitely too late for anyone to include new
features now.
Maybe #17416 can be a performance optimization, so we can still include
it, IF we maintain API compatibility.

I guess Jandalf will agree.

Odi


From ortwin.glueck@nose.ch  Thu Jun 26 07:57:29 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 19633 invoked from network); 26 Jun 2003 07:57:29 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 26 Jun 2003 07:57:29 -0000
Received: (qmail 19720 invoked from network); 26 Jun 2003 07:57:40 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 26 Jun 2003 07:57:40 -0000
Message-ID: <3EFAA774.2050200@nose.ch>
Date: Thu, 26 Jun 2003 09:57:40 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Client Auth / Certificates
References: <OFC816EFA3.B18702AE-ON86256D50.005FE69B-86256D50.00607A91@tsainc.com>
In-Reply-To: <OFC816EFA3.B18702AE-ON86256D50.005FE69B-86256D50.00607A91@tsainc.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

secoskem@aciworldwide.com wrote:
> I am looking for a way to specify a particular
> client SSL certificate for Client Authenticated SSL.

This is usually done by writing a SSLSocketFactory that creates Sockets
with the Client Cert attached.


From oleg.kalnichevski@bearingpoint.com  Thu Jun 26 07:58:34 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 22189 invoked from network); 26 Jun 2003 07:58:34 -0000
Received: from unknown (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.6)
  by daedalus.apache.org with SMTP; 26 Jun 2003 07:58:34 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 26 Jun 2003 08:00:38 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: 2.0 release
Date: Thu, 26 Jun 2003 08:58:45 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE58A@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: 2.0 release
Thread-Index: AcM7o7JkBfkpTSuKTUKjUn0DLvBoywAEmsuw
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 26 Jun 2003 08:00:38.0937 (UTC) FILETIME=[0837D090:01C33BB9]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Jandalf,
Beta-1 release surprisingly revealed very few bugs. None of those few =
was serious. It looks like we did a pretty good job during late Alpha3 =
eradicating most serious bugs. I believe HttpClient can now be =
considered feature and documentation complete. I agree with Adrian that =
what we have now looks more like a release candidate than a beta quality =
product.

I suggest we release RC1 rather sooner than later.

I have only one outstanding issue on my hands: deprecation of =
URIUtil.toXXXCharset methods. I am still waiting for Sung-Gu to produce =
a test case or test cases for these methods, but I do not think we =
should wait forever. 5 months sounds like enough time for writing a test =
case

Oleg=20

-----Original Message-----
From: Adrian Sutton [mailto:adrian@intencha.com]
Sent: Thursday, June 26, 2003 07:20
To: Commons HttpClient Project
Subject: Re: 2.0 release


On Thursday, June 26, 2003, at 03:10  PM, Jandalf wrote:

> I see that beta 1 is out which is fantastic.  Can somone post a update =

> on where we stand for a upcoming final release?

My current list of things to do:
* Add testimonials page
* Add clover report
* FilePart with autodetecting mime type.
* Localhost tests for DELETE

None of these are particularly related to the 2.0 release though.

Looking at bugzilla I see:
19102 Include generated website in the distribution
10816 User/Developer Documentation (only the first two items on my list=20
remain to get this working and it isn't a reason to hold up the release)
19373 Performance optimizations

There is also the untargetted:
17416 Send InputStreams instead of files in MultipartPostMethod

So it's looking like we should be pretty ready to tackle a first=20
release candidate.

> Jandalf.

Comments?

Adrian Sutton.


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From anonymous@nagoya.betaversion.org  Thu Jun 26 08:01:13 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 25149 invoked from network); 26 Jun 2003 08:01:13 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 26 Jun 2003 08:01:13 -0000
Received: (qmail 12721 invoked by uid 50); 26 Jun 2003 08:03:37 -0000
Date: 26 Jun 2003 08:03:37 -0000
Message-ID: <20030626080337.12720.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 17416]  -
    Send InputStreams instead of files in MultipartPostMethod
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=17416>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=17416

Send InputStreams instead of files in MultipartPostMethod

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
   Target Milestone|---                         |2.1 Final

From christian.sell@netcologne.de  Thu Jun 26 08:01:25 2003
Return-Path: <christian.sell@netcologne.de>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 25514 invoked from network); 26 Jun 2003 08:01:25 -0000
Received: from smtp2.netcologne.de (194.8.194.218)
  by daedalus.apache.org with SMTP; 26 Jun 2003 08:01:25 -0000
Received: from netcologne.de (dial-195-14-235-126.netcologne.de [195.14.235.126])
	by smtp2.netcologne.de (Postfix) with ESMTP id 7E18339CF2
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 10:01:36 +0200 (MEST)
Message-ID: <3EFAA844.1000503@netcologne.de>
Date: Thu, 26 Jun 2003 10:01:08 +0200
From: Christian Sell <christian.sell@netcologne.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3b) Gecko/20030210
X-Accept-Language: de-de, de, en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: HTTP client caching
References: <D4EBBA08-A75B-11D7-8683-000393016056@intencha.com> <3EFA412D.4060101@lwerner.org>
In-Reply-To: <3EFA412D.4060101@lwerner.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Laura Werner wrote:
>> There shouldn't be any obstacles in your way to implement caching.
>
>
> It depends on what you want the cache's API to look like.  I've been
> meaning to post about this lately, so here goes....
> Ideally, I'd want the API for executing an HTTP method via the cache to
> look almost identical to the API for executing it directly with
> HttpClient.  Something like:
>  HttpCache myCache = new HttpCache( new
> MultithreadedHttpConnectionManager());
>  HttpMethod get = new GetMethod("http://www.google.com");
>  int statusCode = myCache.executeMethod(get, ...);
>  String type = get.getResponseHeader("Content-Type");
>  InputStream is = get.getResponseInputStream();
>  ...

following the filter idea from w3c's Jigsaw (not JTidy btw.), I would
like to give my ideal version:

Filter cacheFilter = new CacheFilter();
httpClient.addFilter(cacheFilter, Filter.INOUT);
HttpMethod get = = new GetMethod("http://www.google.com");
httpClient.executeMethod(get, ..);

the difference is that there is NO specific code after the configuration
of the client.

The architectural problem I see is that a mechanism like this has to be
built in at the core level. Currently there is simply no way to
transparently intercept a request (and response) just before it is being
sent over the wire (or after it has been received), and to manipulate it
or substitute it with the contents of a cache.

I think filters are a proven and generic concept from many other APIs
(as Laura mentions). In fact, in Jigsaw even other things, like
authentication, cookies, ICP (whatever that is) are done through filters.

I for my part would much prefer building pluggability into the core, and
adding plugins externally, than having duplicate code.

>
> Unfortunately, you can't really do this with the current HttpClient
> architecture.  The biggest "gotcha" is that the methods that set
> response-related fields on an HttpMethod are all private or protected --
> things like setResponseStream, getResponseHeaderGroup, statusLine, etc.
> To make a cache API that looks like the current HttpClient API, I think
> it would be necessary to duplicate the existing method classes with
> versions that either construct their results from the cache or delegate
> to one of the HttpClient method classes depending on cacheability and so
> on.
>
> Someone (Oleg, I think) has suggested splitting HttpMethod into two
> interfaces for 2.1 or 3.0: HttpRequest and HttpResponse.  I really like
> that idea.  Aside from being architecturally cleaner, that would make it
> much easier to create a clean cache API; the cache could just provide
> its own HttpResponse implementation.  Another suggestion is to abstract
> out some of HttpClient's non-implementation-specific functionalityinto
> an interface that could be implemented by other HTTP providers like a
> cache.
>
> I also like the idea of filters that Christian mentioned.  Adding some
> hooks like that into HttpClient would probably make it more generally
> useful, though I don't know what the cost in complexity would be.  I'll
> have to go look at the specifics of what JTidy does.  I think Axis also
> has a similar notion of filter chains, and maybe Tomcat too (or servlet
> engines in general?).
>
> -- Laura
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>



From ortwin.glueck@nose.ch  Thu Jun 26 08:05:19 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 31587 invoked from network); 26 Jun 2003 08:05:19 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 26 Jun 2003 08:05:19 -0000
Received: (qmail 19887 invoked from network); 26 Jun 2003 08:05:31 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 26 Jun 2003 08:05:31 -0000
Message-ID: <3EFAA94B.1050506@nose.ch>
Date: Thu, 26 Jun 2003 10:05:31 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: 2.0 release
References: <825BF35A92B3F0479CC164ECBBE9376E0DE58A@kccxoex06.corp.kpmgconsulting.com>
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE58A@kccxoex06.corp.kpmgconsulting.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Kalnichevski, Oleg wrote:
> I have only one outstanding issue on my hands: deprecation of
> URIUtil.toXXXCharset methods.

As far as I remember these methods are not currently used. So they do
not harm. We can address this later if necessary. The whole issue seems
still a bit unclear to me, but Laura managed to shed some light on the
problem. But as I see it the problem is more one of Java's Unicode
Strings than one of HttpClient, and we will be unable to solve it.


From oleg.kalnichevski@bearingpoint.com  Thu Jun 26 08:25:24 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 63899 invoked from network); 26 Jun 2003 08:25:24 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 26 Jun 2003 08:25:24 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 26 Jun 2003 08:27:25 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C33BBC.821F826F"
Subject: RE: 2.0 release
Date: Thu, 26 Jun 2003 09:25:31 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE58B@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator: <825BF35A92B3F0479CC164ECBBE9376E0DE58B@kccxoex06.corp.kpmgconsulting.com>
Thread-Topic: 2.0 release
Thread-Index: AcM7ub9eoGI8ieEITLegoBzshEmnpQAAasne
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 26 Jun 2003 08:27:25.0703 (UTC) FILETIME=[C5ECD970:01C33BBC]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33BBC.821F826F
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Odi,
Laura eventually conceded that these methods did not seem to make a lot =
of sense or were too specialized to be of any use for the majority of =
the HttpClient users.=20

http://marc.theaimsgroup.com/?l=3Dhttpclient-commons-dev&m=3D104577672115=
772&w=3D2

I do think that releasing HttpClient with stuff that makes no sense DOES =
harm.

Again, after all, what is the bloody deal with writing a test case? Does =
it really have to take 5 months if these methods indeed make sense?

Oleg=20


-----Original Message-----
From:	Ortwin Gl=FCck [mailto:ortwin.glueck@nose.ch]
Sent:	Thu 6/26/2003 10:05
To:	Commons HttpClient Project
Cc:=09
Subject:	Re: 2.0 release
Kalnichevski, Oleg wrote:
> I have only one outstanding issue on my hands: deprecation of
> URIUtil.toXXXCharset methods.=20

As far as I remember these methods are not currently used. So they do=20
not harm. We can address this later if necessary. The whole issue seems=20
still a bit unclear to me, but Laura managed to shed some light on the=20
problem. But as I see it the problem is more one of Java's Unicode=20
Strings than one of HttpClient, and we will be unable to solve it.


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org





------_=_NextPart_001_01C33BBC.821F826F--

From adrian@intencha.com  Thu Jun 26 09:14:41 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 44632 invoked from network); 26 Jun 2003 09:14:41 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 26 Jun 2003 09:14:41 -0000
Received: from intencha.com (unverified [150.101.177.96]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0056437229@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 26 Jun 2003 03:06:51 -0600
Date: Thu, 26 Jun 2003 19:10:13 +1000
Subject: [VOTE] Re: 2.0 release
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE58B@kccxoex06.corp.kpmgconsulting.com>
Message-Id: <FE872FDE-A7B5-11D7-8683-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

All,
Personally, I believe that this issue has gone on far too long and so I
would like to propose a vote:

I move the motion that the following methods from
org.apache.commons.httpclient.util.URIUtil be depreciated for the 2.0
release and removed in a future release:

toDocumentCharset(String)
toDocumentCharset(String, String)
toProtocolCharset(String)
toProtocolCharset(String, String)
toUsingCharset(String, String, String)

Please cast your votes:

+1 - The methods should be depreciated
0 - Active Abstain (no response being a passive abstain)
-1 - The methods should not be depreciated (veto)  Veto's must contain
an explanation of why the veto is appropriate.

Under Jakarta's voting guidelines
(http://jakarta.apache.org/site/decisions.html) product changes (such
as this) are subject to lazy consensus, however in this case I would
like to achieve consensus on the issue and as such the vote will be
considered passed if there are 3 binding +1 votes and no binding vetos
or the proposal will be turned down if there are any -1 votes.

I would encourage non-committers to submit non-binding votes as well,
particularly if you can see a use for the methods in question.

Here's my +1.

Regards,

Adrian Sutton.

On Thursday, June 26, 2003, at 06:25  PM, Kalnichevski, Oleg wrote:

> Odi,
> Laura eventually conceded that these methods did not seem to make a
> lot of sense or were too specialized to be of any use for the majority
> of the HttpClient users.
>
> http://marc.theaimsgroup.com/?l=httpclient-commons-
> dev&m=104577672115772&w=2
>
> I do think that releasing HttpClient with stuff that makes no sense
> DOES harm.
>
> Again, after all, what is the bloody deal with writing a test case?
> Does it really have to take 5 months if these methods indeed make
> sense?
>
> Oleg


From ortwin.glueck@nose.ch  Thu Jun 26 09:20:28 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 51316 invoked from network); 26 Jun 2003 09:20:28 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 26 Jun 2003 09:20:28 -0000
Received: (qmail 21166 invoked from network); 26 Jun 2003 09:20:40 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 26 Jun 2003 09:20:40 -0000
Message-ID: <3EFABAE8.5050503@nose.ch>
Date: Thu, 26 Jun 2003 11:20:40 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] Re: 2.0 release
References: <FE872FDE-A7B5-11D7-8683-000393016056@intencha.com>
In-Reply-To: <FE872FDE-A7B5-11D7-8683-000393016056@intencha.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

+1

Adrian Sutton wrote:
> I move the motion that the following methods from
> org.apache.commons.httpclient.util.URIUtil be depreciated for the 2.0
> release and removed in a future release:
>
> toDocumentCharset(String)
> toDocumentCharset(String, String)
> toProtocolCharset(String)
> toProtocolCharset(String, String)
> toUsingCharset(String, String, String)
>
> Please cast your votes:
>
> +1 - The methods should be depreciated


From oleg.kalnichevski@bearingpoint.com  Thu Jun 26 09:22:33 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 53086 invoked from network); 26 Jun 2003 09:22:33 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 26 Jun 2003 09:22:33 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 26 Jun 2003 09:20:01 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C33BC4.7E8B34BB"
Subject: RE: [VOTE] Re: 2.0 release
Date: Thu, 26 Jun 2003 10:22:41 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE58D@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator: <825BF35A92B3F0479CC164ECBBE9376E0DE58D@kccxoex06.corp.kpmgconsulting.com>
Thread-Topic: [VOTE] Re: 2.0 release
Thread-Index: AcM7w2rCvrNX4yRaTyGoc73f2buTZAAAQz3X
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 26 Jun 2003 09:20:01.0234 (UTC) FILETIME=[1EC4AB20:01C33BC4]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33BC4.7E8B34BB
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

+1


-----Original Message-----
From:	Adrian Sutton [mailto:adrian@intencha.com]
Sent:	Thu 6/26/2003 11:10
To:	Commons HttpClient Project
Cc:=09
Subject:	[VOTE] Re: 2.0 release
All,
Personally, I believe that this issue has gone on far too long and so I  =

would like to propose a vote:

I move the motion that the following methods from =20
org.apache.commons.httpclient.util.URIUtil be depreciated for the 2.0 =20
release and removed in a future release:

toDocumentCharset(String)
toDocumentCharset(String, String)
toProtocolCharset(String)
toProtocolCharset(String, String)
toUsingCharset(String, String, String)

Please cast your votes:

+1 - The methods should be depreciated
0 - Active Abstain (no response being a passive abstain)
-1 - The methods should not be depreciated (veto)  Veto's must contain =20
an explanation of why the veto is appropriate.

Under Jakarta's voting guidelines =20
(http://jakarta.apache.org/site/decisions.html) product changes (such =20
as this) are subject to lazy consensus, however in this case I would =20
like to achieve consensus on the issue and as such the vote will be =20
considered passed if there are 3 binding +1 votes and no binding vetos =20
or the proposal will be turned down if there are any -1 votes.

I would encourage non-committers to submit non-binding votes as well, =20
particularly if you can see a use for the methods in question.

Here's my +1.

Regards,

Adrian Sutton.

On Thursday, June 26, 2003, at 06:25  PM, Kalnichevski, Oleg wrote:

> Odi,
> Laura eventually conceded that these methods did not seem to make a =20
> lot of sense or were too specialized to be of any use for the majority =
=20
> of the HttpClient users.
>
> http://marc.theaimsgroup.com/?l=3Dhttpclient-commons-=20
> dev&m=3D104577672115772&w=3D2
>
> I do think that releasing HttpClient with stuff that makes no sense =20
> DOES harm.
>
> Again, after all, what is the bloody deal with writing a test case? =20
> Does it really have to take 5 months if these methods indeed make =20
> sense?
>
> Oleg=20


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org





------_=_NextPart_001_01C33BC4.7E8B34BB--

From anonymous@nagoya.betaversion.org  Thu Jun 26 10:29:54 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 38924 invoked from network); 26 Jun 2003 10:29:54 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 26 Jun 2003 10:29:54 -0000
Received: (qmail 16128 invoked by uid 50); 26 Jun 2003 10:32:29 -0000
Date: 26 Jun 2003 10:32:29 -0000
Message-ID: <20030626103229.16127.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 20986]  -
    Contributed utility for determing content type from file type extension
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20986>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=20986

Contributed utility for determing content type from file type extension

adrian@ephox.com changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From adrian@ephox.com  2003-06-26 10:32 -------
This has now been committed to the contrib directory under methods/multipart.
I have made a few minor changes to the ContentType class and added a
ContentTypeFilePart class as a convienience class.  It's a very simple
extension to FilePart that uses ContentType to automatically detect the
content type of the file.

My apologies for the delay in getting this committed Eric, and thanks for your
contribution.

From anonymous@nagoya.betaversion.org  Thu Jun 26 11:18:03 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 84357 invoked from network); 26 Jun 2003 11:18:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 26 Jun 2003 11:18:03 -0000
Received: (qmail 17048 invoked by uid 50); 26 Jun 2003 11:20:24 -0000
Date: 26 Jun 2003 11:20:24 -0000
Message-ID: <20030626112024.17047.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 10816]  -
    User/Developer Documentation
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10816>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10816

User/Developer Documentation

adrian@ephox.com changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                 CC|                            |commons-httpclient-
                   |                            |dev@jakarta.apache.org
         AssignedTo|commons-httpclient-         |adrian@ephox.com
                   |dev@jakarta.apache.org      |



------- Additional Comments From adrian@ephox.com  2003-06-26 11:20 -------
We now have a license for clover to use with HttpClient (HttpClient committers
can email me for details on how to get their hands on it).  To add the report
to the website we need to specify it as a report in the project.xml.  However,
it means that we have to specify every report we want to run so we won't
automatically get any new reports that are added to maven's default setup.  I
have listed all the reports we currently have in the project.xml.

Also, for clover to work, you must run the unit tests in a forked JVM as the
results are only written out when the JVM exits.  I've added the property that
achieves this to project.properties, but if you rebuild httpclient using maven
a lot during development, you may wish to override this in your own
build.properties (which takes precedence).  The line to add is:

maven.junit.fork=false

Also, the clover plugin seems to have major issues on Windows, particularly
when there is a space in the path to the HttpClient sources.  I'm not sure if
this has been fixed in maven's CVS yet or not.

So, do considering these down sides, do we wish to add clover to maven's
default run or should we:

a. add a link to the report via navigation.xml and run the clover report
manually then upload it to the site.

b. Not put the clover report on the website and just use it when required.

c. Go find a fix for the problems and use an updated version of the clover
plugin when generating the site (what happens to anyone who is still using the
last stable release of maven or before?).

d.  Something completely different.

From byosmosis@hotmail.com  Thu Jun 26 12:05:56 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 71085 invoked from network); 26 Jun 2003 12:05:56 -0000
Received: from bay1-dav24.bay1.hotmail.com (HELO hotmail.com) (65.54.244.81)
  by daedalus.apache.org with SMTP; 26 Jun 2003 12:05:56 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 26 Jun 2003 05:05:56 -0700
Received: from 211.235.188.62 by bay1-dav24.bay1.hotmail.com with DAV;
	Thu, 26 Jun 2003 12:05:56 +0000
X-Originating-IP: [211.235.188.62]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <825BF35A92B3F0479CC164ECBBE9376E0DE58D@kccxoex06.corp.kpmgconsulting.com>
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods?
Date: Thu, 26 Jun 2003 21:05:37 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV24tViNCm2v90002e1b9@hotmail.com>
X-OriginalArrivalTime: 26 Jun 2003 12:05:56.0775 (UTC) FILETIME=[4CBBAB70:01C33BDB]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

-1
My vote...  :D


FYI, (it's from URI javadoc messages,  I think they are related to your
topic.)

[snip]
     * The character set used to store files SHALL remain a local decision
and
     * MAY depend on the capability of local operating systems. Prior to the
     * exchange of URIs they SHOULD be converted into a ISO/IEC 10646 format
     * and UTF-8 encoded. This approach, while allowing international
exchange
     * of URIs, will still allow backward compatibility with older systems
     * because the code set positions for ASCII characters are identical to
the
     * one byte sequence in UTF-8.
[snip]
     * Conversion from the local filesystem character set to UTF-8 will
     * normally involve a two step process. First convert the local
character
     * set to the UCS; then convert the UCS to UTF-8.
     * The first step in the process can be performed by maintaining a
mapping
     * table that includes the local character set code and the
corresponding
     * UCS code.
     * The next step is to convert the UCS character code to the UTF-8
encoding.
[snip]
     * To work globally either requires support of a number of character
sets
     * and to be able to convert between them, or the use of a single
preferred
     * character set.
     * For support of global compatibility it is STRONGLY RECOMMENDED that
     * clients and servers use UTF-8 encoding when exchanging URIs.
[snip]

I've made sample cases and posted it before. (even if it's not a normal
junit testcase though.)
And I'm not willing to make testcase for that. I'm not interested in unicode
values... at all...

To help you guys, you could find the above sentences (it means that's from
RFC) and more specified how-to in a RFC describing FTP protocol, as I
guess... - I don't remember at all... :( ...

Sung-Gu

-----Original Message-----
From: Adrian Sutton [mailto:adrian@intencha.com]
Sent: Thu 6/26/2003 11:10
To: Commons HttpClient Project
Cc:
Subject: [VOTE] Re: 2.0 release
All,
Personally, I believe that this issue has gone on far too long and so I
would like to propose a vote:

I move the motion that the following methods from
org.apache.commons.httpclient.util.URIUtil be depreciated for the 2.0
release and removed in a future release:

toDocumentCharset(String)
toDocumentCharset(String, String)
toProtocolCharset(String)
toProtocolCharset(String, String)
toUsingCharset(String, String, String)

Please cast your votes:

+1 - The methods should be depreciated
0 - Active Abstain (no response being a passive abstain)
-1 - The methods should not be depreciated (veto)  Veto's must contain
an explanation of why the veto is appropriate.

Under Jakarta's voting guidelines
(http://jakarta.apache.org/site/decisions.html) product changes (such
as this) are subject to lazy consensus, however in this case I would
like to achieve consensus on the issue and as such the vote will be
considered passed if there are 3 binding +1 votes and no binding vetos
or the proposal will be turned down if there are any -1 votes.

I would encourage non-committers to submit non-binding votes as well,
particularly if you can see a use for the methods in question.

Here's my +1.

Regards,

Adrian Sutton.

On Thursday, June 26, 2003, at 06:25  PM, Kalnichevski, Oleg wrote:

> Odi,
> Laura eventually conceded that these methods did not seem to make a
> lot of sense or were too specialized to be of any use for the majority
> of the HttpClient users.
>
> http://marc.theaimsgroup.com/?l=httpclient-commons-
> dev&m=104577672115772&w=2
>
> I do think that releasing HttpClient with stuff that makes no sense
> DOES harm.
>
> Again, after all, what is the bloody deal with writing a test case?
> Does it really have to take 5 months if these methods indeed make
> sense?
>
> Oleg


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org








----------------------------------------------------------------------------
----


> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org

From ortwin.glueck@nose.ch  Thu Jun 26 12:12:52 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 88138 invoked from network); 26 Jun 2003 12:12:52 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 26 Jun 2003 12:12:52 -0000
Received: (qmail 24033 invoked from network); 26 Jun 2003 12:12:49 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 26 Jun 2003 12:12:49 -0000
Message-ID: <3EFAE33E.9090802@nose.ch>
Date: Thu, 26 Jun 2003 14:12:46 +0200
From: =?windows-1252?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods?
References: <825BF35A92B3F0479CC164ECBBE9376E0DE58D@kccxoex06.corp.kpmgconsulting.com> <BAY1-DAV24tViNCm2v90002e1b9@hotmail.com>
In-Reply-To: <BAY1-DAV24tViNCm2v90002e1b9@hotmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sung-Gu wrote:
> I've made sample cases and posted it before. (even if it's not a normal
> junit testcase though.)
> And I'm not willing to make testcase for that. I'm not interested in unicode
> values... at all...

Sung-Gu,

I there are no test cases, how can we be sure these methods do what they
are supposed to do? I find it dangerous to have code that nobody
understands (except of you) without any test cases.

Refusing to write test cases is not good beheviour for a programmer. Are
you sure that you still want commit rights on the HttpClient repository?

Odi


From becke@u.washington.edu  Thu Jun 26 12:23:18 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 7642 invoked from network); 26 Jun 2003 12:23:18 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 26 Jun 2003 12:23:18 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout2.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5QCNJo0023624
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 05:23:19 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5QCNHXZ016987
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 05:23:18 -0700
Date: Thu, 26 Jun 2003 08:23:13 -0400
Subject: Re: Poof!
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EFA7903.7060200@apache.org>
Message-Id: <F4C72FB8-A7D0-11D7-82E9-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hey Jeff,

Welcome back!  I'm glad that everything has worked out.

Mike

On Thursday, June 26, 2003, at 12:39 AM, Jandalf wrote:

> Hello all!
>
> My house has sold, I've moved to Calgary and I have a new job.  All is
> well.  I've been monitoring the list and have been taking care of the
> moderate messages, but I'm back to start participating again.
>
> Jandalf.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Thu Jun 26 12:29:23 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 23644 invoked from network); 26 Jun 2003 12:29:23 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 26 Jun 2003 12:29:23 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout2.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5QCTNo0023772
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 05:29:23 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5QCTL49019074
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 05:29:23 -0700
Date: Thu, 26 Jun 2003 08:29:18 -0400
Subject: Re: 2.0 release
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <3EFA804F.7060706@apache.org>
Message-Id: <CE3F2068-A7D1-11D7-82E9-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think we are quite ready for a beta2/rc1.  I agree that there have
been few new bugs lately but I would still like to see a beta2, just to
be sure.

As part of beta2/rc1 we were planning to branch out 2.0.  Before we do
this though I think we should have a better idea of what we want in
post 2.0.  In particular I think we should brainstorm about features we
would like and then decide if they will fit in 2.1 or 3.0.

Mike

On Thursday, June 26, 2003, at 01:10 AM, Jandalf wrote:

> I see that beta 1 is out which is fantastic.  Can somone post a update
> on where we stand for a upcoming final release?
>
> Jandalf.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Thu Jun 26 12:32:43 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 30953 invoked from network); 26 Jun 2003 12:32:43 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 26 Jun 2003 12:32:43 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5QCWg5c031329
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 05:32:42 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5QCWf49019134
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 05:32:42 -0700
Date: Thu, 26 Jun 2003 08:32:37 -0400
Subject: Re: [VOTE] Re: 2.0 release
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <FE872FDE-A7B5-11D7-8683-000393016056@intencha.com>
Message-Id: <450D8E76-A7D2-11D7-82E9-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

+1

On Thursday, June 26, 2003, at 05:10 AM, Adrian Sutton wrote:

> All,
> Personally, I believe that this issue has gone on far too long and so
> I would like to propose a vote:
>
> I move the motion that the following methods from
> org.apache.commons.httpclient.util.URIUtil be depreciated for the 2.0
> release and removed in a future release:
>
> toDocumentCharset(String)
> toDocumentCharset(String, String)
> toProtocolCharset(String)
> toProtocolCharset(String, String)
> toUsingCharset(String, String, String)
>
> Please cast your votes:
>
> +1 - The methods should be depreciated
> 0 - Active Abstain (no response being a passive abstain)
> -1 - The methods should not be depreciated (veto)  Veto's must contain
> an explanation of why the veto is appropriate.
>
> Under Jakarta's voting guidelines
> (http://jakarta.apache.org/site/decisions.html) product changes (such
> as this) are subject to lazy consensus, however in this case I would
> like to achieve consensus on the issue and as such the vote will be
> considered passed if there are 3 binding +1 votes and no binding vetos
> or the proposal will be turned down if there are any -1 votes.
>
> I would encourage non-committers to submit non-binding votes as well,
> particularly if you can see a use for the methods in question.
>
> Here's my +1.
>
> Regards,
>
> Adrian Sutton.
>
> On Thursday, June 26, 2003, at 06:25  PM, Kalnichevski, Oleg wrote:
>
>> Odi,
>> Laura eventually conceded that these methods did not seem to make a
>> lot of sense or were too specialized to be of any use for the
>> majority of the HttpClient users.
>>
>> http://marc.theaimsgroup.com/?l=httpclient-commons-
>> dev&m=104577672115772&w=2
>>
>> I do think that releasing HttpClient with stuff that makes no sense
>> DOES harm.
>>
>> Again, after all, what is the bloody deal with writing a test case?
>> Does it really have to take 5 months if these methods indeed make
>> sense?
>>
>> Oleg
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From adrian@intencha.com  Thu Jun 26 13:03:42 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 97228 invoked from network); 26 Jun 2003 13:03:42 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 26 Jun 2003 13:03:42 -0000
Received: from intencha.com (unverified [150.101.177.96]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0047238431@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 26 Jun 2003 06:55:12 -0600
Date: Thu, 26 Jun 2003 22:54:21 +1000
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <BAY1-DAV24tViNCm2v90002e1b9@hotmail.com>
Message-Id: <4E22CC2B-A7D5-11D7-844E-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Thursday, June 26, 2003, at 10:05  PM, Sung-Gu wrote:

> -1
> My vote...  :D
> <snip>
> I've made sample cases and posted it before. (even if it's not a normal
> junit testcase though.)
> And I'm not willing to make testcase for that. I'm not interested in
> unicode
> values... at all...

Sung-Gu,
We are in this position because the simple test cases you've provided
have not been sufficient for the rest of the developers to understand
how these methods work.  In fact, I am convinced that they are
completely flawed and do not work correctly.  We need a clear set of
test cases to outline exactly what should come out of the methods given
a particular input, without that we will probably never understand what
the methods should do.

Whether or not you are interested in unicode values is largely
irrelevant, there *has* to be test cases created for that code because
currently it is believed to be broken, so we need a way to show
conclusively that it either works or doesn't work.

> To help you guys, you could find the above sentences (it means that's
> from
> RFC) and more specified how-to in a RFC describing FTP protocol, as I
> guess... - I don't remember at all... :( ...

If you don't know why the code would be useful or what it was
implemented based upon, why is it that you still want it in HttpClient?
  There is nothing that uses those methods anywhere in HttpClient  and
the presence of an FTP RFC that requires them still wouldn't make them
applicable to HttpClient since we aren't dealing with FTP.

Now, I have created a test case which clearly shows how the
toUsingCharset method is broken:

public void testToUsingCharset() throws Exception {
	String input = String.valueOf('\u4E01');
	String temporary = URIUtil.toUsingCharset(input, "UTF-8", "Big5");
	String result = URIUTIL.toUsingCharset(temporary, "Big5", "UTF-8");
	assertEquals(input, result);
}

Currently this test case fails because it is not possible to convert a
string to a bytes using one format and then convert it back into a
String as a different format without mangling the characters.  For
reference:

  * \u4E01 is a Chinese character.  You can substitute \uCBBF for a wide
range of Chinese characters and the test will still fail.

  * Big5 is a very commonly used charset for Chinese characters.

  * The testcase should succeed because if toUsingCharset works
correctly, it should not loose information during the conversion or the
data would be corrupted and in the case of a URL it would become
ambiguous (by corrupting the data, two previously unique URLs could
become identical).

The flaw in the toUsingCharset method is two-fold:
Firstly, Strings in Java are *always* stored internally as UTF-8,
regardless of the charset used for the byte array they were created
from.  So the contract defined by the JavaDoc for toUsingCharset is
impossible since the method takes a string and returns a String (thus,
the returned value will always be a String encoded as UTF-8 since
that's how Java always stores Strings).

If you read the JavaDoc for the String constructor being used
(String(byte[], String)), it says:
"Constructs a new String by decoding the specified array of bytes using
the specified charset."
Note the use of the word "decoding" which means that instead of
creating a String backed by the given byte array, it uses the specified
charset to convert the bytes into actual characters - conceptually
these characters have no particular encoding since they are
(conceptually) the actual characters rather than a byte representation
of the characters.  In reality, the characters are represented in
memory by a series of bytes in UTF-8 encoding as required by the JVM
specification.

Secondly, the toUsingCharset method cannot work in most situations
because it converts the string to bytes using one encoding and then
converts those bytes to a String using a different encoding.  To
highlight why this cannot work, create a text file and save it to disk
using ASCII encoding.  Then, attempt to read the file back in as EBDIC
encoding (or any double-byte character charset like UTF-16), the text
will have become corrupted because the bytes were mapped to characters
using the wrong charset (a charset is simply a mapping between bytes
and characters).

So, the possible ways for toUsingCharset to fulfill it's contract is
for it to be changed to:

public String toUsingCharset(String target, String fromCharset, String
toCharset) {
	return target;
}

OR to:

public byte[] toUsingCharset(String target, String toCharset) {
	return target.getBytes(toCharset);
}

OR to:

public byte[] toUsingCharset(byte[] target, String fromCharset, String
toCharset) {
	return new String(target, fromCharset).getBytes(toCharset);
}

The last one is the only one that makes any sense at all, but I fail to
see how it is useful in HttpClient.

So Sung-Gu, please provide some justification for your -1 in terms of
why the methods should remain in HttpClient - in particular where in
HttpClient the method would be used and for what purpose.

> Sung-Gu

Regards,

Adrian Sutton.


From byosmosis@hotmail.com  Thu Jun 26 13:05:02 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 1016 invoked from network); 26 Jun 2003 13:05:02 -0000
Received: from bay1-dav46.bay1.hotmail.com (HELO hotmail.com) (65.54.244.18)
  by daedalus.apache.org with SMTP; 26 Jun 2003 13:05:02 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 26 Jun 2003 06:05:03 -0700
Received: from 211.235.188.62 by bay1-dav46.bay1.hotmail.com with DAV;
	Thu, 26 Jun 2003 13:05:02 +0000
X-Originating-IP: [211.235.188.62]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <825BF35A92B3F0479CC164ECBBE9376E0DE58D@kccxoex06.corp.kpmgconsulting.com> <BAY1-DAV24tViNCm2v90002e1b9@hotmail.com> <3EFAE33E.9090802@nose.ch>
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods? & test case always certainly...?
Date: Thu, 26 Jun 2003 22:04:43 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV463ezygKkso0002ab26@hotmail.com>
X-OriginalArrivalTime: 26 Jun 2003 13:05:03.0024 (UTC) FILETIME=[8E765300:01C33BE3]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


----- Original Message -----
From: "Ortwin Glück" <ortwin.glueck@nose.ch>

> are supposed to do? I find it dangerous to have code that nobody

Ok, Sorry, then as you wish, I'll change my vote  +1.
I hope you're happy...

> understands (except of you) without any test cases.

Actually, I don't understand that you might notice and you might wonder
why there is encoding change menu in your web browser.  and you can
test it yourself though.

At least you should know what you should know for the near future.
They will be required and be introduced anyway someday, I believe...

I just wanted affect you guys do well and correctly...
I even pasted the articles (have you ever read it again or carefully?) from
javadoc messages.

> Refusing to write test cases is not good beheviour for a programmer. Are

But, not a duty... it's voluteering... no pay...
even the code constribution here...

> you sure that you still want commit rights on the HttpClient repository?

As you know, I'm not concern about HttpClient code any more for almost
several years...
My concern was for HttpClient 1.0 previously... only URI thingy for the
recent last 1 years.

Thank you for a chance to expain myself,

Sung-Gu

From secoskem@aciworldwide.com  Thu Jun 26 13:09:45 2003
Return-Path: <secoskem@aciworldwide.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 13928 invoked from network); 26 Jun 2003 13:09:45 -0000
Received: from mail.tsainc.com (HELO acio-cissun4.tsainc.com) (206.201.23.30)
  by daedalus.apache.org with SMTP; 26 Jun 2003 13:09:45 -0000
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Client Auth / Certificates
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 5.0.10  March 22, 2002
From: secoskem@aciworldwide.com
Message-ID: <OFFC67457D.77DB869B-ON86256D51.00479E15-86256D51.00485585@tsainc.com>
Date: Thu, 26 Jun 2003 08:09:45 -0500
X-MIMETrack: Serialize by Router on lng002/SVR/TSA(Release 5.0.10 |March 22, 2002) at 06/26/2003
 08:10:46 AM,
	Serialize complete at 06/26/2003 08:10:46 AM
Content-Type: multipart/alternative; boundary="=_alternative 0048552C86256D51_="
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=_alternative 0048552C86256D51_=
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Ortwin -=20

Correct.  I have completed the code using javax.net.ssl.HttpsURLConnection =

(Creating a special keymanager (for my crypto framework), setting up the=20
SSLContext, creating SSLSocketFactory, etc.) .  I was just hoping that=20
HttpClient had a Socket factory already written for this functionality, as =

it would buy me a few other things, mainly timeouts.    I would be glad to =

write the Socket factory myself, but I am unfortunately on a short=20
schedule.    Would this functionality be of use to anyone else?  If it is=20
something people would find useful, I would gladly contribute it.

Thanks,
  Matt Secoske





Ortwin Gl=FCck <ortwin.glueck@nose.ch>
06/26/2003 02:57 AM
Please respond to "Commons HttpClient Project"

=20
        To:     Commons HttpClient Project <commons-httpclient-dev@jakarta.=
apache.org>
        cc:=20
        Subject:        Re: Client Auth / Certificates


secoskem@aciworldwide.com wrote:
> I am looking for a way to specify a particular=20
> client SSL certificate for Client Authenticated SSL.=20

This is usually done by writing a SSLSocketFactory that creates Sockets=20
with the Client Cert attached.


---------------------------------------------------------------------
To unsubscribe, e-mail:=20
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:=20
commons-httpclient-dev-help@jakarta.apache.org




--=_alternative 0048552C86256D51_=--

From adrian@intencha.com  Thu Jun 26 13:21:00 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 46711 invoked from network); 26 Jun 2003 13:21:00 -0000
Received: from mail4.nshosts.com (216.58.174.139)
  by daedalus.apache.org with SMTP; 26 Jun 2003 13:21:00 -0000
Received: from intencha.com (unverified [150.101.177.96]) by mail4.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0047240412@mail4.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Thu, 26 Jun 2003 07:11:32 -0600
Date: Thu, 26 Jun 2003 23:10:07 +1000
Subject: Re: Client Auth / Certificates
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <OFFC67457D.77DB869B-ON86256D51.00479E15-86256D51.00485585@tsainc.com>
Message-Id: <821AA4C4-A7D7-11D7-844E-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


On Thursday, June 26, 2003, at 11:09  PM, secoskem@aciworldwide.com
wrote:

> Ortwin -
>
> Correct.  I have completed the code using
> javax.net.ssl.HttpsURLConnection
> (Creating a special keymanager (for my crypto framework), setting up
> the
> SSLContext, creating SSLSocketFactory, etc.) .  I was just hoping that
> HttpClient had a Socket factory already written for this
> functionality, as
> it would buy me a few other things, mainly timeouts.    I would be
> glad to
> write the Socket factory myself, but I am unfortunately on a short
> schedule.    Would this functionality be of use to anyone else?  If it
> is
> something people would find useful, I would gladly contribute it.

There are few things in this world that aren't useful to more than one
person. :)  This is an area that I don't understand at all so I can't
help out with any implementation but I would certainly be keen to see
another ready-made solution get added to the contrib directory.  My
theory is that it's really only a matter of time until some big
customer requests this feature for whatever reason and I have to go
looking for a solution.  :)

With the above disclaimer regarding my lack of knowledge in mind - I
thought the SSLSocket factory that HttpClient used was completely
compatible with the SSLSocketFactory you can plug into the JRE's
HttpConnection setup, so if you already have a custom SSLSocketFactory
up and working with the JRE's connections it should just work with
HttpClient too (short of having to register a Protocol so HttpClient
knows to use that SocketFactory).

I probably should just go to bed though. :)

> Thanks,
>   Matt Secoske

Regards,

Adrian Sutton.


From oleg.kalnichevski@bearingpoint.com  Thu Jun 26 13:26:03 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 54605 invoked from network); 26 Jun 2003 13:26:03 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 26 Jun 2003 13:26:03 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 26 Jun 2003 13:23:22 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C33BE6.7D9C4ADC"
Subject: RE: [VOTE] Re: 2.0 release - deprecate some methods? & test case always certainly...?
Date: Thu, 26 Jun 2003 14:26:03 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE591@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator: <825BF35A92B3F0479CC164ECBBE9376E0DE591@kccxoex06.corp.kpmgconsulting.com>
Thread-Topic: [VOTE] Re: 2.0 release - deprecate some methods? & test case always certainly...?
Thread-Index: AcM745NS/HSf4GLrQ462JfUs14T5WQAAQswB
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 26 Jun 2003 13:23:22.0109 (UTC) FILETIME=[1D9162D0:01C33BE6]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33BE6.7D9C4ADC
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

> Actually, I don't understand that you might notice and you might =
wonder
> why there is encoding change menu in your web browser.  and you can
> test it yourself though.

Knock, knock. Hello, anybody home? Half a year ago, when this whole =
story started I tried to explain you one simple thing: in Java the =
concept of charset (encoding) is applicable to String to byte[] or =
byte[] to String conversions only. I do not speak English natively too =
and routinely have to deal with different Cyrillic encodings. I cannot =
think of a single case where String to String would make any sense, as =
Java uses Unicode (two byte) for string representation.

Laura argued that some Far East alphabets might be inadequately =
represented in Unicode. This is the only plausible explanation that I =
can think of. THIS IS EXACTLY THE USE CASE I HAVE BEEN ASKING YOU TO =
PRODUCE FOR 5 (FIVE) MONTHS



> But, not a duty... it's voluteering... no pay...
> even the code constribution here...

Guess what? We do not get paid either. But at least any other HttpClient =
contributor does make an effort to listen to his/her fellow developers. =
This has nothing to do with getting paid or not.

Oleg

------_=_NextPart_001_01C33BE6.7D9C4ADC--

From eric@tibco.com  Thu Jun 26 13:28:34 2003
Return-Path: <eric@tibco.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 61924 invoked from network); 26 Jun 2003 13:28:34 -0000
Received: from outhub1.tibco.com (63.100.100.155)
  by daedalus.apache.org with SMTP; 26 Jun 2003 13:28:34 -0000
Received: from unknown(10.106.128.33) by outhub1.tibco.com via csmap
	 id 7656; Thu, 26 Jun 2003 06:24:46 -0700 (PDT)
Received: from mail1.tibco.com (nsmail1.tibco.com [10.106.128.41])
	by na-h-inhub1.tibco.com (8.12.9/8.12.9) with ESMTP id h5QDSaHG003143
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 06:28:36 -0700 (PDT)
Received: from tibco.com ([10.98.32.100]) by mail1.tibco.com
          (Netscape Messaging Server 4.15) with ESMTP id HH3C3300.VVX for
          <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003
          06:28:15 -0700
Message-ID: <3EFAF526.2000003@tibco.com>
Date: Thu, 26 Jun 2003 09:29:10 -0400
From: "Eric Johnson" <eric@tibco.com>
Organization: TIBCO Extensibility
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] Re: 2.0 release
References: <FE872FDE-A7B5-11D7-8683-000393016056@intencha.com>
In-Reply-To: <FE872FDE-A7B5-11D7-8683-000393016056@intencha.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian,

+1

OK, my vote is non-binding, but with no test cases, and no code in
HttpClient that uses the functions, we SHOULD deprecate them.

Even if we decide later, as Sung-Gu suggested, that we might need to
ressurrect them, we should still deprecate them!  Deprecating them is a
flag for the users of the library that the functions may not behave as
expected, which is almost certainly true based on the lack of test
cases, confusion on this list, confusing documentation, and absence of
any uses within HttpClient.

-Eric.

Adrian Sutton wrote:

> All,
> Personally, I believe that this issue has gone on far too long and so
> I  would like to propose a vote:
>
> I move the motion that the following methods from
> org.apache.commons.httpclient.util.URIUtil be depreciated for the 2.0
> release and removed in a future release:
>
> toDocumentCharset(String)
> toDocumentCharset(String, String)
> toProtocolCharset(String)
> toProtocolCharset(String, String)
> toUsingCharset(String, String, String)
>
> Please cast your votes:
>
> +1 - The methods should be depreciated
> 0 - Active Abstain (no response being a passive abstain)
> -1 - The methods should not be depreciated (veto)  Veto's must
> contain  an explanation of why the veto is appropriate.
>
> Under Jakarta's voting guidelines
> (http://jakarta.apache.org/site/decisions.html) product changes (such
> as this) are subject to lazy consensus, however in this case I would
> like to achieve consensus on the issue and as such the vote will be
> considered passed if there are 3 binding +1 votes and no binding
> vetos  or the proposal will be turned down if there are any -1 votes.
>
> I would encourage non-committers to submit non-binding votes as well,
> particularly if you can see a use for the methods in question.
>
> Here's my +1.
>
> Regards,
>
> Adrian Sutton.
>
> On Thursday, June 26, 2003, at 06:25  PM, Kalnichevski, Oleg wrote:
>



From byosmosis@hotmail.com  Thu Jun 26 13:39:39 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 89482 invoked from network); 26 Jun 2003 13:39:39 -0000
Received: from bay1-dav26.bay1.hotmail.com (HELO hotmail.com) (65.54.244.83)
  by daedalus.apache.org with SMTP; 26 Jun 2003 13:39:39 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 26 Jun 2003 06:39:40 -0700
Received: from 211.235.188.62 by bay1-dav26.adinternal.hotmail.com with DAV;
	Thu, 26 Jun 2003 13:39:40 +0000
X-Originating-IP: [211.235.188.62]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <4E22CC2B-A7D5-11D7-844E-000393016056@intencha.com>
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods?
Date: Thu, 26 Jun 2003 22:39:23 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV26dg3knEdOP0002aea0@hotmail.com>
X-OriginalArrivalTime: 26 Jun 2003 13:39:40.0847 (UTC) FILETIME=[64F0F3F0:01C33BE8]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


----- Original Message -----
From: "Adrian Sutton" <adrian@intencha.com>

> If you don't know why the code would be useful or what it was
> implemented based upon, why is it that you still want it in HttpClient?
>   There is nothing that uses those methods anywhere in HttpClient  and
> the presence of an FTP RFC that requires them still wouldn't make them
> applicable to HttpClient since we aren't dealing with FTP.

It's not confined to only FTP.   It's for every internet 'application layer'
programs.


> String temporary = URIUtil.toUsingCharset(input, "UTF-8", "Big5");
> String result = URIUTIL.toUsingCharset(temporary, "Big5", "UTF-8");
> assertEquals(input, result);
>
>   * \u4E01 is a Chinese character.  You can substitute \uCBBF for a wide
> range of Chinese characters and the test will still fail.
>
>   * Big5 is a very commonly used charset for Chinese characters.

[reminder]
The first step in the process can be performed by maintaining a mapping
table that includes the local character set code and the corresponding UCS
code.
The next step is to convert the UCS character code to the UTF-8 encoding.

Hmmm.... I don't know about Big5 though...
As I guess, Big5 is not an UCS.   It should be unicode for second step.
If you want to find an UCS for Big5 automatically, you should insert some
code the toUsingCharset method perhaps.
Some might wor without UCS transformation though, it must be required I
guess.

> If you read the JavaDoc for the String constructor being used
> (String(byte[], String)), it says:
> "Constructs a new String by decoding the specified array of bytes using
> the specified charset."
> Note the use of the word "decoding" which means that instead of
> creating a String backed by the given byte array, it uses the specified
> charset to convert the bytes into actual characters - conceptually
> these characters have no particular encoding since they are
> (conceptually) the actual characters rather than a byte representation
> of the characters.  In reality, the characters are represented in
> memory by a series of bytes in UTF-8 encoding as required by the JVM
> specification.

UTF-8 is tranformation charset, not really display charset.
It's not always used as String class in java I guess.

> Secondly, the toUsingCharset method cannot work in most situations
> because it converts the string to bytes using one encoding and then
> converts those bytes to a String using a different encoding.  To
> highlight why this cannot work, create a text file and save it to disk
> using ASCII encoding.  Then, attempt to read the file back in as EBDIC
> encoding (or any double-byte character charset like UTF-16), the text

EBDIC is also not UCS.

> will have become corrupted because the bytes were mapped to characters
> using the wrong charset (a charset is simply a mapping between bytes
> and characters).
>
> So, the possible ways for toUsingCharset to fulfill it's contract is
> for it to be changed to:
>
> public String toUsingCharset(String target, String fromCharset, String
> toCharset) {
> return target;
> }
>
> OR to:
>
> public byte[] toUsingCharset(String target, String toCharset) {
> return target.getBytes(toCharset);
> }
>
> OR to:
>
> public byte[] toUsingCharset(byte[] target, String fromCharset, String
> toCharset) {
> return new String(target, fromCharset).getBytes(toCharset);
> }
>
> The last one is the only one that makes any sense at all, but I fail to
> see how it is useful in HttpClient.

Well... it should be byte transformation.
Like from srouce charset to the target charset.

Your first two examples look like just one way ticket to me.
Probably it might work?
Or the last one is similar though... I'm not sure...

> So Sung-Gu, please provide some justification for your -1 in terms of
> why the methods should remain in HttpClient - in particular where in
> HttpClient the method would be used and for what purpose.

As I mentioned prevously...  for example, a new method called perhaps
'toAnotherDisplay' using the toUsingCharset method were used to
change your display for changing encoding by your web-browser directly...


> Regards,
>
> Adrian Sutton.

Hope to be helpful,

Sung-Gu

From byosmosis@hotmail.com  Thu Jun 26 13:45:04 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 4231 invoked from network); 26 Jun 2003 13:45:04 -0000
Received: from bay1-dav35.bay1.hotmail.com (HELO hotmail.com) (65.54.244.92)
  by daedalus.apache.org with SMTP; 26 Jun 2003 13:45:04 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 26 Jun 2003 06:45:05 -0700
Received: from 211.235.188.62 by bay1-dav35.bay1.hotmail.com with DAV;
	Thu, 26 Jun 2003 13:45:05 +0000
X-Originating-IP: [211.235.188.62]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <FE872FDE-A7B5-11D7-8683-000393016056@intencha.com> <3EFAF526.2000003@tibco.com>
Subject: Re: [VOTE] Re: 2.0 release - current vote result!
Date: Thu, 26 Jun 2003 22:44:48 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
x-mimeole: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV35xzmWecm9t0002abdf@hotmail.com>
X-OriginalArrivalTime: 26 Jun 2003 13:45:05.0866 (UTC) FILETIME=[26AAEAA0:01C33BE9]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


----- Original Message -----
From: "Eric Johnson" <eric@tibco.com>

> Even if we decide later, as Sung-Gu suggested, that we might need to
> ressurrect them, we should still deprecate them!  Deprecating them is a

Done.

Sung-Gu

From jsdever@apache.org  Thu Jun 26 13:48:10 2003
Return-Path: <jsdever@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 16497 invoked from network); 26 Jun 2003 13:48:10 -0000
Received: from defout.telus.net (HELO priv-edtnes53.telusplanet.net) (199.185.220.240)
  by daedalus.apache.org with SMTP; 26 Jun 2003 13:48:10 -0000
Received: from apache.org ([137.186.248.135])
          by priv-edtnes53.telusplanet.net
          (InterMail vM.5.01.05.17 201-253-122-126-117-20021021) with ESMTP
          id <20030626134811.PAYW11150.priv-edtnes53.telusplanet.net@apache.org>
          for <commons-httpclient-dev@jakarta.apache.org>;
          Thu, 26 Jun 2003 07:48:11 -0600
Message-ID: <3EFAF99B.60407@apache.org>
Date: Thu, 26 Jun 2003 07:48:11 -0600
From: Jandalf <jsdever@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3.1) Gecko/20030425
X-Accept-Language: en-ca, en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods?
References: <4E22CC2B-A7D5-11D7-844E-000393016056@intencha.com> <BAY1-DAV26dg3knEdOP0002aea0@hotmail.com>
In-Reply-To: <BAY1-DAV26dg3knEdOP0002aea0@hotmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


+1

As these methods are not used by HttpClient and do not appear useful for
httpclient for httpclient users combined with the reality that they do
not appear correct and the pending desire to start a Commons-URI project
indicates that they should not be in the public interface of HttpClient.



From laura@lwerner.org  Thu Jun 26 14:12:20 2003
Return-Path: <laura@lwerner.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 76223 invoked from network); 26 Jun 2003 14:12:20 -0000
Received: from mta6.snfc21.pbi.net (206.13.28.240)
  by daedalus.apache.org with SMTP; 26 Jun 2003 14:12:20 -0000
Received: from lwerner.org ([216.103.214.222])
 by mta6.snfc21.pbi.net (iPlanet Messaging Server 5.1 HotFix 1.6 (built Oct 18
 2002)) with ESMTP id <0HH3003ZZE4M39@mta6.snfc21.pbi.net> for
 commons-httpclient-dev@jakarta.apache.org; Thu,
 26 Jun 2003 07:12:22 -0700 (PDT)
Date: Thu, 26 Jun 2003 07:12:22 -0700
From: Laura Werner <laura@lwerner.org>
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods?
In-reply-to: <4E22CC2B-A7D5-11D7-844E-000393016056@intencha.com>
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Message-id: <3EFAFF46.1010202@lwerner.org>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4)
 Gecko/20030529
References: <4E22CC2B-A7D5-11D7-844E-000393016056@intencha.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Adrian Sutton wrote:

> The flaw in the toUsingCharset method is two-fold:
> Firstly, Strings in Java are *always* stored internally as UTF-8


I agree with the rest of your analysis of this, but I thought I should
point out that Java Strings and "char"s are stored in UTF-16 rather than
UTF-8.  A "char" is an unsigned, two-byte value that can hold all the
characters from UCS2.

As far as toUsingCharset goes, I agree that it looks broken.  The code
basically does:

            return new String(target.getBytes(fromCharset), toCharset);

It's taking "target", which is a UTF-16 string, encoding it into a byte
array in "fromCharset", and then decoding those bytes back into UTF-16
using "toCharset".  So it's pretendeing the bytes in the array have two
different meanings, one when it writes them and one when it reads them
immediately afterward.  I can't see how this could be correct.

-- Laura


From eric@tibco.com  Thu Jun 26 14:32:00 2003
Return-Path: <eric@tibco.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 17113 invoked from network); 26 Jun 2003 14:32:00 -0000
Received: from outhub1.tibco.com (63.100.100.155)
  by daedalus.apache.org with SMTP; 26 Jun 2003 14:32:00 -0000
Received: from unknown(10.106.128.33) by outhub1.tibco.com via csmap
	 id 12855; Thu, 26 Jun 2003 07:28:12 -0700 (PDT)
Received: from mail1.tibco.com (nsmail1.tibco.com [10.106.128.41])
	by na-h-inhub1.tibco.com (8.12.9/8.12.9) with ESMTP id h5QEW2HG006803
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 07:32:02 -0700 (PDT)
Received: from tibco.com ([10.98.32.100]) by mail1.tibco.com
          (Netscape Messaging Server 4.15) with ESMTP id HH3F0T00.UV8 for
          <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003
          07:31:41 -0700
Message-ID: <3EFB0404.1060205@tibco.com>
Date: Thu, 26 Jun 2003 10:32:36 -0400
From: "Eric Johnson" <eric@tibco.com>
Organization: TIBCO Extensibility
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: 2.0 release - looking to the future
References: <CE3F2068-A7D1-11D7-82E9-00306557E112@u.washington.edu>
In-Reply-To: <CE3F2068-A7D1-11D7-82E9-00306557E112@u.washington.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Mike,

Thanks for starting this discussion.  I've been contemplating this one
for a while.

My development approach follows along the lines of "revolution through
evolution".  Which means, with respect to HttpClient, that on the one
hand I don't want to encourage too many fundamental changes for the
existing APIs, except perhaps introducing a modicum of additional
flexibility, while at the same time building a completely revolutionary
framework on top of and underneath the existing structure.  Having said
that, I see 2.1 as the first step in the evolutionary path, while
building the framework that makes 3.0 possible.

Evolutionary - 2.1 release:
- 16729 - Cross host and port redirects - this bug has the most votes -
although the projects we have don't need this, I think the flexibility
it implies is good.
- 10792 - Plugin authentication modules - I'm not sure what this means
exactly, but it sounds like it adds flexibility, and I'm thinking that
authentication could be handled in such a way that "callbacks" to a
client were obvious and transparent
- My current personal peeve - a better test framework than
SimpleHttpConnectionManager, that allows us to more closely mimick real
HttpConnection behavior, thus enabling more tests without actually
requiring a real connection.  Based on missing test cases, I think we
desperately need this, especially for people like me who are not in a
position to test NTLM authentication, or proxies, without at least
considerable difficulty, if at all.  Wouldn't it be great, for example,
if we could "test" proxy support without actually having to have a proxy
server hanging around (that Squid proxy comes to mind...).  That would
mean that we could even test both proxied and non-proxied actions
without running a separate set of tests under a new configuration.
- Try decoupling classes - JDepends reports a few cycles that might be
worth breaking if we can.
- A better "configuration" mechanism.  I'm thinking of the
javax.xml.parser.SAXFactory interface, where you call "setProperty" on
the factory.  I'm thinking that we currently have a variety of "hidden"
properties, which we could unify with a single exposed Properties object
that the user could configure to their preferences.  And we could
probably define some sort of look-up for a httpclient configuration on
the classpath, so that clients could simply add one file to their
classpath and have their HttpClient communications configured.  For
examples of "hidden" properties and not so hidden properties, consider
the following list:

    * the default connection manager
    * the "timeout"
    * the "connection timeout"
    * the connection factory timeout
    * "strict" mode - what is this used for, by the way?
    * follow redirects
    * protocol factories
    * cookie policy
    * - default headers on a request - nice to have....

I'm sure there are others.  Making all of these "defaults" configurable
with a "deployment descriptor" otherwise known as a property file in the
classpath would be a boon to clients.

I might just recommend stopping there for a 2.1 release - with the idea
that we release early and often.  This would, of course, mean another
list for the 2.2 release.  Undoubtedly others have a different set of
issues that might be more appropriate for 2.1, but whatever that list
is, I would suggest that it be *short*.

For a 3.0 release, I lean towards a radical redesign built on top of the
current code to start.
The radical redesign would be built around a framework of interfaces.
The general idea would be that we expose only one or two key
implementations of the interfaces, with the implementations of
everything else being hidden behind a "factory" facade.

The following is a "for example" to get the idea across, not any attempt
at real interfaces...

IHttpClient
 - IHttpMethod newMethod(String verb, String url); /* not clear to me
whether there should be a separate "newGetMethod", "newPostMethod",
"newPutMethod"...) - there are advantages both ways */
 - void setProperties(Properties defaultSettings);
 - void setProperty(String propName, String propValue);
 - void addDefaultHeader(String header, String value);
 - String removeDefaultHeader(String header);

IHttpMethod
 - int execute() throws xxxx; /* note that in the interface construct,
the interface keeps "track" of its http client, so execute can be called
directly on the method */
 - IHttpRequest getRequest();
 - IHttpResponse getResponse();
 - void setQueryString(NameValuePairs[] pairs);

IHttpRequest
 - void addHeader(String header, String value);

IHttpResponse
 - String getHeader(String header);
 - IStatusLine getStatusLine();

and so on.

Note that I don't particularly like that I stuck the "I" in front of
existing class names just to make them interfaces, but it did it to get
the point across and avoid confusion with existing classes.

A cool part of this approach is that we can start writing the
interfaces, and the implementations of the interfaces right away (we
don't really even need to fork the code).  Until we actually get to the
3.0 release, we can treat the interfaces as the "less capable" access to
the functionality, and release 3.0, only when the functionality exposed
by the interfaces exceeds that of the current class implementations.
Along the way, I suspect we'll find we can start to deprecate and
eventually "hide" (package level protect) current exposed implementation
classes, especially where the interfaces start to supplant them.

Just throwing out my thoughts.

-Eric.

Michael Becke wrote:

> I think we are quite ready for a beta2/rc1.  I agree that there have
> been few new bugs lately but I would still like to see a beta2, just
> to be sure.
>
> As part of beta2/rc1 we were planning to branch out 2.0.  Before we do
> this though I think we should have a better idea of what we want in
> post 2.0.  In particular I think we should brainstorm about features
> we would like and then decide if they will fit in 2.1 or 3.0.
>
> Mike
>
> On Thursday, June 26, 2003, at 01:10 AM, Jandalf wrote:




From nmcminn@charter.net  Thu Jun 26 14:59:25 2003
Return-Path: <nmcminn@charter.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 66913 invoked from network); 26 Jun 2003 14:59:25 -0000
Received: from mailrtr1.mailzone.edeltacom.com (216.248.176.137)
  by daedalus.apache.org with SMTP; 26 Jun 2003 14:59:25 -0000
Received: from Notebookdev ([66.0.27.113])
	by mailrtr1.mailzone.edeltacom.com (Mirapoint Messaging Server MOS 3.3.5-GR)
	with ESMTP id ASA06451;
	Thu, 26 Jun 2003 10:59:12 -0400 (EDT)
Message-ID: <015901c33bf3$80e4b5f0$4f01a8c0@Notebookdev>
From: "Nate" <nmcminn@charter.net>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: Where to post
Date: Thu, 26 Jun 2003 09:59:11 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry if this is the wrong place to ask this question, but where is the
proper place to post user questions about HttpClient?  Couldn't find a user
mailing list.

--Nathan McMinn


From oleg.kalnichevski@bearingpoint.com  Thu Jun 26 15:02:12 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 78225 invoked from network); 26 Jun 2003 15:02:12 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 26 Jun 2003 15:02:12 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 26 Jun 2003 15:03:58 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: 2.0 release - looking to the future
Date: Thu, 26 Jun 2003 16:02:04 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE592@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: 2.0 release - looking to the future
Thread-Index: AcM777oDJylYBX74RBiAmCB1ZVLJEAAAi/eA
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 26 Jun 2003 15:03:58.0328 (UTC) FILETIME=[2B6F4F80:01C33BF4]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Eric,

Fantastic proposal that I whole-heartedly support. Let me present my own =
more condensed version with a few omissions (that are not critical at =
all)

2.1 release:

- Better exception handling framework (bug #19868)
- Cross-site redirect fix. Authentication, redirect & retry code moved =
from HttpMethodBase to HttpClient
- New configuration architecture that includes plug-in mechanism for =
cookie policies & authentication schemes
- More reliable header parser. Recently quite a few people requested a =
fix for bug #11240
- Decision of new external dependencies: commons-lang, commons-codec
- Ability to abort requests (bug #20288)
- Removal of deprecated stuff, such as UrlXXXMethod classes, disk =
buffering in GetMethod and so on

3.0 release:

- I fully support the proposed concept of a framework of interfaces
- I really would like to see HttpMethod interface split into =
HttpRequest/HttpResponse pair and the concept of recycling of HTTP =
methods gone for good
- HttpClient skiing & snowboarding weekend

Cheers

Oleg

-----Original Message-----
From: Eric Johnson [mailto:eric@tibco.com]
Sent: Thursday, June 26, 2003 16:33
To: Commons HttpClient Project
Subject: Re: 2.0 release - looking to the future


Mike,

Thanks for starting this discussion.  I've been contemplating this one=20
for a while.

My development approach follows along the lines of "revolution through=20
evolution".  Which means, with respect to HttpClient, that on the one=20
hand I don't want to encourage too many fundamental changes for the=20
existing APIs, except perhaps introducing a modicum of additional=20
flexibility, while at the same time building a completely revolutionary=20
framework on top of and underneath the existing structure.  Having said=20
that, I see 2.1 as the first step in the evolutionary path, while=20
building the framework that makes 3.0 possible.

Evolutionary - 2.1 release:
- 16729 - Cross host and port redirects - this bug has the most votes -=20
although the projects we have don't need this, I think the flexibility=20
it implies is good.
- 10792 - Plugin authentication modules - I'm not sure what this means=20
exactly, but it sounds like it adds flexibility, and I'm thinking that=20
authentication could be handled in such a way that "callbacks" to a=20
client were obvious and transparent
- My current personal peeve - a better test framework than=20
SimpleHttpConnectionManager, that allows us to more closely mimick real=20
HttpConnection behavior, thus enabling more tests without actually=20
requiring a real connection.  Based on missing test cases, I think we=20
desperately need this, especially for people like me who are not in a=20
position to test NTLM authentication, or proxies, without at least=20
considerable difficulty, if at all.  Wouldn't it be great, for example,=20
if we could "test" proxy support without actually having to have a proxy =

server hanging around (that Squid proxy comes to mind...).  That would=20
mean that we could even test both proxied and non-proxied actions=20
without running a separate set of tests under a new configuration.
- Try decoupling classes - JDepends reports a few cycles that might be=20
worth breaking if we can.
- A better "configuration" mechanism.  I'm thinking of the=20
javax.xml.parser.SAXFactory interface, where you call "setProperty" on=20
the factory.  I'm thinking that we currently have a variety of "hidden"=20
properties, which we could unify with a single exposed Properties object =

that the user could configure to their preferences.  And we could=20
probably define some sort of look-up for a httpclient configuration on=20
the classpath, so that clients could simply add one file to their=20
classpath and have their HttpClient communications configured.  For=20
examples of "hidden" properties and not so hidden properties, consider=20
the following list:

    * the default connection manager
    * the "timeout"
    * the "connection timeout"
    * the connection factory timeout
    * "strict" mode - what is this used for, by the way?
    * follow redirects
    * protocol factories
    * cookie policy
    * - default headers on a request - nice to have....

I'm sure there are others.  Making all of these "defaults" configurable=20
with a "deployment descriptor" otherwise known as a property file in the =

classpath would be a boon to clients.

I might just recommend stopping there for a 2.1 release - with the idea=20
that we release early and often.  This would, of course, mean another=20
list for the 2.2 release.  Undoubtedly others have a different set of=20
issues that might be more appropriate for 2.1, but whatever that list=20
is, I would suggest that it be *short*.

For a 3.0 release, I lean towards a radical redesign built on top of the =

current code to start.
The radical redesign would be built around a framework of interfaces. =20
The general idea would be that we expose only one or two key=20
implementations of the interfaces, with the implementations of=20
everything else being hidden behind a "factory" facade.

The following is a "for example" to get the idea across, not any attempt =

at real interfaces...

IHttpClient
 - IHttpMethod newMethod(String verb, String url); /* not clear to me=20
whether there should be a separate "newGetMethod", "newPostMethod",=20
"newPutMethod"...) - there are advantages both ways */
 - void setProperties(Properties defaultSettings);
 - void setProperty(String propName, String propValue);
 - void addDefaultHeader(String header, String value);
 - String removeDefaultHeader(String header);

IHttpMethod
 - int execute() throws xxxx; /* note that in the interface construct,=20
the interface keeps "track" of its http client, so execute can be called =

directly on the method */
 - IHttpRequest getRequest();
 - IHttpResponse getResponse();
 - void setQueryString(NameValuePairs[] pairs);

IHttpRequest
 - void addHeader(String header, String value);

IHttpResponse
 - String getHeader(String header);
 - IStatusLine getStatusLine();

and so on.

Note that I don't particularly like that I stuck the "I" in front of=20
existing class names just to make them interfaces, but it did it to get=20
the point across and avoid confusion with existing classes.

A cool part of this approach is that we can start writing the=20
interfaces, and the implementations of the interfaces right away (we=20
don't really even need to fork the code).  Until we actually get to the=20
3.0 release, we can treat the interfaces as the "less capable" access to =

the functionality, and release 3.0, only when the functionality exposed=20
by the interfaces exceeds that of the current class implementations. =20
Along the way, I suspect we'll find we can start to deprecate and=20
eventually "hide" (package level protect) current exposed implementation =

classes, especially where the interfaces start to supplant them.

Just throwing out my thoughts.

-Eric.

Michael Becke wrote:

> I think we are quite ready for a beta2/rc1.  I agree that there have=20
> been few new bugs lately but I would still like to see a beta2, just=20
> to be sure.
>
> As part of beta2/rc1 we were planning to branch out 2.0.  Before we do =

> this though I think we should have a better idea of what we want in=20
> post 2.0.  In particular I think we should brainstorm about features=20
> we would like and then decide if they will fit in 2.1 or 3.0.
>
> Mike
>
> On Thursday, June 26, 2003, at 01:10 AM, Jandalf wrote:




---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From byosmosis@hotmail.com  Thu Jun 26 16:36:21 2003
Return-Path: <byosmosis@hotmail.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 11528 invoked from network); 26 Jun 2003 16:36:21 -0000
Received: from bay1-dav37.bay1.hotmail.com (HELO hotmail.com) (65.54.244.94)
  by daedalus.apache.org with SMTP; 26 Jun 2003 16:36:21 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 26 Jun 2003 08:32:12 -0700
Received: from 211.237.216.140 by bay1-dav37.bay1.hotmail.com with DAV;
	Thu, 26 Jun 2003 15:32:12 +0000
X-Originating-IP: [211.237.216.140]
X-Originating-Email: [byosmosis@hotmail.com]
From: "Sung-Gu" <jericho@apache.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <4E22CC2B-A7D5-11D7-844E-000393016056@intencha.com> <BAY1-DAV26dg3knEdOP0002aea0@hotmail.com>
Subject: Re: [VOTE] Re: 2.0 release - URI charset transformation HOW-TO
Date: Fri, 27 Jun 2003 00:32:10 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Message-ID: <BAY1-DAV37sVD8Vl4Ac0002ea36@hotmail.com>
X-OriginalArrivalTime: 26 Jun 2003 15:32:12.0907 (UTC) FILETIME=[1D7B8BB0:01C33BF8]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

QWRyaWFuLA0KDQpJIGF0dGFjaGVkIHRoZSB0aXRsZSBsaWtlIHRoZSBhYm92ZS4gIDspDQpQbGVh
c2Ugc2VlIHNvbWUgY29tbWVudCB0aGUgYmVsb3cgc3RlcCAxLTAgYW5kIDEtMS4NCg0KSG9wZSB0
byBiZSBoZWxwZnVsIGZvciB0aGUgZnVydHVyZSwNCg0KU3VuZy1HdQ0KDQotLS0tLSBPcmlnaW5h
bCBNZXNzYWdlIC0tLS0tIA0KRnJvbTogIlN1bmctR3UiIDxqZXJpY2hvQGFwYWNoZS5vcmc+DQpU
bzogIkNvbW1vbnMgSHR0cENsaWVudCBQcm9qZWN0IiA8Y29tbW9ucy1odHRwY2xpZW50LWRldkBq
YWthcnRhLmFwYWNoZS5vcmc+DQpTZW50OiBUaHVyc2RheSwgSnVuZSAyNiwgMjAwMyAxMDozOSBQ
TQ0KU3ViamVjdDogUmU6IFtWT1RFXSBSZTogMi4wIHJlbGVhc2UgLSBkZXByZWNhdGUgc29tZSBt
ZXRob2RzPw0KDQoNCj4gDQo+IC0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQo+IEZyb206
ICJBZHJpYW4gU3V0dG9uIiA8YWRyaWFuQGludGVuY2hhLmNvbT4NCj4gDQo+ID4gSWYgeW91IGRv
bid0IGtub3cgd2h5IHRoZSBjb2RlIHdvdWxkIGJlIHVzZWZ1bCBvciB3aGF0IGl0IHdhcw0KPiA+
IGltcGxlbWVudGVkIGJhc2VkIHVwb24sIHdoeSBpcyBpdCB0aGF0IHlvdSBzdGlsbCB3YW50IGl0
IGluIEh0dHBDbGllbnQ/DQo+ID4gICBUaGVyZSBpcyBub3RoaW5nIHRoYXQgdXNlcyB0aG9zZSBt
ZXRob2RzIGFueXdoZXJlIGluIEh0dHBDbGllbnQgIGFuZA0KPiA+IHRoZSBwcmVzZW5jZSBvZiBh
biBGVFAgUkZDIHRoYXQgcmVxdWlyZXMgdGhlbSBzdGlsbCB3b3VsZG4ndCBtYWtlIHRoZW0NCj4g
PiBhcHBsaWNhYmxlIHRvIEh0dHBDbGllbnQgc2luY2Ugd2UgYXJlbid0IGRlYWxpbmcgd2l0aCBG
VFAuDQo+IA0KPiBJdCdzIG5vdCBjb25maW5lZCB0byBvbmx5IEZUUC4gICBJdCdzIGZvciBldmVy
eSBpbnRlcm5ldCAnYXBwbGljYXRpb24gbGF5ZXInDQo+IHByb2dyYW1zLg0KPiANCj4gDQo+ID4g
U3RyaW5nIHRlbXBvcmFyeSA9IFVSSVV0aWwudG9Vc2luZ0NoYXJzZXQoaW5wdXQsICJVVEYtOCIs
ICJCaWc1Iik7DQo+ID4gU3RyaW5nIHJlc3VsdCA9IFVSSVVUSUwudG9Vc2luZ0NoYXJzZXQodGVt
cG9yYXJ5LCAiQmlnNSIsICJVVEYtOCIpOw0KPiA+IGFzc2VydEVxdWFscyhpbnB1dCwgcmVzdWx0
KTsNCj4gPg0KPiA+ICAgKiBcdTRFMDEgaXMgYSBDaGluZXNlIGNoYXJhY3Rlci4gIFlvdSBjYW4g
c3Vic3RpdHV0ZSBcdUNCQkYgZm9yIGEgd2lkZQ0KPiA+IHJhbmdlIG9mIENoaW5lc2UgY2hhcmFj
dGVycyBhbmQgdGhlIHRlc3Qgd2lsbCBzdGlsbCBmYWlsLg0KPiA+DQo+ID4gICAqIEJpZzUgaXMg
YSB2ZXJ5IGNvbW1vbmx5IHVzZWQgY2hhcnNldCBmb3IgQ2hpbmVzZSBjaGFyYWN0ZXJzLg0KPiAN
Cj4gW3JlbWluZGVyXQ0KPiBUaGUgZmlyc3Qgc3RlcCBpbiB0aGUgcHJvY2VzcyBjYW4gYmUgcGVy
Zm9ybWVkIGJ5IG1haW50YWluaW5nIGEgbWFwcGluZw0KPiB0YWJsZSB0aGF0IGluY2x1ZGVzIHRo
ZSBsb2NhbCBjaGFyYWN0ZXIgc2V0IGNvZGUgYW5kIHRoZSBjb3JyZXNwb25kaW5nIFVDUw0KPiBj
b2RlLg0KDQpJZiB5b3UncmUgZWFnZXIgdG8gdXRpbGl6ZSBpdCBmb3IgQmlnNSBhbmQgRUJESUMu
IChJIHJlZ2FyZCB0aGVtIGFzIGxlZ2FjeSBjaGFyc2V0cykNCkkgdGhpbmsgSSBjYW4gZ2l2ZSB5
b3UgYSBoaW50IGZvciBhIHRyeS4gICAgUGxlYXNlIGxpc3RlbiB0byBtZS4uLiANCg0KU3RlcCAx
LTApDQoNCkZvciB0aGUgYmFzaWMgcHJlcGFyYXRpb24gb2YgdGhlIGZpcnN0IHN0ZXAsIHlvdXIg
b3BlcmF0aW5nIHN5c3RlbSBzaG91bGQgYmUNCmluc3RhbGxlZCB3aXRoIHVuaWNvZGUgc3VwcG9y
dCBsYW5ndWFnZSBzeXN0ZW0gZm9yIHlvdXIgbG9jYWwgY2hhcmFjdGVyLg0KDQpGb3IgZXhhbXBs
ZSwgQmlnNSBhbmQgc29tZXRoaW5nIGxpa2UgQmlnNS5VVEYtMTYgb3IgY2guVVRGLTE2Pw0Kb3Ig
RUJESUMgYW5kIHNvbWV0aGluZyBsaWtlIEVCRElDLlVURi0xNj8gIEkgZG9uJ3Qga25vdy4uLg0K
UGVyaGFwcyB5b3UgbWlnaHQgdXRpbGl6ZSB0aGUgVVJJLmdldERlZmF1bHREb2N1bWVudENoYXJz
ZXRCeUxvY2FsZQ0Kb3IgVVJJLmdldERlZmF1bHREb2N1bWVudENoYXJzZXRCeVBsYXRmb3JtIG1l
dGhvZHMuICBJJ20gbm90IHN1cmUgdGhvdWdoLg0KSWYgeW91J3JlIHVzaW5nIFdpbmRvd3MgMjAw
MCBvciBYUCwgdGhlbiB5b3UgY2FuIGZpbmQgY29kZSBwYWdlIGZvcg0KdW5pY29kZSBJIGd1ZXNz
LiAgWW91IHNob3VsZCBub3QgY29uZnVzZSB3aXRoIGNvZGUgcGFnZSBmb3IgbGFnYWN5IGxhbmcu
DQoNCihJIGRvbid0IGtub3cgcmVhbGx5IGFib3V0IHRoYXQuLi4uIC0tYSAgIGFueXdheSB5b3Ug
bmVlZCBtYXBwaW5nIHRhYmxlIGZvciBCaWc1DQpvciBFQkRJQy4uLiAgSW1hZ2luZSBFQkRJQyBp
cyByZWFsbHkgdmVyeSBsZWdhY3kgYml0IGNvZGUgZm9yIG9ueSBJQk0/KQ0KDQooQWJvdXQgamF2
YT8gV2VsbCBJIGRvbid0IGV4cGVjdCBhbnkgSVNPLTg4NTktNDUgb3IgSVNPLTg4NTktOTk/DQpm
b3IgY2hpbmlzZSBvciBFQkRJQy4pDQoNCj4gVGhlIG5leHQgc3RlcCBpcyB0byBjb252ZXJ0IHRo
ZSBVQ1MgY2hhcmFjdGVyIGNvZGUgdG8gdGhlIFVURi04IGVuY29kaW5nLg0KPiANCj4gSG1tbS4u
Li4gSSBkb24ndCBrbm93IGFib3V0IEJpZzUgdGhvdWdoLi4uDQo+IEFzIEkgZ3Vlc3MsIEJpZzUg
aXMgbm90IGFuIFVDUy4gICBJdCBzaG91bGQgYmUgdW5pY29kZSBmb3Igc2Vjb25kIHN0ZXAuDQoN
ClN0ZXAgMS0xKSBQbGVhc2Ugc2VlIHRoZSBwcmV2aW91cyBjb21tZW50Lg0KDQo+IElmIHlvdSB3
YW50IHRvIGZpbmQgYW4gVUNTIGZvciBCaWc1IGF1dG9tYXRpY2FsbHksIHlvdSBzaG91bGQgaW5z
ZXJ0IHNvbWUNCj4gY29kZSBpbnRvIHRoZSB0b1VzaW5nQ2hhcnNldCBtZXRob2QgcGVyaGFwcy4N
Cg0KU3RlcCAxLT8gbm90IGJlbG9uZyB0bykNCg0KPiBTb21lIG1pZ2h0IHdvciB3aXRob3V0IFVD
UyB0cmFuc2Zvcm1hdGlvbiB0aG91Z2gsIGl0IG11c3QgYmUgcmVxdWlyZWQgSQ0KPiBndWVzcy4N
Cg0Kc2tpcC4uLg0KDQo+ID4gSWYgeW91IHJlYWQgdGhlIEphdmFEb2MgZm9yIHRoZSBTdHJpbmcg
Y29uc3RydWN0b3IgYmVpbmcgdXNlZA0KPiA+IChTdHJpbmcoYnl0ZVtdLCBTdHJpbmcpKSwgaXQg
c2F5czoNCj4gPiAiQ29uc3RydWN0cyBhIG5ldyBTdHJpbmcgYnkgZGVjb2RpbmcgdGhlIHNwZWNp
ZmllZCBhcnJheSBvZiBieXRlcyB1c2luZw0KPiA+IHRoZSBzcGVjaWZpZWQgY2hhcnNldC4iDQo+
ID4gTm90ZSB0aGUgdXNlIG9mIHRoZSB3b3JkICJkZWNvZGluZyIgd2hpY2ggbWVhbnMgdGhhdCBp
bnN0ZWFkIG9mDQo+ID4gY3JlYXRpbmcgYSBTdHJpbmcgYmFja2VkIGJ5IHRoZSBnaXZlbiBieXRl
IGFycmF5LCBpdCB1c2VzIHRoZSBzcGVjaWZpZWQNCj4gPiBjaGFyc2V0IHRvIGNvbnZlcnQgdGhl
IGJ5dGVzIGludG8gYWN0dWFsIGNoYXJhY3RlcnMgLSBjb25jZXB0dWFsbHkNCj4gPiB0aGVzZSBj
aGFyYWN0ZXJzIGhhdmUgbm8gcGFydGljdWxhciBlbmNvZGluZyBzaW5jZSB0aGV5IGFyZQ0KPiA+
IChjb25jZXB0dWFsbHkpIHRoZSBhY3R1YWwgY2hhcmFjdGVycyByYXRoZXIgdGhhbiBhIGJ5dGUg
cmVwcmVzZW50YXRpb24NCj4gPiBvZiB0aGUgY2hhcmFjdGVycy4gIEluIHJlYWxpdHksIHRoZSBj
aGFyYWN0ZXJzIGFyZSByZXByZXNlbnRlZCBpbg0KPiA+IG1lbW9yeSBieSBhIHNlcmllcyBvZiBi
eXRlcyBpbiBVVEYtOCBlbmNvZGluZyBhcyByZXF1aXJlZCBieSB0aGUgSlZNDQo+ID4gc3BlY2lm
aWNhdGlvbi4NCj4gDQo+IFVURi04IGlzIHRyYW5mb3JtYXRpb24gY2hhcnNldCwgbm90IHJlYWxs
eSBkaXNwbGF5IGNoYXJzZXQuDQo+IEl0J3Mgbm90IGFsd2F5cyB1c2VkIGFzIFN0cmluZyBjbGFz
cyBpbiBqYXZhIEkgZ3Vlc3MuDQo+IA0KPiA+IFNlY29uZGx5LCB0aGUgdG9Vc2luZ0NoYXJzZXQg
bWV0aG9kIGNhbm5vdCB3b3JrIGluIG1vc3Qgc2l0dWF0aW9ucw0KPiA+IGJlY2F1c2UgaXQgY29u
dmVydHMgdGhlIHN0cmluZyB0byBieXRlcyB1c2luZyBvbmUgZW5jb2RpbmcgYW5kIHRoZW4NCj4g
PiBjb252ZXJ0cyB0aG9zZSBieXRlcyB0byBhIFN0cmluZyB1c2luZyBhIGRpZmZlcmVudCBlbmNv
ZGluZy4gIFRvDQo+ID4gaGlnaGxpZ2h0IHdoeSB0aGlzIGNhbm5vdCB3b3JrLCBjcmVhdGUgYSB0
ZXh0IGZpbGUgYW5kIHNhdmUgaXQgdG8gZGlzaw0KPiA+IHVzaW5nIEFTQ0lJIGVuY29kaW5nLiAg
VGhlbiwgYXR0ZW1wdCB0byByZWFkIHRoZSBmaWxlIGJhY2sgaW4gYXMgRUJESUMNCj4gPiBlbmNv
ZGluZyAob3IgYW55IGRvdWJsZS1ieXRlIGNoYXJhY3RlciBjaGFyc2V0IGxpa2UgVVRGLTE2KSwg
dGhlIHRleHQNCj4gDQo+IEVCRElDIGlzIGFsc28gbm90IFVDUy4NCj4gDQo+ID4gd2lsbCBoYXZl
IGJlY29tZSBjb3JydXB0ZWQgYmVjYXVzZSB0aGUgYnl0ZXMgd2VyZSBtYXBwZWQgdG8gY2hhcmFj
dGVycw0KPiA+IHVzaW5nIHRoZSB3cm9uZyBjaGFyc2V0IChhIGNoYXJzZXQgaXMgc2ltcGx5IGEg
bWFwcGluZyBiZXR3ZWVuIGJ5dGVzDQo+ID4gYW5kIGNoYXJhY3RlcnMpLg0KPiA+DQo+ID4gU28s
IHRoZSBwb3NzaWJsZSB3YXlzIGZvciB0b1VzaW5nQ2hhcnNldCB0byBmdWxmaWxsIGl0J3MgY29u
dHJhY3QgaXMNCj4gPiBmb3IgaXQgdG8gYmUgY2hhbmdlZCB0bzoNCj4gPg0KPiA+IHB1YmxpYyBT
dHJpbmcgdG9Vc2luZ0NoYXJzZXQoU3RyaW5nIHRhcmdldCwgU3RyaW5nIGZyb21DaGFyc2V0LCBT
dHJpbmcNCj4gPiB0b0NoYXJzZXQpIHsNCj4gPiByZXR1cm4gdGFyZ2V0Ow0KPiA+IH0NCj4gPg0K
PiA+IE9SIHRvOg0KPiA+DQo+ID4gcHVibGljIGJ5dGVbXSB0b1VzaW5nQ2hhcnNldChTdHJpbmcg
dGFyZ2V0LCBTdHJpbmcgdG9DaGFyc2V0KSB7DQo+ID4gcmV0dXJuIHRhcmdldC5nZXRCeXRlcyh0
b0NoYXJzZXQpOw0KPiA+IH0NCj4gPg0KPiA+IE9SIHRvOg0KPiA+DQo+ID4gcHVibGljIGJ5dGVb
XSB0b1VzaW5nQ2hhcnNldChieXRlW10gdGFyZ2V0LCBTdHJpbmcgZnJvbUNoYXJzZXQsIFN0cmlu
Zw0KPiA+IHRvQ2hhcnNldCkgew0KPiA+IHJldHVybiBuZXcgU3RyaW5nKHRhcmdldCwgZnJvbUNo
YXJzZXQpLmdldEJ5dGVzKHRvQ2hhcnNldCk7DQo+ID4gfQ0KPiA+DQo+ID4gVGhlIGxhc3Qgb25l
IGlzIHRoZSBvbmx5IG9uZSB0aGF0IG1ha2VzIGFueSBzZW5zZSBhdCBhbGwsIGJ1dCBJIGZhaWwg
dG8NCj4gPiBzZWUgaG93IGl0IGlzIHVzZWZ1bCBpbiBIdHRwQ2xpZW50Lg0KPiANCj4gV2VsbC4u
LiBpdCBzaG91bGQgYmUgYnl0ZSB0cmFuc2Zvcm1hdGlvbi4NCj4gTGlrZSBmcm9tIHNyb3VjZSBj
aGFyc2V0IHRvIHRoZSB0YXJnZXQgY2hhcnNldC4NCj4gDQo+IFlvdXIgZmlyc3QgdHdvIGV4YW1w
bGVzIGxvb2sgbGlrZSBqdXN0IG9uZSB3YXkgdGlja2V0IHRvIG1lLg0KPiBQcm9iYWJseSBpdCBt
aWdodCB3b3JrPw0KPiBPciB0aGUgbGFzdCBvbmUgaXMgc2ltaWxhciB0aG91Z2guLi4gSSdtIG5v
dCBzdXJlLi4uDQo+IA0KPiA+IFNvIFN1bmctR3UsIHBsZWFzZSBwcm92aWRlIHNvbWUganVzdGlm
aWNhdGlvbiBmb3IgeW91ciAtMSBpbiB0ZXJtcyBvZg0KPiA+IHdoeSB0aGUgbWV0aG9kcyBzaG91
bGQgcmVtYWluIGluIEh0dHBDbGllbnQgLSBpbiBwYXJ0aWN1bGFyIHdoZXJlIGluDQo+ID4gSHR0
cENsaWVudCB0aGUgbWV0aG9kIHdvdWxkIGJlIHVzZWQgYW5kIGZvciB3aGF0IHB1cnBvc2UuDQo+
IA0KPiBBcyBJIG1lbnRpb25lZCBwcmV2b3VzbHkuLi4gIGZvciBleGFtcGxlLCBhIG5ldyBtZXRo
b2QgY2FsbGVkIHBlcmhhcHMNCj4gJ3RvQW5vdGhlckRpc3BsYXknIHVzaW5nIHRoZSB0b1VzaW5n
Q2hhcnNldCBtZXRob2Qgd2VyZSB1c2VkIHRvDQo+IGNoYW5nZSB5b3VyIGRpc3BsYXkgZm9yIGNo
YW5naW5nIGVuY29kaW5nIGJ5IHlvdXIgd2ViLWJyb3dzZXIgZGlyZWN0bHkuLi4NCj4gDQo+IA0K
PiA+IFJlZ2FyZHMsDQo+ID4NCj4gPiBBZHJpYW4gU3V0dG9uLg0KPiANCj4gSG9wZSB0byBiZSBo
ZWxwZnVsLA0KPiANCj4gU3VuZy1HdQ0KPiANCj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+IFRvIHVuc3Vic2Ny
aWJlLCBlLW1haWw6IGNvbW1vbnMtaHR0cGNsaWVudC1kZXYtdW5zdWJzY3JpYmVAamFrYXJ0YS5h
cGFjaGUub3JnDQo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGNvbW1vbnMtaHR0
cGNsaWVudC1kZXYtaGVscEBqYWthcnRhLmFwYWNoZS5vcmcNCj4gDQo+IA==

From oleg.kalnichevski@bearingpoint.com  Thu Jun 26 16:38:20 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 16674 invoked from network); 26 Jun 2003 16:38:20 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 26 Jun 2003 16:38:20 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 26 Jun 2003 15:01:06 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Where to post
Date: Thu, 26 Jun 2003 16:03:47 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0D486C@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Where to post
Thread-Index: AcM785svLOhRw5P/Ray0+ktI8zpTIgAAFSrg
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 26 Jun 2003 15:01:06.0640 (UTC) FILETIME=[C519CD00:01C33BF3]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Nathan,
Please go ahead and post your questions here, as there's no separate =
HttpClient user
mailing list.

Oleg

-----Original Message-----
From: Nate [mailto:nmcminn@charter.net]
Sent: Thursday, June 26, 2003 16:59
To: commons-httpclient-dev@jakarta.apache.org
Subject: Where to post


Sorry if this is the wrong place to ask this question, but where is the
proper place to post user questions about HttpClient?  Couldn't find a =
user
mailing list.

--Nathan McMinn


---------------------------------------------------------------------
To unsubscribe, e-mail: =
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail: =
commons-httpclient-dev-help@jakarta.apache.org


From ortwin.glueck@nose.ch  Thu Jun 26 16:54:27 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 89795 invoked from network); 26 Jun 2003 16:54:27 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 26 Jun 2003 16:54:27 -0000
Received: (qmail 26955 invoked from network); 26 Jun 2003 15:07:43 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 26 Jun 2003 15:07:43 -0000
Message-ID: <3EFB0C3A.70303@nose.ch>
Date: Thu, 26 Jun 2003 17:07:38 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Client Auth / Certificates
References: <OFFC67457D.77DB869B-ON86256D51.00479E15-86256D51.00485585@tsainc.com>
In-Reply-To: <OFFC67457D.77DB869B-ON86256D51.00479E15-86256D51.00485585@tsainc.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It sure would be useful however I am not sure if it is possible. I never
used a standard JSSE implementation. We used SSLava in our projects
(because it's supposed to be faster) and SSLava is does not have a JSSE
interface. So I wrote a SSLSocketFactory that configured SSLava to use a
specific client certificate. Maybe with a JSSE compatible implementation
this can be done in a generic way. The implementation that I have is
very SSLava specific and probably of no use to anybody else.

Odi

secoskem@aciworldwide.com wrote:
> Ortwin -
>
> Correct.  I have completed the code using javax.net.ssl.HttpsURLConnection
> (Creating a special keymanager (for my crypto framework), setting up the
> SSLContext, creating SSLSocketFactory, etc.) .  I was just hoping that
> HttpClient had a Socket factory already written for this functionality, as
> it would buy me a few other things, mainly timeouts.    I would be glad to
> write the Socket factory myself, but I am unfortunately on a short
> schedule.    Would this functionality be of use to anyone else?  If it is
> something people would find useful, I would gladly contribute it.
>
> Thanks,
>   Matt Secoske


From ortwin.glueck@nose.ch  Thu Jun 26 16:57:37 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 97754 invoked from network); 26 Jun 2003 16:57:37 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 26 Jun 2003 16:57:37 -0000
Received: (qmail 26988 invoked from network); 26 Jun 2003 15:10:54 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 26 Jun 2003 15:10:54 -0000
Message-ID: <3EFB0CFD.90400@nose.ch>
Date: Thu, 26 Jun 2003 17:10:53 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods? & test case
 always certainly...?
References: <825BF35A92B3F0479CC164ECBBE9376E0DE58D@kccxoex06.corp.kpmgconsulting.com> <BAY1-DAV24tViNCm2v90002e1b9@hotmail.com> <3EFAE33E.9090802@nose.ch> <BAY1-DAV463ezygKkso0002ab26@hotmail.com>
In-Reply-To: <BAY1-DAV463ezygKkso0002ab26@hotmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sung-Gu wrote:
> But, not a duty... it's voluteering... no pay...
> even the code constribution here...

I pay you $5 for test cases from my Paypal account. Promise.

:-)


From nmcminn@charter.net  Thu Jun 26 19:41:50 2003
Return-Path: <nmcminn@charter.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 94250 invoked from network); 26 Jun 2003 19:41:50 -0000
Received: from mailrtr2.mailzone.edeltacom.com (216.248.176.138)
  by daedalus.apache.org with SMTP; 26 Jun 2003 19:41:50 -0000
Received: from Notebookdev ([66.0.27.113])
	by mailrtr2.mailzone.edeltacom.com (Mirapoint Messaging Server MOS 3.3.5-GR)
	with ESMTP id BDQ10468;
	Thu, 26 Jun 2003 15:41:54 -0400 (EDT)
Message-ID: <01ad01c33c1a$fd6c3810$4f01a8c0@Notebookdev>
From: "Nate" <nmcminn@charter.net>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <825BF35A92B3F0479CC164ECBBE9376E0D486C@kccxoex06.corp.kpmgconsulting.com>
Subject: Re: Where to post
Date: Thu, 26 Jun 2003 14:41:51 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thank you.  It's kind of an http newbie question, but here it is.  I create
a PostMethod object, and use it to post data to a site's login page.  The
login page redirects to another page within the site.  When that redirect is
sent, I get the following message:

Jun 26, 2003 1:48:21 PM org.apache.commons.httpclient.HttpMethodBase
processRedirectResponse
INFO: Redirect requested but followRedirects is disabled

I have set allowRedirects to true within the PostMethod object.  However, I
noticed that PostMethod inherits from EntityEnclosingMethod, overriding
getAllowRedirects with a method that always returns false (per rfc2616).
This is obviously not a bug, but how would you recommend handling this
situation.  The data I am after is on the page that will be redirected to.
I can just create a GetMethod and give it the url that would be redirected
to, but how to get rid of that error message.  Any suggestions?

Thanks a bunch....
--Nathan McMinn

----- Original Message -----
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Thursday, June 26, 2003 10:03 AM
Subject: RE: Where to post


Nathan,
Please go ahead and post your questions here, as there's no separate
HttpClient user
mailing list.

Oleg

-----Original Message-----
From: Nate [mailto:nmcminn@charter.net]
Sent: Thursday, June 26, 2003 16:59
To: commons-httpclient-dev@jakarta.apache.org
Subject: Where to post


Sorry if this is the wrong place to ask this question, but where is the
proper place to post user questions about HttpClient?  Couldn't find a user
mailing list.

--Nathan McMinn


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From laura@lwerner.org  Thu Jun 26 19:47:18 2003
Return-Path: <laura@lwerner.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 9103 invoked from network); 26 Jun 2003 19:47:18 -0000
Received: from unknown (HELO vocalsend.bevocal.com) (66.147.154.130)
  by daedalus.apache.org with SMTP; 26 Jun 2003 19:47:18 -0000
Received: from lwerner.org (speedtrap.bevocal.com [172.16.2.66])
	by vocalsend.bevocal.com (8.11.0/8.11.0) with ESMTP id h5QHwXE12502
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 10:58:33 -0700
Message-ID: <3EFB4DCA.3080209@lwerner.org>
Date: Thu, 26 Jun 2003 12:47:22 -0700
From: Laura Werner <laura@lwerner.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Where to post
References: <825BF35A92B3F0479CC164ECBBE9376E0D486C@kccxoex06.corp.kpmgconsulting.com> <01ad01c33c1a$fd6c3810$4f01a8c0@Notebookdev>
In-Reply-To: <01ad01c33c1a$fd6c3810$4f01a8c0@Notebookdev>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Nate,

>Jun 26, 2003 1:48:21 PM org.apache.commons.httpclient.HttpMethodBase
>processRedirectResponse
>INFO: Redirect requested but followRedirects is disabled
>...
>I can just create a GetMethod and give it the url that would be redirected
>to, but how to get rid of that error message.  Any suggestions?
>
>
That's not really an error message, just a trace log that HttpClient
writes to make it easier to figure out what's going on when a problem
happens.  You can control the logging level, send the logs to a separate
file (or to the bit bucket), and so on.  See
http://jakarta.apache.org/commons/httpclient/logging.html for some info
on how to do it.  In your case, you might want to set the logging level
to "error" so you only see messages for serious problems.

-- Laura


From nmcminn@charter.net  Thu Jun 26 19:52:39 2003
Return-Path: <nmcminn@charter.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 18477 invoked from network); 26 Jun 2003 19:52:39 -0000
Received: from mailrtr2.mailzone.edeltacom.com (216.248.176.138)
  by daedalus.apache.org with SMTP; 26 Jun 2003 19:52:39 -0000
Received: from Notebookdev ([66.0.27.113])
	by mailrtr2.mailzone.edeltacom.com (Mirapoint Messaging Server MOS 3.3.5-GR)
	with ESMTP id BDQ12839;
	Thu, 26 Jun 2003 15:52:43 -0400 (EDT)
Message-ID: <01e001c33c1c$7ff158a0$4f01a8c0@Notebookdev>
From: "Nate" <nmcminn@charter.net>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
References: <825BF35A92B3F0479CC164ECBBE9376E0D486C@kccxoex06.corp.kpmgconsulting.com> <01ad01c33c1a$fd6c3810$4f01a8c0@Notebookdev> <3EFB4DCA.3080209@lwerner.org>
Subject: Re: Where to post
Date: Thu, 26 Jun 2003 14:52:38 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Perfect.  Thanks.

----- Original Message -----
From: "Laura Werner" <laura@lwerner.org>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Sent: Thursday, June 26, 2003 2:47 PM
Subject: Re: Where to post


> Hi Nate,
>
> >Jun 26, 2003 1:48:21 PM org.apache.commons.httpclient.HttpMethodBase
> >processRedirectResponse
> >INFO: Redirect requested but followRedirects is disabled
> >...
> >I can just create a GetMethod and give it the url that would be
redirected
> >to, but how to get rid of that error message.  Any suggestions?
> >
> >
> That's not really an error message, just a trace log that HttpClient
> writes to make it easier to figure out what's going on when a problem
> happens.  You can control the logging level, send the logs to a separate
> file (or to the bit bucket), and so on.  See
> http://jakarta.apache.org/commons/httpclient/logging.html for some info
> on how to do it.  In your case, you might want to set the logging level
> to "error" so you only see messages for serious problems.
>
> -- Laura
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>


From ajmas@newtrade.com  Thu Jun 26 20:49:26 2003
Return-Path: <ajmas@newtrade.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 13945 invoked from network); 26 Jun 2003 20:49:26 -0000
Received: from custpop.wcom.ca (HELO mail.net) (142.77.1.111)
  by daedalus.apache.org with SMTP; 26 Jun 2003 20:49:26 -0000
Received: from [209.71.207.130] (HELO newtrade.com)
  by mail.net (CommuniGate Pro SMTP 3.5.6)
  with ESMTP id 2500642 for commons-httpclient-dev@jakarta.apache.org; Thu, 26 Jun 2003 16:44:16 -0400
Message-ID: <3EFB5C5B.9020104@newtrade.com>
Date: Thu, 26 Jun 2003 16:49:31 -0400
From: =?ISO-8859-1?Q?Andr=E9-John_Mas?= <ajmas@newtrade.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030529
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods?
References: <4E22CC2B-A7D5-11D7-844E-000393016056@intencha.com> <3EFAFF46.1010202@lwerner.org>
In-Reply-To: <3EFAFF46.1010202@lwerner.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This doesn't look correct, if you are really wanting to convert
from one charset to another then you would have to do something
such as:

    String myString = new String(bytes,bytesCharset);
    byte[] bytes2 = myString.getBytes(destCharset);

Until you have the bytes, you don't have the final output, since
strings will be affected by the platformas native encoding if
you aren't careful. Otherwise if your destination is an outputstream,
then let the OutputWriter do the work for you:

    String myString = new String(bytes,bytesCharset);
    OutputStreamWriter out = new
        OutputStreamWriter(outStream, destCharset)
    out.write(myString);

I have just had to write a project that is fully UTF-8 compliant
and it taught me a lot about what Java does. Without any encoding
specified the string conversion default to the platform native
format, which is not what you always want. I had to go everywhere
and make sure the right conversions were being performed.

regards

Andre

Laura Werner wrote:

> Adrian Sutton wrote:
>
>> The flaw in the toUsingCharset method is two-fold:
>> Firstly, Strings in Java are *always* stored internally as UTF-8
>
>
>
> I agree with the rest of your analysis of this, but I thought I should
> point out that Java Strings and "char"s are stored in UTF-16 rather than
> UTF-8.  A "char" is an unsigned, two-byte value that can hold all the
> characters from UCS2.
>
> As far as toUsingCharset goes, I agree that it looks broken.  The code
> basically does:
>
>            return new String(target.getBytes(fromCharset), toCharset);
>
> It's taking "target", which is a UTF-16 string, encoding it into a byte
> array in "fromCharset", and then decoding those bytes back into UTF-16
> using "toCharset".  So it's pretendeing the bytes in the array have two
> different meanings, one when it writes them and one when it reads them
> immediately afterward.  I can't see how this could be correct.
>
> -- Laura
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>


--
André-John Mas
Software Developer / Développeur Informatique
Newtrade Technologies
63 de Brésoles, Suite 100, Montreal, Quebec, Canada H2Y 1V7
mailto:ajmas@newtrade.com
tel +1 514 286-8187 x3017
fax +1 514 221-3287

----------------------------------------------------------------------
If you have received this message in error, please notify the sender
immediately and delete the original without making a copy, disclosing
its contents or taking any action based thereon.

Si vous avez reçu ce message par erreur, veuillez en aviser
immédiatement le signataire et effacer l'original, sans en tirer de
copie, en dévoiler le contenu ni prendre quelque mesure fondée sur
celui-ci.





From anonymous@nagoya.betaversion.org  Thu Jun 26 21:16:36 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 54795 invoked from network); 26 Jun 2003 21:16:36 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 26 Jun 2003 21:16:36 -0000
Received: (qmail 8758 invoked by uid 50); 26 Jun 2003 21:19:02 -0000
Date: 26 Jun 2003 21:19:02 -0000
Message-ID: <20030626211902.8757.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21130] New:  -

X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Make MultiThreadedHttpConnectionManager defaults public statics.

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21130>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21130


Make MultiThreadedHttpConnectionManager defaults public statics.

           Summary:
                    Make MultiThreadedHttpConnectionManager defaults public
                    statics.
           Product: Commons
           Version: Nightly Builds
          Platform: All
        OS/Version: Other
            Status: NEW
          Severity: Enhancement
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: ggregory@seagullsw.com


Could the defaults for MultiThreadedHttpConnectionManager be made public
constants? I would do it my self since I have karma as a contributer to [lang]
and [codec] but I do not want to step on anyones toes. ;-)

Patch attached.

From anonymous@nagoya.betaversion.org  Thu Jun 26 21:17:19 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 58668 invoked from network); 26 Jun 2003 21:17:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 26 Jun 2003 21:17:19 -0000
Received: (qmail 8812 invoked by uid 50); 26 Jun 2003 21:19:45 -0000
Date: 26 Jun 2003 21:19:45 -0000
Message-ID: <20030626211945.8811.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21130]  -

X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Make MultiThreadedHttpConnectionManager defaults public statics.

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21130>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21130


Make MultiThreadedHttpConnectionManager defaults public statics.





------- Additional Comments From ggregory@seagullsw.com  2003-06-26 21:19 -------
Created an attachment (id=7007)
MultiThreadedHttpConnectionManager patch to v.1.16

From secoskem@aciworldwide.com  Thu Jun 26 21:40:04 2003
Return-Path: <secoskem@aciworldwide.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 3515 invoked from network); 26 Jun 2003 21:40:04 -0000
Received: from mail.tsainc.com (HELO acio-cissun4.tsainc.com) (206.201.23.30)
  by daedalus.apache.org with SMTP; 26 Jun 2003 21:40:04 -0000
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods?
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 5.0.10  March 22, 2002
From: secoskem@aciworldwide.com
Message-ID: <OF36AE0B31.C1E64792-ON86256D51.0075F90A-86256D51.0077108B@tsainc.com>
Date: Thu, 26 Jun 2003 16:40:10 -0500
X-MIMETrack: Serialize by Router on lng002/SVR/TSA(Release 5.0.10 |March 22, 2002) at 06/26/2003
 04:41:11 PM,
	Serialize complete at 06/26/2003 04:41:11 PM
Content-Type: multipart/alternative; boundary="=_alternative 0077104586256D51_="
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=_alternative 0077104586256D51_=
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I just got through Internationalizing a website... input and output.  I=20
ran into the exact same issues, and as Andre states, you pretty much need=20
to check everywhere for byte[] ->String and String->byte[].

Then do the conversions he's given.  I personally liked the more terse:

        byte[] outbytes =3D new String(inbytes,=20
inputEncoding).getBytes(outputEncoding);

- Matt Secoske






Andr=E9-John Mas <ajmas@newtrade.com>
06/26/2003 03:49 PM
Please respond to "Commons HttpClient Project"

=20
        To:     Commons HttpClient Project <commons-httpclient-dev@jakarta.=
apache.org>
        cc:=20
        Subject:        Re: [VOTE] Re: 2.0 release - deprecate some methods?


This doesn't look correct, if you are really wanting to convert
from one charset to another then you would have to do something
such as:

    String myString =3D new String(bytes,bytesCharset);
    byte[] bytes2 =3D myString.getBytes(destCharset);

Until you have the bytes, you don't have the final output, since
strings will be affected by the platformas native encoding if
you aren't careful. Otherwise if your destination is an outputstream,
then let the OutputWriter do the work for you:

    String myString =3D new String(bytes,bytesCharset);
    OutputStreamWriter out =3D new
        OutputStreamWriter(outStream, destCharset)
    out.write(myString);

I have just had to write a project that is fully UTF-8 compliant
and it taught me a lot about what Java does. Without any encoding
specified the string conversion default to the platform native
format, which is not what you always want. I had to go everywhere
and make sure the right conversions were being performed.

regards

Andre

Laura Werner wrote:

> Adrian Sutton wrote:
>=20
>> The flaw in the toUsingCharset method is two-fold:
>> Firstly, Strings in Java are *always* stored internally as UTF-8
>=20
>=20
>=20
> I agree with the rest of your analysis of this, but I thought I should=20
> point out that Java Strings and "char"s are stored in UTF-16 rather than =


> UTF-8.  A "char" is an unsigned, two-byte value that can hold all the=20
> characters from UCS2.
>=20
> As far as toUsingCharset goes, I agree that it looks broken.  The code=20
> basically does:
>=20
>            return new String(target.getBytes(fromCharset), toCharset);
>=20
> It's taking "target", which is a UTF-16 string, encoding it into a byte=20
> array in "fromCharset", and then decoding those bytes back into UTF-16=20
> using "toCharset".  So it's pretendeing the bytes in the array have two=20
> different meanings, one when it writes them and one when it reads them=20
> immediately afterward.  I can't see how this could be correct.
>=20
> -- Laura
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:=20
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:=20
> commons-httpclient-dev-help@jakarta.apache.org
>=20
>=20


--=20
Andr=E9-John Mas
Software Developer / D=E9veloppeur Informatique
Newtrade Technologies
63 de Br=E9soles, Suite 100, Montreal, Quebec, Canada H2Y 1V7
mailto:ajmas@newtrade.com
tel +1 514 286-8187 x3017
fax +1 514 221-3287

----------------------------------------------------------------------
If you have received this message in error, please notify the sender
immediately and delete the original without making a copy, disclosing
its contents or taking any action based thereon.

Si vous avez re=E7u ce message par erreur, veuillez en aviser
imm=E9diatement le signataire et effacer l'original, sans en tirer de
copie, en d=E9voiler le contenu ni prendre quelque mesure fond=E9e sur
celui-ci.





---------------------------------------------------------------------
To unsubscribe, e-mail:=20
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:=20
commons-httpclient-dev-help@jakarta.apache.org




--=_alternative 0077104586256D51_=--

From secoskem@aciworldwide.com  Thu Jun 26 21:51:53 2003
Return-Path: <secoskem@aciworldwide.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 22086 invoked from network); 26 Jun 2003 21:51:53 -0000
Received: from mail.tsainc.com (HELO acio-cissun4.tsainc.com) (206.201.23.30)
  by daedalus.apache.org with SMTP; 26 Jun 2003 21:51:53 -0000
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Client Auth / Certificates
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 5.0.10  March 22, 2002
From: secoskem@aciworldwide.com
Message-ID: <OF341D77E3.229077E9-ON86256D51.0063F35B-86256D51.007825A4@tsainc.com>
Date: Thu, 26 Jun 2003 16:51:59 -0500
X-MIMETrack: Serialize by Router on lng002/SVR/TSA(Release 5.0.10 |March 22, 2002) at 06/26/2003
 04:52:59 PM,
	Serialize complete at 06/26/2003 04:52:59 PM
Content-Type: multipart/alternative; boundary="=_alternative 0078254F86256D51_="
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=_alternative 0078254F86256D51_=
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

It is possible to create a standard JSSE impl, but only for 1.4 JDK.  In=20
previous JDK's the required classes were of the com.sun.net.ssl variety,=20
which of course is ugly.  There is no cross-vm solution for JDKs prior to=20
1.4 that I am aware of.=20

- Matt Secoske






Ortwin Gl=FCck <ortwin.glueck@nose.ch>
06/26/2003 10:07 AM
Please respond to "Commons HttpClient Project"

=20
        To:     Commons HttpClient Project <commons-httpclient-dev@jakarta.=
apache.org>
        cc:=20
        Subject:        Re: Client Auth / Certificates


It sure would be useful however I am not sure if it is possible. I never=20
used a standard JSSE implementation. We used SSLava in our projects=20
(because it's supposed to be faster) and SSLava is does not have a JSSE=20
interface. So I wrote a SSLSocketFactory that configured SSLava to use a=20
specific client certificate. Maybe with a JSSE compatible implementation=20
this can be done in a generic way. The implementation that I have is=20
very SSLava specific and probably of no use to anybody else.

Odi

secoskem@aciworldwide.com wrote:
> Ortwin -=20
>=20
> Correct.  I have completed the code using=20
javax.net.ssl.HttpsURLConnection=20
> (Creating a special keymanager (for my crypto framework), setting up the =


> SSLContext, creating SSLSocketFactory, etc.) .  I was just hoping that=20
> HttpClient had a Socket factory already written for this functionality,=20
as=20
> it would buy me a few other things, mainly timeouts.    I would be glad=20
to=20
> write the Socket factory myself, but I am unfortunately on a short=20
> schedule.    Would this functionality be of use to anyone else?  If it=20
is=20
> something people would find useful, I would gladly contribute it.
>=20
> Thanks,
>   Matt Secoske


---------------------------------------------------------------------
To unsubscribe, e-mail:=20
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:=20
commons-httpclient-dev-help@jakarta.apache.org




--=_alternative 0078254F86256D51_=--

From olegk@apache.org  Thu Jun 26 22:05:03 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 39405 invoked from network); 26 Jun 2003 22:05:03 -0000
Received: from mail6.bluewin.ch (195.186.4.229)
  by daedalus.apache.org with SMTP; 26 Jun 2003 22:05:03 -0000
Received: from olddude.tislab.ch (62.203.191.14) by mail6.bluewin.ch (Bluewin AG 7.0.016)
        id 3EFAACC300019EBF for commons-httpclient-dev@jakarta.apache.org; Thu, 26 Jun 2003 22:05:09 +0000
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods?
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <OF36AE0B31.C1E64792-ON86256D51.0075F90A-86256D51.0077108B@tsainc.com>
References:
	 <OF36AE0B31.C1E64792-ON86256D51.0075F90A-86256D51.0077108B@tsainc.com>
Content-Type: text/plain
Message-Id: <1056665107.2400.17.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 27 Jun 2003 00:05:07 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Thu, 2003-06-26 at 23:40, secoskem@aciworldwide.com wrote:
> I just got through Internationalizing a website... input and output.  I
> ran into the exact same issues, and as Andre states, you pretty much need
> to check everywhere for byte[] ->String and String->byte[].


Matt, we actually do. We do have a specialised class called
HttpConstants that requires a charset to be explicitly specified for all
byte[] to String and String to byte[] conversions. Httpclient's coding
guidelines require HttpConstants class to be used for ALL byte[] to
String and String to byte[] conversions. And we are VERY strict about
it.

The problem is that we can't convince just one guy to fix just one damn
method. This issue has been dragging on for 6 (six) months already and
finally has really blown out of all reasonable proportions

Oleg


From secoskem@aciworldwide.com  Thu Jun 26 22:15:38 2003
Return-Path: <secoskem@aciworldwide.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 49030 invoked from network); 26 Jun 2003 22:15:38 -0000
Received: from mail.tsainc.com (HELO acio-cissun4.tsainc.com) (206.201.23.30)
  by daedalus.apache.org with SMTP; 26 Jun 2003 22:15:38 -0000
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods?
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 5.0.10  March 22, 2002
From: secoskem@aciworldwide.com
Message-ID: <OF760632BE.86FE0A25-ON86256D51.007A390F-86256D51.007A524C@tsainc.com>
Date: Thu, 26 Jun 2003 17:15:44 -0500
X-MIMETrack: Serialize by Router on lng002/SVR/TSA(Release 5.0.10 |March 22, 2002) at 06/26/2003
 05:16:44 PM,
	Serialize complete at 06/26/2003 05:16:44 PM
Content-Type: multipart/alternative; boundary="=_alternative 007A520186256D51_="
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=_alternative 007A520186256D51_=
Content-Type: text/plain; charset="us-ascii"

I see.  Well, its good to see people actually doing that sort of thing....
Its taken me a few months to convince my associates that we need to be
doing this.

- Matt






Oleg Kalnichevski <olegk@apache.org>
06/26/2003 05:05 PM
Please respond to "Commons HttpClient Project"


        To:     Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
        cc:
        Subject:        Re: [VOTE] Re: 2.0 release - deprecate some methods?


On Thu, 2003-06-26 at 23:40, secoskem@aciworldwide.com wrote:
> I just got through Internationalizing a website... input and output.  I
> ran into the exact same issues, and as Andre states, you pretty much
need
> to check everywhere for byte[] ->String and String->byte[].


Matt, we actually do. We do have a specialised class called
HttpConstants that requires a charset to be explicitly specified for all
byte[] to String and String to byte[] conversions. Httpclient's coding
guidelines require HttpConstants class to be used for ALL byte[] to
String and String to byte[] conversions. And we are VERY strict about
it.

The problem is that we can't convince just one guy to fix just one damn
method. This issue has been dragging on for 6 (six) months already and
finally has really blown out of all reasonable proportions

Oleg


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org




--=_alternative 007A520186256D51_=--

From anonymous@nagoya.betaversion.org  Thu Jun 26 23:41:58 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 30411 invoked from network); 26 Jun 2003 23:41:58 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 26 Jun 2003 23:41:58 -0000
Received: (qmail 11906 invoked by uid 50); 26 Jun 2003 23:44:27 -0000
Date: 26 Jun 2003 23:44:27 -0000
Message-ID: <20030626234427.11905.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21130]  -
    Make MultiThreadedHttpConnectionManager defaults public statics.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21130>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21130

Make MultiThreadedHttpConnectionManager defaults public statics.

becke@u.washington.edu changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
            Summary|                            |Make
                   |Make                        |MultiThreadedHttpConnectionM
                   |MultiThreadedHttpConnectionM|anager defaults public
                   |anager defaults public      |statics.
                   |statics.                    |



------- Additional Comments From becke@u.washington.edu  2003-06-26 23:44 -------
Hello Gary.  I would be happy to make this change if you like. I am just wondering why you want
static access to these values.

Mike

From zumrani@novell.com  Fri Jun 27 01:13:10 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 93227 invoked from network); 27 Jun 2003 01:13:10 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 27 Jun 2003 01:13:10 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Thu, 26 Jun 2003 19:13:19 -0600
Message-Id: <sefb45cf.091@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Thu, 26 Jun 2003 16:12:25 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: Cookie
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Does any one know how can I manage cookies without having to get the
cookies from HttpState and setting it back everytime I make a request?
Is there an automatic way to handle cookies? Alternatively, how do I put
a cookie header on PostMethod? I have string representation of the
cookie, I would like to set that as a header on PostMethod. At present
it does not allow me to do so.

Thanks.

From rana@solis.jp  Fri Jun 27 01:17:56 2003
Return-Path: <rana@solis.jp>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 97526 invoked from network); 27 Jun 2003 01:17:56 -0000
Received: from unknown (HELO server1.nipponsolutions.com) (209.61.182.29)
  by daedalus.apache.org with SMTP; 27 Jun 2003 01:17:56 -0000
Received: from RANAS8200 ([218.224.205.236])
	by server1.nipponsolutions.com (8.11.6/8.11.6) with ESMTP id h5R1IWH17103
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 20:18:32 -0500
From: "Amit Rana" <rana@solis.jp>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: Cookie
Date: Fri, 27 Jun 2003 10:17:57 +0900
Message-ID: <003101c33c49$f213f820$0c01a8c0@RANAS8200>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <sefb45cf.091@prv-mail20.provo.novell.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Is there an automatic way to handle cookies?
According to whatever less I know about HttpClient, this is the default
behavior. Cookies are handled automatically. If you put the logging on
as given on the link
http://jakarta.apache.org/commons/httpclient/logging.html you will see
some entries like
Set-Cookie: Name=...
Which means that HttpClient is handling cookies for you.

HTH.

Regards,
Amit.

> -----Original Message-----
> From: Zulfi Umrani [mailto:zumrani@novell.com]
> Sent: Friday, June 27, 2003 7:12 AM
> To: commons-httpclient-dev@jakarta.apache.org
> Subject: Cookie
>
> Does any one know how can I manage cookies without having to get the
> cookies from HttpState and setting it back everytime I make a request?
> Is there an automatic way to handle cookies? Alternatively, how do I
put
> a cookie header on PostMethod? I have string representation of the
> cookie, I would like to set that as a header on PostMethod. At present
> it does not allow me to do so.
>
> Thanks.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org


From anonymous@nagoya.betaversion.org  Fri Jun 27 01:21:59 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 99258 invoked from network); 27 Jun 2003 01:21:59 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Jun 2003 01:21:59 -0000
Received: (qmail 13515 invoked by uid 50); 27 Jun 2003 01:24:28 -0000
Date: 27 Jun 2003 01:24:28 -0000
Message-ID: <20030627012428.13514.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21130]  -
    Make MultiThreadedHttpConnectionManager defaults public statics.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21130>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21130

Make MultiThreadedHttpConnectionManager defaults public statics.





------- Additional Comments From ggregory@seagullsw.com  2003-06-27 01:24 -------
I am configuring a component that uses HttpClient in its guts. This component is
configured via an XML file. We use JAXB to generate XML IO code from an XSD for
this XML config file. Right now, the default value in the XSD has to be matched
by hand to the default values in HttpClient as well as our other settings. I
would like to be able to fill in the default values in the XSD based on
constants for all of the pieces that must be configured. This means that the
real constant definition is in one place and one place only.

From zumrani@novell.com  Fri Jun 27 02:09:49 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 25894 invoked from network); 27 Jun 2003 02:09:49 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 27 Jun 2003 02:09:49 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Thu, 26 Jun 2003 20:09:59 -0600
Message-Id: <sefb5317.033@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Thu, 26 Jun 2003 17:09:07 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: Cookie
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I enable the logging for "info", but did not get any message on the
console. And the cookies still are not handled automatically.

>>> rana@solis.jp 6/26/2003 9:17:57 PM >>>
> Is there an automatic way to handle cookies?
According to whatever less I know about HttpClient, this is the
default
behavior. Cookies are handled automatically. If you put the logging on
as given on the link
http://jakarta.apache.org/commons/httpclient/logging.html you will see
some entries like
Set-Cookie: Name=...
Which means that HttpClient is handling cookies for you.

HTH.

Regards,
Amit.

> -----Original Message-----
> From: Zulfi Umrani [mailto:zumrani@novell.com]
> Sent: Friday, June 27, 2003 7:12 AM
> To: commons-httpclient-dev@jakarta.apache.org
> Subject: Cookie
>
> Does any one know how can I manage cookies without having to get the
> cookies from HttpState and setting it back everytime I make a
request?
> Is there an automatic way to handle cookies? Alternatively, how do I
put
> a cookie header on PostMethod? I have string representation of the
> cookie, I would like to set that as a header on PostMethod. At
present
> it does not allow me to do so.
>
> Thanks.
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From ajmas@newtrade.com  Thu Jun 26 16:27:37 2003
Return-Path: <ajmas@newtrade.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 94426 invoked from network); 26 Jun 2003 16:27:37 -0000
Received: from custpop.wcom.ca (HELO mail.net) (142.77.1.111)
  by daedalus.apache.org with SMTP; 26 Jun 2003 16:27:37 -0000
Received: from [209.71.207.130] (HELO newtrade.com)
  by mail.net (CommuniGate Pro SMTP 3.5.6)
  with ESMTP id 2490313 for commons-httpclient-dev@jakarta.apache.org; Thu, 26 Jun 2003 11:18:31 -0400
Message-ID: <3EFB0FFE.8080808@newtrade.com>
Date: Thu, 26 Jun 2003 11:23:42 -0400
From: =?ISO-8859-1?Q?Andr=E9-John_Mas?= <ajmas@newtrade.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030529
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods?
References: <4E22CC2B-A7D5-11D7-844E-000393016056@intencha.com> <3EFAFF46.1010202@lwerner.org>
In-Reply-To: <3EFAFF46.1010202@lwerner.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This doesn't look correct, if you are really wanting to convert
from one charset to another then you would have to do something
such as:

    String myString = new String(bytes,bytesCharset);
    byte[] bytes2 = myString.getBytes(destCharset);

Until you have the bytes, you don't have the final output, since
strings will be affected by the platformas native encoding if
you aren't careful. Otherwise if your destination is an outputstream,
then let the OutputWriter do the work for you:

    String myString = new String(bytes,bytesCharset);
    OutputStreamWriter out = new
        OutputStreamWriter(outStream, destCharset)
    out.write(myString);

I have just had to write a project that is fully UTF-8 compliant
and it taught me a lot about what Java does. Without any encoding
specified the string conversion default to the platform native
format, which is not what you always want. I had to go everywhere
and make sure the right conversions were being performed.

regards

Andre

Laura Werner wrote:

> Adrian Sutton wrote:
>
>> The flaw in the toUsingCharset method is two-fold:
>> Firstly, Strings in Java are *always* stored internally as UTF-8
>
>
>
> I agree with the rest of your analysis of this, but I thought I should
> point out that Java Strings and "char"s are stored in UTF-16 rather than
> UTF-8.  A "char" is an unsigned, two-byte value that can hold all the
> characters from UCS2.
>
> As far as toUsingCharset goes, I agree that it looks broken.  The code
> basically does:
>
>            return new String(target.getBytes(fromCharset), toCharset);
>
> It's taking "target", which is a UTF-16 string, encoding it into a byte
> array in "fromCharset", and then decoding those bytes back into UTF-16
> using "toCharset".  So it's pretendeing the bytes in the array have two
> different meanings, one when it writes them and one when it reads them
> immediately afterward.  I can't see how this could be correct.
>
> -- Laura
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>


--
André-John Mas
Software Developer / Développeur Informatique
Newtrade Technologies
63 de Brésoles, Suite 100, Montreal, Quebec, Canada H2Y 1V7
mailto:ajmas@newtrade.com
tel +1 514 286-8187 x3017
fax +1 514 221-3287

----------------------------------------------------------------------
If you have received this message in error, please notify the sender
immediately and delete the original without making a copy, disclosing
its contents or taking any action based thereon.

Si vous avez reçu ce message par erreur, veuillez en aviser
immédiatement le signataire et effacer l'original, sans en tirer de
copie, en dévoiler le contenu ni prendre quelque mesure fondée sur
celui-ci.



From anonymous@nagoya.betaversion.org  Fri Jun 27 03:21:08 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 92275 invoked from network); 27 Jun 2003 03:21:08 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Jun 2003 03:21:08 -0000
Received: (qmail 15303 invoked by uid 50); 27 Jun 2003 03:23:38 -0000
Date: 27 Jun 2003 03:23:38 -0000
Message-ID: <20030627032338.15302.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21130]  -
    Make MultiThreadedHttpConnectionManager defaults public statics.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21130>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21130

Make MultiThreadedHttpConnectionManager defaults public statics.





------- Additional Comments From becke@u.washington.edu  2003-06-27 03:23 -------
Patch committed with a minor tweak.

Mike

From becke@u.washington.edu  Fri Jun 27 03:29:21 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 97971 invoked from network); 27 Jun 2003 03:29:21 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 27 Jun 2003 03:29:21 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5R3TU5c013733
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 20:29:30 -0700
Received: from u.washington.edu (pool-129-44-186-205.bos.east.verizon.net [129.44.186.205])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5R3TSXZ024765
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Thu, 26 Jun 2003 20:29:30 -0700
Date: Thu, 26 Jun 2003 23:29:29 -0400
Subject: Re: Cookie
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <sefb5317.033@prv-mail20.provo.novell.com>
Message-Id: <8F81EBCA-A84F-11D7-AB1F-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

To see the network traffic you will need to enable the wire log.  Take
a look at http://jakarta.apache.org/commons/httpclient/logging.html for
details.

HttpClient handles cookies by default.  For more details please see
http://jakarta.apache.org/commons/httpclient/cookies.html.  If the
cookie guide does not help to resolve the problem please post a wire
log containing the transaction in question.

Mike

On Thursday, June 26, 2003, at 07:09 PM, Zulfi Umrani wrote:

> I enable the logging for "info", but did not get any message on the
> console. And the cookies still are not handled automatically.
>
>>>> rana@solis.jp 6/26/2003 9:17:57 PM >>>
>> Is there an automatic way to handle cookies?
> According to whatever less I know about HttpClient, this is the
> default
> behavior. Cookies are handled automatically. If you put the logging on
> as given on the link
> http://jakarta.apache.org/commons/httpclient/logging.html you will see
> some entries like
> Set-Cookie: Name=...
> Which means that HttpClient is handling cookies for you.
>
> HTH.
>
> Regards,
> Amit.
>
>> -----Original Message-----
>> From: Zulfi Umrani [mailto:zumrani@novell.com]
>> Sent: Friday, June 27, 2003 7:12 AM
>> To: commons-httpclient-dev@jakarta.apache.org
>> Subject: Cookie
>>
>> Does any one know how can I manage cookies without having to get the
>> cookies from HttpState and setting it back everytime I make a
> request?
>> Is there an automatic way to handle cookies? Alternatively, how do I
> put
>> a cookie header on PostMethod? I have string representation of the
>> cookie, I would like to set that as a header on PostMethod. At
> present
>> it does not allow me to do so.
>>
>> Thanks.
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From ortwin.glueck@nose.ch  Fri Jun 27 06:24:17 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 61616 invoked from network); 27 Jun 2003 06:24:17 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 27 Jun 2003 06:24:17 -0000
Received: (qmail 1318 invoked from network); 27 Jun 2003 06:24:22 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 27 Jun 2003 06:24:22 -0000
Message-ID: <3EFBE315.2050808@nose.ch>
Date: Fri, 27 Jun 2003 08:24:21 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Client Auth / Certificates
References: <OF341D77E3.229077E9-ON86256D51.0063F35B-86256D51.007825A4@tsainc.com>
In-Reply-To: <OF341D77E3.229077E9-ON86256D51.0063F35B-86256D51.007825A4@tsainc.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

secoskem@aciworldwide.com wrote:
> It is possible to create a standard JSSE impl, but only for 1.4 JDK.  In
> previous JDK's the required classes were of the com.sun.net.ssl variety,
> which of course is ugly.  There is no cross-vm solution for JDKs prior to
> 1.4 that I am aware of.
>
> - Matt Secoske

Unfortunately we can not use some 1.4 specific features since we are
supposed to maintain 1.3 runtime compatibility.


From ortwin.glueck@nose.ch  Fri Jun 27 06:29:36 2003
Return-Path: <ortwin.glueck@nose.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 65806 invoked from network); 27 Jun 2003 06:29:36 -0000
Received: from unknown (HELO nose.ch) (195.134.131.71)
  by daedalus.apache.org with SMTP; 27 Jun 2003 06:29:36 -0000
Received: (qmail 1350 invoked from network); 27 Jun 2003 06:29:41 -0000
Received: from calvin.nose.ch (HELO nose.ch) (192.168.1.7)
  by 0 with SMTP; 27 Jun 2003 06:29:41 -0000
Message-ID: <3EFBE455.6040407@nose.ch>
Date: Fri, 27 Jun 2003 08:29:41 +0200
From: =?ISO-8859-1?Q?Ortwin_Gl=FCck?= <ortwin.glueck@nose.ch>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030612
X-Accept-Language: de-ch, en-us
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: [VOTE] Re: 2.0 release - deprecate some methods?
References: <OF36AE0B31.C1E64792-ON86256D51.0075F90A-86256D51.0077108B@tsainc.com>
In-Reply-To: <OF36AE0B31.C1E64792-ON86256D51.0075F90A-86256D51.0077108B@tsainc.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

secoskem@aciworldwide.com wrote:
> I just got through Internationalizing a website... input and output.  I
> ran into the exact same issues, and as Andre states, you pretty much need
> to check everywhere for byte[] ->String and String->byte[].

Be assured that HttpClient uses the right encoding on every platform. We
had one guy successfully run HttpClient on zOS where the default
platform encoding is EBCDIC.

Odi


From oleg.kalnichevski@bearingpoint.com  Fri Jun 27 07:30:51 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 48991 invoked from network); 27 Jun 2003 07:30:51 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 27 Jun 2003 07:30:51 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 27 Jun 2003 07:32:53 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Cookie
Date: Fri, 27 Jun 2003 08:30:59 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE593@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Cookie
Thread-Index: AcM8SU47v7Ui0BOkQnGaYhPOcQhZ7QAMqQaQ
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 27 Jun 2003 07:32:53.0781 (UTC) FILETIME=[521EEC50:01C33C7E]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Does any one know how can I manage cookies without having to get the
> cookies from HttpState and setting it back everytime I make a request?

Just keep the HttpState instance.

> Is there an automatic way to handle cookies? Alternatively, how do I =
put
> a cookie header on PostMethod? I have string representation of the
> cookie, I would like to set that as a header on PostMethod. At present
> it does not allow me to do so.

Cookies are managed by HttpClient based on the content of HttpState. =
That is why setting 'Cookie' header manually does not really help, as =
'Cookie' headers automatically generated by HttpClient always overwrite =
those set manually. Bottom line: always add your cookies to HttpState. =
Never set them manually.

Oleg

From george.gastaldi@neogrid.com.br  Fri Jun 27 14:31:09 2003
Return-Path: <george.gastaldi@neogrid.com.br>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 43345 invoked from network); 27 Jun 2003 14:31:09 -0000
Received: from corvina.neogrid.com.br (HELO dourado.neogrid.com.br) (200.180.73.66)
  by daedalus.apache.org with SMTP; 27 Jun 2003 14:31:09 -0000
Received: by dourado.neogrid.com.br with Internet Mail Service (5.5.2653.19)
	id <NV6RB9CH>; Fri, 27 Jun 2003 11:35:15 -0300
Message-ID: <1DF6E2D62721D14B8866786D862BE0DB01444547@dourado.neogrid.com.br>
From: George Gastaldi <george.gastaldi@neogrid.com.br>
To: "Commons HttpClient Project (E-mail)"
	 <commons-httpclient-dev@jakarta.apache.org>
Subject: Continue - 100
Date: Fri, 27 Jun 2003 11:35:10 -0300
Importance: high
X-Priority: 1
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C33CB9.504632E0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33CB9.504632E0
Content-Type: text/plain;
	charset="iso-8859-1"

Hello Everybody !

	I have a problem regarding HTTPClient when I do a POST. In some
situations, the code returned is 100 - Continue.
What should I do ? I don't know what to do.

    byte[] message = ...;
    HttpClient hc = new HttpClient();
    PostMethod pm = new PostMethod('"...url... ");
    hc.getHostConfiguration().setProxy("proxyHost",123);
    Credentials cr = new UsernamePasswordCredentials("xx","xx");
     hc.getState().setProxyCredentials(null,cr);
     pm.setDoAuthentication(true);
     pm.setRequestHeader("Cache-Control","no-store"); //HTTP 1.1
     pm.setRequestHeader("Pragma","no-cache"); //HTTP 1.0
     pm.setRequestHeader("Content-type","text/xml");

      pm.setRequestBody(new ByteArrayInputStream(message));
      // Must set length to -1 to use Chunked. (BUG when content-length is
0).
      int len = (message.length == 0) ? -1 : message.length;
      pm.setRequestContentLength(len);
      int rc = hc.executeMethod(pm);
      // The rc == 100
      if (rc == 200) {
        contents = pm.getResponseBody();
      }


------_=_NextPart_001_01C33CB9.504632E0--

From oleg.kalnichevski@bearingpoint.com  Fri Jun 27 14:35:48 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 55386 invoked from network); 27 Jun 2003 14:35:48 -0000
Received: from smtp.bearingpoint.com (HELO KCCXOEX11.corp.kpmgconsulting.com) (57.80.136.23)
  by daedalus.apache.org with SMTP; 27 Jun 2003 14:35:48 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX11.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 27 Jun 2003 14:33:06 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C33CB9.6410D9DD"
Subject: RE: Continue - 100
Date: Fri, 27 Jun 2003 15:35:44 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE594@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator: <825BF35A92B3F0479CC164ECBBE9376E0DE594@kccxoex06.corp.kpmgconsulting.com>
Thread-Topic: Continue - 100
Thread-Index: AcM8uOi7yH8I7TUbR2yscWpKWpgWqwAACdsA
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 27 Jun 2003 14:33:06.0718 (UTC) FILETIME=[0633CBE0:01C33CB9]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33CB9.6410D9DD
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Upgrade to BETA-1 or current CVS snapshot. I suppose you are using on of =
the ALPHA releases, as since BETA-1 HttpClient never returns 100 =
(continue) status code to the caller.

http://jakarta.apache.org/commons/httpclient/downloads.html

Cheers

Oleg


-----Original Message-----
From:	George Gastaldi [mailto:george.gastaldi@neogrid.com.br]
Sent:	Fri 6/27/2003 16:35
To:	Commons HttpClient Project (E-mail)
Cc:=09
Subject:	Continue - 100
Hello Everybody !

	I have a problem regarding HTTPClient when I do a POST. In some
situations, the code returned is 100 - Continue.=20
What should I do ? I don't know what to do.=20

    byte[] message =3D ...;
    HttpClient hc =3D new HttpClient();
    PostMethod pm =3D new PostMethod('"...url... ");
    hc.getHostConfiguration().setProxy("proxyHost",123);
    Credentials cr =3D new UsernamePasswordCredentials("xx","xx");
     hc.getState().setProxyCredentials(null,cr);
     pm.setDoAuthentication(true);
     pm.setRequestHeader("Cache-Control","no-store"); //HTTP 1.1
     pm.setRequestHeader("Pragma","no-cache"); //HTTP 1.0
     pm.setRequestHeader("Content-type","text/xml");
    =20
      pm.setRequestBody(new ByteArrayInputStream(message));
      // Must set length to -1 to use Chunked. (BUG when content-length =
is
0).
      int len =3D (message.length =3D=3D 0) ? -1 : message.length;
      pm.setRequestContentLength(len);
      int rc =3D hc.executeMethod(pm);
      // The rc =3D=3D 100
      if (rc =3D=3D 200) {
        contents =3D pm.getResponseBody();
      }
=09




------_=_NextPart_001_01C33CB9.6410D9DD--

From christian.sell@netcologne.de  Fri Jun 27 15:24:18 2003
Return-Path: <christian.sell@netcologne.de>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 91283 invoked from network); 27 Jun 2003 15:24:18 -0000
Received: from smtp2.netcologne.de (194.8.194.218)
  by daedalus.apache.org with SMTP; 27 Jun 2003 15:24:18 -0000
Received: from netcologne.de (dial-195-14-251-234.netcologne.de [195.14.251.234])
	by smtp2.netcologne.de (Postfix) with ESMTP id 6081839F02
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 17:24:17 +0200 (MEST)
Message-ID: <3EFC617F.7020006@netcologne.de>
Date: Fri, 27 Jun 2003 17:23:43 +0200
From: Christian Sell <christian.sell@netcologne.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3b) Gecko/20030210
X-Accept-Language: de-de, de, en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Redirecting to different protocol, host or port
References: <8F81EBCA-A84F-11D7-AB1F-00306557E112@u.washington.edu>
In-Reply-To: <8F81EBCA-A84F-11D7-AB1F-00306557E112@u.washington.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

looking at the HttpClient internals, I see that redirecting to different
protocol, host or port is not supported. What are the specific reasons
for ths restriction? I did not find a statement to that effect in RFC 2616.

thanks,
Christian


From becke@u.washington.edu  Fri Jun 27 15:36:10 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 17200 invoked from network); 27 Jun 2003 15:36:10 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 27 Jun 2003 15:36:10 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RFaC5c012287
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 08:36:12 -0700
Received: from u.washington.edu (ss05.co.us.ibm.com [32.97.110.70])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RFaBXZ005364
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 08:36:12 -0700
Message-ID: <3EFC6451.3060207@u.washington.edu>
Date: Fri, 27 Jun 2003 11:35:45 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Redirecting to different protocol, host or port
References: <8F81EBCA-A84F-11D7-AB1F-00306557E112@u.washington.edu> <3EFC617F.7020006@netcologne.de>
In-Reply-To: <3EFC617F.7020006@netcologne.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello Christian,

Please take a look at
http://jakarta.apache.org/commons/httpclient/redirects.html.

Mike

Christian Sell wrote:
> Hello,
>
> looking at the HttpClient internals, I see that redirecting to different
> protocol, host or port is not supported. What are the specific reasons
> for ths restriction? I did not find a statement to that effect in RFC 2616.
>
> thanks,
> Christian
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From ross_r@bellsouth.net  Fri Jun 27 15:46:38 2003
Return-Path: <ross_r@bellsouth.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 42124 invoked from network); 27 Jun 2003 15:46:38 -0000
Received: from imf17aec.mail.bellsouth.net (HELO imf17aec.bellsouth.net) (205.152.59.65)
  by daedalus.apache.org with SMTP; 27 Jun 2003 15:46:38 -0000
Received: from rossp4 ([68.154.56.205]) by imf17aec.bellsouth.net
          (InterMail vM.5.01.05.27 201-253-122-126-127-20021220) with ESMTP
          id <20030627154640.XYKQ3647.imf17aec.bellsouth.net@rossp4>
          for <commons-httpclient-dev@jakarta.apache.org>;
          Fri, 27 Jun 2003 11:46:40 -0400
From: <ross_r@bellsouth.net>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: Cookie Issues
Date: Fri, 27 Jun 2003 11:47:14 -0400
Message-ID: <001101c33cc3$61495130$0c00a8c0@peerit.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0012_01C33CA1.DA3937D0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0012_01C33CA1.DA3937D0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I guessing that I am not doing something right.  I have a site which has =
a
session id that it sends as a cookie.  I get the cookie when I get the
initial page.  I then have to send a post and send that cookie back.
However I get back a error message from the server which says no session =
id.
Now I did a trace and it just send back "HTTP/1.1 499 Data Error
NoSessionId" Not very helpful. =20

=20

Is there something that I need to do other than
"client.getState().getCookies" when I get the first page to make sure =
that
the cookies are sent back with the post data?

=20

Thanks,

=20

Ross Rankin

=20

=20


------=_NextPart_000_0012_01C33CA1.DA3937D0--


From anonymous@nagoya.betaversion.org  Fri Jun 27 15:50:46 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 51110 invoked from network); 27 Jun 2003 15:50:46 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Jun 2003 15:50:46 -0000
Received: (qmail 2638 invoked by uid 50); 27 Jun 2003 15:53:10 -0000
Date: 27 Jun 2003 15:53:10 -0000
Message-ID: <20030627155310.2637.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21147] New:  -
    HttpMethodBase Javadoc patches
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21147>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21147

HttpMethodBase Javadoc patches

           Summary: HttpMethodBase Javadoc patches
           Product: Commons
           Version: Nightly Builds
          Platform: PC
        OS/Version: Windows XP
            Status: NEW
          Severity: Enhancement
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: ggregory@seagullsw.com


Clarify that HTTP 1.1 is the default. Attaching.

From anonymous@nagoya.betaversion.org  Fri Jun 27 15:51:29 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 52840 invoked from network); 27 Jun 2003 15:51:29 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Jun 2003 15:51:29 -0000
Received: (qmail 2670 invoked by uid 50); 27 Jun 2003 15:53:52 -0000
Date: 27 Jun 2003 15:53:52 -0000
Message-ID: <20030627155352.2669.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21147]  -
    HttpMethodBase Javadoc patches
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21147>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21147

HttpMethodBase Javadoc patches





------- Additional Comments From ggregory@seagullsw.com  2003-06-27 15:53 -------
Created an attachment (id=7019)
Patch to HttpMethodBase v.1.156

From becke@u.washington.edu  Fri Jun 27 16:01:39 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 78058 invoked from network); 27 Jun 2003 16:01:39 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 27 Jun 2003 16:01:39 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout2.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RG1fo0009976
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 09:01:41 -0700
Received: from u.washington.edu (ss05.co.us.ibm.com [32.97.110.70])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RG1eXZ006815
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 09:01:40 -0700
Message-ID: <3EFC6A49.2080203@u.washington.edu>
Date: Fri, 27 Jun 2003 12:01:13 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Cookie Issues
References: <001101c33cc3$61495130$0c00a8c0@peerit.com>
In-Reply-To: <001101c33cc3$61495130$0c00a8c0@peerit.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ross,

Cookies are automatically stored in an HttpClient's instance of
HttpState.  If you use the same instance of HttpClient to execute the
GET on the initial page and the POST all should be automatically handled.

Please post a wire log showing the GET and POST if the cookie handling
continues to not work (see
http://jakarta.apache.org/commons/httpclient/logging.html).

Mike

ross_r@bellsouth.net wrote:
> I guessing that I am not doing something right.  I have a site which has a
> session id that it sends as a cookie.  I get the cookie when I get the
> initial page.  I then have to send a post and send that cookie back.
> However I get back a error message from the server which says no session id.
> Now I did a trace and it just send back "HTTP/1.1 499 Data Error
> NoSessionId" Not very helpful.
>
>
>
> Is there something that I need to do other than
> "client.getState().getCookies" when I get the first page to make sure that
> the cookies are sent back with the post data?
>
>
>
> Thanks,
>
>
>
> Ross Rankin
>
>
>
>
>
>


From ross_r@bellsouth.net  Fri Jun 27 16:37:02 2003
Return-Path: <ross_r@bellsouth.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 48372 invoked from network); 27 Jun 2003 16:37:02 -0000
Received: from imf25aec.mail.bellsouth.net (HELO imf25aec.bellsouth.net) (205.152.59.73)
  by daedalus.apache.org with SMTP; 27 Jun 2003 16:37:02 -0000
Received: from rossp4 ([67.33.108.70]) by imf25aec.bellsouth.net
          (InterMail vM.5.01.05.27 201-253-122-126-127-20021220) with ESMTP
          id <20030627163702.RLPB20256.imf25aec.bellsouth.net@rossp4>
          for <commons-httpclient-dev@jakarta.apache.org>;
          Fri, 27 Jun 2003 12:37:02 -0400
From: "Ross Rankin" <ross_r@bellsouth.net>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: Cookie Issues
Date: Fri, 27 Jun 2003 12:37:37 -0400
Message-ID: <002201c33cca$6afece10$0c00a8c0@peerit.com>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0023_01C33CA8.E3ED2E10"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
In-Reply-To: <3EFC6A49.2080203@u.washington.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0023_01C33CA8.E3ED2E10
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Here's the trace and what my proxy says on a browser run post for
comparison.  I looked through the trace and I'm not sure what the issue =
is,
I thought I might find it, but I didn't.  Thanks for any help you can
provide.

Ross

-----Original Message-----
From: Michael Becke [mailto:becke@u.washington.edu]=20
Sent: Friday, June 27, 2003 12:01 PM
To: Commons HttpClient Project
Subject: Re: Cookie Issues

Ross,

Cookies are automatically stored in an HttpClient's instance of=20
HttpState.  If you use the same instance of HttpClient to execute the=20
GET on the initial page and the POST all should be automatically =
handled.

Please post a wire log showing the GET and POST if the cookie handling=20
continues to not work (see=20
http://jakarta.apache.org/commons/httpclient/logging.html).

Mike

ross_r@bellsouth.net wrote:
> I guessing that I am not doing something right.  I have a site which =
has a
> session id that it sends as a cookie.  I get the cookie when I get the
> initial page.  I then have to send a post and send that cookie back.
> However I get back a error message from the server which says no =
session
id.
> Now I did a trace and it just send back "HTTP/1.1 499 Data Error
> NoSessionId" Not very helpful. =20
>=20
> =20
>=20
> Is there something that I need to do other than
> "client.getState().getCookies" when I get the first page to make sure =
that
> the cookies are sent back with the post data?
>=20
> =20
>=20
> Thanks,
>=20
> =20
>=20
> Ross Rankin
>=20
> =20
>=20
> =20
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


------=_NextPart_000_0023_01C33CA8.E3ED2E10
Content-Type: application/x-zip-compressed;
	name="traces.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="traces.zip"

UEsDBBQAAgAIAP1j2y7pnunBxwYAADEYAAAJAAAAcHJveHkudHh07Vhtc9pIEv5OFf9hylVO3cWW
0EgIhFjtFXohxstbkJxdfxykARQLSTUaDM6vvx7xYkjI2nuXqk1SW1BUd89MT3fP0z09VCtXV1fv
vACpTQWoamU88gNUu82mPqUPlAmqED/vV5Q9yaTI/xMuLJKgmyAY17CsVCudMKQ5N1G8JHNam8ez
6x25kTbTmC9Jvhd8zOl8T+dbhuR5EoeEx1lae0wjeVlIdBPS5OxInq0py7M45afDy2Kdsegava29
rVYmdEYZZSZacJ6btdp6vZZDwihl01WcRJTJYbZ82cG9X1KfpPMVWGwimkqrolpxspTTlEvBUw7C
Yzs2EmwmzTK2lFYsoWmYRTSqVu4KyqTOHNaYaJB9ipOE1Oqygv4FhuSwcprQNhr4PQ81ZKWNfo/T
KFsXaBggXcZtdO/ANCAV8WkjeQin5fQnCIIva01FPxFhua6p6r+rlZusgO3OOv/sQp+mc74wEW5h
OHlG5ktiojSTQhIuqJiWPcTgo91zrT+w69V1V1Ubtqc3vW7L7TpdRcONpop1u94xWgq2ddfATc0w
PGx0O45mt5RmS+kqdl1zO2obTQ9RtwK2AqcnA9AMBuOW0dI1Gs0MJQIXHftS7/owhAml+lRrzFSl
VdebhOiaMlWipkowNUJjdqm6GCuK2tD1OtCF+IGIje8soWVspaskeVu6m9JQHJGJHijNJZLEj/Rw
wuVBxencRPNPMYA1orOEcBi3GZwDZYjRJCMRyDlooZEsyxAtiC+sEaFD0ydOi1JacItUK78DGgvr
I3kk5eFbnQTgFGTr1BrS9dV9xh7ETNiisIb3l6pzdedXK11Gi0VKi8KqVryoTx9pYrkTTTDeJrTu
PZjjLXOBOus26AbHnHPC9YbVyjJOC5IQ9mRBhi7JZsfMOVZB8MgtHvMEXCxW02XMseVTwsIF8ClZ
UrDgI4viyNoiJU5XFMXzNGM736uiaEw8f3yoGrtqgJGmqKibrVKAvU/Zo8jDQRyyrMhmXOr1/Jou
SoYLvpuoy+Jr0IBuVylSFUVDWDc1bGIdvRuAQ39IY5HvNJLsJxN1/LGA+elhhklWULETl/4aVm23
qzmu62hYazXVOm4phoKbrmPjum3DojaKsiWJU+vL7GkjusljOCzLJ1CH1IYE9ktgf13YryjwFfa3
EaT2wqpVK/1sWx7Mc2V1QotVwouy7mxj/qbgzGExt9733EvIm0ZDV1RV1/Sm3sSXml1wkBIgVgUV
40kCNCPrEnQgELADSVCuBvc0Azi75Fz1VjBOcA/MHoog8MtRgCKMleSdD6Q3nAjpCEg3GIvlEw3o
e7cHNMAR6N7QPZgwdt8f6Nvhs7hz3wdG2ZI3QJYYFOzofq/fC4QegeojxjlmeqDRnnhCbR/02YN3
gbDIEdbfjfdkt5yhCe3OjdiWCBPeg6nuYsGgqOzr/KXqQcTFYn9vQ9AL9oZ+ELrLBHnjxDYAa0DY
g4Xf7JPjDATH2tgUFefC6YyQczchqPehQ9BNzydodDdBECl0N+whZzRAw84H4APkB52L6zyD6+OJ
0Zl1sbuw4uVcjsNptL2oytuyqDk27CBvlsnFl9Vb+fxO4nTDawu+TNooXBBWUG71/JFkGHpLwqfp
8kVJPoB7lYrkPAG3SM76Ftx/kh573ENhcPoj3zsUCSeJwUb0HD00oQDiCO6fw2AZTpDwjEOToRzk
WU7TZzne1aBt44JL7YL+J8F+hgT7+XrLf0D4A1b5r/X/3187//927i93Qz9T537cveLT7hUuOjT6
7ftuXQ1b0z2jozc0raF3Me5gtd5UXNXDXa+ltexv2br+nV2N3mgaxvfZ2fwCjzfGfxX4MdFvUABQ
nuXSKkfrba5/NsNf5TlsXCACM2+hcPshi3OOKGMZ+2Iyz3I03cF3qw9QXMSfAOaA6yQLH/pxwbeT
4xR1IsFeoyROKWpCwAaEh4sj0442tAngT+z4mjlnGy/1pPFSnxuv3YFOeeqTRxos4mL7olRluLTP
XOhnr9OzGDmv8uvluTeTBlAUZjFknx+n4SFbFeTTXGSrKk4c1836Du1JiTgLa5r+t1b3E/f/99p3
pr9WGw3pVziv0+KnHhc/BZ7udTTMONpH7/PcO/Rg8KQlBT9E+YX4ViteQMDKCzVsEK2Jp0ZDCVVs
Go36xUvltLFV8LVIHHlacPHvhIlKJ18D76PXyTYOv9A02uUgtGtC3S6rIW9nHJKRQP7PKRIXSvHC
Y+ZIOT5++py+bk5fMdpXXzEiOy61zivbzY/ZdAaghFojl81Pd9tKvqGhhV+biK/a6NuZ9SP1Wt/6
sv7ROqv/AlBLAwQUAAIACAAJZNsurt4oEgy1AABahgUADAAAAHJyLXRyYWNlLnR4dOy9e1fjOPIA
+r/P8XfQeu408OtAbOcNJHNDgIYZXkvo7pm7O9PHcRTiwbGztgNkH9/9lmQ7cRInll+B3rM9u4Bf
VaWqUqkkVZVkUSwVxWpRriFJPpRrh/Cz0aijs9MH9LeH+3bn7Hf0CTvX2BmafbSP9rHhYGt+a7fr
WJrxuMdzMgOkC8cZd3QNYMxBze8d4FesThzsQSYP3D9DoZcORSkNdNN2OqYx0B4nluJoplGY46N/
dh3FwYA5Avfp2cnnTx5u0zCwSmAR/B0LA1zjEanz2wPTQi8vLweqYmFs9Saa3sfWgWqO0MQmr44t
0zFVU0dDAHfIc3UxKfbFOwc2drrmgzbC5sTZFdfxsxTCzwWoAZ7OYZtjbOyuA1lbBbmsS/N7J4qN
fTHtzmRQWEK4DlVjlSdzVGcuVKSb5hg51hRJEVDYCQahqdi27/E/Jth2ktMdirHtOHg0dpAxGfUA
tYQcE3kIkeViDAcrSbEb8mJpDk7ajJT4rjQDbwPnIzYw9PcVtHNcBeSaNO83zz0u3XlcR01pUQFf
NAsTOlotJHw6e0BFzejj14OhM0IXDw93RelA/Nvfrd//9nfjdyECYrwOOQYinV02WuNBphLb7U0d
/Lff10GupIZcQEA//REDRwxdu8AKmF07oG5s2hYfq9Lvr8XJqOL1JEg/29hqg6o7TNh5Lmv8ZHBd
QJ283aHWvN3vk+GSoPGtIBpSROHQZDFJKzqm+aRh9naw46YQFlHTW2CeHBervW5EXQbnvt4dY3UO
b36PNmWkOOpw17dhtG/5Fz3T1LECNs/9ZG2vluUkDGxP4MrS/kn9q0g+8txGjUhGwp1lvk6Z6eC5
aM1MQcccdoQ28dxa7OVkmgwPDOcKG4/OMLUgyuvHOWJ49qnlOUQ/K0+K5SigWqORadj7c1e8KB+I
PewoUsT4F9bYbMY/uZrX+JcB5Mjxb4YjRALEJh6GTzIC3L75jUwGbFRZg6CRG+MbuTG+kT/jS3Jy
HNTVzAHuZq5kADmaK8m66UCf2L4xup0444kDmoOV0W4UmhCtjzAk26KwGts4AzhwEe0xGMj485+E
+AiKiZ1oxlVKZt0I1o36H+Jl3ikWDCaLIN17eYC7V142QazIjVDdOz4Gi+tO5iRUEmV0bk6MfoQ2
zoAlU5OE05cwrAyiA4/UR3xpRPaAMCQrnKf0e7wfk1/BFgUn4u79T5Y5GafBx644CcBFKU4pWwJL
753ASuYEVt47gbVsCay9dwIbmRPYeOcEVqVMCUwAbssEZm5mqqX3TmC2ZqZaee8EZm5mqrX3TmB9
vRPXxdYztg7RtaZapm0OnP3Ly26xErlEvwnmKfhmh+jc0goIPvl5YiACAUlVmMCDj4o+XT+kgP7r
/p35gi3c3z+ZHqJ29+7g5iwKXk3cxAFn310FPEQnl6fNX6X2ee1cqoid87p8enZ20m6c1jrnJ+eV
8/ppVTytncnnck06aVTLZ+1GWTwpn1RPS+UKz52K9UrntFM7kY9Q3xwpmtFcXYw4Qvh1DOjtZleB
2aVc3QcG7QPRZSRVDkUR/kcYdITGijNsFlM07MpU6cLfYWAH5ie1d4/ViWXD/Y7hNKUPas/W+s06
7pV6Um/QKA96ZbEhKvVKQ62r1UpPqgHmniLvSxLglxqN+r5d3ZdS0DX3dA+Rqps2joK1YQ5yV7o7
RJ27ptBp36LO53sFXX5pK+jisqug28/36PLmFH2+uUSd22t00/4C1w+o+9AWCmNT19SphQdNgew5
89xhsaiNHg80tdencoIr5RHbxc4J4Dh4HelCCjKDTf4F4/F+W9eecTqAZGFz313ZPERR3bVWjob1
MB1DF3Dwq1METdGPkDokJsZpXnZv9+ugENFSL7N1s87Jj5XzLvS1TWpHlO5H+XSmdvC3Xf1Rhm4m
bexebP1mEz8UdYj3VeCKZeqHaGxpz2DQogBWG4n3z9dNb1l3WpZxM2yN0OnnbGtkbFpgigjjAjsj
G5cz80HpsmAdyvoSh+nLZzoeLQa+BG8vIM0c7p2iWbukkzCsFW4HS13878XiqtOyeu0uhiis/j6l
PclTsXWo5Nja/KzoWh9Ab1Zo9yNGrBs3SGfbsruxYDK0ZGBaI8VhAr5kNBdtnCcfRVXx2MH9QyQk
8aZ4zven5t6UEEHO9sxePig3mr16NR+zlxxurE68HSz1t8CSp0Gqv4VBakjZG6RlmOFMO8D/mCi6
vXvb+xN8nXWgSjnathlwRtuWxIXlOd+JPZUEtjZuCkFe2Bw5MfvT2LtajUqqDZnvGmfmW0CN2iYN
usd9mGKobtgW/NVPDQTboIkkLFb35vloh22ez3Ob9HVpnr+Tis7P95dIs5FhOkjp2aY+obaEWF4S
xqaQUF4daH/Ga7A0YusKTN3Upy/EFvpErOyufb6/2ovAt7FVhPSBZY7QDo1WLxZDg07Af52LY4fI
accLbmf5IMk6TYj0kjSzOzQnet9dmQnG8GsGSMvtDaQ1K6s44bPT8qEoJep8FGZ4X0sHs2uqT7jf
Nvpud7YjcbDF1ctroJQaW42rj8KYMK4+ADaUHbdjbJB+4QyDOnOwBlQyc7w+3wJAxrcUKaL+U+NL
EIOSCGduUf8BaiKj/pPbMp5bsGZ++sDmZcjyoZTMOkRG8SWGHBmvlgnkiAkM4Cg1tp4+kAhr2vSB
pEizSh8A/JXGG6QPBPCu8WDclAGw+YDNTSNw0weQ9miYFpnZeNeKTrzuKXkv3FdN2sYskgsAd62R
XXLBKrhtJBfkjDUcJdx7HyhXVgDAA4Z5AfaWAApow1JAomYElwI8tduwIAAoZDGv1YbUwN+e/rL4
tmkxSUnIOi0mFR2p02IAe1V827SYAAk5p8WENzYbv06uizn5dRlAjvTrZjgSp8WEQS2JeXE7IWQG
bmcAOZLbJXk9t7OIIyL7Xjzn7nxFiUjOTURybiIqb0FE5WgRpYlBOQVLxXObRVPOTTTV3ERT3YJo
UuBYH+MIcBu5caWxBa4kwxEvT6t8WJbEZJlkgU+3ROFWMskAX0ncaiZZOMbUmWThYBMHIQO4iphp
EHL5sNYQozPJyLzu9pcIVaw1xK2nkYVjzXgPMRxJfmlkjPjYtSYBOFatea8E1uVMCUwAbssEljMn
sPzeCaxmS2D1vRNYz5zA+jsnsCFKWRKYANyWCZQzJ1B+7wSWsyWwnBuBmWVpAcyalDBLqxGZpbUZ
evwsLZL8JGWUNLQZVvyMr067fSrL4mldrndq7Ua7flItlds8dyKLjUblTDrdVsbX5oa9m2woIFOW
mJOXyqVGvZEBvLQJTJuxBLXm7nNTTJuEBNjKbNh6P5u9LsZP2Go+WBMc0KeJQTpvQJ9o5y17+kTo
47m8KEyQJhUAuPU0KcBdlbabL5AXyg35Aqsos8kXALh1KfcY+/8uLJL4Flhyy0pYhyrfrATAGuIK
pstKWIWZOCthHahM9tkB+JL9zSbjatGb4Tnfn5l7M0IEOduzoPmg3GhBpZwsaHK4sezBdrDU3wJL
nrat/ha2TRazt22ymJltyxJUnmZSluOZSeK+C5nRmdbEyds3ccsoszJxyeHGMQty9X9YYmLZniGV
38aQ1rM3pKXsrN87BZWnTS7FtMlLixwCG8l55scCtvirFf81ODPe2wYk1U0KcTIZDDDp/fMkwx40
hQ1UcFkqYgFq46fia+P3+Y9jsojYioJXjwEP5NQ6djRHx60OXZE7CZyEBPpvw5ckg84eKRbh94sy
RY7JcwPN6CMF9bBD7v5p9o6LLpQUxB2PsKMgQxnhZh/bqqWNqaxVdy21KXSxYqlDNJwYfQv3bWQO
gDRzYiuGe/EnIVdxeG6lJQcIdSdjbJGx6RGjqTmhNCPbhfiiOUNozB22bNNQdOQholHCyLTA+Nvw
280ntJE2IAAQ4ECKgfBorJtTQCO0/sZzmTT+CU9fTAvaNGs5aVkhQHHBp3z2AH66K6o85/+FvMXV
5WtEOLJ8M+yevXJj4S2iAgHoGs8Zri2mkR7eXXfE9C584hfWfpcugyiW6QgjgzzkOcVaaXEYTGvl
ncVXXGESh6ZAs46Irjnk3cCF7V65F4Tb8ysXSODawE7wmnxqOlRcQlRHKYvsvVjXjCeSt94U7CH4
KerEQRrojoCGs/2T0N0TnsN2caA8k5fhkZkpUW4HRrpiPE6UR9z8WXlWuu4921LXUGXon3nO0XS7
6MbkH/xpC8iZjnFToJsofwIQF7DQOi66f7U2oGpBZ90lSTzgog4s6Fz2gU63eFALiXvIe+KVKwAF
PiAcQ81ZAQN6fTTDlCF7itT0RgGU2QGSsQn1HlVTN63my1ADR5OwrCn8UKL/BETUBC5F+NdoCOjZ
vea5H6r0n4AUeqenK+oTGPkxmPxHzWiKSMcDZ3bh/jHE2uPQmV2+aH1n2BQ3iuIF7IX54uZM7xRv
rro8Rx/YxXb/2505noy/1WTxtSSKtD5BYefF6Lf75DcFDs8KHlZ4pQBjsvZPpafjprizd4Q84ANT
ndi7e8wCi8FfhyBDLi2CJIo/CuAOWGA6gAkq1nV7rKgwPnhXY4WeiwQs4bnsiPAosWDI7s9kLfxw
LpH/hNYHo2ePQVudaMUqx8PpIQ5B6nGkIoHwDbMHpPVaxwMYuMBHUFTot8/Y6iuGUlAsTdFBgvoz
djRVERDIDzel1rHimanizN0uXvqJ2vCWMwUZCxTroa+7rQtzhI+Litdi9+e//Queo2yYwbVh1MfF
KxP09ECxxz/9aQ+b0jrI9DUC+rhIWgG/oD1Ft2VvwVi5LJN++Wg0LaL7hMnQvjmbERuXPdUI4fUF
1scMDIe3josw0IaznPzsTGwHxGIhEhqiqfgQ7dar1T1ULtX3pXK98tYMjdM9qjG7ZBH6ZHYwARwx
NllCzM961RNZrzjCqCfUALe1Ul1Ez24PgjEtF2QuRvBkNng2XrTKWHvFPKcfPGoDv4dLyBvWJBl6
daQeVcTEFG60tK1AA8AHW9+EG+W5qJuPZudkoRXAZq8dZREsFjgeK9Owuc61qIXNtbHpxVHKhToW
la/IqVS+UhMXx4wQwf/MczANKcJchMzjFF2nQ+Ow900djZuXV1KpDi5ji42LRCOcV+dhiLvuMsFX
ZbqoG/KMqQ2kAMNBOx5WVhXQyqLCwbLG5Mi7GBYpLgqW4aFSznp4iAExQ9pyG2gq1bwHmrgYlnpd
tVr3XeDlWdB82spzrTHM1E2lf0n7zu5OZMdSeufQL8ha3DeywqkNdgp5NIT1h0cwz20k+Y7WjbEn
MONmprr+5lRfTxfGrO+I8nafuNzfEcFn3rqpT3IExdWSzEDxfOIfOuSRAQ9+kO7Udgc8AZnGtTmx
8e0zWcxrCpTI7osy3t3xe91OASXppHtz2BMnAnAEr/wPPLhxRuXFj2eTStF31qDNcsV118iLdMlf
cJehBf/L5UE4hLVeVy+eK363X3YnqqK0wOwmzwV5ErAXjPwOsTDrWb4AnufiIkjE+KXvCe95jnC/
MfOGfNaTV5H3rs/9wOdrBbC8shHgd6Ne++AtdBCe8JzP9yBbluydx/kEXTCKF2sM64rAeC6CtpiI
2AXHc5uhzHxZqbwsvdF0cX/Cl+ASlHVShM4/70jeF1MHiAksygQ7TlCArtln5M3iGLEHiNf0lgRQ
4/UQnlv5eMZfWVrmr/sS+qCMxkekl5gTS533E/fpykSBeYGJbWRZ6/XV5fVTLdKF6Rwb+r1XeDI4
wSrX1wvWHx4ZhbA8ms46Fs+tSDch6Lg2kOdWPvdlXCsti9h/6ydfqv6NBBPApAKNMVOoVuTMJ4Ax
YDJOAONAzG3aVq3JcadtgaXbwaBaFcXIfcm4SJKIvJbKTNQqs/2R9f2H55aWppYXpogUcJPEW/nL
KaEGhzq67T5x3lZWdcqhqzo8t84CEJAE3o35skBMuTbrw9XFPmwfIurP0HAMw3z5y0bbvLFoEbC9
kb9kGzl05kbWnbkmvYPOHIOIsM4skv+EVsZIEoi8Vkrbmb1BX6VRaKE7cSQoJWwvTm4xxTF9+EGq
iEdIIdnVNg3BMtwjFUyL1L2nIUzmi4EM0glBukPT7B+4bY8KQ6qV3h2DWfpULfMBsvYeBshaRU60
rhnUuYhdX/C3GUSWwQBXzA9NnPbCjCp7QphUNHuz33gPKtqQc156r0uplS8NhkyIiwCywSIe/2V/
H91g59zcfeg2yXdFt/CF7OXO310foavrm+b92cnZVeUIdb/cN0MKqMKEfrSH9vdbKWhJ2Qzd6t5d
MFCwwegFOvpSP/e7eQrgK91loYfM+sRif8kG4cwjYo9GqMeePJFo7oAZIAu9ES0k5RhY2pjEbi8O
WP6sY3M8KgntGsP0o/hz95tEjORfJ5r6RFfIiNv0DYgjE5GVlWyyljBrKp2Q0A/JirYX0C24AxSL
Ic+gtUExEGO8YothtrdqjaWZv/xDh/6LorQhytls5RyT4G3wN4mT2VzcNeE5um/y1wm2pqthAmU0
ojkTTRomT5dv/nQjvQfWaHvkE75rJOfDjRceav0+Nig5PNcEwqDXTXDzH1sjyItCCaMI9LwJWulS
1B9EkiRvh6TPNvZoauv6lokK6zE8x+C+VOcd5hz+MXSYTAkP7/g8l9HI0ijL+W3Uej94LnxWETr4
khC11hlNvfrFTVPZtfcOSUyn6+y9l/bMb3hOKG3XhpBjumbmjhMk1tXfHFZ1GEOawmLs+rqveI5+
RxbWX4z+HBhdafdC10ulgqvhZalWsGF2r+s9xbKbUiCifYptEtNuYWdiGSAM3cZHfghuIDCZ/nIZ
znPvieVBE0NyEDzVkdBIeXXTL2CwrrpDxVea6QR9hh7OFe3cNarbb86GpIa+qU5oAvR8yDugTYqb
irDddrHMybZGEYtD1qi/W0PoGhjFC4LXnGnAHK6ojjDXHWG+BB9S3c7QP7t5UADwSjOeSCbUhpSn
INzWqWaPdWXqf7q7E1DOB/PF2CnM7vAc3LNJYq4Nd4suzk/YvAOzB1NK4uwZz02RWDAwSXP8dAE/
YIDeXnDh5sf9k1oa0vKZJZoZHPl9NSC6Y1YPRfHddMyExGylYeE9mefW9OUu1sn5wAqiaeq0D7Nq
OVAub13L86Xo2HbZQXuOax8872nedUo8tw2+HJtuHrg7NRHaV1cF9LkrIOSSCNM7f6XR3TNx/4Yp
DPpsaORAaipQe/WV46ILObIR5RwaQdvQautKTxkpZIX+7Wj5ZUaL/QSkmODGvhUp/59HiqX90zTi
sKWaPS33Pi1PimErNtlVeDNiOm2XmI6iawPTMogZO35Dcm49csjEW+mbMXhTz56YB58YtwyIynMT
5/jt6Dk9c+k5xbryolj4TZlz2vGI0WzH0sgJseYAgdgmo57GrEGSmDld554BPAcF0voxenoOtHzy
Ohe4vdaj9ra0XFy6tFyA6mgauzGWsh9oL09dUi77ytAkqkIqM7wNJZ6yXOq6ZphaDFOcBzE3HjFG
X1PijFFS9uPlpae5l+aL25npAdBvQMgvXZeQX9yhkl1tcyDlN48UbDgT9WkaQ1myHyivPAFdmRPN
JurCc8dvR821NzJdK5qBY/ToHCg59Smxprpi9GMIKfsx8rrtE2PbijqkQdOOYx+/IUXeKHCtqUPt
UTHelj03PjHgX9mmE0OH5ewHyOuuT41tk/+BDo+1t6Tndk6PObE0dlHlQYznCl+bhhNrbJKzHydv
PGNzg3sWnViyMyYHYr74xDwr/Rhz3DxIufBJeUEXymgM1mYIUJlVOPsR8+bnOUU/Y8vGPDd9S3Ku
5+Rc41cynzPfkpzf5uT8ZlpPMfQ4+3HzxpvO3ZiWM0QdxQLegE/MPJPLg6TTIEmnyhOQ5LwlQbde
B7sdaia7UyxnP3Deegtrt086zKBGcSxgDsR4y1m3Fn40jRgWMHtS7jx/6w4bhj3Vn8GhMNgXI0pi
KWuC7j13635o9jG6tHWeIz7p2xHU9bp515wk6uZ5kHQaJCluNy/JmRP04LmlD5i4pTbG7G5pHtT8
6lPzSue/jFOrHCj57PmAnx1lyG7+SuXMCfniEfIFWyPwR9md0Txo8UzOF41Uq9RimOIciPnqEfNV
sYea8UjKKRvMqlvNnhzPN/6KbQcRBpGI4Bj2OAeKPHv8VbNV07A1I0bXzoEazwH8OjVHIK4YelxP
Rctx0d3gTIUmVwpziG0oi6X3E9uwPWLiBB3NAhU6igO+nDWNGauwtVatiSb40+yR0JyVcIJyJOHy
9glf2hPWdcEPO1gXdEDyDTzJaKFRB4sgf74RRUlotVWS/D0xHGJhVt+Q4Y0+WB/0AXV0bIFC6Ktv
lepC60QxnkJBVErwUDMdrA6XH/LcjViuwWPLVPqqYpNDXn42J5ah6Jo9WgUlNeDdCZhlcLvQKX7G
ujkmMZCrb5Jk8w5YcMea0LyCMMyy6L4z0R0lDIZIYCyVll19S5bIhqutPRohz2r+/mdvQh+hfZ7r
DrXxOJRTJQB11p+4BcBD6CnDYwO8CEwPhwhBJ5MXHGuKrghvEEntekGfLKV/7HtjQWaC0M5esQqU
PYe0SwLazxVV0zUHtCmEmgo8h5mBEcYUsUo2NQ1sKTo6mfCcK7IQ3ZDm710pPdMKkSQBZT5jywiX
tFwiAcqK7gxJTtrSc54jEERSttmhDLkw7bHmgHo50xCqockXk5FizGu9hLxUJztws/MG0APotWHq
5uMiQFLSi4i0TN62J1Y4n6QKefwMDQNrGqIQQHkCk3SFH8N6aRmYTR8h2qND0NXIVoShPGKX1d5E
PcjsBn1jAgOFMwlXQpG+Yj3hcINSgSbdTCw7jBnw6NYZYisMcxnA3g0V4LqKJ064GZKB2XeWOQBV
07zjNGinDZGiBFp1NyHHctjknJV9hOBDdWKB3NaoGUjqr2148a8Tqj2o4x72G/ImgAb9oVGuITyu
0KeOQlSC2Ltz0+xTQqF/hqkIKYZ6jx1FI+r7iZz/G6YpEsi2q+ihTQWr0FU1HK6AAL3Lc0+aruO+
2wUBzQOYjDBQMuh+17HIGDOF1+50xTBCpSyBJLqT8VgHPg2VMF0r18mUlaSrqOZoNDE01+qFIC0B
/UCQFo6pXKZPDZuck7XGcJYrZMpjYVLqwD+Umefe02DP6HCXy+/Oay6/J6+5vG2vOTKxNFhOZ6XM
M3p2y+owVN+GxlVLbxnObk96I82Zrcm5aa1zF7qKtL73juSF7roX77FZwVpICSXnFUSSWkydpPqe
Okkjb2Jo1Q9aYoKJOTnRE+TFBmOfPXa/vobbeLgD2CN4UJEyooJFATJERrzgbaBbZGkEvlJSfEzM
Sw49T+CzVOYoDJUMhLGxzIM95rnwYi9bIG2l9JdfyoAUbIE7MBEdK0azktL8l1jLOeTVKvdcmZZX
hgas7TCkfEPKIY6ts9VK2ebi+2V1AtRvPBIkhH6vVOH7aIhUL88KtvEcLdm2VUpWeyxQxFTeILrD
5jVwB5xrnttOL82rKYHKJjzXDKkIH17ZpNwIVjZ5Q0HMKgaRnacWwwBTlXL3Lslxn2HFVphLrbwt
lczlV96WzBglWYDQUu6EDkjN8M3Fubpn7fvOBTr5DX09O0GXp8Ej4hgm2FtohAL2jNb/2Fz+4wdb
ecb9BsyurUfsNL8Z+CVuQZAgHFoVBOSceV2Qr0PF2bGRgr7iHvD7p4UaITNbsbZCSM4sJ4MwaDDP
+SXPVoqDBMqAuCok+2cQkjYcStL4FS3p2pE7yhxW5PHrkTfSHEq18auw6m+Flzbe5HGtW2/5ZPqE
uQP3Pi35fvhDbUD+Q4RO29S1/pHni/Pcfs90HHO0/pV94MjhD1gk/4U8JQevhj3ewBjqffLcoXeo
K4BS1KdHy5wY/X3vTEeV/jvyjm51kUiUdwwuWrXylgsF+WGfT6J5bqutDykEugZ3ts4xi6z/W+YV
eTUkON3jue1N+KqNLa5UZYds6eBibwIdWBKQkWW+uH8xnjPRMS0DW+DEd0ndyG8wBF6efrsKVqqv
+6ytbpe1KwfRztYL6JCUzYYFQ4NqUs4NAvnxnJ6l/O5TyK+2zUXc7JCFr5YRJvJcenPC1JbSdleI
a+lWiI9zb9E8IM+NvQutPc5zipDVBmSFZQOynkH03odH52jxQPDVeq9LB8PaTlP5sFD2tdJq959J
PE3fK6/LdKTvFhrQMaHPgA3SgOnkADXdsb0mWF112GwvNqPmH8dwQoJJRvDd9L00ZFESq0e8LRJ/
afQn0MQZ9SmVEubI70otsf2N52Ynoi2u05V9NpwZ6AyIBmiDwaD/u6m/U1Gqyupi4+xckI5iKKS0
BD2LkbUB8nYboG+g/5Ksr7uHlSj6NhuRK3SWIa1eznPTMxH0OCNyXASBeVCD1dzwXFQwR4ON1mpS
WuVyJWvgIds7KwXflwtAz/ZncyFmYb4FbuWyT74kJJ6L6arUZ6E3sszuYtbrOW7b1+vpvb2QutB3
3bY9M3YwcfOH3iqj27d4nIE9ulRN45rkKxqP7qGI/unhs3MMyo2lcwwulGcMwzHYXjRSHHWIbYRH
ikZCRfvQSNXRp8gx3SOhNKNnvqI+PJ2Sk6JeoBH69C8C4+GJ2XCRzWeO4vUCp3utcwvbQzqaEGfn
jLSfpr2wDS2NLBJiI5JzeE5qEVGlERSLiJK3haWPpoC+bG7WxkLwXPrZLINFaMil+KenrLo+d5bZ
n6iOXXwwTf1Jcxb8T567ksVyuZ7cGFwooxG25FBTUBGXTAHZD3RArzCywRYpFqnD7wBZNtErUkjJ
VS6D7KuAGh6wd/xEzIrq6YF+7nqQLCz1GdpruUe3kC+Q92KcLp/E34s+eyggAXJodKQEmHjP7njN
dJ+tp821kefy7Gnl5D3No5CmTcwyVg4Wz98mJK+Z/ZWqpeR9r3vN0u1IEpE3t6mKBVEUPyJKLR2N
YvSwuExiietsVPPttrPq9JHyWS+dXmst92b92duvXlq34LlEAUcMxiGRh+9lsZqGOlQMUnTfiwLQ
TTdtpukMNfvATXyx/0YCAuHSTxel/Pn9gG4lHwm5EBiSsrqpd/Eci/zm+a7zxGP3kAO2LPhGvbzl
lmyK71KHze71B7PX7A8+kNNr7CYF+MEtcd781P5R7nzufnDMF6PZdsCeOwvLnkSfvdtu+0k8zH8V
B65PAxw4AeunjUwLL/Ng9oC9GsL3xYWgHpyYtmMaKyygd/1eEFUKv3Yoit9R+y+vAu3vDGFIeDSX
GeDdZu0H3xkHHn4NcOBU0XXFXmaAe7d4bloO+moSX3DIZhS/M1ZcXwZZgR3L1JwVXri3YyiD/B1x
4DzYHYi8f5TFK2XSJ0d96yvG8ZwEYDlo/gKzVmyXJwmoSMfGzoPPRp4DRl7A/BV83P4y//z7zGwr
f6925cKchA0t3u0Ynel74kAnOLZemTb0pTZ40+SNJT7AQwSPeI48/K/UhgXDcq0pI22ZB/TmvO08
F9H66vekCQ+B1t/gF9AEsoC60h/cUrnwgLUO2HfGh5vfVvhAKs2GsYFWoGX0ub83bQjahVvliSym
LbPAux3DMta/V2twa5GWBr3ucrXeaHm3/0s5cBfUgbuhpit9rI+H2sok3H/Gc+Qps1Wof6/9oasY
YBXOSQEjUhRxmR3wGJ3DDMR7zMoP6Xuahpx2AvyY1c5cGSzmT3iugE4POgfvlxtr10z3F/99hy24
NgG1t+57666IMreiVE4S6MJSvCc+8OiV/SQwo5f2ydmj5Xi7Qn6oT4xAFDdwmyUQJRY9a3KJ/WMX
mcJFUiKcb4mJ8K9ajURWK6cMfJhtx5XWiQAMdMRx8MFD5FmPkGcpg8Rzs42TBwXs7plOi8vZRZc5
30gOWGAzpeFvpsgVbyOQdduIvuOnB5B/PHce2AE6mQbrY07d7Z/ZRmMwVo0w1M16pll2bHt8C23j
Ob91FMLG5q2gz01bmBS/lmFPi8LVKGcT8LNh05znWqvBpZ4caRFEv6Yp67ZivVRfrYfKtA379g2e
V8mM09pAbc3c28miorKUiW2el1AJUdl1aaBpsGektKpfqzeWxs6+YpXhW7eTlmGdVWGNpa9LBVxZ
G1zKVWlL27OryXFlIzqvELRXGziO6Lwv0QdlND5CfnHhRQGurSYADa+8bcMDVYHnRYHjtH9NWWGX
AeSw8SjJV3LV4cqbGt7a2wq3Y+o6foylzt4nzBbojVtI6zonoM0vBR2HNYs1pNkVPF/PorFFI/1W
vqCfE/3y8nJgE/uiPVJR9fFAmeiOm6+oOVjrNy8ubh5ohXzHAlEVz0G6eohFXtvG0hv7EDemMbbM
gebE0czZR/m3kkUnS2/q7Zbe2JXwT1/w6rjHMr7LBzewivONm+yWeo/TUveL/NvHpK6V7ZnQ0hu7
e4GjOOKIK3iCB6vM3rilySKwSWPdeGvXn58fCsHs0ZdyXewq1d7Utr6xuzc7+iWW8s7Oi2FV3Tde
8/IOvvDOH4qluu6XnvL6Bxixq26urmoi6HGWmcsx/Y63y8hOQ6tcE7MG7pXVZN0yaJMzUnjuxnwJ
MALImu8TuOl39D0ErwnRSSZAdNQgf9zXnsmJDWbvT6w6klddcGyC56+ZxiFQZuoTBx89a7bWI0dA
TQ/toflyRCv2yZXx6xGtCHu4L4kiXPxzn54CcfgRLkVkGiNy0Ao5s6lJfgCupnSEZvcnzuy2eGRj
50EbkZu7O0Otj6+UKbZ293YKBNQeyB9eW9rV4rnIHHfGjcUykzO0tDUWtb0pLdLAcys5cplQta5q
MhuRwMOl2s/L41kUkel8kkB55EClY69UclMg5T7IafA0XsPC9mQEHcb9TVeyl3K15To5Z2sLFKNt
cMXLsTTMF0sZB2ooRLoU5Vo504JrYTvBPOcqUG3dXnDkQZJRLMy0EYHcWi+N9s7C++ScWYfMC/EL
Ah1EXe/8K5JEe2FOLDC1RAGJpdUMN60WHAflwHUxUEiq9gMw4xqT0BPiSyxV7u3MK/eC1Qyp3bv4
9U5hZ2yOv5EkJ/jTr80gin6Z3ppYIIFJEztQrXdeq3dn7yhYppcc+abAxQgwW9grifzowP82ZD/m
e5ZRPjKeHU86GZOE6ArYXVoPCNuOTc8pjaKpUc66yOnK5j54qizeXRakLE5R6L+tcWBuvVbMAc+t
uO9+0EaJ/vPnUIFSyOoQq0+kZgWt16z5QiX+i6baCwd2/rG87AP0dxRdRx3v9IXIUaIiZaoGutLD
OrExlFTPA4KuSHwjwc3SJa7XgcuDHRoyNBjsHIEBcD0hqSCVKntC0Hla950o7hwFXCj38FLUfVZR
cZEJx0VKFpNznRk/UikFqzqYysLZtX94oRp0CueHa7yhCgB5CVRALogJFSCs+SSTIYb4S+UsanNa
W8Gz4DiteiI8l6npsZWF8zf/oGtdwjYaGq5cdiLlKqWwL+6Bo0Ft4rmo5le+J3NiPS4cxPrH8jms
0dKu5CVtIC2BtMuJTYnX9OLsCFoQO8/NBJ+k/RGsq23J8tTexNmq1L4/Z2s4DB6qK/4Rcqi2EHWS
AbS8kVefAPoS9IlKCgvocqAY4ADPTWONr43vyh4OFk6y/iP8IGtwu99UDYDKBGpQTWEaZ1woelx4
5jk1jhpUpe0Yu0zwbNfNGqrBA8hLf8zjkYVttHaNpVGTqFgtjaUJhGG7ekUceQbNKn1PBsY9cW52
tPsfiye7C1tr7IrAgbAEAq8ntilLR9pTkfMcozHZ0pytWnkTz6la+Q6XqcygXpf+6JiG7VgTlU2r
c5tEAFkJtLqRZkkq0PCYWl2rfEeGbBT0lOTGHwsBr8LW2roi8VEi30gSExuypUjfbUucyY41Kt/d
2pMeXHsq/eFvYF0pPdMC2mH46HuLUfT0+VzbvmY5Sk+kaWnWuxe5UEQPpC5Bf2mJagvKsD0z848F
57jyx18ndBaOaNC2Gb3UXZPyEv8/EnnIUvK17qWmL61PbYEPLKYmEzzxXaZaKXOlDp7tQNSb5zZE
6LHbOqLUj/qyqs91vCL98Qkb2FJ039bx3K0zZNjYq9VzUHU3bso9ElaSKzw3fnXV/1FfCINiU/4U
a/E812rrgJOwIiycwS15zG4Gs+AWU4fYhGcLJK6JtfELAJDDg1lLADAds8ZagaIubq1xW6AkGBkZ
dsQxz5HuTSy3ZkwwarWEFuOx3ZnTFxq+xHPrjRkN7kEz4gUSfKLQaE0SWbTQ/WisDXuCQ13eTh/M
BM/qiT/BoKsPPBevAks2bWcpdlMvV1KezsUcVJ0IFRO3YgKORXSVBTYTlVGQZmTZqqWNHXTVvvn0
uf3prPmz8qx06b2MqP3L/j46wY+aEQWOaYwpFhFCPyz8Q6h7eX13dYbQyf3t1+7ZPereXJ6fn91n
ghDGmN2+qU5ItZkDnbgA9h76l6E8a4+KY1oHA2VETvdpIsEwysJ/ssep6PoahBqORtgQWRF6xxzM
EYFbZLUfCQmOeWW+YKuj2Hh374CeerQrPIIbaQp7QBsYnBDq3Oep6MuiaURhAqoCHiAJWsSvThR0
JqsIM15VsSyFtJgEoLbJ37uZgBaEQjZwjnsrGZpFL0bNjVDr0TjSfbQS0HePxzCtxza8p9BMJPe1
+bfodgzzA5C7++QUj+iaI7lDzrvyTgAiv0cmQRWO5loxwKvznl5gfQyA7CeeW9fsDRaYkBwgOJqF
ZVYWhsV3zVl3j1VMy95ptkNa/oB1PB6aBgYO8VyQR/635K1TxVHQmUHOc6XPvppWnzBLxbZNlvDo
zdvBgDCpDbdsRzEc9y4lR6O8hnYuP+2Y4+ksBJFgulY03TLNEUX/tAB4kfsLFV3mYDNkpBfJ5HOO
cGo0T1f0b18aNky53ENkPHIn4BrOb0ZTVGWlyIu3IVO4WcTNXLD0WYAO706HVKAkonXvdh0TXFPg
l6lqiuP1FA8aeQi477yUn0U47rMFIVxji5w909dsjE41e0xHnQzbSyMpioFIknlzSVFy/ITxeKZ+
5xbxLUmHBN0h7fW0p6ubDpCtDjVQ8rbjYKM/U7+FZ9eYNEZTfeMBbPMb+gkGC+MRgAN3rUwF6kcJ
FIOREvNmflVgMtR1lMFgiSowd4T+ITnt4ZYkY0BXMp/8TmU+FVBniAekR50oT34zgjiWpXxCjm8z
+v6rgfgFT+R+szfkNzbqzJIN7Fz7bT0lxlBHF9NHDROL4etYn1oh33AB+pVns96Pdv1brs3Yc9+7
GyrWSFGnbgEdDRTfcB981sEugQmBDjWrrTODfjOxiHGbQSenKOx2btq0/9FFlb21ZPg6S9+g/18u
RdjptPa92R9qA0BaoZRUI3zQHCarwczr5W3jmUGzJmAJTi0wy77QzYnjWS16f241OmBmQe+KwbdJ
j6fnSnrXd2AcCb+uoE/N+lmG7VjcJpz5AoG7ZFyaKXtHscau3+B1loU3z2xHG5HBLoLA+qEoshK4
tK3lU+jbl0UXpItfCLPch8Dopcd3AIMMNPAHjLFLDz9Z2rynnljQwYt3E0Mdhr58aZB0TtLma1Mn
aVqBXiAUIoJz4zQ/fL9pmQ/zzquQtVxazovnlozvV0xyscGGTUCPLLtAb8zZ5Y1ap5YycObapxmz
izOS9GMFOvrFl3Znpfd/IiX858vGsxFyMiYm0jYtcpgOjPlGTp04DnNXdjJ8rv51tV1wyy8oARRs
PqMBaGB2ziMXk9Huwjr8nk/lMc9RDlIIdGWevl5AmqHqEyLYw3mDFkB44gTn3DVe3qBo4SEZ/z3J
g4bQw90JNV3i1uj+IGe7mElvU6FXOp776m4O/C0LvuwdpQET8SmTq+qnTQuicJQJwKWJaOf+rP1w
1kV3t3fo8x06uf31rJsJngGYLGqXZpsdSuFV3/tXFPBqcoZW2dYYdv8ymy7/Tfl971/Bq6YQtAIW
7rcehprtTdd3fwDMH5WPwh7SbGPHQTZ2JmSV3fLOW96HyTfu24hAJEtXdCij9kM4+k8m1BeLZI1k
dZ1jttCxh/41VvpUXWgeb1OQvHxeaBJJCG32dEV9YqCHcR0M6zA9cHFKM5xiVvAJJ1ETuZnYSFhI
dZdLywntizn5PXJMmpvIvFCfW5ynLv/dEDIhk/74KKxm4q+nrzRLswYj9rg46oRkVhMzAJ56Yc1J
wdENkdg3TT4Ge0SGYIW/G6tJstlSLqwiiLSbksxoN0K6HV1thT6XCQpX4/0FV69Qx8HsxgsMcXiX
yGbvaBv4VN0kC62RuMrJcZHiIs3XfQD78VXPE5FjjpvTj5KcIY4oAycxGXRqPtfoFllYjxww2dC4
voTHDM0AH+zi4fqqSZTpKHsEbvAC3R2/iiXhehpUD6wyrmcn43paGXujdpSUZTG+7j9ixzue4GR6
2d8VPJYJe2sUYF2VkayxuyJb7vowVm+PAS4Jy0ZhAwPkzFSGDVQ2UGY+eCBuKFLTyqw7dd7UhDqf
IsMgKLPb1s2DLX5W9N1QEw+Y9ysiEBPpfsYgJtpErxpWgTjAUXNzuZoJDTPHP0zxeW6t6guUVdGc
qman+9VMdL+eeIoo1+NOkRF6uG93fumi69vP3TOYJncvHy5vb9D57T2ZM8OU+e6q3Tm7Prt5iLYi
TNifFQumlzcKdKzgTE8Zj2+UET6gZdduB7vCDXbASx9jkPxfmvuS56etz7+sH5bEeEZDMfo6tq6v
d3Gk1WAD/UqaRNu2h35CMGwrj/hXdIjws+tvavDrV/QRzRS5Z/anB27JoyvMcwPnKBM6piF0/LZE
x29r6HiAWeU4koxMjHxJZjXFblvmBgD0wplY+Iy0x96lvw6oAl/ffjmLNo5siOcW2A1eHcGAAIyd
qU0kk5jXq86MPtrfb6WFd1y0GSKKWAljqp22tkbhphwNoKBaSVlUOTyqMQG64CpDrDPV8mtFkCSe
Y4rUvTBHmPTy4s/db1Lx69C0LzRaxjkQvFuq+OG7JB2jF928ejVVGKFfnj9QFa5jjsaKoQHB51gh
PZjn+iuVasui4J546L3TR2ejsW6SkDC2Gr3pSSei2Uj+yckdz+kT+5RGF9hLxRtL9VLjw3BIQ/5/
Pv/F22F1Y3mEeei1ECrRO1KrX8eXrmDFX4uX13L51/vqp5PO6W9/va6XLnhO/JUIVvB7I7innpAF
kLLgi1mown1aaxWImO3zzsjInZcsfagsVfMs+xsLQXb0+gRGASutB0YCOnWre3cePTBsApPm042V
AKMAV5IAjlEtPz4KJvFW4mgLk4wb7BB7FlJ1rFhNRddZLHQk7IUFe4Gs2AuLI3j42r2YTaOCaV3C
D1gk/wmLx2sK6wc1ngskoAirGSh+O1rM43VFik/1QCL/CS2UCexZxpmbr6JSU8x0GChBT6IdsiBg
saC3wJQBRAXAc6FJQIIsBKQRrbaVUh6kwgyhaJ4r5Gw9oJfnfJWRZwTLc6XxBKD07JHWB3e+hVbq
6K8E0B4e91qoXq3ul0v1falcr5Bdf6/8LP1ZR8qIZO+hBhqP0NlDAV2TIkIZc4P+CKIN/vx3+AOG
KV0iMsKcJBJZPD+DQPASCgXSoXjOOqRblI0GKf+ij4kPEkVXXCsfTNJBTByKXMiKTUMIW27wy2cb
XNgVpngs4TnCFHgL0ddy4AwbLyJw1tJzgirIOcb9nqI+Ec95iR08N9MR/62lws5ZE5naFMq+KSwx
+aRsBDINad/nQBzpt7D5VtFwYo6wG3BVo8ZXP8VLV4zHCbAtmOK1tMe9s4btPLdR5zZUJ5/3M3sI
A1nxbATT0juAsTgzleW6XPkwsXS6mPBjqf2jfA7/e3nhuZcf5TOVjoE9dwwk1+YIntIVWbiihmuh
9Ltf+P3vOwnRAlKei0b7950C+vvOi9HvYqNPApYICu8mZUupViv4VeWrYgFYPemBGy0Fysk3/RLz
5IFYcEwYjXT371mh+ab09529I7RYbJ7d+zgznrEODAkKTJ6deyJJgYiYVhKbQxoa0u0o05FD47jg
K5qtiwaWBryidjNYCR/colj41unbzh7rYuPGfpO2yy1pfbtnTpzP9hrvI+B70BdhoD0u8pzSQv+O
IqTETMh8mCNH3xbb/WdsOZqNN1JDXiIJ2TRgn3xH5JYBVUFXKLcm3lnas6JONzXQe4WU92NpVyUp
KRcXD9ga2ZtIoS+wij05IWS/4H6i4420kLdI7Dx90e+qqWkqemMekz9XrSXvnbXNi1fo5OzT5Q36
enbSvTw96z7c3v+GOrenZ+i5fiAeiGh3hPuassew8RGJqXN799v95aeLByQ1GjUSc1FawFtAlzed
A9S+ukL0tS66P+ue3X85Oz1Anw+6B3ftBxiGbh7QjXmAqoVSo1Qo1xroRDpAnuoiw3RI2pHiHCL/
uFncI2lyMEe0ptSGjr1XGRq0wW9ZcSOEP8GPcG8KaQCTfddviqo6TeH0uiKL9ZIoSl++lmpnN6Uj
ckeSpMZt9exUOEJhXnKxCB+bE5pIZExGPWzt2ntp6RkbTeHn7kd/+0I48lDRgYysn0cgqEkRCEa6
Ss5esr8NAcWR/4eHx0M2muiOtq9jGL2RapK0DgepioMfQbKRW1mRFNj4sSnsS4V9ubBfKuyXC/uV
wn61sF8r7NcL+43CviTC/6UjeIW+UV7lP88t7BeSI8xI6i9AHrkpuKaRlk/EURP+7+j/FpADLlUZ
jRXt0UCKoehTG3yMfaT1o7CVIrA9zpChTYgeTUWnPk1afNA6g8SsBPFofaQZ6B8TTIWcsjkUOgqC
p7SzIqhEIBgYelPYlWSpIO0tyWill6LBxDCwbqfFOcaq3yhsWaBuqgnWLnVLnilQApUelfas6Fqf
ajCaBWaw9PtaBJ4+VejFfo76UwCtqUEdyAKPp1qr0BmlH4VjaCm+JGCqMjYNmwxEjqX1Jk4ko6Is
8FA1vL642O9NmMxYNoNliUbwHG5ZZhjcYmip8ZCNTpdLOlb6iBzxTjI6I+DWpUi4ygJcVs5HA/6H
neBTy7Njq5pA9A28Ueis2GJSvHopmsLxRnTZYFGlmfWkS+5ISg9SXgIpR4GsRIIsLYEspQdZXgJZ
TgtSBXkZE133O1ux6FujKMi1SE+tT2Y6DkkNnblpcEsB5wmxumuRWFSHYhksNMHHEuKbpULW1wGV
MW+M+WLoJvTwgabDBCoKepQ9wovQ8asGTr1mPGUFfvxIwftMorF9riBgVmI42kBLj+QRxgY8fNxf
WKE7GGpOz3wlcx6qvI8gjhdlyiL/xgbDNhv+/x9l93nvX94iHKYxoHDjP0euN/3cBH/5W89oroSO
Fr6NgNwXmFFXqpG5y5so+dZ7bo4Vy8aXhrMYofrFHbD2Ct+sQRPonK3r+nZ370gb7AJ1NIyV52gg
67XwMQUxgqZapm0OHGGv2RT3SMuF6+7lmeBhanqXHz4QspvyHvlVOppx89uzujsq6Hs857F0N4qY
DcZ1BNiKwt5Po8Pd3dE8VJfcgh+HgrD3Ee7riu1cBp41m/pPowN70rMdEpO2KxZ4Tt87HO2BUFMQ
M2/i42D3de9f/rrtawAVXASpQYQc9BFJgHnmb/Ic+vZi7BqRQcCbiPF4S8Rx9/nh453wUWh/Ovt4
074++3hxdn8m/Pvf5Fnn9ubh7AYePnzskFcezj7d3v8mADkeNTxH2tPffY1U4A1DgeZ3n91XwAmo
Xz25ESEF2bPrGty/eBZ376dFfvEckV9B25dTELMHGIOaUtD2UID7MLLYu73CGORHOrje1E03W/5g
rDg0hI4oeu/DB54jUhrvRYupEikmbzTzhzP04cOsJ9M7wBBh9Z5P2d5P5NBb71kUMRsGIQr2kGiv
vveT++vQpew/JB/CN4Fus38iWqEX9JXetXcInIFOPi6M0xCjY+PRGe5Dz/hPwHiMR2A8hoWZQoE9
+rirtfaln4jYhoXFbq3t7X3kOeFI+Eg+TEFMEKz2UdoroEVUiNyca9WRgPYI6yhFxKrQZR+gARSY
/FkQI3vThpGQQAji2ts7IutWpInwuyAV4Ofi89neiLeYF1F6aDN6fyGQFPubLwVKB5LQoqOhtIwt
dOlQOuA5SUB9Mk6l4IVtkXT18D0kQ//saLpdHPbwvrvGuy9Jk/HBn7aAWktEkkXE8BVO6OxklP8o
HksS2vsXXG5WpMahuGH0nGcMmOaThvegp6OlezPRIaFz1xT2QLn3/vWNbBFPBeR2RMTa3zcT4+Jr
UjzESf+/I0RsXLN4hPDrGF60m19xv4Ak9LNiIFmURSSKh/R/6NP1AzhbhDm7WRIz11va9r2PIm0+
Wmo/vTSE//yHiIP4PpT+vX//exdsD7mEkT+Klg2D5x6BIfSAIlKiTjha2i5H7j9htou5A0ZoPkxY
pmOqpt5s7vAcUUz7cOenFMTsuDCKxZ3DHU/Pd/Y+giv8UShefPppqDbBvI3g6sOwB38Sd5Uuq+99
RMIHcM4+khtjAxwueIV4ax9TEENg9Yw9gEQk8BHkAH/aNji/H2yV/Ow7zQ9gBeAR9BkgAOZIzQ/P
5KeAXNrAelGr/IHOGCKJ2TB4kjkHIu1+blY/qP2m9GGsNz8Mx83JB3UKP/5UCEU6cc0/kImoi18d
E/LpKvhHshj+ETB/cJfn0hBDQBMolDcUGFnlhYtH+vcj+ZMum1J5wF/kRbqm6QoIq+SGpfCceycN
X4aWQoA9+tIfqlRket+/1h16rcyu6ftkYcx7/5lc8xxZCWEhplbbQIwqUeDyDLhMr0uz6xK9Ls+u
y5QTA8I2a/BR2KGhBaS2VFNEw2ghbSBG8IMHvGiCFni6/rRlx0/w26FTl+PS3lK3F47/Ai7y/r6w
d8xzTNEGm4k5Nkx/DAJDEgWoUds0CM7CNjbNjj1z8QLzUbe7uB0HQ1cB03F6zXObtuHAlgR2xtw+
/aN8/qf9Y+Wc7GH9WDoJXtIexrrNxHNko4n2m/87+j/SZcgv0l1mmwy0r7j9FHpJkyg3UWiixERx
P4CqEh0jekV1KSwXZZ6JIvlbl2udoM0sPy7OhfeX/f1iMWqTNQIc2TU+uzkN2Z1G0ZAlqcYSX5gJ
EHdLn+RntrIEOHRGemsdoNIioAvQ9GvsDM0+AdcdmhO9j2jxFLIiZ3jl+ejis7dG7Jik0pv35NB9
l+cisJE85DMX2/xjgtEtgbx43y/ekj3Mrqk+4X7b6HcdCysjey2OSiIcFtaxYuP5nTjw51JwYT9i
p+OuiXaGitXFzi66wAopp+otlQ7dK1YU9G0vsz7QguDtA7owttul87B1cGtJ4d4pmrWrQlv+9jsp
r+fQH+8LC4ih6ygOXpQwvXVA5UHcattjkAfevwAPF6RvrEPVWETlguqCHZ7jmt87AS3yasRvwlXw
PglHKZf/h/K9oCTb4YqnP7vurzWKIlf/BzwMeH0R+CfsLBvM2a3NBmwZErXhtGrCkl2n9w7wK1Yn
DvYgzw11LtBNm9j8gfY4sej8tzDHV5hZor11o21JXB3bF0etwJVmI9tRdFygIzjJJj84iACb4SCe
BibrIF6So9ixBN3GTtd80EbkJLNdMQpqPMppKP0akGUx2huY36Mdx9Ob3ZlSFJYQRqEKdf/OXKhI
N80xcqwpkjIjeOyeyHCP/zHBthOfbnkTRlLSezT2IxeRRHxUDyH4rRRjErChDaHT13yaEYnvSjMS
iLwcG+cjrXO8inaOaz5i0t8897h05zGKmqWJTKuFhE9nDygQbE3qMBf/NHsDzegruk6zTmynqaCL
h4e7onQgRsyZwhrO0FPHpLz55iGkXE0E2V356E0d/Lff84Mc6fWG4YihhK7PbQf0kE0N67GxKv3+
WpwoR6Sf/UObmLDzXNb4iRuwgDp2uysbzXybFgJABI1vHpE7mYyAFqsVrjvH3g523CxTtHWMkXOc
Lazt1blifT8oQ6dFy+jI2ilM1PHuLa3qV0Du7704ML+/ZlS3BTNf1uTRjPr3DJN5dusZwI1z3KqY
4wQ6JfC3p1/On375O6c/z3WpajmJE9CewJWl/ZOuZkT6Ajy30atJRsKdZb5OmenguWjvqlpNTMcc
doRHxHPZYve2Eq5oIFhqQVTXT+KI87xPvedD9LPypFiOAko3Ioda7s8XvorygdjDjiJFzOGq9bzm
cAkhM8zhMoAcOYerieslQPz6Q/Ty8nKwuHcNw10Et2tiXtxOCJmB2zV5C9yW13PbNZqHqHPyY+W8
e3narONeqSf1Bo3yoFcWG6JSrzTUulqt9KSa3FPkH+VTSQIkUqNRh7/tKrkRUUI+cTNZRFPOTTTl
LYimHC2aE5DKr1L7vHYuVcTOeV0+PTs7aTdOa53zk/PKef20Kp7Wzjrt9qksi6d1ud6ptRvt+km1
VG6fyGKD5xqVM+lUjuo91XpeIkoGmUVE6SFHi6hejxTR3edm1HLeDEz27K3nxd66mD97Zzg2sLc3
W1VtPlgR2ZiJqWbgNPStvDgtb4HTKXDQNfR1cCu5caWyBa4kwzHQJ7bviN5OnPHEcbfz1jKptl7N
o/S5tl0K2R1zANe/9wKrYi/y1huJ8HVpoaxEW0lhGJnCopT+Rv0PAXtHYnmsRZDuvUhwDSk2uHvl
ZSPENbpHou+8zSgJlUQZnZPzmiO0sZFOTRJuvzSS9YFH7PiIL43IHhCGZIXzlH6P9zRiK9ii4A6j
e/+TZU7GafDFUJxaborzbgnMuOs13jOBsngoZmsbkkHcMoGlbAksvXcCK5kTWHnvBNayJbD23gls
ZE5g450TKGVrZiTpvROYuZmZQQxx4kgReGwdomu/HsP+5WW3WNkcYhQB8xR8s0N0bmkFBJ/8PCFJ
n2IJSdVDuXpYLpOkzyjolfXQf92/M1+whfv7J9ND1O7eHdycpYHXxc5+zPWyk0q1AbfE9kmtCr/O
zsul8xLPiSdiWz6rdU5qR6hvjhTNaK4uRM+TYrsKzC7l6j4wiNR2LCOpMs+K9XNoUzTsykslPWQJ
Lfug9u6xOqF1QDqG05Tghq31mz0MDas3akpDwnWpLJcGvZ5UK/UGPSyDbatjvE/XdIG4yr5l7UtR
BG+YUKwk16SAdVe6O0Qk+bfTvkWdz/cKuvzSVtDFZVdBt5/v0eXNKfp8c4k6t9fopv0Frh9Q96Et
FMamrqlTWv6U5MLx3Lqiwp0TwHHwOtKFjJr8C8bj/bauPUe2u7ERINnt2ne3uw6RmAGsh+kY+oaD
Xx2aYHWESJKJjZ3mZfd2v16vNKKl3mDrf7OtBFC7jUrnbyUQtYO/LYtU3D6VNvY7pg4lSxv4oahD
vE9ykCxTP0S0MKqDWQEmiBheN+9lCiELwc2wLR7MgyqgsWmBjSKMC8TJrF/nJChLeaB0WcCIMpN8
r1RwmTOxCJbK/7DExFKrM8Q47S4GZa/+PqU9aUPu2lpUG7XZq/wZodDrA05CsG6M/JzFm+5uhtlg
YdoB/sdE0e3d9fFg2wCVRdwOAC8tmfJFy+tRragqHju4f4iEJM4fz/nu39z5EyLI2Z4xzgflRmNc
yskYl7ZijLeEpfIWWHI0k+Go8jaTpRzMZKmWmW0r1fK0bY14ti2JY81zvmt9KgkRZDDkpi7s5ZyY
/Wm8TbgQbDH3jxLhLEvvA2e2O1ZBJKEadI/7MPFR3SwZ+Ku/BkiJGQi2QRNJeqJf4QrtsC1L8Ny6
hYk4yxI7qRrw+f6SpA0bpoOUnm3qE2pkiEkm6UQKybXUoVHPOAILuxLBTFN9+kKMpE/Eyi7h5/ur
dbKtNBhaRUgfWOYI+fXAQgMnD+tiqJx4biapHSLWRECY16CCoua5KGEn4UqmBWCC2LLKHScwa418
c8eDONjypGV2SnPMkyYYG43M86SDYEPZcTvGBulGzjCoMwfsFKbJnweQlUpje1nc6fHFD71JhjOv
LO4gNcmzuCPNHM+xjWl+OnjU6mslmSmKimokkJMZpKj4vWwgR86QKrXGttPBCdZGY8vp4ImRZpQO
nhh/ynRwwFuVNntCbgo4OVqy33fTwr3aYtqjYVpk6uRdKzpx66fkvXXO8AzXtpPF1+BOmixOwJUa
204Wzxvr+0FZaWSborsW5vfXjNq2YObLmjya0fieYWaX7AsoalIjv4W1lMDfnv5S/vSXvnP6K3nS
X2m8abJ4YhIyThYndNQab5Usnhh7dsniQRLyTRYnmBp5zfASQmaY4WUAOXKGV5caWSeLB6Fmzu2E
kBm4XS9tgdulRup01+SksrC3kht7K1tgb6WRZborgVjLjdO5LQzVt7AwVG80skqtDw0VJrEigJlG
i0SJKDfLXs/Nsjek/EXUkBrshSkSRJNGFaZI3kwG0TRKuYlmC8NAGhyb0hgauVnvxhasd0IcsVKx
CZoNPmeEqWnUtkvhNpLFCb5GY5vJ4mswpk0WXwM2cZ6RdChKjUzzjCSgUYxOFicv3f6yURUDkLaX
Kb4Ga8ZxN+FIcssUZ8XHrjUJwLFqTUYEypkTKL93AsvZElh+7wRWMyew+t4JrGdLYP2dE1jK3MyU
xPdOYLZmpiS/dwIzNzMziJnlOW+GuTnPuRqZ5wzQq2KGec7SYXmDBxYvu3YzrPg50/K5XJNOGtXy
WbtRFk/KJ9XTUrnCc6divdI57dRO5C3lTG9u2LtJGwYyZZE5y7dUlyU5A3hpM303YwlqzdJCZUDC
E4N0p4CEA93J1RGeS57hCxRu6NEJMnwDALee4buKO/ekMkBZFbebVLaKMpuksjRw2ROxAEv9f1ji
YamI4nZS19ahyjd1bRVr+tQ1gCmL2aSuvVtQ8W0da9xGAHimycKLXg/P+X7P3OsRMmtrWrte2b5d
r+Rk1ytbseuV+v+wxMNS3Z5dr76JXa/mYNer2VnQ3EFlZIyrMY3x0mRCiIC6hWTlVWz5Jw4Dzur7
wJn5pkm1ukkhTiaDASZddp6p2YOmrAFVXz/9i5jobfxUfG38Pv9xTKbPrSzhgZxax47m6LjVoTPf
k/nMF/1p9uwDhLpYsdQh6k3RQMN6H5kDMlUG7mMbDNkTnr6YVr+AVM2ZFsgZyETIpoVMZwgCMsdE
MDZSjD4iKWs0qREAo6k5QS8K2Pvjoos/olm1DesrxyPsKMhQRrjZx7ZqaRQpyZ0k6w9NshDRn6gO
UmiTkD1rEA1CN4BsQpEDsh1jMtL0J7ZjTWkrNAN14RXNHiLFQSs8OkB3EweVRbEgAn2mm7hpk1eh
fRZp8SO2HG1so5chNmijPeyO2VemB4LXbJ5L23BPDva81YG2ug0k/MdWwWWCaeiagd0Lngu8ZoMo
aTP938hbDVm+RoQByzfD7tkrN2Zv8Ry57RPmvaUZrlGne5HePXe89C58ahcWa5Yug4Qs00GueW6B
EOw/XmlxGExr5Z3FV/BorJtT4s4UaKoXGk5Ih3EveM67tN3r4DP3bxdI4NrATvCafGg6nrCIZF2G
CGn60LJpAO14IgUImoI9BI9FBTXXQLUENJwtR4YuRoJE7eJAeSYvwyMzmiiZnSi3byNdMR4nyiNu
/qw8K133nm2pa6gy9M8852i6XXRDoQ/+tAXo7GPcFOia5J8AxAUstI6L7l+tDaha2gDtktwVMF4D
C/qefaDTFVPUQuIe8p54BSmgYx8QjqHmrEQFvT6aYcqQPUVqzzMESAY81HtUTd20mi9DDVxOwrKm
8EOJ/hMQURO4BOsnNhoCenavee6HKv0nIIXe6emK+gQ2bzxSrEfNaIpIxwNnduH+McTa49CZXb5o
fWfYFCPbU2Zvj6P0dIxcwIIkij8KMKZb0G0BqYp13R4rKphs72qs0IN9gQSey44IjxILxt3+jLfC
D+cS+U9ofTB69hi0w+m3MsbpIQ5B6nGkIomtY8PsAWm91vEAxhGeGygq9JNnbPUVQykolqbohSHW
n7GjqYqAbO2fuCm1jhXPLAQS1S/Bpr8egMfyE1tplcVwSZ7zAiY//LMHHyfdCgosiYBrMtWhLbTt
h77Gti7MET4uKh7f4ScMhuOjf88uiTBmrbNhRoqLVyZoJ028T9Ky9e2CNmfZMkomadpxkcgSfoFU
i658WdSrmrF6yWWZWINHo2mRfk5UjecCyobYdG1ZJnONu8D6mFXtAHNc8WQkHJ7zFA+oXVC8ZbXr
gBcKymkhssusqfgQ7dar1T1ULtX3pXK98tZijWOqYiIFmFYkzBjznCI1/FlCzG8kqScaSWIIoy4m
1AC3tRIQ+Oz2YxjPc0HmYgQvboNX5218j7VXzHP6waM28O2MhDxHQpLBtlg5Usg86vFc+tEhmfnh
uRYbI2+U56JuPpqdkwVegrA9boK3oehkMr08B55rfouONh7LiaavZ7r8hmpRilSJJNQxdT05Vder
1MTFEbTbub+8e0BX7ZtPn9ufzpoCzFJA19x5inQAQ2/3vjPjlAnTHJiaWIq+GuZQvMeKfo37mlJU
+jb5P106+/bn6wG5Xn1/rvIwAS2SGfw3wKzrxapcI02XZLlarv6/D+Y4cgZY3+DIsk6TNsLw5nIL
bPKYJLTQ8V/291NApzL6Bl4LqbzUlMSjKFhVaS2sYnF/v5Xie2ZubYKxgVtEpdgYVpdYGSYdpYBV
LCIGjtXTc6whSjnq1yboZLXBUJ61R8UxrQNlPP7icu6ALJq93g52d667l2eotLOH/tJE+9Lev1Ig
o7Lpm+qEbsW5qUg7x5fn9+3rM/T18vTholmu1tHF2eWni4cmeHXX7ftPlzfuE/8KnvIceS6ii+5d
u3MGf3zx/6CgTm7vT8/u4QoM2O3V1eXNp6ZhIvdu5/bq9t5bUhDF2BaM51ZsmB3Dhq2xYMdFjS71
tHb2otS1Ia9n738Q1m2MiEj9DoCOkSTtoX+lgBoiNARSa6OL+7PzGLzjuZn9V3VNffpmZMC4y+tP
0SKki7GbhqEsKAHfJKX0or4tpzRUmwAcF93BPh2MaBelUZUSuSgxJiBxUbDMBmPAZJwNNursVGYG
6TgBiKRT0Y1Uy4eiKOU6EY2PYckbrlbr/nLl8mL9fEkf5j9jC+um0r+kM4PdnahJELDzHMwIqbP5
jWwpa4OdQh4NYf3hEcxzG0m+o0UNbRgC2KmW35zq6+nCbPI7orzdJ0ty3xHBZ3RLcs7jKIrLLBTv
zffLQtZCaKla+EG6U9srVfteVkWQaVybExvfghvWFCirui/KeHfH7/s7BZTEVOwJM8gTJwQwz6UA
HWMpZ/V7npstxIuzRR254i7qkHcReVlwowkE/+PlxZ0QMXtmp3iu+CaISnrY+6aOxs3LK4nnSlWR
tcJ+poLnudX1+HWCD1hQRgGF2NyZ+MGXXlaAVAjYNYDn1kPwNaAhLysAeRF5b/o6EPh4rRoEd8Sg
P2e+J8bWv3mOWcxLQw6jJNYMVHtBS7Ik7kwQbRA7yDkOlNkyqFRelv1ouhgn48t/CcpMB3huvTHw
vpg6QEy6HeAwneC5VFtx63TCHcw3SoiGtYSO/estPgPYZaAh8ua5OB/PxCxLy2J2X0IflNH4iHR1
c2Kp887uPl3o59Cf2XcWWV2Gte58fWl3OKhcxBLRzRWyUJCtSrEqFDmIN4ZK+e4Wo/SXvbOgUoEC
ZAE6gQ8BCrDwua9ctdKybvlv/eSrk39jeeDIUY/izDwzX4GIBZNpBSIexJz2o4GIeuxlgECowGBQ
rYqi0MoYSRKR11NZp1pFzGOxoTvpFcHyKoaK+6yTSSnP1QbvB8/NJ5abqT+Zdtwg6u+T/K7yjPtu
hDv7ysn7asIdtmzTUHS3FbT6L+MkX4q5LBGY7jMPIjxHaDzVnrVlR3Q2hlTXrx6EH3TDNvKTo7tz
jOva4E3ynNujWUboMAuw0aXcCJkuAkXAjiG8EAC++KqVufyID8Bz1IekrwbGnplz6T5wnYC1+BPo
aRjJCbStw3PUjGm5zFs2Khq0OamqzYwvq6YtWmue26hsyaFHahrPRQOYeZvlRU1rCidT5L23omkz
COtUjec2tSCB5viDR/F66v8ZHhvMc2+w0kl1B3Q7THsWxj5WGYcOmGt1iOcywJLIboElXAEyW/6S
ljWKvor8d1e0agFSlBHjuYw0667btmOFmb/ViHeHoT8v+yCsot7gvqw3TfOPYI6aAcYkKsZza0HN
V2Eqy5rmf+GnVdJvVhQuBO5c7XiOefCO0jr21R1Jzn2KJpWzn5XHgMk4K48DMbdZuVRNtjkfTLSI
SLAAz51BZNX0s+ooksCzlJgyREgmyZWXZHeI3LwImiIBJtXrbn7OBKvSJw2GicFnGKgYCKnn0DXq
mXeN+jvoGnLucSuymFrp02CI+JTNTicHQsJZ0Q12zs3dh26TfFd0C1TKXkW9u+sjdHV907zHPayX
xSPU/XLfXD0Rh+dgvNqLjIqLaFHEp+XN7dCt7t0FAwXlXCgIz2meLye2IiOHCcuTkxZl3AYTwy23
YdPSNfd4rINB27ULNGH/Ab86BWS5N8lFVBArA0b641mxkGlpj27BHNREBn7xqvTs2ntRKOqsKHRs
AGy/JV4Kd2bQx6YN0MVM4Lmw5iyZRX77xEcxpcRksF6GGljkXYLNDSSPlGeJ3RCOLTyTZ6Al9qTn
KteuWADEexkiNG1nM0Z44yNIvRB8Ctc8B3oQSQi7N7ygynM2fAx2Hbia0+uj5rn0yNOrDhOu/0RB
YfKZLexMLCNAbVqoqciK+JTZeH4yd2mdnJelEjmq1i+gP2llsz5DV2MynQRBc9FauzgFJBSEH2VR
2MsEz9PLEhbSOnYc9eQ4PlIcJ7ni+EBxVDPCQcW9hMZTAWaOlZP7g2U22w9KaL4cLJQoaQpk+8We
ZVes7Maow6aik+0Yntt6xJe3OMVz/vLUB1r9qCmAKX16gR/CB8d8Meg16QL0Djm1i9yg7Kd3Ot4d
6Iz0+ucbevmnQ68ub9ynJDiSXNuO9znwnOdScf0/0al+ACW551uOsttsiW/paCjn8yklX6UF4Fqp
4fSiYUSZxIW5bEWusE1k/Xknxc5zKfAHiVhAPUO2REhw1p0V/oWyNt5Ko1j3KwX0TMcxR8z7QQ8K
WBt/09BduVlYwgTAq8Ft9GVvnUdgWt4p1zOYK7MBmXOl3FgKdItcKpLJVJnE03hFlVI1a/OnFXYH
eybLqDx8moXvNb4koiHPeXn489CwDKma7aOEj13teSTBPz68QTJCghaGhx3SDM3mDniXwj+EApql
f/7p1oIbWKODr2REJAVoJ5i8AFq08soDjJHzN1af05HSPvCqOP5twys21rHq4D7dPP/dhykI6zCD
PEgNto2g/XfWwd478qYMA0W38dHOTuuvE+DKbK1XafGct+IbpWHJR7lKFgtuafAzza1YzGEl1l6J
1cqKMJal5UpVZh8Ew1aVBVFYGAX9a3+MFCQSyz+PXFTpP2FxmE5LXzoieQ7u1IVgeKVE/suGyIhP
63K8VXVSwhMpdAocmhT21wm2pu9vGiGgEa0A3CTrMe5m7NwgtbJmkkaKFLu1KIdav48NFyNgpjau
qaTCuPnTqhiT2I1ebrirSTJFMiZjwc+c16HyPcNGJRKhLKcK3kwJnW6fzFLzfvGr9kZPBtnoXiqm
t8ahRL4B8ap0ts5oNe1fwDWj9Ozae4eB8nJRlJXl9CMgIxDyY30FQGpc3NGflNdbDp7hudobZZyS
5Etd6ZFyuoQwaJ0zRL7w5+6c4K3DkELSuzvsDdvQLJ7LtWEk5ubF6M9Jo0E41MHnuWapVCp4sx6p
VrBVy9T1nmLZTalgYVBFYlGaU2zv7B2hBVdOYNlBX9Fit6TigBTddWi0zFYUl80ziV5nYAQUGDNI
LV6vR1fRSHl197BgTlx1xxE6AfCGEkFAYMBJ5XbwoZtSKmIiPq1nwdV6Vlyt52g2P9swyh2SEI55
Kc5okmpMQ96xO+txJfnZxn7YSDbA3WmXrxswK4Y2erOsFlwhc4AehhiwUh3KBSeJ3m3Bz5i42IbB
otuaVjbQGGQqZ6D0tTKL83Cq2WNdmfqRTgyuQyTc1N+n9z94jnggCupozjToewQr4q77GUV+jLnZ
cjRGsJTbphrzPKd/dmvMA/1XmvFEqsxvKCe/UCLOk6j/6e7O0grNTmFnZcEF7hUpRjA+n7B5B+4D
tqhfYDw3xa0UW+A5BucAhvY5F+bRdxmKbHlAdCNoCd+EhbHPHflKLAVKIwiIoL2ed28hUc90bFAQ
PVQn2F9YmBuDwOAg5CrenJXlDBGFjhBXVwX0uSug+dDk9fofQC+9vs9zZLj6bGgOWfynFK6+dFx0
IUcRXBdTEkzphQFU6SkjJWdkv8yQ2U954/r/PFyW9k/TiEQmp0N27yN7UgxbsfPF1mm72DqKrg1M
y9Bybl3n1sNH+rTSN6OwldNhe/CxuWdkqRMnX4SnZy7CU6wrL4qFc8bW8bBpJL4C7BS4ksDYyain
KYsHOsRwF+rVVDSde0bgHOSr9ZV8kX3ytBc8AOtRyxnZxaWL7AIkq2lRuNLZ/stTF9dlXxmaOaPy
BHap65phanbO2G48bEZfUyJNaSOd3b701OPSfMkZ0y9dF9MvLCY7La7fPFzYcCbq0zQKWzqDfeXx
8MqcaDaLyNKhu/YM6LWiGThnVKc+KmsKE5N+FLZ0tvq67WOzbUUdTmzsOHbOKD2Dda2pQ+1RMXLG
duNjg7HWNp1IRUlnja+7PjrbJv8bj7WcEd7OEZoTK29snudyDRMbhk6XzijfeJ3uBvcsBm86LbYv
PrZnpZ83rgsf1wu6UEZje6hFOGWlQzGdeb75eY7yZ2zZeJozvus5vmv8qqlmzvh+m+P7zbSeorCl
M9I3not7Y1rOkBxAaoKXouSM8zSI81R5ijJmqTHeemp6O9QipZfcSieASInzZtq3Tzo4oyMlPwIp
Nm/6e2vhR9OIwpXOyN55Y/IdNgx7qj8rUdPf1BjvvSH5fmj2Mbq0I/2O1Bi7XgfqmpMYHSid1e2e
BnGydaB0GB885+MBE+fDxjhndL/66F4jvP3SoZTO3H72HIHPjjLMF9MXD9MXbI3A68gZmdf1vmjk
rNPIbiels69fPWxfFXAAjEcn0rCkxee5OF+x7aAtNdGzLF81WzUNW4tsYToz/dXzAr5OzVFUqlos
ZLOty8iV/HhgA9sk6hCrTz3z1V3WP3tV9Ukf3yjOPX70mjfFNtL6TQyPeA4eovmqfyVRaMbxVfvk
7Aqd395ToASkaYxIaReTVpNxhpp9QI/KPHA/3fmBnpQpnp/vCLNXSRWYkDddJDu0AITXGrIVgm7o
Bqmiow8Imub+SSJpDo6LNBinxRIcDFyuptk+jfg+LerZtvCZ0Y+9NQwI6slpq7PsVhOy4oe7pSJM
FpmZ5jEMiHuAjsFAlizGjfNlycjJFCtrpZelfUWeq9IO1HV3/EjNFMKTQ9qTXGheBMrulTbSHFTa
m207er8I2sjAcGiNHLs1aSEu7GN6aQVoNNEdbax7kTXVuYmrZtOCpRHj5xtRlIRWW1XNieGA3EOe
y/C8D+MJ+sBzHR1bIC199bVSXWidKMZTKIxKCR5qpoPV4erDcg0eWqbSVxUYmPdByhMLrKJmj+bv
8pz/ttSAtycwlIJHiU7xM9bNMcnRCIFbontMtmNNaMj36huy6L4BPFfCIIgAAdq8dOZxCByJbC7Z
2mMYjpq/FdSb0EfQwu6QrIyFMaoEkM76E2oqeS4EnFgmgSngumBshUKQZRo5a03RFWEOInVRXtAn
S+mvviuBzM5esQqEPQebBcOr9wIQfw72QNccDdsh1FTgOcxcjDCuiFWyB2RgC0Y4X2IhqiHN37oC
OYNpChElAUUGZSNc1HKJBFoqujMk9VxCvhfJoeoOZceFaY81B/TLmQZf5DmPamjyxWSkGPNy9CFN
q5PNEpJO4I5pD6DYBhiux2mISMvkXXtihXNJqvAceeEZGmZaYd8D7Vf4MazPlSXvEaIdNOTbGlnb
NpRHHMo3cGbkBn1jAkbZmYRrlEhfsZ5wuH2oAH03E8sOaxs8unWG2ArDXAawd0MFWKjiiRNuVGTg
3Z1lDkBzNK9AHe2CISKRQEXuQFxDhcQ/gpwRfKhOrOWWz3RbBt39axte/OuEKgMCS+DARDyECgAN
yuAmcK3yuEKfOgqRMLFf56bZD7MVvoaVSuQDR9GINn4CInGY2CWQbVfRQ5sKXbyrajhcnwB690nT
ddyH/gS9Ce3z3AN0/zBIMuhx17EUBz9OgZg7XTGMUCFLIIjuZDzWgU1DJUzVynUy84YBzRyNJobm
Ons8F4K0BOQDQVo4pnKZPjXssWk5SrjdLlfIrNHCQ+KARw2L5VJk0jlDWOZmQOxuRhQ1icrjhThN
nsc0MgG+MwRrJqHeFA1Nnbh6qG++GHAbI6HjWLqAnvAU5jNIQXcdUnrGewSSVIx+4Om1oh7Edqyq
pUwrurFCXJ5/xHCnN8GP+LReSnqEeJHBo6y/AWERgEti4hbPc/KlzTVOeW41dztQOZTMWHBzVtRU
arHwMhO6w1IzAw3hOYYk9NWj4LdH/1vwXU6swxs/ZWxySawEE/TcvwJlOzbE36YhYLE4waYquTy3
STXQs8t0mWUhrlROR250SvAY/PVZpvJKknDwxBVVJSeuMM6cUxLORD04YxvyrpeoJ/QL26A6pGBJ
hfncrfV9VI7ZR6ulDI8SmTfFK+5CHRqe8xd8wj0bsurTBmk4WrAw9a1bmCFQRner7WHxd7JD5qkB
qCFI0SB9nuj0OrSN9Wj///a+tTtxJFnwu87Rf8jW3LZhjUESb9tQ6weuck/5cY2r+/bO3FNHQGJU
JSRGEn5Md//3jUxJIEBIqRd27V1Xt42EFBEZERkZGZkZEdWJgxPybHZfnlv4pEwpySPHOMpPz+tj
9ijDmpqEw8yFDLPrYO2MOxhzTYmsxpaaVM262tCGxea5GJkyROENSF6bbVwC091FhQv8+PXSxNaE
zDdO7PT89K8MUMA0/hk9malVs7blPvdJN55NZUbsQoIDQ2DgFw058lt0Bu2rZi/KnbLRH/lfMAGG
xEW0vxXJgnr2HXA1zgKIF0ec0GcSmq+K6EJ5td6asiYoHKWn+S7IqXrkVJnIaeZMjgTk9FV9iNHv
mBQoHSmvOyWJNZwWijXi1WyHT4YBOxLjerQploluJ+ZEPc6wAWOSiVkCYHXpHY8ZvxtzEzlNiTlq
1KVdjxr1/EaN3shZ3qP1cJ0xo93dKTkrtufqAiiSFgu1F/dVWRK7N4aO35im+ipNUvcTeLuoP5wY
hhZFWn1XpN33CLtEcv5Sw48Y9e35CEdu9suZvgt5lXVdGUYUxet7b0xbdYW2bi0Oac18Sav5SVue
Eicr8HOS4vkNiGQdk+vJx+R6O3uuMpj0HLCu70kkWxJenB7bexl63vHvvb7gWWJymz6KR0sPXhKT
7UmkmwDRGG72eI6CjtiTOAB6YmxHvNKdnY6KpiHNeMYmGlGFtPz7D2myqp3ynsULa0gxvTBmjycM
shOSCt47uDLNT0v9lqhfFNiYA2gStwuctUG3N51pxivZTbHcg8e2VzUuiWnB+Z3eJdWE6AcaYmKQ
Vb36BjsqY2H1rxEI9UVcPcrc8NyabLOjKWJf98JEOlZzOqPL8d7GmF8eLh+IkYWb0ooRjaIvyUDp
M7IUX4SF5bm/iXF3fV/ONe3wQZ1iz6xm3A4mexkXZnyF8rLAs+tTezf6JPzycP4guBpV82mUlA+F
KxpVy0Oj6PY0ZWgbJqtKtbNXqaZUzS4ddzxwqbZDZUdHlFZuaCOxbXdg23iO6qLs08XIwb1ZTa2L
ch66eKeYdhzrFrcdTKpYjW3dYisP6A6D8uxsiLy6cQ1a1adE1XzoW1Giah5KdEV23eisGlTPQYOa
2RqzZtY7HSMhrk94knm7zeQB6GY7TptH3UzAsQijFWe2lXA/AykCvVw+d7cCLNbRm+w7GqKJTfF+
xKuxrWh0axINWvGOh4G98a0JXKu6Op1PUV/RFPPVnZlGa9sbEKq8JCI0vvEzU8HMjpwISMkDjq1m
LNcxO2gLLYgC2Y4RpnAUgtVgR4JO/f7GepMwVXWLEhnpD7VjOPUrS9fiMlr+HyJbetQU2CQRdf9D
EkvgtuSOSya45Hi4qrVkuKoEV3U3uGoEV203uOoEVz0ernpCXA2Cq7EbXE2Cq7kbXC2CqxUPVzMh
rjbB1d4NLikBQNHp//EIbCcl0LE20o6wUXsjybvB9mhTfHuP9nE8nLUjUaplVjghAlpaQiLej7Jq
6zO1OAN+OPhoB5KBvLjuDYCs1/JxbxhAp34/wL1RXpjcG4Ce1EiRPsneMxKbwrhuTQpcsd0awNXe
lVuTAldstyYFrthuTe1Iknbl1qTAFdutSYErtlsDuKq7cmtqR7KYuC/H9lHSYIvvo6TBFt9HSYHN
8VGWJTtCfBWe24pdztJbiYaW8v10LodcS+dyhL0fO1wVDxwDtEZsf2j9HF7klg9S1i5y00cSUjJv
XcA27e721HyOGvHcvaI/YrIL6lbXXldT9KnuHrPFIpXc7DLpTCsDwiNis2QlLWDbXcoDjc6hOd+i
mccC37oZzwWnFIy7buZmE0SkhDzJ7WGjkaHv28hD6fixcLnIT8Rz69kF85AGUzdu1eKukTGuotSO
qmLi6V9VTGeLq2It832om0uEW3DL2eNe7w1gyxKeJq1Hn8zIugksup0ZRibFrKVHxrRinBrV5qns
NPgiXm3U3kk2jag9YRG05ttMx9fwJyrZPM0PY9rmef4MU3JAK1q1rFJybG0Kz8U47R2Qn2OHTdkd
t3aWwKR2VMtqEHvjBCYZtiRlAhMyA+sbpo32lOnsmEy6flXxM7oz8RibJH1fvEwmWYqIYdiqybVc
M5kQ5ea5LBKTJNnGw3MZJybJnmG7TkySYQveKDEJtKBW+7ESk+RC8iL+4ykSzyWs6kus19lK8Wsm
PcqpST61gkntIkAhmMpINdzzeIIxEEgQwoTGeaf1yGfB210bSXwjR+LdM1g8l+Dw+zK6QNsWWasA
fsbj9cACz4WEFu6xhp9onuIYxQhy5pirbzz3NiREtLz19oo+IqeKXUUfgf3sviXN2eg3bVIO+n0B
cGOqduvNVbsu5TQ+gEvjrQPw3Bvg9wanARmfEgxO1JmOPzjl1R6mPvtk0z5rq7a26LT0Irrf1qvv
vt86zUrUcWFmGNJxHyhgstIQr/vmyjPG7lt9k5GpXn97LR85We69sYleMbthuTYgo2HKaV8Sfec5
wU7Q8Mgu4kQaLihhVsy+0nz7vtLMb6iLXt/PATvzKk69/Z5XcaosU+9sm8A0krd3GA5rSDtbxWkk
38iaEZXxVoEa1fpOV52S42PRqkTQmTSongSwGzxdWTbxIqn1XFDGSMGUGkMU9GadYZPTIh/P2dy2
Dd1i2N4UDdi3AcaaD0hxOa+QLs1FLvizlIjE23GekhwXiFyAvbWlVIREvNqO0YaJOhph3SWO/F7k
ee3mheabOVJH2aAJf7Up1eNUhAlSFwZNZ8OykwXrfMllMZLNvIxkXMCMQ0Yo2IhXY1q4E2toqjMb
aYr+OAehdn5RnpQ+vdcdGcM5OZ5f/uaUExub0/JvdAXfKo/hO6tQPD6pOAC6aejKrEmxB+dms852
hj9jsCe+Mi6p4DBHoty5VyTGSPtJtg4OutekVtdvyquFHgy34IVzQjyEoC7a0wfW7JjnnL/oREET
E487FTBwfYy/Y5N8sirfjMEYzJ6qlxVr9mE46aj63nBgwbA1wNVWu6m0JdySanJ1PBhIzepgPMCy
2Gy1MP5ZvpBghKtC0+rw2TTJjb1/D+DV/5JOL3mueSnVxfPLlnzR652dti+a55dnl/XL1kVDvGj2
5Eu5KZ21G7XeabsmntXOGhfVWv1CbNXPL86bZ3L37BVd6aO5ZZuvJxXFa9D25pwbU3B9VGor7zGp
3WnRNgGAPrTrNJtmhTaK55ia5VAa0iphm5S0hZS01ebwXC4NimwOyQHo5Gtxy1eTRqXW+5VSvemh
sRmAlpTYbLakSBoYtwpEQ9rcM6G4wTVLecIjZ/gQukQO1H4EYd6CuxrdChaL3Eo+pDKQQDYvR1JQ
z0onkg+lYa8Sj1Mz+3eX0fORVvJpQKuZzBUbdXMBDHAdM8eEol3PfI95DJismh4D4gBm5xp0zo6i
aSxuejvaEmzdCLi+M2pl11RqxJ4d8m24wiL5JzBvtgK3NnQ+47WDfY9VEqrHEvkHvlIUbPapx3pE
pusrRr91R2BEgcFYBLBPKdcEQNbZAqaUgiz4pMGgtrmQeqM8VYxLoMci9PKcpzLy8qDNUmlcASgD
a6qORtCL0bliYmyezVUNHiBw0Xrt9iPws1Gr0TisVVuHUq1VJw623zdrIWVKKiajNppNUe+hhK5J
SecobiQJgvnR+n//GfwFz82O8yAjyBn9hLVZ5YoEt8oTe/rB74LynPJGLijZcUuWvjoC7dhHdF2t
3SaV37UZgz8alzu+Li2tOvBb5UT2UYTTEHNIDRLODX7+YmHT2hCNKxjAvGvRuIKBDrsmGqAVUWJZ
5BOTN2wSyV8etLNcYjwaKMPvzsRtRSg89zb9BYHJCOwvHq107sBYPgdY1d714CT7lh8ZfEk2Apmc
jPaP5xrVj0Qpi3kdC5yYPk8qXCzB1GdTtXFhfwvbeS7pXvNlb7cm4FpUelNF1e4ABu3lk8HX4XTW
ufosyy25vjc3tQ7B+3P19Gf5Ev57fua555/l3pB6JQPHKyHXxhS+XdgP57MFf9zoD0wc4CnAkCKS
BTYnOzti6OeaOvzeEZ6BOuO5bMywXvjnfjBTgNtRbMmJKTyX0rhu09EQVzcGH/+5X0L/3H/WR32s
jx4mqkV45t50z8FUm82Sq4m1hlgC3Z4PYCYplaATGJoGn62OWLJsxZ5b5AuxZBuG5nwyMXRE0r07
0j/3i8fIxPbc1KFbahYOO9/Oc+sOeE9/whrI2N9DZHHRRfymKdmp+aoDC4y9385RPUJk+xSawXvI
NpCCxqYK3FoEudKWHXa7N8+5HXy/yLbYEq4EaV5ddSqcHnU6MOb2F2uLAx5oCED3d+blrboT4PN1
KcHg59FI959R7Kgzs2PpY13pY6NyOnrCpq1aOJInPLdjz3fBE55znSyPWFV/RIT6jHjjn5Pkxug7
U31Shq8Mqsdzb8NmcgiLstkllY27zaQM+fTpAZtT60dgCCU0b3aQXaz3cw1HcgS8gTfqibQjOuEB
Qi2i5HoDSWrOeOsKDJNMANdOPna0w1cX0Fnv49UN+q131r+66PUfbu9/R+e3Fz301CqLZREVpnik
KsXIDVEMmM5v736/v/r46QFJ7XbzkMBYwVtCVzfnZXT6+TOij/XRfa/fu/+1d1FGX8r98t3pA8/1
bh7QjVFGjVK1XS3Vmm10JpWR24mRbsCkASPFPkLuAP+MiW5hyzbMVzrGz9xHoxskhUwtNmYVwjeY
Vjg3hTSAnxQTfVWGQ7sjXFzXZbFVFUXp19+qzd5NVThGQfPkSgWeN+Zg1vX5dIDNglWM2CfNQMJM
7whkm9MB8aIPDg9ONe0ARiTh2EVJPSyynBjV1moEoqkG3hhZt3ZBu/Cnc81WDzVaonYIQxapGjdU
bPwIckyL0sKPHWELM1306AkGXtAZBM+SGSJdtE6Ll8xqVvECoqEynSnqo44UXdFeLXBeD5E6ikJV
j0D16GBCYVgeDUWjnnJaZNAunaDz41FHSNXRv+Y4WlzRbaHQkR88pZ0VQTMCwVjXIvVhPNd1rFlp
Uc3w0GsLNk2DbMQF45S6AU+OtAmdhjml2cxGVGUJ3UP6gaWvtiPwjFwNXuHM6BVAq0O/6LPA42rU
JnRGoUfhmJiKJwmY+c4M3SLjhm2qg7kdxSg5ynpOhvoGn8CKgUNvRdsRBuhPAXZkAd7ZMJsaiWZ7
/NGwMkKkdNx3mItEwa1GwlVW4DLzPBLwvyzTtUKbAiVqQ5OmmNhk0h8WdLNQdExY6pGilha2j65E
Iik9SHkNpJweZHUNZDUKZDMSZG0NZC0tyCHIS59rmtdzKhXPqKSFPNNHZJbjHMP1PCS4pYATg1g9
JTnKYg1timW80gQPS0wfKRLZSANU+rIxxrOuGdBdx6oG05a00PEqdPyigiut6t/ZwFejbBeePVLw
HpPAi9RdQcBcQLfVsZoeySOYeDx5PFwJRJcnqj0wXshMgyrvI4jjWXllkX8YwsUo/h9K4an4hxua
xdZQmWG48dex49c+dSSx9HWgd3TlSQXUhllWZrMbwF36OgVyn3kO1xtCKYqSamMrJV8HT52ZYlr4
SrcLK2h+dUafYumrOe4AnYvFFc/uFo/VcQGoK5NDLzz3cjsuCNfCQQpiBHVoGpYxtoVipyMWScuF
6/5VT3AxddzLvT1Cdkcukj/V4wU3vz4NC9OSVuQ5l6WFFMRMAVtFKH6YHhUKU9pG2kJyC34dCULx
AO5rimVf+b7rdLQP07I1H1gwdOiPBbHEc1rxaFoEoUYRU29EK8zXx3HhpfiHF81/8aGCCz81iJCD
DpAEmBduI8+hr896QS/+kYIYl7dEHHdfHg7uhAPh9GPv4Ob0unfwqXffE/78k3x3fnvz0LuBLx8O
zskjD72Pt/e/C0COSw3PkfaMCi+lFMSoXvcpvABOQP3iyo0Iyc+egmNwf3ItbvHDKr94jsivpB5G
jZ7V5nZiioDRrykltYh83IeRxSoMSjOQH+ngWkczhtStL88Ue0JsClH0wd4ezxEpzYrRYmpGiskd
zRZZJfb2Fj2Z3gGGCJv3PMqKH0Y8532XghgK9ohor1b84Pw5cij7C6Zh2DOBTrM/EK3QStpG7yoe
AWegk89Ks0hi2tuJ0bD+aE8OoWf85TMesykYj0lpoVBgjw4KavdQ+kDENimtdmu1WDzgOeFYOCAv
piDGD1Y9kIoltIoKkZtLrToWUJGwjlJErAqNuAANoMDkY0kspSCGQPDjKhaPSeiINBH+lqQS/F79
frFe5obQHOTQtbehr0khgnHDb6iDfAE4qSwJXToaSuvYAgN2UpnnpATYBTQiQ1sE+8IgWOaQkB64
GKlrX2xVsyqTAT50grGHkjSflb9ZAuqutYvntoUiwT4Qx+BAPJEkVPwDLqN0rxYyxi16/dAwvqu4
CMYBrd1bSBsJ53cdoQj9ofjHV7K141VATt9F7CYijBgHX4fiIX79/zpGxCx2KscIv8zgQavzGx6V
kIR+UXQki7KIRPGI/oc+Xj+Af0aYU8iSmKWq07YXD0TafLTWfnqpC3/9RcRB3CVKf/HPPwtgrsgl
OAtRtIQMcUUCQxgARVPF/C4cr21zQc6PsFgM3we7tRxZTMM2hobWITWZiWJaR/sfUhCz78CoVPaP
9l093y8egPd8IFQ+ffwwGXbAIk7ham8ygI/Ew6Xx7+IBEvbAnzsgN2Y6+GjwCHHwDlIQQ2AN9CJA
IhI4ADnAR8sCf3nPGpLfI7uzB4YDvoI+AwTAtKqz90R+C8ihDQweNeR7dJIRSUzIEEemKYi0+6nT
2BuOOtLeTOvsTWad+d7wFX59UwhFGvHm98jc1cE/nBHyaQj7gESyDwDznhOYS0MMAU2gUN5QYCSs
CxeP9PMj+UjjpFQe8Ik8SKOZjoDwkNwwFVKjgNxJw5eJqRBgj570J0MqMm3kXWs2vVYW1/R5EhVz
n38i1zxHgicsxIQNcJOhRIHLC+Ayva4urqv0ura4rlFOjAnbzPGBsL/MsC2iSbSQQogRvF0o7raU
LjjH3kxn/wbbdD64T2c7J9XiWrcXTn4Cr/rwUCie8BzjppUwYk50wxuDwJBEAKo3QgfBxX6csAm1
ay6eYQrrdBen42DoKmA6Lq55bm29DMzHcgnrZ/nCW8RyOrSzNYz2JKrxRNOpilO1droUKHSH6CHR
PaJvRMf2QKuIOhAVoGJHAxhBFrlcvWM2grdnCD52U3DnpLLk80+Hh5VK9MJlKDiaw+DmImDFF6WD
zJiSgxmIs0w+MEavkVS1YgCc2FOtywjoEyjlNbYnxoiA60+MuTZCQ82wMIm36diZCNDQshsBtg10
vvjmyHk2+BilD9vD/el5z8G2fJlgdHK1rN4vU5iFYjDMhpgcZt8gWdVO9VHfNrEytTLGYWINKxZe
3okDfykFB/Yjts+diOf5RDH72C6gT1gZ0cw29PbEudqGQl5DQZ/uaZjYS18L/LfLNOxV6NNZVuZw
7xTVLAyhLf/47xJolE1/vS2W2qYY+jbJq7oiYXqrTOVBPGDLZZAL3rsAZxSkrzOickD1wQ4vcS3v
nYEWlaeKPZyE4iq5r7wflI3/iSg/Ynu98y5uRXSmNft4Z1gboJb3yha27/G/5tiyz2DMKJCo969k
IZTo/D/+Oxsc9GCuHwsj2J5uq/ZrTyd2Fhq8jiHwa2ZkTTFWG5TR6E4xgTtw32Jk0zqKnbaHjiOa
umrbFvfK+AUP5zZ2NWo5WGyDLqeBDmyEcWesPs5NOl0uLfGVFtawuG3EX+D2+RerI6fvSrWQZSsa
LiGXjeVyOUaTUjoSzVr+jsQCx1Z2rEGHLt43HtQpSYBaELOlnJ5J2QKyxeCRLO9RM+rqTWGhFKU1
hFGoAl3QngMVaYYxQ7b5iqQtUOTYBM9MY4gty+2f8ekOxXhq23g68zYoIon4yS5C8J0pxswaQme7
iZtRS4Xvs6rjXeB8xDoGA7SBdolrOWrTvzz3uHbnMYqatclUt4uEu9v+A9qSckjRFjmHFA19eni4
q0hlMWLm1mok6qszoN8Odx4SQnZCJYNXG28dCzOAHOl7t9qp1NDx/C2fJrIp4hrW3gs4hXSepepz
vDHIB3xLnIutNFCKeS42GQyNj0QbibQtJUFKTqafQme0mbDzXNb4iT+ygjp5uwPHm1OaCgYRNJ6d
Rs7Megu0apJWONMJ9naw42aZrxbZwGU6ddpqXNr1nU/Y3g3KdXQk5jtTTFy4HXwD2ZeQ83cb55q7
b0ZzV81ICbO9e9a0d9WMNDAbR6K0K5ih7HYKbTs3XQPoXOSDIgJ4tZk7/elQvD399Tzpr//g9Deb
CZyA0zlcmeq/aVgl0hfguRCvJikJd6bx8spMB89FeVep6FjCjvCIeG4r9nYzTtQuyDGjaymf6fa3
YF6AIJg8zdjUBMcQHxdB3hXaCow4I0KjE8Vahb4NriTFgmuuTte3Bz9jQwZ++IK5jDAzX1ADFJ7N
DZxGXHiHFCZkEcpGcwuPjtBV//aw1aq3D6UImIFkR8wAC84fRnL9QQ4ypzukk7oj9IvyXTFthSRi
nhq6dbgMDFfksjjAthJ+HAcw1Zu5RDgSQ46McGQCOSLCATia2yVApptH6Pn5uby6FQS8sChuN3Pj
djM3brd3wO32dm47Y/kRuvvSEaPY286LvbKUF3szgBzJ3gWOEPaen/1cv+xfXSTLKx9xoB9IqOYm
mmpuoqnuQDT1aNGcgVTS5A/hOSeDSETvkXMbCuTchgK5uQMRNaNFNFgsOnQezIjDzYmpZuF0OzdO
72AYkEOHAermHToO9RGS6vUILlelvLhczW00qO5gNKhWo7n88DoDrVZmM0119t1XXg7B4Tkks+zD
ualhnSSGGEVJIDejX83N6Fd34FymwUHXUvOjfRvkHdjZhDjG2tzyJv+3c3s2t51tHYUoNAHqH6XP
WYQI/AuhdKYdP2xTzSlsUH2DEEhNyqcttTWfd2tbvtAMhoP5eIxNPFosI5KN3WwUM+rpki8sWloL
MdKW3VH2SFE1q0OO0u19sXDnVNP2HoxnvbN3aWJromPL6uz1Rp9JgqrOxX0VPpPNOZ3fe/293nRG
7HuH5355uHxYXP7ycP6wN1V1S9EU87Uj7k2VF/fzoy3J4t6T7dQ/33MLQXacGl57tNpiZ49WQ+wI
bO3ZKo57H/+RBZyMgJevsajVYwdIAdzo3t1vH3O5OzG+Ps2Ym2B3TzBGpt3yyihsKKoFGPM7El0z
V0E69/IAd688h0Gsb/E1yaEMd3eQhGrtNrpQbAX1aDKsG6MP/QqafxXl+dTbqfQm0QaZYKyslslB
fKVHdokgJBuioPS7wqA7+/0t8u8Cc+5/NI35LA0+dk1KAC5CkxpipgQmALdjAuXMCZTfO4G1bAms
vXcCG5kT2HjvBLayJbD1zglsZm5mmuJ7J1BubR3ySfksbB6hay9l0+HVVb9SL0ctOYTBBM8BH6FL
Uy0heOWXOUnyIFaR1KDjkESSPKSA/l+Hd8YzmbIcnr0eodP+XfmmFwmvFsYB+zCLiDPPLXNWH6OR
MVVUvbO5UrZMgtFXbGBQ4xAYRJIu15BUX2bB8HJmpGjYXfXuCJF8F+ent+j8y72Crn49VdCnq76C
br/co6ubC/Tl5gqd316jm9Nf4foB9R9OhdLM0NThK00QPqFbg7cVZDg/Axzll6kmpCDTfy737xjP
Dk819SkqktxshAJciZg26+1WBuCc0KCNX2x6VvnYWzXvLNfL02BRhhN8SNb0TUM7QjQbth3JhVYr
8XGSbQ4327beTdwMW5X8B3VLaGaYoP9Ey317F0ODn/mgDN2Q0BJbORxITgOX/ajwzrDI/+9iCd53
Wlg9sbP594L2pLDD1YCqFlub3fzREQoduglwHWvobvzFGYBCLJhbNuvif80VzSqE7tFtNX4cUBlt
y2y1WiFbtFyqleEQz2yyO0tI4qPwXGDZzVByGM6Jr8RuAmL60ZGbVvwRLDXOtvg+cGYeoQpCkktm
CEAlt3Z7dOF/DMra26GMW8Um4tW1DD80wU8UvEYMeNAnuyd0YaZ7YyA3Qu1GrA83S0afVJxnSaHu
zIigybFNrHUEawJj8XBuIxWceMGtr7S1mh3PwfRprDyRh+ErQ8iSM9sra4bU2NO1LzxHE1s6m2pp
PkubrI8JdM7jT165PXunr4inOkYFcjgH3LAx2QltlZ10raiLxCJyv3HTG/KcXiYcQx20SHhIro/Z
qvgBe1qtGKmmiOZkCJAu2XkFY58nKhhcwrKO8Lcq/RFoDnW4dAtXoSfnmuf+1qA/Aql4DncGmjL8
jmxjNlXMR1XviEjDY3tx4Xxw05d5l05eMzHL9tBisouEaaL487KCPBpiTSOlFsG8uFczhR5GBRIi
elbzSBRb8SoN2yYpu+srxnspkX+CW54runhwfJwu4gCkLkfqktg90Q1StXLgVMrlOadG7hM2R4qu
lNZr5Xpl/VbKrpG1fVp2bbUUZLWBxbY0HNXkUbUmyw2YzSjD0XjUwI2B2JAay12okvSzzHMXVj3/
UpCk1NoUkxpriwrcPLdeljuodZ8N0NBb8x4/quTaV0M7XjuhlQnEmxVjeC6MNbSN/orbFVCLiqMg
LPopZ6yfck0m5uRR75jEUBBd5TmftiI2ZXWE2lc0bKF7PDOx5ZTbesJHqNBqNotIrtYPW+1mK6zd
PLeLlscxBzGRRtfnBpgxvCCWSt3xIOZnrWuJrHUcYTQSaoCbZ7Ul0pJaoOowZuaCLGbBe57bUp9Y
jq5OmYpC5pGF52LY3ExHFp5jLPNMSlVrxqNxfrbCy9aiUnVNBAMH7tWGiy/4Klj7CoISTd/O9NYb
qkU1UiWSUMfU9Vqpul69Ka4OMv3z+6u7B/T59Objl9OPvY4AMwGec+cCJPE/6t+fLzhlwFQChhNT
0baQJ4UM65trapV7rGjXpCBqRRlZ5H8aJ/n67aVMrjef/2YMSP5Xmizp22aypEpDbhKqJOgkdfl/
PxgzIYqfYQSzTWIiYLgzrRUGu+wVuoikD46CHjXyfXXr1HUk8TgFrOhMyOHvM3OrloxbtAoFE8Nq
zAyTjlPAqlQQA8caGXCskat+hUAnsYCgolSLugz7pB4Uqu4X0U8dREozRCGLMl9rSdb3T64u70+v
e+i3q4uHT50a0PqpR4oZdxoiuj69/3h143zjXcG3PEe+F9Gn/t3peQ8+/Op9oKDObu8vevdwBabv
9vPnq5uPHd1Azt3z28+39+6EXxS32b6thoznNkyZFWrK4hiyk4pK4zHd/eJxCi7/hUjNDEQk6/UD
dIIkqYgylh0C4Z2iT/e9yxgsBNvusXCoqcPvX/Xs+Hd1/TFEoICZaWzKkCBwdYgsYa4Vync5ZHj5
6x/J32WyX3Lo+Oh4D5EwQkeNaJ9HZpr7pXrZc5NiTILkWvYzUjnzGWkcKiMgNd7B3FZu5D23ldPN
bRuNlhdlXI+xLyPxMKWamZjU/7yik43CftS8ChhKpockQehXsr6ojvdLEQ2pVpNOkBh+uQTzXCjJ
znmbe2zBsPAj0X39ujJF/YEoB14bc3OIz+mK4w9E+O3cvDON0Xxo/0iKsjhF79EcRXKdhWRfTb+A
+JDHpgq5BrPZN7Q5WXiz3JgRzyWK02cQM+I533qEoV8bcwvfPpE6PpRr/WdlVtj3zNh+CSWxesUl
5Lm9AMxzKUC7cBmiXAmkugWfF1JqLoJjct0JjpGnEHlMoEWOnRu/kKUAaz1MFqAcrq2tmNgi3mea
hRtPIWBSk8kC1TaFWBkkVkTHczGHlmDlCEcSiILnNpGwq8k2MldiiWJtXfL0WZ6bIPdxTwFWYDDo
QMLFO57LPZS8RQd4rrC/NuQyduEtA/V2PVh7geeSIUqkCxRGAhOyinahQNKGAk1f0cq01FMgl3ie
8+AwKFHv/ty3EjEZkOqFnavPUrXdau3FtSg8t0NtKuz7nCCes5mVKdh32q5Lq8+vI+E5JjSJNGkT
xLJOnljlOWFdM7wXkPOGpxircNa1gn0tvJpuUaK1tvDtV0e3MsIVSDLNhos0ugduTRztWxDNqHYb
PuRS43huXecSA9+mZwkkyo5QWAp4TSHhMZ5zHvzgaePi1Q1FzE8DYwQGamL28Z4YMBnjPXEg5hal
qcntuFEa3+aQ8bjREMXIlbu4SJKIPCEKz7mvL3acbbfuME6sLjoHLznL6ImIA9MtCeyWuVbLn0kx
UTD1C3aYrP2i0X4H/aLRThS99O//Ct/3dVIBj2fUzZiOIL1m0YxWQuWL0V6ey4EQJhVtZa2idfEd
qGgMIhIG2ONiCFC+KAxhZjvFq6wrJWFAaL3oG2xfGoWHfoe8V3EO2cv0kL2M7q6P0efrm849HmCt
Jh2j/q/3nc3czXTYKDIs4NVryZlRC2+HZvbvPuVLQYihOiF77LtpAPg7EXgcq11lrRstPNIUCFf3
xivD74+mMddHnUA/3lkZqpD8EFZl8Ci3RnR20EUnY55bmMfTbWSEWCdiUB0rWkeOz+W6XGSr8cpx
HGdrsLtLmNjlNbsYH3fAsEYpkbdY+0h2s1vh3/A+fGcZpvlaQoO5jewJRjNgMno15l4aPTehHsnz
QG/bBprwnPKEkYIshzVlFEFTg93APQAJMNXFJjn2heamhkbqCOmGTao5PqkjH1qkjsrZIT6hG8vh
/0sigkvgPeogZaEZcFFFXa8WHeGECXSQMCTPocEronszgGRQGHSCFhN2V5EDM80L3Qk26VkE1PXp
VfZNioLIZOFZBrJISCxuRBgQRr+hEWamKyxWch3C6sna/sSYayN0c/tAK+diUsFiUVRXB/11DrqS
vhKcE2SboVigzaXwPcBvtOMciR6+DjXMCovp8HFsiFmVZQborfYblWX24c6yLPOWJqUqy9w8aort
nMsy+3BkWJY5MeXbyzIDyPg6nqwssw9VirLMiQhOVZY5CmPCssyJGpKiLDPga7V3XJY5Ec7cyjL7
qAnIV/yxF1WVma0ec/OolayTRiaUTww5MnV6JpAj0vUADrm983rMibCmLYScFGlWhZABf639BoWQ
fXgzKISctBVZFEIG3AHGOXEh5E1wuyiEnDPWLShb7wRlmvKzb9KMtph9M3YHM1/WyDk040eBWWvn
W8g2NYpcgTPR38iT/sYPTn8rf/pbO6R/54WQW0ei2H4HhZBT0ZG6EHJS7AzVj2MIQm7vpOKsD1PG
c7jEkCPncAC5lvcczocjw4qziSln4XYjN243dsDtRjt9xVkA08qNva3c2NvKn72SJL5txVkfCZmL
JiFkBtFIVTF/0VTFTMuZJqaahdP13Dhd3wGn6+L7qO0LpDRzE1EzNxE1dyCitphDJc50cCO40s6f
K3IyAxevuJ4PTdxKnLujMMCy5Vf+LzG+xOX/gjGmLv8HYAPMa+JaQInAhdYCah1Vt+jeSvm/qiij
S7KlLEIbq5K482p/wVgzzqUejCS/an+Ar5qp4iQAF6U4GROYvWbX3zuBzWwJbL53AtuZE9h+5wTW
pEwJTABuxwRmbmZq1fdOYLZmplZ/7wRmbmZqzfdOYLZmptbOjcDMCjq2juohjmF4QcdqZEHHcOjx
CzqGw4tf0PGy1rtoyBdn4mmrdy6fiy35rN4647mzRvP8oteuXrR3VNARGlbd3rDPbmmMo4hdZR+G
g3s8nNOcjOe63ZHcRAuK0hyJckPhuVG7Wq012rV2HQMNWMHNhjLAeHDoHXWvHpqPh1IKWv07uOku
1xSw3k0hSyCzLmZZyDIS4EohSzEDWGmrWAKWJlvXW4S5PbXbpnS+DAtVEuZ+pHUtpNAux9aXQihN
UG/TB3Dn9TYB99ooknu9zbxQhtTb3ESZTb3N1lFDEnOvHvn/GJbaW2DJrd7mNlT51tsErA0x43qb
mzATV7bMFlTrxwGVyUai1lFTFHMo3bnqjfKc548uvVEhgpzdDRH5oAwdIppyPkNEcrhxDN6OsNTe
AkuOxrv5Jsa7mYPxbmZncbMElauZbMUzk0lmDjznzR0uJIGtjXlWNm4dtURxx1WG3w/OzFfjWrIU
okH3eAQzu6HtpVwYpQbiZHCwjUU1UrTPFnIhSZODgy6MIZf9VLR/ub8iB6FJ4gdlYJGEzsQcEMNO
Tkkp5PSoRmv4bcFSk+LqD8yih99/JabWI2Jj8fPL/ediBL7QVhHSx6YxXSQqDNwPCooYKCKeWwhp
n0g0ERDm0JpfyjwXIuckDHETKMRJnkCf3RZSaDWkjA/Cp4PJdhDeh4Pt0Le8BUpL2umh7yiMCQ99
+8AGsuN2hnXSg0iWmqXOlINBtUUp22QAALIq7fBIemp8iTYTJcCZ25F0HzWJjqSzWTieixzJvLPt
UfHkdk3KaYtmQsgMmxEzgBw5u2o3pJ2fbU+ENe3Z9qRIszrbDvhb0hucbffh3eL/OOfZYRwAbM4Z
d+dsO1IfdcMkcyX3WtGIH/9Kntvm/SZrYxYn39tHYsCwkvjk+ya4XZx8zxnrFpTyO0GZ5rzx2zSj
lkMzdgYzX9Y0cmjGjwKzJeV7cjk1ilyBs9AviTnSnxL429Mv50+/vEP6d37yHUioSe/g5HsqOlKf
fE+KPcOT70BCQ9rJyXcfpoxneIkhR87wAHIr7xmeD0eGJ98TU87AbVnMi9sZQI7ktlyX0p9894HJ
nr313Njb3AF7m1Kmx6sTU83C6XZunG7vgNNtKaPj1cH7nsk+E55zdppEiKgq5SWihJAZRJQB5EgR
VasSexqIBPtjI9NA+EjIXjTV3ERT34FoUuDYfiYjE9q3Qd6B9U6II965ch+auCff4dX2bihsSzs8
+Z4YX+KT7+2jWjL7F37KKRhs4kNTicCFHppqHzVacvTJd3gR3f49QhUXkHZ47D0Ya8YbbYKR5Hfs
nREfu9YkAMeqNe+WwHa2BLbfOYFNKWsCE0DcMYHVbAmsvncC65kTWH/vBDazJbD53gnM3Mw02++c
wJYkZ3xoOxxm+KHtWuSh7XDo8Q9tA7yqnNF54XBY8Q+AB+eZ47llne4dHQAPb9i7OQgNZNZl5nPL
1Ua70cwAXtqzy+FY/FqzFqj0SXiuk+7kk7CvOzk6wnPJzywDhU05yzPLPoA7P7O8iTv3A2mAsi3v
9kDaJspsDqSlgct+iKt91Jb+P5aYWKrybo69bUOV77G3Tazpj70BzLqczVm1dwsqvq1j37fRXhsV
sjlovOr18Jw/v67j9QiZtTWtXW/v3q63c7Lr7fztehWcTun/Y4mJZUd2fSuqXO16ANbUdp3AzMiC
7gJUFsaYAI9pjNcmE0IE1PxPJwdgy/2kMMHZfh84s1008SMJVIiz+XiMaV32xSHNATQlGJQUEnIJ
m+hFvbpW4pxMn7tZwgM5dU9s1dZw95zOfM+WM1/0zRhYZYT6tPA7Kfs+VrE2QsaYTJWB+9gCQ/Yd
vz4b5qiEhqr9WiK1nImQDRMZ9gQEZMyIYCyk6CNETqvR84wAmNSUR88K2PuTioM/qlkh8ZWTKbYV
pCtT3Blha2iqFCk5NkniDx0SiBjNhzZSaJPcSva0jj3ZhK4D2YQiG2Q7w2SkGc0t23ylrVB11IdH
VGuCFBtt8KiM7uY2qoliSRRFZDhnNi3yKLTPJC1+xKatziz0PME6bbSL3TZGymtZcJvNc2kb7srB
Wrba11angYT/2Cw5TDB0TdWxc8FzvscsECVtpvcXudGQ9WtEGLB+M+ietXFj8RTPkdseYe5Tqu4Y
dboW6d5zxkv3wqN2JVizduknZJ0Ocs1zK4Rg7+uNFgfBNDeeWX0ET2ea8UrcmRI96oUmc9JhnAue
cy8t59r/nfPZAeK71rHtvyYvGrYrLCJZhyFCmj60bhpAO76TtAMdwZqAxzIENVdBtQQ0WYQjA4OR
IFGrMlaeyMPwlRFNVJ2dKKdvI03RH+fKI+78ojwpfeeeZQ63UKVrX3jOVjWr4myFLn+zBOjsM9wR
aEzyGwBxAAvdk4rzqRuCqquOUYGcXQHjNTah71lljUZMUReJReR+42aggI5dJhxDnUVOCnp9vMCU
IXsq1J5nCJAMeGjwODQ0w+w8T1RwOQnLOsLfqvRHQERN4BKsn9huC+jJuea5vzXoj4AUemegKcPv
YPNmU8V8VPWOiDQ8thcXzocJVh8n9uLyWR3Zk44Y2Z4me3tsZaBh5AAWJFH8WYAx3YRuC0iHWNOs
mTIEk+1ezRRapRhI4LnsiHApMWHcHS14K/ztUiL/hO6ePrBmoB32qJsxThdxAFKXI3VJ7J7oxgBI
G3RPxjCO8NxYGUI/ecLmSNGVkmKqilaaYO0J2+pQEZCl/ht3pO6J4poF3xn1K7DpL2XwWD6wJVRZ
3S7Jc+6Gyb1/D+DlNCWH3JAIuCavGrSFtv3I09juJ2OKTyqKy3f4DYPh7PjPxSURxqJ1FsxIceWz
AdrpnrmP37Lt7SKbdzNsGSWTNO2kQmQJf0CqFUe+LOrVrmarXnJNJtbgUe+YpJ8TVeM5n7IhNl1b
l8lS4z5hbcaqdjwXWzwZCYfnXMUDalcUb13tzsELBeU0EVllVof4CBVajUYR1aqtQ6nWqr+1WOOY
qphIAaYZBVOWquwDIzX8WULMbSSJQYR/JIkhDLmaUAOc1kotET05/RjG81yQORjBiwvx6tyF75n6
An1ZKz+qY8/OSMh1JCQZbIuZI4XMox7PpR8dkpkfnuuyMfJGeapoxqNxfrbCSxC2y82aCNabTKbX
58BLze/S0cZlOdH07Uyvv6FaVCNVIgl1TF2vnqrrkTzmKyNo//z+6u4BfT69+fjl9GOvI8AsBUY2
Z54ilWHo7d+fLzhlwDQHpiamom1uc6jcY0W7xiNVqSgji/xPQ2dfv72UyfXm80uVhwlohczgvwJm
Tas05CZpuiTLjXr9fz8Ys8gZoNzczhXWaVIoDHcut8Iml0lCF538dHiYAjqV0VfwWkjmpY4kHkfB
ChkLK5XDw26K95m51U7GLaJSTAyrSswMk45TwKpUUDTHwgCwcqxazVO/wqCTaIOuPKmPim2YZWU2
+9XhXJkEzV5ux4X96/5VD1X3i+inDjqUin+kQEZlMzKGc7oU5xxF2j+5urw/ve6h364uHj51ao0W
+tS7+vjpodMQ0fXp/cerG+cb7wq+5TnyvYg+9e9Oz3vw4VfvAwV1dnt/0buHKzBgt58/X9187OgG
cu6e336+vXdDCqIY24Lx3IYNs2LYsC0W7KSi0lBPd78Yqa4hNv4vhDULIyJSrwOgEyRJRfRHCqgB
QkMgtVP06b53GYN3PLew/0NNHX7/qmfAuKvrj9EipMHYsGEoC0rAN0kpvah3m2kNVehA6Az26WBE
uyjVhPPDGBOQag6zwRgwGWeDtRgTscwgnSQAkXQqGkV1Ne+JaC3dRLTRaHnhyvVg/TKkD/OfmYk1
Qxld0ZlBYT9qEgTsvAQzQlJsfiVLyup4v5RHQ1h/uQTzXCjJdzSpoQVDADvV9Ten+vp1ZTb5A1F+
OiIhuR+I4B5dklzyOIriJgvFxeV6WUAshGaphV+kO50ustS+j6gIMvRrY27hW3DDOgJlVf9ZmRX2
vb6/X0JJTEVRWECe2wGAeS4F6BihnM33eW4RiBcXQR257gR1yLOIPCw4uwkE7+X14E6AmF2zU7lU
PBNEJT0ZfB1OZ52rz6TGQ0NkzaufqeBJKcj1ePw2wfssKKOAAmzuQvzgS68rQCoE7BrAc9sheBrQ
ltcVgDyI3Cc9HfC9vFUN/CtiPJf9mhhb/wZLwirmtSGHURJbBqqi35KsiTsTRCFiBznHgbIIg0q1
ddlPX1f3yXjyX4Oy0AGe224M3DdebSAm3QpwkE7wXKqluG064QzmoRKi21oCx/7tFp8B7DrQAHnz
XJyXF2KWpXUxOw+hPWU6OyZd3Zibw2Vnd75d6efQn+OsLLK5DFvd+dba6rBfuYgloosrJFCQrUqx
KhQofRyV8twtRumve2d+pQIFyAJ0Ah8CFGDldU+5QNBruuU99cFTJ+/G+sCRox7FmXnmEIGoZR+B
aL+D9eh6/PVo31aB8bjREMXIFaC4SBKIPCkKT+XrYh7Bhv58UAHLq+hDPGKdTNZrOU4m3V88t5xY
hlN/9nrubKL+McnvK0945OxwZ4+cvK8m3GHTMnRFc1pBs/8yTvLrjXjt8E33mQcRniM0XqhP6roj
uhhDGtujB2s1biy7ozDPI0kx8hz3dYV4kzzn9GiWETrIAoS6lKGQaRAoEHb84X/9bU9wjfpScgvP
Eqad5DnfqLNwKykAZ/0lCnkCPV2lN4GeOeZLpQ5+9jMWBhXjuQRKtjC7rDq2YafJ3HWLliUHzqhl
PBcGYOFm1tYV7ewVuc9tKNoCQrimwQQisAUJFMcbNSrXr97HsE3BMHfdZYjTpzqg2qvKszLosco4
cKTcbqno42D802BJZrPWMK/EvaR1jaIPI+/ZDa1aIYfNhvFcas26659aCfaXE+O526HOcz08blPn
g1XUIX7LdrVafwl0OxXGZCpGABHruQFqGX7ZGCQ95N55SvrOhsIFkLihdpERIRa1Y4/rxPUSk0zO
WtnPx2PAZJyPx4GY23y8ISZblvcfsYg4WgHDc7TI4tIRNJ+u5IcmTnvBaWYgRM5eRWPAZFTROBDz
U9Fa3jtHGrXUypcGQ8SrbPYyORCyoRTdYPvSKDz0O+S9ipMiUqY57ero7voYfb6+6dzjAdZq1WPU
//W+s1mThudg3Cgy7EsLbVHEq63wdmhm/+4TAwWtXCgIPlW8DOh1GfbuNsXEpDWjjNt4rjsJLyya
POYezzQwaAWrRI/MP+AXu4RM5ya5iN5G2mQyp0+KiQxTfXRS1qAO0vGzmyenYBWjUMisKDSsA2yv
Je4h6ijoTVboM8MC6GIm8BxYS5Ys9l57xBczQfM8UcEiFwg2Zyt3tDzZ10pmJl7I09cSaz5wlKsg
lgBxZEPY1yQAmh2OEZ44AKmX/N/CNc+BHmRIyIoqL9lw4O86cLWk10PNc5lwIZ3qtJj601+ZQDGx
PTd1H7VpoUaSlXyYbdVYjedHo0Az1TyvJakZqqMS+kZzi42iu1qLyecgCDqr1trBKSChJPwsi0Kk
vJnch+/Pa1hI63aC44DiOMsVxx7F0YjGwTQjo+JeQ+OqADvHkjsgbEQ+gxIaz+WVJCEdgSyAWIvz
DRvrIcNJR9HIggjP7XzPlRsl4jkvTrRH8w91BDCl35/hl7BnG886vSZdgN4hdbPIDcp+eufcvQOd
kV7/ckMvv9n06urG+ZZsTyTXlu2+DjznuTCut8VahGliOWwXCiXFq86Uju3oWVtOTsPbvFrb/qo7
61yZaC6mlqvTzm4KNCtJVoYGAap3qmigDL8/msZcH3XCwnwkM5ZVGTxKDZ4b0YjkMvwW9h5NJ/Sg
fMfnTq7v2/Hvxtx0QnkEijv9rDbbXiSuKjnBQfIScjOEI2OMXg2em3uJrsrlMppbGJGMYtZUMe1F
CiwvvdpPghNMYQk6MLNtuVmY/bg/2IeY8YdMNIEd63pMzJwihXoJgTvX/3OOzVfH0vKcZ2vfwybm
KU1T2CEuqxM4/uYoxNicZs0s/9F7klPRTZ01UUcjrHvbvfq/9x/uT28OHwSiLHOeg3u/keEgcutP
u5UFOQ41DjHAEkID7vzLww0jxc6wGwMXewKMwmgcwS/pSBSzpvgLmBaX5FNNIwSElaiMIiE36qPC
lQvbwXNr1mPR3ZlsuAJd/z/n6vA7NQekU/XI6GFoPgu+eoLCIwNMtoWnyqzzN2y5dp0CIgcr3FUf
v51mCukCy+TcWLZgkcsyj4WSbwffkP4ICybmRi07yST96HpYurGy6XA89pMcvRQgI+9dN21dqmZG
vFqrpd48FjV28hzz6JkNQVFLTTAgRHH8ZNDt0Zy+f3cymRas4hHJbeWsCuyqDctf7moEbQslmeek
7RvVnO5Ncnq9p8Rwhk4P8ncEd3ZJEtQW9mPQ/mZH9PZ5roT2n/XRkji6yu+6zdVqybERNalZgmmU
oWkDxbQ6UsnEICzSOzqv2NovHiM3pjVWNAsfL9OuudnTovSqkblevR1i3/hPZio85/RECU2VFyf4
DqNZw3EKqPPmuQUCAntD45Yd6S0IX1+g4TlfNtZF4oulC1ym1JfH8I1VKLLNs4HyVpaURy9jZogx
et6XJbJMzLxjXhU31aFqv7Ibe0nchYr5k/iEZxd2cgtDEz6r+neSXTgkjfBKaqAL1Zppyqv3amGf
qDA4344SPxjP+n5p36fWNGpmwb2Kg/MjNu7AvGOT2m39qSOmmp/yXFbGGyw1mN4lF5hMXh5iJVuc
fGZP5Tl6QU0c4S/yTOCmpZN3Sy+LvZDkHdqL7JCltRd9rGGavZ9WkDhyEp46uU8Hu2sG49YNwJjO
Fz2xnOa6sQzS4939SkvdrPJcN18qHFKc8OIiOvD5cwl96QsIOSSSXFte+tq/gb1w89aeahr6oqs2
2VdLyd985KTiQH6TRtA2dE81ZaBMFbLZjZGWRva0/H1Bi/UdSDF47s1I+T8uKab6b0N/Y7bce7R8
V3RLscgGPUZiWpkTc37qEHOuaOrYMMlBEeXkDcm5dckhZlIZGW/LmwePGKcCz5Dn5jYrc2Qxc3ou
eg49F1hTnhUTszMnD2LOXWJUsvI8hOmWMUYgtvl0oCpvyKRL1wBeggKpoxg9XZYzp+Wj27nAkTUf
1bel5dOVQ8snUB1VZTfGOZBydeGQcjVSJgZRFVK/hIGS7EfLK1dZrjRN1Q01hinOg5gblxh9pCpx
xqg8aHE198p4djozz7EQkv1g+fe+Q8jfnaGSXW1zIOV3lxSs2/Ph99cYypI9MZ9dAX025qpF1IXn
mI1u9iPltTsyXSuqjmP06BwoufAoMV81RR/FEFIOxJx6xFiWMpzQtFm2bbEKqpr96HjtjgLX6nCi
Pio6O3vyIObGIwb8K8uwY+hwHtT0PWosi/wHOjxTmenJfpS8vl3SY8xNNYaociDGdYWvDd2ONTbl
QMuNa2xu8MCkE0t2xmQ/UN786hHzpIxizHHzIOWTR8oz+qRMZ2BtJgD15A2Z88uSol+waWGee2Um
J/sx8+Z6Sc41fiHzOeMtyfl9Sc7vhvk9hh7nQIw7nbsxTHtCCoECb8AnZp7JVbMfPW8u/CRdKN+B
JPstCbp1O9jtRDXYneI8CHEDa7ffNZhBTdct4BZCaqH7mvREryWk342A3Zr40dDZjWYOpNy5Ltod
1nXrVaOJXtjjF7XsR7d710O7nxgjjK4sjeeIG/t2BPVdy9A35oksQx4kXfhJimsZatkPdA+uJ/uA
iSdrYczuyeZBzX951LzQKTPjbCwHSr64buMXW5mwW8xa9sPbry4hv2JzCi4su/+aBy2uyflVJWVg
1Rj+aw7E/OYS85tiTVT90SYVfZlVN/uR7TfXnf4NWzYiDCKbIWPY4xwocu3xb6o1NHRL1WN07Ryo
cX3G316NKYiLXY/r6YbOk4qzJpoKTa4UJthvUN/lfoP6+9tvcK7Y4H+ZrzG3HNTlHPYn+TYFfDMG
ME68zvDGvoBaJGnZ75Nd64BCl+eC9wSQXfAuR9WgTQFvTvovN6Q2ryR0T4dDY67bxH6sPyGKMnw/
AtuC9tC5hk3QJW3zqWpL6J4p+vdAEPUqfKkaNh5OFl+S2onu17UmfG0aymiogI0/BL7NTV3RVGu6
CUpqw7Nzi5xXs9AFfsKaMSObITefrFXpOq1lm3N63ikIsyw6z8w1WwmCIRIYa1WJN5+SJbICa6mP
esB3TW9BdDB3fB0ELexP1NkskFVVgNUbzZ0zsQEE1eBrHZwEjM3A92WZPGCbr+gzYQ4ieVOe0Uee
M5VRADdBar0XPJzb6lNAwyQg/lIZqppqgwIHUFOH78Hx14O4IjbIMqdOcvEpGvJkFqAcEn2OPvVZ
GRhmgCgJKOMJm3qwqOUq2easaPaE5Htxvyc5SRcARFL33Kb8+GRYM9UG9bJfA4iGFn+aTxV9mS8+
4KEWWZIjR+molNAD6LUOVvXRBQgOk1+iNfK0NTeD2STVyddP0C6wuwH6AJR/xo9BXa4muV8h2j1P
PGfa/3aTLDXoyiPewrg2/X4OY4Y9D1YokT5ifsfB1qEO9N3MSXK4oLbBl7f2BAeJFMDeTRRg4RDP
7WCbIgPn7kxjDGqjuonkaA9cFQnPObhAR+5AYBPFIrkuDhGCV4dzc1vLge3/eQqP/eecqgJyT7AG
PAmAQRnontTVb8mWWeBxnX5vK0TCxHxdGsZou7GoVsnjtqISXfwIJOIgsUsg276iBWmfJJMRpz9U
cbA+Afz+d1XT8MjpToDmATp/ECgZFLlvm2SIeoXH7jRF1wOlLIEk+vPZTHvlOXQ+UdQA01Rrkfkl
DNrGdDrXVceCBSCtAv1AkBqMqVaj3+rWzDBtvxFc6c51Mj0x8YQkTHyDUXTd9d2SNgWQN3buwTZ2
6cE2svZgGau+kGrXW2pdoydyDgwcXSbHtVXP89CJNR9MVZ6zF1Eq50jk0n1tMO4Uz4NOulPcx26e
Cy0uHsHuWpdJO7NqB4t2NsSkyIhQos6Vp4EfM8thBKqIV+V6uml+zNO7yfFliyri1Vo9j4L38QEz
KXJcmG4+CyeJBSk+jM2oigM8l6zmQPoTkTy3/Twn2wn2ga1/IYmTTS/3vmNnv0pN0XeEHa4WSUhE
epKYpgkXPQsmuZV9vriJRzxgvoPsCmvSEZBZIyeZ+VJlk/OMb5MEiecSyMjhY9/J5wLN2C6furg8
6e0kLXeSv1ik2B95uwxCsdF8hhQUmGW6nJ+0PNvEZAwayQ0U00jpz1rDJofFUA7vQZ+nby4Gc7ZG
tXbWqGqbPRWPdNRkH49Xsi6QpAvBmQXkjaw8EYlCmmKyXu+lcvhbm/74I7lr+RsQyXzmi+P+7ZL+
OFFc2gHOXtGlirURyap0RcwIzE2dcC5jZ0jdiEuJ/ItEk9xRYJMeXJHw90J+rfwoCkgjJVQbPwub
guQ5nyidpNz5UhVIqTuuuIaC1O+ZqroX3C2vltIkxiO/MjE8l+C47WY8mhj76Oles5Y7K4ckx7QT
St8pH4GLPBefj8u4/3vh4BnZb0OWEdzA8i65CMqYRBvddQ+30KgXEH8vDD03SHIc/Ih3rY/AR56L
x8lzg1LKyrtGbrzz4k/PPPf8XLZIcF99pCwb4bEy12xnpqTaGJr+6dPNA11Hsk1laFcugctaHBVo
5K4Cc5gq0EUsNyy9Q1VImMpnc9ltd8xk8YKbGUSy/M5CM8BZ4LlSbGehlbcu9Ui2cm/9cccmhefi
65F/tZRRhfLn4Qs4ps6i686NMvTHuBxcLBCz8a8l5s2/T5is4TurvT+Al+Vbmn43HJyTqm36YpH7
B/Cy1pfl3wsrSY32xV6A5VaAnXCU51IkLdq2h4GRsblPS6/JTGC5NeEHmJaubqXYHR9ZHJZM8Cwd
FhkcFn9sjvouPLclZsXku7RynwrdkK05M9MYq/YPMO7eGC6trJqUO//uYdwlO1feYCZ5znOxmOds
sXk3nOuDLdOwtdhI9QOMt3T7kRvTWG4AY2Ro7lPaPkmKTHZAuftKfwSGOlu2XJZ6+2HZGNqWdjNK
pMTDsryQHEWcpbe4WJgor9aTVV1gKrXrrMyRybV/m423Ni1u7LhpsK/oJCScaVkqAUq/VxCwjnVt
wKPuYtatU+4jeP1q67a7dj2hoJgXlrAG9px5YSkuPQHk5YshqIjstoXHbhcF7UtwitGroMgwRZtr
tuXuJTH7w0nnNN1+Ep7LqLB394xs9CWEvi72B0RxtvnWnP0lrA5WynGN57JhKtDonGl5eJ3hH5O1
qu5xVtWz2P7Ec5lwFryYOfSid6+v3xZMxdbXd+Z6kSMxiBQ1gdaNx+PRfxsaGzvlI1HM2SFKg4Ld
IYqPhYlyOf44mzHIRVxideNcaAEUR32ljZOQnw2DruOODTPaWgyVhbkYMm+XhDbnWEKC5GzVFZIq
kGg3WmkFz21px2I8UXOq9cVzcVtBdy3pNC7pbO1ApBTkB+88Kouyyzkoe62etOaaV1BF8ld8zwNn
uPceXEOH5wIr0AUcKg4M6wVtRFOeFttm8Zrv7jdZPJeeCRGvNpLzr8tYr4/noqcACSmJ1ijZb+T8
68XCLgha/gJHZU7P3ZGd0wJRAGRPgDWWt3sajbFiz01cQq/GHA0VHT1iG5lkSkuLVEZRm+marKrb
BtCHiV1Bkzkw81m1JzxnzG00ms80engNGoPHMBTYFsIKTEVtdYop8WQviF7eKcGnNlqJb5XQM0Ym
z2EY9f5NWK3YCD9h8xVNVX1uO3RaRAoDshRh7ZRYglvxCBlqhoVNRLKIkJogpPNQzs+wOSbn+0EC
UayUMl3Co+eeBpFGJ2uk3RO127cVE7T9lTbeMKe0rBuwyqmZ50Y8dOP5p5OK2iVmc2c0RuCRszu1
FTl0S9msh5k542E6ogRYaqlOQ+UBnYk5tdjnIaIgNhIP4nm9Go/VreREsFnXLIDs/jwI/BZZKWM9
ysEKMxsgzODkLGjaIZCNpTPfVJbEaKcg/v+jzOioRCeBk8HX4XTWOTuVxRrP1WtvUfv5rMFza+tm
THp8/d1+rIy8RCswc/wqyeJLwzlgtnDh3cj+UsUbYne5Ahd6uAd+x50ARnsZsUFul2TfhgmJYjqX
/rKWPPcGBwSp9Hgupvwspw0JRLdzwTWytS3Jhzg2SkLKDAuisDL19669qS5ck4m6bfoKDjsRhdUN
QBEzZilRjWpwkTfHqbUMBJNFwof4oQpnVoUuFdW0/DnPKjYYg0XYYhlkZXGe5FaDSSIM5aVZgaWT
Mc/BHUnYlG83eyITUwpmzNXH5pLS54lq427w2Wm26M22WJcvbExKNCwT6EnIsl813CGPHpI7R5I0
e4niUFVsxPfUL1V9RGbyJtLxC50qk9khgrk+uXera6qO0VKDQWOtMp3erh0f940WzkvOO1TpM9kl
w3Ob40UCRiTdx7puQojRCD6C/hHarX80gkaWet2XHcC3xYIsE3n8DIxiZi36TQQRdwA/z4VSIDeS
ji6hr8YZMKMBRbxfS96GWiOjSSAbpCggjQggLGNMGBDGGXkoiKkyc1JvYovUgDdxwHIYwzovz+20
hjqY6Ikywx0TD0nWpaFBqmLDACO3S9WS1K6WZBjlaEKJs7kFXsGDqQyUb4aF8PryMMkfATyI5GEr
uVbm8+rJT4eHmtm/uzw8jCK+JiamoJZkOGPpYckA2yP/wloUCrmR+dpgDJiMvTMOxIGJhhpWzI6i
aSzzoVqUGQvxz9Zcp1W3KjVizzP2uaJYJP8E5o2UPBeer8xrB7s/n4TqsUT+CV0UBbsRw70P3OSw
uQy4vgjIc9kQ4Ka3Y9/L6gkAbHFQyjhBFnzSYFDbXEi9UZ4qxqVCzsABvTznqYy8IFiW/NmIiACU
gTVVRyPoxWhj2zlaP7h8BNNM1Go0DmvV1qFUa9XJPNNNBk1/t5AyRYc8h9poNkW9hxK6JllEo7jR
SmAp/Wj9v/8M/oLnIpJUJyQjaHPNJ6zNtkxGeO4NglfUnwChOLM9gXbso7+J8EMmxoRaMjfImDsr
e0UQk5z+wXPhNNTjzj8ChHODn79YGKaXW1w9kNCuReMKBjrsmmhIvmtKLIN84vKGTSL5y4N2lkuM
R2TrhD/Y6wqF596mv5C9dYH9xaPVmU+z1RUAVsm7Hpxkb3CqMs3t2QhkcTIYIb0z16hej57Lsni7
0XBi+jypcFlDU53ZZLvK4xzY1vlFeVL69F53ZAznJKF4+dlUbVzY38J2nkuasHjZ22Eqa+JKb6qo
2h3A8K/QXX2W5ZZc35ubGo15/Vw9/Vm+hP+eSb6an+XekHolA8crIdfGFL5d2A/nswV/lscK4CnA
sJdtEDCxHTH0c00dfu8Iz0Cd8Vw2Zlgv/HM/mCnA7Si25MQUUj5jV8b1n/sl9M/9Z33Ux/rogVTy
tAgL3NtOvsRms+SqVa0hlkBR5wOYFkol0GhD0+Cz1RFLlq3Yc4t8IZZsw9CcTyaGXkX6akf6537x
GJnYnps69DHNwoLfvIDBDPemezqtyoH96u7bVOC3M/Hs9dI5rwYYLaoUZNehhWbwHrINpKCxqWJS
K89ZJ0wyPpC+SpL2BXXW/eJJxTEWkUanmTjWEvrqqoPg9I7TgTG3v8SK7PPc7jy2VdcAZNqlBIPP
Rrd6/5kdO5b+Esl0UTkdPWHTVi0cyROysXKnXuyCJ8SgUIfJI5bsECTUs/GmHcUb//wiNbBtjL4z
1Sdl+MqgesDoN2GzSBhN2OySmhF3tzHk06cHbE6tHTFkC/kNaTv5ibsvKfkBLfP4F7GDJoyECA6S
Sh/3cw1HMpHnqm/UeWnfdaIDhFpEyWXcohLNGW8RkmmO2agmHm7CXiWLC+is9/HqBv3WO+tfXfT6
D7f3v6Pz24seemqVxbKIClM8UpUiil5/iMR0fnv3+/3Vx08PSGq3m4cExgreErq6OS+j08+fEX2s
j+57/d79r72LMvpS7pfvTsFN6t08oBujjBqlartaqjXb6EwqI7ffI92AOQNGin2EvIyPmOgWtkg5
JuoVzNxHGRoUMrPYmFQI32BW4dwU0gB+Ukz0VRkO7Y5wcV2XxVZVFKVff6s2ezdV4RgFTZMrFcXJ
+4r0+XSAzYJVjO66USTM9I5ANiwcECf64PDgVNOEYxcd9cfIcmJUO5sRSKba0Dlq6oJ24U/nmq0e
arTg2RBGOOgpaOiWMkyL0sKPHWELI1306AnGadAXBM+SySE9uZYWL5nQrOIFRENlOlPURx0puqK9
WuDqHiJ1FIWqHYHq0cGEwrA8GopG/eq0yKBdOkHnx6OOkKqjf81xtLii20KhIz94SjsjgqYUgWCs
a5H6MJ7rOtastKhmeOi1BZsm6NfQAMOUugFPjrQJnYY5pXv4Rk4SOKCblkpk6avNagSekavBK5wZ
vQJodegXfRZ4XI3ahM4o9CgcE1PxJAHz5JmhW2TMcPYaRzIqynJOhvoGn8CKgf9vRdsRBuhPAXZk
Ad4pTZUaCdlT4fBHw8oIkUTI5Ch1FNxmJFxlBS4zzyMB/8syXSu0KVCiNuCFQp/DJpv+MKCbhaJj
wtKOFLW0sH10ERJJ6UHKayDl9CCrayCrESBbUiTI2hrIWlqQQ5CXPic+jDcsekYlLeSZPiIzHFu1
NbzwkNys4ojVU2pFWayhTbGMV5rgYYnpI0UiG2mASl82xnjWNQO661jVYMqSFjpehY5fVHCjVf07
I/go24VnjxS8xyRMarE6goB5gG6rYzU9kkcw8XjyeLgSgy5PVHtgvJBZBlXeRxDHs/LKJP8QhItR
/D+UwlPxDzeQi62hMsNw469jx6996khi6etA7+jKkwqoDbOszGY3gLv0dQrkPvMcrjeEUhQlIbbv
6+CpM1NMC1/pdmEFza/O6FMsfTXHHaBzsa7i2d3isTouAHVlUiiR515uxwXhWjhIQYygDk3DMsa2
UOx0xCJpuXDdv+oJLqaOe7m3R8juyEXyp3q84ObXp2FhWtKKPOeytJCCmClgqwjFD9OjQmFK20hb
SG7BryNBKB7AfU2x7Cvfd52O9mFatuYDcsxJfyyIJZ7TikfTIgg1ipg2g8J8fRwXXop/eLH/Fx8q
uPBTgwg56ABJgHnhNvIc+vqsF/TiHymIcXlLxHH35eHgTjgQTj/2Dm5Or3sHn3r3PeHPP8l357c3
D70b+PLh4Jw88tD7eHv/uwDkuNSQIsxfH0eFl1IKYlSv+xReACegfnHlRoTkZ0/BMbg/uRa3+GGV
XzxH5FdSD6NGz3bI6FEEjH5NKalF5OM+jCxWYVCagfxIB9c6muHU4C3PFHtCbApR9MHeHs8RKc2K
kWIKI8ZlizuaecMZ2ttb9GR6BxgibN7zKCt+GPGc910KYijYI6K9WvGD8+fIoewvmIZhzwQ6zf5A
tEIraRu9q3gEnIFOPivNIokJGbM0rD/ak0PoGX/5jMdsCsZjUlooFNijg4LaPZQ+ELFNSqvdWi0W
D3hOOBYOyIspiPGDVQ+kYgmtokLk5lKrjgVUJKyjFBGrQiMuQAMoMPlYEkspiCEQ/LiKxWMSNiJN
hL8lqQS/V79fLK+54TMHOXTtrehDxkUv9IY6yBd8k8qS0KWjobSOLTBYJ5V5ThLQiIxTUbwIIcYy
h4SOwHVIXftiq5pVmQzwoRNVPZSk+az8zRJQd41Iss89OKYInZ2M8gfiiSSh4h9wWUhB76ILD0mS
LFyEno7W7i1Eh4Tzu45QBOUu/vGVbNF4FZDTEVGM/t5sbiXGwdeheIiT/r+OEbFxncoxwi8zeNDq
/IZHJSShXxQdyaIsIlE8ov+hj9cP4GwR5hSyJGapt7TtxQORNh+ttZ9e6sJffxFxEN+H0l/8888C
2B5yCSN/ClqKBIYwAIqmivldOF7broKcH2GxDr4PRmg5TJiGbQwNrdPZ5zmimNbR/ocoYtrbidl3
YFQq+0f7rp7vFw/AFT4QKp8+fpgMO2DepnC1NxnAR+Ku0kB28QAJe+CcHZAbMx0cLniEeGsHKYgh
sAZ6ESARCRyAHOCjZYHzu2cNye+R3dkDKwBfQZ8BAmCO1Nl7Ir8F5NAG1ota5T06Y0hDDJlzINLu
p05jbzjqSHszrbM3mXXme8NX+PVNIRRpxDXfIxNRB/9wRsin8egDEpY+AMx7TpQtnJjqkSiFc4ZA
obyhwEiMFi4e6edH8pEGPak84BN5kIYmHQHhIblhKjzn3ElBComzEWCPnvQnQyoybeRdaza9VhbX
9HkS4nKffyLXPEciIamJGUoUuLwALtPr6uK6Sq9ri+sa5cSYsM0cHwj7/irDk2ghVbcTI3j7T9wd
KV3wdL1py/4Ntunkbp9OXU6qxbVuL5z8BC7y4aFQPOE5pg0r4cSc6IY3BoEhSQHIvxUnbHbsmotn
mI863cXpOBi6CpiOi2ueW1v4AvOxXIv6Wb4gq1FOZ3a2d9FeRLWdaDlVb6rSTncCZe4QHSR6R3SN
6NceaBRRBSJ+KnJn4xHPOUeWn7e1vr699e7pGsHbywQfI6USAu6kshTLT4eHlUrUgmUEOLIC27u5
CFjpRQyQQwYpxpOSzECc5fGBMXrtZglwYk+17jZAa8b9E+jwNbYnxoiA60+MuTZyUp+RWJuOnUkA
DSu70V/bQOeLb46cZ3kuAtvD/el5z8G2fJlgpFsD1u6XKcxCMXuYfWP4HY9O9VHfNrEytbbhkKRE
OEysYcXCyztx4C+l4MB+xPa5E+08nyhmH9sF9AkrYF68IOjEuWJFQZ/uaZiYV18L/LfLNORV6NMZ
1ja41aRw7xTVLAyhLf/47xJolE1/vS8sIIa+rdh4VcL0VpnKgzjMlssgF7x3Ab4rSF/fhqq+isoB
1QfTvcS1vHcGWlSeKvZwEoqr5L7yPxpl881R5tF7mzn13vZO+tXbYMleDHJORjQ53DgMyh7L/wVQ
SwECFAAUAAIACAD9Y9su6Z7pwccGAAAxGAAACQAAAAAAAAABACAAAAAAAAAAcHJveHkudHh0UEsB
AhQAFAACAAgACWTbLq7eKBIMtQAAWoYFAAwAAAAAAAAAAQAgAAAA7gYAAHJyLXRyYWNlLnR4dFBL
BQYAAAAAAgACAHEAAAAkvAAAAAA=

------=_NextPart_000_0023_01C33CA8.E3ED2E10--


From christian.sell@netcologne.de  Fri Jun 27 16:47:49 2003
Return-Path: <christian.sell@netcologne.de>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 67088 invoked from network); 27 Jun 2003 16:47:49 -0000
Received: from smtp1.netcologne.de (194.8.194.112)
  by daedalus.apache.org with SMTP; 27 Jun 2003 16:47:49 -0000
Received: from netcologne.de (dial-195-14-251-182.netcologne.de [195.14.251.182])
	by smtp1.netcologne.de (Postfix) with ESMTP id B409038A65
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 18:47:48 +0200 (MEST)
Message-ID: <3EFC7511.2060102@netcologne.de>
Date: Fri, 27 Jun 2003 18:47:13 +0200
From: Christian Sell <christian.sell@netcologne.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3b) Gecko/20030210
X-Accept-Language: de-de, de, en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Redirecting to different protocol, host or port
References: <8F81EBCA-A84F-11D7-AB1F-00306557E112@u.washington.edu> <3EFC617F.7020006@netcologne.de> <3EFC6451.3060207@u.washington.edu>
In-Reply-To: <3EFC6451.3060207@u.washington.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michael,

I take this to mean its a technical restriction caused by HttpClients
internal architecture. Could you (or someone) elaborate a little more?

Christian

Michael Becke wrote:
> Hello Christian,
>
> Please take a look at
> http://jakarta.apache.org/commons/httpclient/redirects.html.
>
> Mike
>
> Christian Sell wrote:
>
>> Hello,
>>
>> looking at the HttpClient internals, I see that redirecting to
>> different protocol, host or port is not supported. What are the
>> specific reasons for ths restriction? I did not find a statement to
>> that effect in RFC 2616.
>>
>> thanks,
>> Christian
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>



From anonymous@nagoya.betaversion.org  Fri Jun 27 17:33:44 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 64616 invoked from network); 27 Jun 2003 17:33:44 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Jun 2003 17:33:44 -0000
Received: (qmail 6078 invoked by uid 50); 27 Jun 2003 17:36:09 -0000
Date: 27 Jun 2003 17:36:09 -0000
Message-ID: <20030627173609.6077.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21151] New:  -
    Customizable Cookie Policy
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21151>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21151

Customizable Cookie Policy

           Summary: Customizable Cookie Policy
           Product: Commons
           Version: 2.0 Beta 1
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Enhancement
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: larry@planetfeedback.com


Even if the server is not complying with the cookie specification, sometimes
you still need to talk to it.

It would be nice that when setting the Cookie Policy for the HttpMethod, you
could specify a custom policy that implements the CookieSpecBase but may
handle certain problems more leniently.  This would be instead of specifying
one of the three hard-coded policies.

From olegk@apache.org  Fri Jun 27 17:35:42 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 69544 invoked from network); 27 Jun 2003 17:35:42 -0000
Received: from mail4.bluewin.ch (195.186.4.74)
  by daedalus.apache.org with SMTP; 27 Jun 2003 17:35:42 -0000
Received: from olddude.tislab.ch (81.62.176.108) by mail4.bluewin.ch (Bluewin AG 7.0.016)
        id 3EFC02CC00010083 for commons-httpclient-dev@jakarta.apache.org; Fri, 27 Jun 2003 17:35:45 +0000
Subject: Re: Redirecting to different protocol, host or port
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <3EFC7511.2060102@netcologne.de>
References: <8F81EBCA-A84F-11D7-AB1F-00306557E112@u.washington.edu>
	 <3EFC617F.7020006@netcologne.de> <3EFC6451.3060207@u.washington.edu>
	 <3EFC7511.2060102@netcologne.de>
Content-Type: text/plain
Message-Id: <1056735344.1985.7.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 27 Jun 2003 19:35:44 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

That's correct. We are well aware of the problem:

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=16729

but cannot resolve it at this point as it would mean breaking existing
API. Once the release 2.0 is branched out, that is going to be one of
the first bug fixes

Cheers

Oleg



On Fri, 2003-06-27 at 18:47, Christian Sell wrote:
> Michael,
>
> I take this to mean its a technical restriction caused by HttpClients
> internal architecture. Could you (or someone) elaborate a little more?
>
> Christian
>



From becke@u.washington.edu  Fri Jun 27 17:38:50 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 79949 invoked from network); 27 Jun 2003 17:38:50 -0000
Received: from mxout3.cac.washington.edu (140.142.32.166)
  by daedalus.apache.org with SMTP; 27 Jun 2003 17:38:50 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout3.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RHcr6S003826
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 10:38:53 -0700
Received: from u.washington.edu (ss02.co.us.ibm.com [32.97.110.67])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RHcpXZ012887
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 10:38:52 -0700
Message-ID: <3EFC8110.1080006@u.washington.edu>
Date: Fri, 27 Jun 2003 13:38:24 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Redirecting to different protocol, host or port
References: <8F81EBCA-A84F-11D7-AB1F-00306557E112@u.washington.edu> <3EFC617F.7020006@netcologne.de> <3EFC6451.3060207@u.washington.edu> <3EFC7511.2060102@netcologne.de>
In-Reply-To: <3EFC7511.2060102@netcologne.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The problem is that retries/redirects are handled inside of
HttpMethodBase.  This is an issue because the method is given the
HttpConnection and does not have access to a HttpConnectionManager.  So,
in the event of a redirect to a different host/port/protocol the method
does not have a connection (and cannot create one) to process the
request with.

The current plan is to move the retry/redirect logic to HttpClient, most
likely for 2.1.

Mike

Christian Sell wrote:
> Michael,
>
> I take this to mean its a technical restriction caused by HttpClients
> internal architecture. Could you (or someone) elaborate a little more?
>
> Christian
>
> Michael Becke wrote:
>
>> Hello Christian,
>>
>> Please take a look at
>> http://jakarta.apache.org/commons/httpclient/redirects.html.
>>
>> Mike
>>
>> Christian Sell wrote:
>>
>>> Hello,
>>>
>>> looking at the HttpClient internals, I see that redirecting to
>>> different protocol, host or port is not supported. What are the
>>> specific reasons for ths restriction? I did not find a statement to
>>> that effect in RFC 2616.
>>>
>>> thanks,
>>> Christian
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail:
>>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail:
>>> commons-httpclient-dev-help@jakarta.apache.org
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Fri Jun 27 17:51:37 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 9113 invoked from network); 27 Jun 2003 17:51:37 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 27 Jun 2003 17:51:37 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RHpf5c001972
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 10:51:41 -0700
Received: from u.washington.edu (ss02.co.us.ibm.com [32.97.110.67])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RHpeXZ013618
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 10:51:40 -0700
Message-ID: <3EFC8411.6030105@u.washington.edu>
Date: Fri, 27 Jun 2003 13:51:13 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Cookie Issues
References: <002201c33cca$6afece10$0c00a8c0@peerit.com>
In-Reply-To: <002201c33cca$6afece10$0c00a8c0@peerit.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The cookies appear to be working correctly. I think the problem is that
the POST cgi requires a referer header.  Generally this is the URL of
the page containing the HTML form doing the post.  Take a look at
http://www.w3.org/Protocols/HTTP/HTRQ_Headers.html#z14 for more on the
referer header.

Mike

Ross Rankin wrote:
> Here's the trace and what my proxy says on a browser run post for
> comparison.  I looked through the trace and I'm not sure what the issue is,
> I thought I might find it, but I didn't.  Thanks for any help you can
> provide.
>
> Ross
>
> -----Original Message-----
> From: Michael Becke [mailto:becke@u.washington.edu]
> Sent: Friday, June 27, 2003 12:01 PM
> To: Commons HttpClient Project
> Subject: Re: Cookie Issues
>
> Ross,
>
> Cookies are automatically stored in an HttpClient's instance of
> HttpState.  If you use the same instance of HttpClient to execute the
> GET on the initial page and the POST all should be automatically handled.
>
> Please post a wire log showing the GET and POST if the cookie handling
> continues to not work (see
> http://jakarta.apache.org/commons/httpclient/logging.html).
>
> Mike
>
> ross_r@bellsouth.net wrote:
>
>>I guessing that I am not doing something right.  I have a site which has a
>>session id that it sends as a cookie.  I get the cookie when I get the
>>initial page.  I then have to send a post and send that cookie back.
>>However I get back a error message from the server which says no session
>
> id.
>
>>Now I did a trace and it just send back "HTTP/1.1 499 Data Error
>>NoSessionId" Not very helpful.
>>
>>
>>
>>Is there something that I need to do other than
>>"client.getState().getCookies" when I get the first page to make sure that
>>the cookies are sent back with the post data?
>>
>>
>>
>>Thanks,
>>
>>
>>
>>Ross Rankin
>>
>>
>>
>>
>>
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ------------------------------------------------------------------------
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org


From anonymous@nagoya.betaversion.org  Fri Jun 27 18:05:17 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 28907 invoked from network); 27 Jun 2003 18:05:17 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Jun 2003 18:05:17 -0000
Received: (qmail 8339 invoked by uid 50); 27 Jun 2003 18:07:41 -0000
Date: 27 Jun 2003 18:07:41 -0000
Message-ID: <20030627180741.8338.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21147]  -
    HttpMethodBase Javadoc patches
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21147>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21147

HttpMethodBase Javadoc patches

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
   Target Milestone|---                         |2.0 Beta 2



------- Additional Comments From olegk@apache.org  2003-06-27 18:07 -------
Looks reasonable to me. If nobody complains loudly, I'll commit the patch shortly.

Oleg

From ross_r@bellsouth.net  Fri Jun 27 18:05:27 2003
Return-Path: <ross_r@bellsouth.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 29829 invoked from network); 27 Jun 2003 18:05:27 -0000
Received: from imf21aec.mail.bellsouth.net (HELO imf21aec.bellsouth.net) (205.152.59.69)
  by daedalus.apache.org with SMTP; 27 Jun 2003 18:05:27 -0000
Received: from rossp4 ([68.154.59.161]) by imf21aec.bellsouth.net
          (InterMail vM.5.01.05.27 201-253-122-126-127-20021220) with ESMTP
          id <20030627180530.MRVR16037.imf21aec.bellsouth.net@rossp4>
          for <commons-httpclient-dev@jakarta.apache.org>;
          Fri, 27 Jun 2003 14:05:30 -0400
From: <ross_r@bellsouth.net>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: Cookie Issues
Date: Fri, 27 Jun 2003 14:06:05 -0400
Message-ID: <003201c33cd6$c734a590$0c00a8c0@peerit.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
In-Reply-To: <3EFC8411.6030105@u.washington.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

So a post.setRequestHeader should do the trick?  I'll give it a shot.

Ross =20

-----Original Message-----
From: Michael Becke [mailto:becke@u.washington.edu]=20
Sent: Friday, June 27, 2003 1:51 PM
To: Commons HttpClient Project
Subject: Re: Cookie Issues

The cookies appear to be working correctly. I think the problem is that=20
the POST cgi requires a referer header.  Generally this is the URL of=20
the page containing the HTML form doing the post.  Take a look at=20
http://www.w3.org/Protocols/HTTP/HTRQ_Headers.html#z14 for more on the=20
referer header.

Mike

Ross Rankin wrote:
> Here's the trace and what my proxy says on a browser run post for
> comparison.  I looked through the trace and I'm not sure what the =
issue
is,
> I thought I might find it, but I didn't.  Thanks for any help you can
> provide.
>=20
> Ross
>=20
> -----Original Message-----
> From: Michael Becke [mailto:becke@u.washington.edu]=20
> Sent: Friday, June 27, 2003 12:01 PM
> To: Commons HttpClient Project
> Subject: Re: Cookie Issues
>=20
> Ross,
>=20
> Cookies are automatically stored in an HttpClient's instance of=20
> HttpState.  If you use the same instance of HttpClient to execute the=20
> GET on the initial page and the POST all should be automatically =
handled.
>=20
> Please post a wire log showing the GET and POST if the cookie handling =

> continues to not work (see=20
> http://jakarta.apache.org/commons/httpclient/logging.html).
>=20
> Mike
>=20
> ross_r@bellsouth.net wrote:
>=20
>>I guessing that I am not doing something right.  I have a site which =
has a
>>session id that it sends as a cookie.  I get the cookie when I get the
>>initial page.  I then have to send a post and send that cookie back.
>>However I get back a error message from the server which says no =
session
>=20
> id.
>=20
>>Now I did a trace and it just send back "HTTP/1.1 499 Data Error
>>NoSessionId" Not very helpful. =20
>>
>>=20
>>
>>Is there something that I need to do other than
>>"client.getState().getCookies" when I get the first page to make sure =
that
>>the cookies are sent back with the post data?
>>
>>=20
>>
>>Thanks,
>>
>>=20
>>
>>Ross Rankin
>>
>>=20
>>
>>=20
>>
>>
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>=20
>=20
> =
------------------------------------------------------------------------
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From zumrani@novell.com  Fri Jun 27 18:10:54 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 38239 invoked from network); 27 Jun 2003 18:10:54 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 27 Jun 2003 18:10:54 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Fri, 27 Jun 2003 12:10:58 -0600
Message-Id: <sefc3452.002@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 27 Jun 2003 09:10:03 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Cookie
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="=__NextPart_0__="
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--=__NextPart_0__=
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I hung on to the HttpClient instance and seems like it is sending
cookies now. But it still did not work successfully, because Apache
Tomcat Server is returning a wiered message. When I do not send cookies,
it accepts the POST request. But as soon as cookie is sent, it sends
back 501! Attached is the wire log. I have canged the body of  HTTP
because of confidentiality. I also see whole bunch of [0x0]s being added
at the end of each body. Is there any way not to send them? Could they
be the cause of the problem?
I will appreciate a response.

Thanks.

>>> becke@u.washington.edu 6/26/2003 11:29:29 PM >>>
To see the network traffic you will need to enable the wire log.  Take

a look at http://jakarta.apache.org/commons/httpclient/logging.html for

details.

HttpClient handles cookies by default.  For more details please see
http://jakarta.apache.org/commons/httpclient/cookies.html.  If the
cookie guide does not help to resolve the problem please post a wire
log containing the transaction in question.

Mike

On Thursday, June 26, 2003, at 07:09 PM, Zulfi Umrani wrote:

> I enable the logging for "info", but did not get any message on the
> console. And the cookies still are not handled automatically.
>
>>>> rana@solis.jp 6/26/2003 9:17:57 PM >>>
>> Is there an automatic way to handle cookies?
> According to whatever less I know about HttpClient, this is the
> default
> behavior. Cookies are handled automatically. If you put the logging
on
> as given on the link
> http://jakarta.apache.org/commons/httpclient/logging.html you will
see
> some entries like
> Set-Cookie: Name=...
> Which means that HttpClient is handling cookies for you.
>
> HTH.
>
> Regards,
> Amit.
>
>> -----Original Message-----
>> From: Zulfi Umrani [mailto:zumrani@novell.com]
>> Sent: Friday, June 27, 2003 7:12 AM
>> To: commons-httpclient-dev@jakarta.apache.org
>> Subject: Cookie
>>
>> Does any one know how can I manage cookies without having to get
the
>> cookies from HttpState and setting it back everytime I make a
> request?
>> Is there an automatic way to handle cookies? Alternatively, how do
I
> put
>> a cookie header on PostMethod? I have string representation of the
>> cookie, I would like to set that as a header on PostMethod. At
> present
>> it does not allow me to do so.
>>
>> Thanks.
>>
>>
>
---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


--=__NextPart_0__=
Content-Type: text/plain; name="cookie.wire.txt"
Content-Transfer-Encoding: 8bit
Content-Disposition: attachment; filename="cookie.wire.txt"

[DEBUG] wire - ->> "POST /services/dms HTTP/1.1[\r][\n]"
[DEBUG] wire - ->> "SOAPAction: "urn:dms/login"[\r][\n]"
[DEBUG] wire - ->> "Content-Type: text/xml; charset=utf-8[\r][\n]"
[DEBUG] wire - ->> "Content-Length: 522[\r][\n]"
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost:9999[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "<My text message #1>[0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0]"
[DEBUG] wire - -<< "HTTP/1.1 202 Accepted[\r][\n]"
[DEBUG] wire - -<< "Content-Length: 0[\r][\n]"
[DEBUG] wire - -<< "Date: Fri, 27 Jun 2003 17:57:51 GMT[\r][\n]"
[DEBUG] wire - -<< "Server: Apache Tomcat/4.0.4 (HTTP/1.1 Connector)[\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/xml; charset=utf-8[\r][\n]"
[DEBUG] wire - -<< "Set-Cookie: JSESSIONID=23A1E32DCC49F9096047D2EDA87A4E4F;Path=/services[\r][\n]"
{SOAPAction="urn:dms/login", Set-Cookie=JSESSIONID=23A1E32DCC49F9096047D2EDA87A4E4F;Path=/services, Content-Type=text/xml; charset=utf-8, Content-Length=522}
{SOAPAction="urn:dms/listDocuments", cookie=JSESSIONID=23A1E32DCC49F9096047D2EDA87A4E4F;$Path=/services;, Content-Type=text/xml; charset=utf-8, Content-Length=422}
[DEBUG] wire - ->> "POST /services/dms HTTP/1.1[\r][\n]"
[DEBUG] wire - ->> "SOAPAction: "urn:dms/listDocuments"[\r][\n]"
[DEBUG] wire - ->> "Content-Type: text/xml; charset=utf-8[\r][\n]"
[DEBUG] wire - ->> "Content-Length: 422[\r][\n]"
[DEBUG] wire - ->> "User-Agent: Jakarta Commons-HttpClient/2.0beta1[\r][\n]"
[DEBUG] wire - ->> "Host: localhost:9999[\r][\n]"
[DEBUG] wire - ->> "Cookie: $Version=0; JSESSIONID=23A1E32DCC49F9096047D2EDA87A4E4F; $Path=/services[\r][\n]"
[DEBUG] wire - ->> "[\r][\n]"
[DEBUG] wire - ->> "<My Text Message #2>[0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0]"
[DEBUG] wire - -<< "HTTP/1.1 501 Method [0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0]POST is not defined in RFC 2068 and is not supported by the Servlet API [\r][\n]"
[DEBUG] wire - -<< "Content-Type: text/html[\r][\n]"
[DEBUG] wire - -<< "Date: Fri, 27 Jun 2003 17:57:52 GMT[\r][\n]"
[DEBUG] wire - -<< "Server: Apache Tomcat/4.0.4 (HTTP/1.1 Connector)[\r][\n]"
[DEBUG] wire - -<< "Connection: close[\r][\n]"


--=__NextPart_0__=--

From anonymous@nagoya.betaversion.org  Fri Jun 27 18:16:03 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 44022 invoked from network); 27 Jun 2003 18:16:03 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Jun 2003 18:16:03 -0000
Received: (qmail 8613 invoked by uid 50); 27 Jun 2003 18:18:28 -0000
Date: 27 Jun 2003 18:18:28 -0000
Message-ID: <20030627181828.8612.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21151]  -
    Customizable Cookie Policy
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21151>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21151

Customizable Cookie Policy

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |ASSIGNED
           Priority|Other                       |Medium
   Target Milestone|---                         |2.1 Final



------- Additional Comments From olegk@apache.org  2003-06-27 18:18 -------
We do plan to provide a plug-in mechanism for custom cookie policies in post-2.0
releases. This feature has been on our to-do list for quite some time

Oleg

From becke@u.washington.edu  Fri Jun 27 18:22:05 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 60659 invoked from network); 27 Jun 2003 18:22:05 -0000
Received: from mxout5.cac.washington.edu (140.142.32.135)
  by daedalus.apache.org with SMTP; 27 Jun 2003 18:22:05 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout5.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RIM9kI016666
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 11:22:09 -0700
Received: from u.washington.edu (ss1.bluebird.ibm.com [129.42.208.139])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RIM7XZ015585
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 11:22:08 -0700
Message-ID: <3EFC8B2F.70804@u.washington.edu>
Date: Fri, 27 Jun 2003 14:21:35 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Cookie Issues
References: <003201c33cd6$c734a590$0c00a8c0@peerit.com>
In-Reply-To: <003201c33cd6$c734a590$0c00a8c0@peerit.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yep, that should do it.

Mike

ross_r@bellsouth.net wrote:
> So a post.setRequestHeader should do the trick?  I'll give it a shot.
>
> Ross
>
> -----Original Message-----
> From: Michael Becke [mailto:becke@u.washington.edu]
> Sent: Friday, June 27, 2003 1:51 PM
> To: Commons HttpClient Project
> Subject: Re: Cookie Issues
>
> The cookies appear to be working correctly. I think the problem is that
> the POST cgi requires a referer header.  Generally this is the URL of
> the page containing the HTML form doing the post.  Take a look at
> http://www.w3.org/Protocols/HTTP/HTRQ_Headers.html#z14 for more on the
> referer header.
>
> Mike
>
> Ross Rankin wrote:
>
>>Here's the trace and what my proxy says on a browser run post for
>>comparison.  I looked through the trace and I'm not sure what the issue
>
> is,
>
>>I thought I might find it, but I didn't.  Thanks for any help you can
>>provide.
>>
>>Ross
>>
>>-----Original Message-----
>>From: Michael Becke [mailto:becke@u.washington.edu]
>>Sent: Friday, June 27, 2003 12:01 PM
>>To: Commons HttpClient Project
>>Subject: Re: Cookie Issues
>>
>>Ross,
>>
>>Cookies are automatically stored in an HttpClient's instance of
>>HttpState.  If you use the same instance of HttpClient to execute the
>>GET on the initial page and the POST all should be automatically handled.
>>
>>Please post a wire log showing the GET and POST if the cookie handling
>>continues to not work (see
>>http://jakarta.apache.org/commons/httpclient/logging.html).
>>
>>Mike
>>
>>ross_r@bellsouth.net wrote:
>>
>>
>>>I guessing that I am not doing something right.  I have a site which has a
>>>session id that it sends as a cookie.  I get the cookie when I get the
>>>initial page.  I then have to send a post and send that cookie back.
>>>However I get back a error message from the server which says no session
>>
>>id.
>>
>>
>>>Now I did a trace and it just send back "HTTP/1.1 499 Data Error
>>>NoSessionId" Not very helpful.
>>>
>>>
>>>
>>>Is there something that I need to do other than
>>>"client.getState().getCookies" when I get the first page to make sure that
>>>the cookies are sent back with the post data?
>>>
>>>
>>>
>>>Thanks,
>>>
>>>
>>>
>>>Ross Rankin
>>>
>>>
>>>
>>>
>>>
>>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail:
>>commons-httpclient-dev-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>commons-httpclient-dev-help@jakarta.apache.org
>>
>>
>>------------------------------------------------------------------------
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail:
>
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>
>>For additional commands, e-mail:
>
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From olegk@apache.org  Fri Jun 27 18:23:42 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 65630 invoked from network); 27 Jun 2003 18:23:42 -0000
Received: from mail2.bluewin.ch (195.186.4.73)
  by daedalus.apache.org with SMTP; 27 Jun 2003 18:23:42 -0000
Received: from olddude.tislab.ch (81.62.176.108) by mail2.bluewin.ch (Bluewin AG 7.0.016)
        id 3EFC0217000107C6 for commons-httpclient-dev@jakarta.apache.org; Fri, 27 Jun 2003 18:23:46 +0000
Subject: Re: Cookie
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <sefc3452.002@prv-mail20.provo.novell.com>
References: <sefc3452.002@prv-mail20.provo.novell.com>
Content-Type: text/plain
Message-Id: <1056738225.1985.20.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 27 Jun 2003 20:23:45 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Zulfi,

First of all, Tomcat 4.0.4 can be considered fairly out-dated and is
known to have a few bugs. Do consider upgrading.

My guess is that the version of Tomcat you are running is having issues
with RFC2109 formatted cookies. Try using compatibility cookie policy
and see if it has any effect. Besides, you may want to examine Tomcat
logs for clues as to why it does not like the cookie

Oleg

On Fri, 2003-06-27 at 17:10, Zulfi Umrani wrote:
> I hung on to the HttpClient instance and seems like it is sending
> cookies now. But it still did not work successfully, because Apache
> Tomcat Server is returning a wiered message. When I do not send cookies,
> it accepts the POST request. But as soon as cookie is sent, it sends
> back 501! Attached is the wire log. I have canged the body of  HTTP
> because of confidentiality. I also see whole bunch of [0x0]s being added
> at the end of each body. Is there any way not to send them? Could they
> be the cause of the problem?
> I will appreciate a response.
>
> Thanks.



From ross_r@bellsouth.net  Fri Jun 27 18:24:09 2003
Return-Path: <ross_r@bellsouth.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 66804 invoked from network); 27 Jun 2003 18:24:09 -0000
Received: from imf20aec.mail.bellsouth.net (HELO imf20aec.bellsouth.net) (205.152.59.68)
  by daedalus.apache.org with SMTP; 27 Jun 2003 18:24:09 -0000
Received: from rossp4 ([68.154.59.161]) by imf20aec.bellsouth.net
          (InterMail vM.5.01.05.27 201-253-122-126-127-20021220) with ESMTP
          id <20030627182412.RMRE24789.imf20aec.bellsouth.net@rossp4>
          for <commons-httpclient-dev@jakarta.apache.org>;
          Fri, 27 Jun 2003 14:24:12 -0400
From: <ross_r@bellsouth.net>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: Cookie Issues
Date: Fri, 27 Jun 2003 14:24:47 -0400
Message-ID: <003901c33cd9$63af79c0$0c00a8c0@peerit.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
In-Reply-To:
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Nope didn't work new relevant piece of trace:
Not in my proxy trace there seems to be one more cookie than I see in =
the
trace:
Cookie:
BID=3DX1DE45D226BE57EF9DFCF03167215B4A8901B5D817388E18FAC3B90790F0B43DA2;=

bJobSeeker=3DTrue; RMID=3D432198953edf80d0;
CB%5FSID=3D1aee5b36f209457aa530b0d72a1e8c8f%2D110026554%2Ds4%2D1; =
PU=3D0;
CP=3Dnull

The RMID cookie.  I don't see it all in the trace even being rejected... =
=20

2003/06/27 14:09:08:301 EDT [DEBUG] wire - ->> "POST
/JobSeeker/Jobs/jobfindall.asp?ch=3Dal HTTP/1.0[\r][\n]"
2003/06/27 14:09:08:301 EDT [TRACE] HttpConnection - -enter
HttpConnection.print(String)
2003/06/27 14:09:08:301 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[])
2003/06/27 14:09:08:301 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[], int, int)
2003/06/27 14:09:08:301 EDT [TRACE] HttpMethod - -enter
HttpMethodBase.writeRequestHeaders(HttpState,HttpConnection)
2003/06/27 14:09:08:301 EDT [TRACE] ExpectContinueMethod - -enter
ExpectContinueMethod.addRequestHeaders(HttpState, Http
Connection)
2003/06/27 14:09:08:341 EDT [TRACE] HttpMethod - -enter
HttpMethodBase.addRequestHeaders(HttpState, HttpConnection)
2003/06/27 14:09:08:341 EDT [TRACE] HttpMethod - -enter
HttpMethodBase.addUserAgentRequestHeaders(HttpState, HttpConnect
ion)
2003/06/27 14:09:08:341 EDT [TRACE] HttpMethod - -enter
HttpMethodBase.addHostRequestHeader(HttpState, HttpConnection)
2003/06/27 14:09:08:341 EDT [DEBUG] HttpMethod - -Adding Host request =
header
2003/06/27 14:09:08:341 EDT [TRACE] HttpMethod - -enter
HttpMethodBase.addCookieRequestHeader(HttpState, HttpConnection)

2003/06/27 14:09:08:341 EDT [TRACE] HttpState - -enter
HttpState.getCookies()
2003/06/27 14:09:08:341 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.match(String, int, String, boolean, Cookie[])
2003/06/27 14:09:08:341 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.match(String, int, String, boolean, Cookie
2003/06/27 14:09:08:341 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.match(String, int, String, boolean, Cookie
2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter =
Cookie.compare(Object,
Object)
2003/06/27 14:09:08:401 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.match(String, int, String, boolean, Cookie
2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter =
Cookie.compare(Object,
Object)
2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter =
Cookie.compare(Object,
Object)
2003/06/27 14:09:08:401 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.match(String, int, String, boolean, Cookie
2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter =
Cookie.compare(Object,
Object)
2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter =
Cookie.compare(Object,
Object)
2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter =
Cookie.compare(Object,
Object)
2003/06/27 14:09:08:401 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.formatCookieHeader(Cookie)
2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.formatCookie(Cookie)
2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.formatCookieHeader(Cookie)
2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.formatCookie(Cookie)
2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.formatCookieHeader(Cookie)
2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.formatCookie(Cookie)
2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.formatCookieHeader(Cookie)
2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
CookieSpecBase.formatCookie(Cookie)
2003/06/27 14:09:08:461 EDT [TRACE] HttpMethod - -enter
HttpMethodBase.addAuthorizationRequestHeader(HttpState, HttpConn
ection)
2003/06/27 14:09:08:461 EDT [TRACE] HttpMethod - -enter
HttpMethodBase.addProxyAuthorizationRequestHeader(HttpState, Htt
pConnection)
2003/06/27 14:09:08:521 EDT [TRACE] HttpMethod - -enter
HttpMethodBase.addProxyConnectionHeader(HttpState, HttpConnectio
n)
2003/06/27 14:09:08:521 EDT [TRACE] EntityEnclosingMethod - -enter
HttpMethodBase.addContentLengthRequestHeader(HttpStat
e, HttpConnection)
2003/06/27 14:09:08:521 EDT [TRACE] EntityEnclosingMethod - -enter
EntityEnclosingMethod.getRequestContentLength()
2003/06/27 14:09:08:521 EDT [TRACE] PostMethod - -enter
PostMethod.hasRequestContent()
2003/06/27 14:09:08:521 EDT [TRACE] PostMethod - -enter
PostMethod.renerateRequestBody()
2003/06/27 14:09:08:521 EDT [TRACE] PostMethod - -enter
PostMethod.getParameters()
2003/06/27 14:09:08:521 EDT [TRACE] HttpMethod - -enter =
getContentCharSet(
Header contentheader )
2003/06/27 14:09:08:521 EDT [DEBUG] HttpMethod - -Default charset used:
ISO-8859-1
2003/06/27 14:09:08:602 EDT [TRACE] HttpMethod -
-HttpMethodBase.addRequestHeader(Header)
2003/06/27 14:09:08:602 EDT [DEBUG] wire - ->> "Referer:
http://www.careerbuilder.com/JobSeeker/Jobs/JobQuery.asp?ch=3Dal[
\r][\n]"
2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
HttpConnection.print(String)
2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[])
2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[], int, int)
2003/06/27 14:09:08:612 EDT [DEBUG] wire - ->> "User-Agent: Jakarta
Commons-HttpClient/2.0beta1[\r][\n]"
2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
HttpConnection.print(String)
2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[])
2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[], int, int)
2003/06/27 14:09:08:672 EDT [DEBUG] wire - ->> "Host:
www.careerbuilder.com[\r][\n]"
2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
HttpConnection.print(String)
2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[])
2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[], int, int)
2003/06/27 14:09:08:672 EDT [DEBUG] wire - ->> "Cookie: PU=3D0[\r][\n]"
2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
HttpConnection.print(String)
2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[])
2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[], int, int)
2003/06/27 14:09:08:742 EDT [DEBUG] wire - ->> "Cookie:
CB%5FSID=3D1a4a0a13fbed41a7b8d5f3e5f7e0fa63%2D110038107%2Drd%2D1[\
r][\n]"
2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
HttpConnection.print(String)
2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[])
2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[], int, int)
2003/06/27 14:09:08:742 EDT [DEBUG] wire - ->> "Cookie:
BID=3DX1AF7F150CF82DEEBAB1ECDD58B09A41B275D6BD5501510E4946BD091BD3
2FB4A5[\r][\n]"
2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
HttpConnection.print(String)
2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[])
2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[], int, int)
2003/06/27 14:09:08:742 EDT [DEBUG] wire - ->> "Cookie:
bJobSeeker=3DTrue[\r][\n]"
2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
HttpConnection.print(String)
2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[])
2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[], int, int)
2003/06/27 14:09:08:802 EDT [DEBUG] wire - ->> "Content-Length: =
155[\r][\n]"
2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
HttpConnection.print(String)
2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[])
2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[], int, int)
2003/06/27 14:09:08:802 EDT [DEBUG] wire - ->> "Content-Type:
application/x-www-form-urlencoded[\r][\n]"
2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
HttpConnection.print(String)
2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[])
2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[], int, int)
2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
HttpConnection.writeLine()
2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[])
2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
HttpConnection.write(byte[], int, int)
2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
HttpConnection.flushRequestOutputStream()
2003/06/27 14:09:08:862 EDT [DEBUG] wire - ->> "[\r][\n]"
2003/06/27 14:09:08:862 EDT [TRACE] EntityEnclosingMethod - -enter
EntityEnclosingMethod.writeRequestBody(HttpState, Htt
pConnection)
2003/06/27 14:09:08:862 EDT [TRACE] PostMethod - -enter
PostMethod.hasRequestContent()
2003/06/27 14:09:08:922 EDT [TRACE] EntityEnclosingMethod - -enter
EntityEnclosingMethod.getRequestContentLength()
2003/06/27 14:09:08:922 EDT [TRACE] PostMethod - -enter
PostMethod.hasRequestContent()
2003/06/27 14:09:08:922 EDT [DEBUG] EntityEnclosingMethod - -Using =
buffered
request body
2003/06/27 14:09:08:922 EDT [TRACE] HttpConnection - -enter
HttpConnection.getRequestOutputStream()
2003/06/27 14:09:08:922 EDT [DEBUG] wire - ->>
"st=3Da&Words=3Djava&Use=3DAll&Town=3D&Freshness=3D&EdLevel=3DDR3&EdExec=3D=
YES&EmpType=3D
JTFT&EmpType=3DJTCT&minsalary=3D0&maxsalary=3Dgt120&vt=3Dtitle&submit1=3D=
Search&sname=3D
&jrdid=3D"
2003/06/27 14:09:08:922 EDT [DEBUG] EntityEnclosingMethod - -Request =
body
sent
2003/06/27 14:09:08:922 EDT [TRACE] HttpConnection - -enter
HttpConnection.flushRequestOutputStream()
2003/06/27 14:09:08:922 EDT [TRACE] HttpMethod - -enter
HttpMethodBase.readResponse(HttpState, HttpConnection)
2003/06/27 14:09:08:922 EDT [TRACE] HttpMethod - -enter
HttpMethodBase.readStatusLine(HttpState, HttpConnection)
2003/06/27 14:09:08:992 EDT [TRACE] HttpConnection - -enter
HttpConnection.readLine()
2003/06/27 14:09:08:992 EDT [TRACE] HttpParser - -enter
HttpParser.readLine()
2003/06/27 14:09:08:992 EDT [TRACE] HttpParser - -enter
HttpParser.readRawLine()
2003/06/27 14:09:09:052 EDT [DEBUG] wire - -<< "HTTP/1.1 499 Data Error
NoSessionId[\r][\n]"
2003/06/27 14:09:09:052 EDT [TRACE] HttpMethod - -enter
HttpMethodBase.readResponseHeaders(HttpState,HttpConnection)

-----Original Message-----
From: Ross Rankin [mailto:ross_r@bellsouth.net] On Behalf Of
ross_r@bellsouth.net
Sent: Friday, June 27, 2003 2:06 PM
To: 'Commons HttpClient Project'
Subject: RE: Cookie Issues

So a post.setRequestHeader should do the trick?  I'll give it a shot.

Ross =20

-----Original Message-----
From: Michael Becke [mailto:becke@u.washington.edu]=20
Sent: Friday, June 27, 2003 1:51 PM
To: Commons HttpClient Project
Subject: Re: Cookie Issues

The cookies appear to be working correctly. I think the problem is that=20
the POST cgi requires a referer header.  Generally this is the URL of=20
the page containing the HTML form doing the post.  Take a look at=20
http://www.w3.org/Protocols/HTTP/HTRQ_Headers.html#z14 for more on the=20
referer header.

Mike

Ross Rankin wrote:
> Here's the trace and what my proxy says on a browser run post for
> comparison.  I looked through the trace and I'm not sure what the =
issue
is,
> I thought I might find it, but I didn't.  Thanks for any help you can
> provide.
>=20
> Ross
>=20
> -----Original Message-----
> From: Michael Becke [mailto:becke@u.washington.edu]=20
> Sent: Friday, June 27, 2003 12:01 PM
> To: Commons HttpClient Project
> Subject: Re: Cookie Issues
>=20
> Ross,
>=20
> Cookies are automatically stored in an HttpClient's instance of=20
> HttpState.  If you use the same instance of HttpClient to execute the=20
> GET on the initial page and the POST all should be automatically =
handled.
>=20
> Please post a wire log showing the GET and POST if the cookie handling =

> continues to not work (see=20
> http://jakarta.apache.org/commons/httpclient/logging.html).
>=20
> Mike
>=20
> ross_r@bellsouth.net wrote:
>=20
>>I guessing that I am not doing something right.  I have a site which =
has a
>>session id that it sends as a cookie.  I get the cookie when I get the
>>initial page.  I then have to send a post and send that cookie back.
>>However I get back a error message from the server which says no =
session
>=20
> id.
>=20
>>Now I did a trace and it just send back "HTTP/1.1 499 Data Error
>>NoSessionId" Not very helpful. =20
>>
>>=20
>>
>>Is there something that I need to do other than
>>"client.getState().getCookies" when I get the first page to make sure =
that
>>the cookies are sent back with the post data?
>>
>>=20
>>
>>Thanks,
>>
>>=20
>>
>>Ross Rankin
>>
>>=20
>>
>>=20
>>
>>
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>=20
>=20
> =
------------------------------------------------------------------------
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From zumrani@novell.com  Fri Jun 27 18:45:43 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 5736 invoked from network); 27 Jun 2003 18:45:43 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 27 Jun 2003 18:45:43 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Fri, 27 Jun 2003 12:45:48 -0600
Message-Id: <sefc3c7c.013@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 27 Jun 2003 09:44:59 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <olegk@apache.org>,<commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Cookie
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 500/1000/N

Instead of caching HttpClient, I cached HttpState and it worked fine.
Now, how can I not send trailing [0x0] after each HTTP body?

Thanks.

>>> olegk@apache.org 6/27/2003 2:23:45 PM >>>
Zulfi,

First of all, Tomcat 4.0.4 can be considered fairly out-dated and is
known to have a few bugs. Do consider upgrading.

My guess is that the version of Tomcat you are running is having
issues
with RFC2109 formatted cookies. Try using compatibility cookie policy
and see if it has any effect. Besides, you may want to examine Tomcat
logs for clues as to why it does not like the cookie

Oleg

On Fri, 2003-06-27 at 17:10, Zulfi Umrani wrote:
> I hung on to the HttpClient instance and seems like it is sending
> cookies now. But it still did not work successfully, because Apache
> Tomcat Server is returning a wiered message. When I do not send
cookies,
> it accepts the POST request. But as soon as cookie is sent, it sends
> back 501! Attached is the wire log. I have canged the body of  HTTP
> because of confidentiality. I also see whole bunch of [0x0]s being
added
> at the end of each body. Is there any way not to send them? Could
they
> be the cause of the problem?
> I will appreciate a response.
>
> Thanks.



---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From becke@u.washington.edu  Fri Jun 27 18:54:53 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 36181 invoked from network); 27 Jun 2003 18:54:53 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 27 Jun 2003 18:54:53 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout2.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RIsvo0006773
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 11:54:57 -0700
Received: from u.washington.edu (ss02.co.us.ibm.com [32.97.110.67])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RIstXZ017741
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 11:54:56 -0700
Message-ID: <3EFC92E4.2050507@u.washington.edu>
Date: Fri, 27 Jun 2003 14:54:28 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Cookie Issues
References: <003901c33cd9$63af79c0$0c00a8c0@peerit.com>
In-Reply-To: <003901c33cd9$63af79c0$0c00a8c0@peerit.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Not sure about the RMID cookie.  It is never being set by the web server.

I would suggest turning off the TRACE log as it clutters up things a
little and does not add much.

When you hit the site with a browser where does the RMID cookie get set?

Mike

ross_r@bellsouth.net wrote:
> Nope didn't work new relevant piece of trace:
> Not in my proxy trace there seems to be one more cookie than I see in the
> trace:
> Cookie:
> BID=X1DE45D226BE57EF9DFCF03167215B4A8901B5D817388E18FAC3B90790F0B43DA2;
> bJobSeeker=True; RMID=432198953edf80d0;
> CB%5FSID=1aee5b36f209457aa530b0d72a1e8c8f%2D110026554%2Ds4%2D1; PU=0;
> CP=null
>
> The RMID cookie.  I don't see it all in the trace even being rejected...
>
> 2003/06/27 14:09:08:301 EDT [DEBUG] wire - ->> "POST
> /JobSeeker/Jobs/jobfindall.asp?ch=al HTTP/1.0[\r][\n]"
> 2003/06/27 14:09:08:301 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:301 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:301 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:301 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.writeRequestHeaders(HttpState,HttpConnection)
> 2003/06/27 14:09:08:301 EDT [TRACE] ExpectContinueMethod - -enter
> ExpectContinueMethod.addRequestHeaders(HttpState, Http
> Connection)
> 2003/06/27 14:09:08:341 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addRequestHeaders(HttpState, HttpConnection)
> 2003/06/27 14:09:08:341 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addUserAgentRequestHeaders(HttpState, HttpConnect
> ion)
> 2003/06/27 14:09:08:341 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addHostRequestHeader(HttpState, HttpConnection)
> 2003/06/27 14:09:08:341 EDT [DEBUG] HttpMethod - -Adding Host request header
> 2003/06/27 14:09:08:341 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addCookieRequestHeader(HttpState, HttpConnection)
>
> 2003/06/27 14:09:08:341 EDT [TRACE] HttpState - -enter
> HttpState.getCookies()
> 2003/06/27 14:09:08:341 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.match(String, int, String, boolean, Cookie[])
> 2003/06/27 14:09:08:341 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.match(String, int, String, boolean, Cookie
> 2003/06/27 14:09:08:341 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.match(String, int, String, boolean, Cookie
> 2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter Cookie.compare(Object,
> Object)
> 2003/06/27 14:09:08:401 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.match(String, int, String, boolean, Cookie
> 2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter Cookie.compare(Object,
> Object)
> 2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter Cookie.compare(Object,
> Object)
> 2003/06/27 14:09:08:401 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.match(String, int, String, boolean, Cookie
> 2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter Cookie.compare(Object,
> Object)
> 2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter Cookie.compare(Object,
> Object)
> 2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter Cookie.compare(Object,
> Object)
> 2003/06/27 14:09:08:401 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookieHeader(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookie(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookieHeader(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookie(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookieHeader(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookie(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookieHeader(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookie(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addAuthorizationRequestHeader(HttpState, HttpConn
> ection)
> 2003/06/27 14:09:08:461 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addProxyAuthorizationRequestHeader(HttpState, Htt
> pConnection)
> 2003/06/27 14:09:08:521 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addProxyConnectionHeader(HttpState, HttpConnectio
> n)
> 2003/06/27 14:09:08:521 EDT [TRACE] EntityEnclosingMethod - -enter
> HttpMethodBase.addContentLengthRequestHeader(HttpStat
> e, HttpConnection)
> 2003/06/27 14:09:08:521 EDT [TRACE] EntityEnclosingMethod - -enter
> EntityEnclosingMethod.getRequestContentLength()
> 2003/06/27 14:09:08:521 EDT [TRACE] PostMethod - -enter
> PostMethod.hasRequestContent()
> 2003/06/27 14:09:08:521 EDT [TRACE] PostMethod - -enter
> PostMethod.renerateRequestBody()
> 2003/06/27 14:09:08:521 EDT [TRACE] PostMethod - -enter
> PostMethod.getParameters()
> 2003/06/27 14:09:08:521 EDT [TRACE] HttpMethod - -enter getContentCharSet(
> Header contentheader )
> 2003/06/27 14:09:08:521 EDT [DEBUG] HttpMethod - -Default charset used:
> ISO-8859-1
> 2003/06/27 14:09:08:602 EDT [TRACE] HttpMethod -
> -HttpMethodBase.addRequestHeader(Header)
> 2003/06/27 14:09:08:602 EDT [DEBUG] wire - ->> "Referer:
> http://www.careerbuilder.com/JobSeeker/Jobs/JobQuery.asp?ch=al[
> \r][\n]"
> 2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:612 EDT [DEBUG] wire - ->> "User-Agent: Jakarta
> Commons-HttpClient/2.0beta1[\r][\n]"
> 2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:672 EDT [DEBUG] wire - ->> "Host:
> www.careerbuilder.com[\r][\n]"
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:672 EDT [DEBUG] wire - ->> "Cookie: PU=0[\r][\n]"
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:742 EDT [DEBUG] wire - ->> "Cookie:
> CB%5FSID=1a4a0a13fbed41a7b8d5f3e5f7e0fa63%2D110038107%2Drd%2D1[\
> r][\n]"
> 2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:742 EDT [DEBUG] wire - ->> "Cookie:
> BID=X1AF7F150CF82DEEBAB1ECDD58B09A41B275D6BD5501510E4946BD091BD3
> 2FB4A5[\r][\n]"
> 2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:742 EDT [DEBUG] wire - ->> "Cookie:
> bJobSeeker=True[\r][\n]"
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:802 EDT [DEBUG] wire - ->> "Content-Length: 155[\r][\n]"
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:802 EDT [DEBUG] wire - ->> "Content-Type:
> application/x-www-form-urlencoded[\r][\n]"
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
> HttpConnection.writeLine()
> 2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
> HttpConnection.flushRequestOutputStream()
> 2003/06/27 14:09:08:862 EDT [DEBUG] wire - ->> "[\r][\n]"
> 2003/06/27 14:09:08:862 EDT [TRACE] EntityEnclosingMethod - -enter
> EntityEnclosingMethod.writeRequestBody(HttpState, Htt
> pConnection)
> 2003/06/27 14:09:08:862 EDT [TRACE] PostMethod - -enter
> PostMethod.hasRequestContent()
> 2003/06/27 14:09:08:922 EDT [TRACE] EntityEnclosingMethod - -enter
> EntityEnclosingMethod.getRequestContentLength()
> 2003/06/27 14:09:08:922 EDT [TRACE] PostMethod - -enter
> PostMethod.hasRequestContent()
> 2003/06/27 14:09:08:922 EDT [DEBUG] EntityEnclosingMethod - -Using buffered
> request body
> 2003/06/27 14:09:08:922 EDT [TRACE] HttpConnection - -enter
> HttpConnection.getRequestOutputStream()
> 2003/06/27 14:09:08:922 EDT [DEBUG] wire - ->>
> "st=a&Words=java&Use=All&Town=&Freshness=&EdLevel=DR3&EdExec=YES&EmpType=
> JTFT&EmpType=JTCT&minsalary=0&maxsalary=gt120&vt=title&submit1=Search&sname=
> &jrdid="
> 2003/06/27 14:09:08:922 EDT [DEBUG] EntityEnclosingMethod - -Request body
> sent
> 2003/06/27 14:09:08:922 EDT [TRACE] HttpConnection - -enter
> HttpConnection.flushRequestOutputStream()
> 2003/06/27 14:09:08:922 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.readResponse(HttpState, HttpConnection)
> 2003/06/27 14:09:08:922 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.readStatusLine(HttpState, HttpConnection)
> 2003/06/27 14:09:08:992 EDT [TRACE] HttpConnection - -enter
> HttpConnection.readLine()
> 2003/06/27 14:09:08:992 EDT [TRACE] HttpParser - -enter
> HttpParser.readLine()
> 2003/06/27 14:09:08:992 EDT [TRACE] HttpParser - -enter
> HttpParser.readRawLine()
> 2003/06/27 14:09:09:052 EDT [DEBUG] wire - -<< "HTTP/1.1 499 Data Error
> NoSessionId[\r][\n]"
> 2003/06/27 14:09:09:052 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.readResponseHeaders(HttpState,HttpConnection)
>
> -----Original Message-----
> From: Ross Rankin [mailto:ross_r@bellsouth.net] On Behalf Of
> ross_r@bellsouth.net
> Sent: Friday, June 27, 2003 2:06 PM
> To: 'Commons HttpClient Project'
> Subject: RE: Cookie Issues
>
> So a post.setRequestHeader should do the trick?  I'll give it a shot.
>
> Ross
>
> -----Original Message-----
> From: Michael Becke [mailto:becke@u.washington.edu]
> Sent: Friday, June 27, 2003 1:51 PM
> To: Commons HttpClient Project
> Subject: Re: Cookie Issues
>
> The cookies appear to be working correctly. I think the problem is that
> the POST cgi requires a referer header.  Generally this is the URL of
> the page containing the HTML form doing the post.  Take a look at
> http://www.w3.org/Protocols/HTTP/HTRQ_Headers.html#z14 for more on the
> referer header.
>
> Mike
>
> Ross Rankin wrote:
>
>>Here's the trace and what my proxy says on a browser run post for
>>comparison.  I looked through the trace and I'm not sure what the issue
>
> is,
>
>>I thought I might find it, but I didn't.  Thanks for any help you can
>>provide.
>>
>>Ross
>>
>>-----Original Message-----
>>From: Michael Becke [mailto:becke@u.washington.edu]
>>Sent: Friday, June 27, 2003 12:01 PM
>>To: Commons HttpClient Project
>>Subject: Re: Cookie Issues
>>
>>Ross,
>>
>>Cookies are automatically stored in an HttpClient's instance of
>>HttpState.  If you use the same instance of HttpClient to execute the
>>GET on the initial page and the POST all should be automatically handled.
>>
>>Please post a wire log showing the GET and POST if the cookie handling
>>continues to not work (see
>>http://jakarta.apache.org/commons/httpclient/logging.html).
>>
>>Mike
>>
>>ross_r@bellsouth.net wrote:
>>
>>
>>>I guessing that I am not doing something right.  I have a site which has a
>>>session id that it sends as a cookie.  I get the cookie when I get the
>>>initial page.  I then have to send a post and send that cookie back.
>>>However I get back a error message from the server which says no session
>>
>>id.
>>
>>
>>>Now I did a trace and it just send back "HTTP/1.1 499 Data Error
>>>NoSessionId" Not very helpful.
>>>
>>>
>>>
>>>Is there something that I need to do other than
>>>"client.getState().getCookies" when I get the first page to make sure that
>>>the cookies are sent back with the post data?
>>>
>>>
>>>
>>>Thanks,
>>>
>>>
>>>
>>>Ross Rankin
>>>
>>>
>>>
>>>
>>>
>>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail:
>>commons-httpclient-dev-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>commons-httpclient-dev-help@jakarta.apache.org
>>
>>
>>------------------------------------------------------------------------
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail:
>
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>
>>For additional commands, e-mail:
>
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Fri Jun 27 19:11:25 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 56928 invoked from network); 27 Jun 2003 19:11:25 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 27 Jun 2003 19:11:25 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.33.9])
	by mxout2.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RJBTo0009341
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 12:11:29 -0700
Received: from u.washington.edu (ss02.co.us.ibm.com [32.97.110.67])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RJBRXZ018652
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 12:11:29 -0700
Message-ID: <3EFC96C4.30708@u.washington.edu>
Date: Fri, 27 Jun 2003 15:11:00 -0400
From: Michael Becke <becke@u.washington.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.3b) Gecko/20030313 Minotaur/0.1a
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Cookie
References: <sefc3c7c.013@prv-mail20.provo.novell.com>
In-Reply-To: <sefc3c7c.013@prv-mail20.provo.novell.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

The [0x0] values are just a product of the Wire log.  It interprets the
logged values as ASCII and treats all non printing ASCII values in this
way.  [0x0] corresponds to the ASCII value 0.

Mike

Zulfi Umrani wrote:
> Instead of caching HttpClient, I cached HttpState and it worked fine.
> Now, how can I not send trailing [0x0] after each HTTP body?
>
> Thanks.
>
>
>>>>olegk@apache.org 6/27/2003 2:23:45 PM >>>
>
> Zulfi,
>
> First of all, Tomcat 4.0.4 can be considered fairly out-dated and is
> known to have a few bugs. Do consider upgrading.
>
> My guess is that the version of Tomcat you are running is having
> issues
> with RFC2109 formatted cookies. Try using compatibility cookie policy
> and see if it has any effect. Besides, you may want to examine Tomcat
> logs for clues as to why it does not like the cookie
>
> Oleg
>
> On Fri, 2003-06-27 at 17:10, Zulfi Umrani wrote:
>
>>I hung on to the HttpClient instance and seems like it is sending
>>cookies now. But it still did not work successfully, because Apache
>>Tomcat Server is returning a wiered message. When I do not send
>
> cookies,
>
>>it accepts the POST request. But as soon as cookie is sent, it sends
>>back 501! Attached is the wire log. I have canged the body of  HTTP
>>because of confidentiality. I also see whole bunch of [0x0]s being
>
> added
>
>>at the end of each body. Is there any way not to send them? Could
>
> they
>
>>be the cause of the problem?
>>I will appreciate a response.
>>
>>Thanks.
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From ross_r@bellsouth.net  Fri Jun 27 19:38:15 2003
Return-Path: <ross_r@bellsouth.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 7221 invoked from network); 27 Jun 2003 19:38:15 -0000
Received: from imf22aec.mail.bellsouth.net (HELO imf22aec.bellsouth.net) (205.152.59.70)
  by daedalus.apache.org with SMTP; 27 Jun 2003 19:38:15 -0000
Received: from rossp4 ([68.154.59.161]) by imf22aec.bellsouth.net
          (InterMail vM.5.01.05.27 201-253-122-126-127-20021220) with ESMTP
          id <20030627193819.FEOL6.imf22aec.bellsouth.net@rossp4>
          for <commons-httpclient-dev@jakarta.apache.org>;
          Fri, 27 Jun 2003 15:38:19 -0400
From: <ross_r@bellsouth.net>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: Cookie Issues
Date: Fri, 27 Jun 2003 15:38:54 -0400
Message-ID: <003a01c33ce3$be60bf00$0c00a8c0@peerit.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
In-Reply-To: <3EFC92E4.2050507@u.washington.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I deleted my cookies from the browser and RMID was never set again...

I don't know... =20

However I noticed in my proxy traces the browser put all the cookies in =
one
line instead of separate lines for each cookie.  Could that cause a =
problem?

Ross


-----Original Message-----
From: Michael Becke [mailto:becke@u.washington.edu]=20
Sent: Friday, June 27, 2003 2:54 PM
To: Commons HttpClient Project
Subject: Re: Cookie Issues

Not sure about the RMID cookie.  It is never being set by the web =
server.

I would suggest turning off the TRACE log as it clutters up things a=20
little and does not add much.

When you hit the site with a browser where does the RMID cookie get set?

Mike

ross_r@bellsouth.net wrote:
> Nope didn't work new relevant piece of trace:
> Not in my proxy trace there seems to be one more cookie than I see in =
the
> trace:
> Cookie:
> =
BID=3DX1DE45D226BE57EF9DFCF03167215B4A8901B5D817388E18FAC3B90790F0B43DA2;=

> bJobSeeker=3DTrue; RMID=3D432198953edf80d0;
> CB%5FSID=3D1aee5b36f209457aa530b0d72a1e8c8f%2D110026554%2Ds4%2D1; =
PU=3D0;
> CP=3Dnull
>=20
> The RMID cookie.  I don't see it all in the trace even being =
rejected... =20
>=20
> 2003/06/27 14:09:08:301 EDT [DEBUG] wire - ->> "POST
> /JobSeeker/Jobs/jobfindall.asp?ch=3Dal HTTP/1.0[\r][\n]"
> 2003/06/27 14:09:08:301 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:301 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:301 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:301 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.writeRequestHeaders(HttpState,HttpConnection)
> 2003/06/27 14:09:08:301 EDT [TRACE] ExpectContinueMethod - -enter
> ExpectContinueMethod.addRequestHeaders(HttpState, Http
> Connection)
> 2003/06/27 14:09:08:341 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addRequestHeaders(HttpState, HttpConnection)
> 2003/06/27 14:09:08:341 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addUserAgentRequestHeaders(HttpState, HttpConnect
> ion)
> 2003/06/27 14:09:08:341 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addHostRequestHeader(HttpState, HttpConnection)
> 2003/06/27 14:09:08:341 EDT [DEBUG] HttpMethod - -Adding Host request
header
> 2003/06/27 14:09:08:341 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addCookieRequestHeader(HttpState, HttpConnection)
>=20
> 2003/06/27 14:09:08:341 EDT [TRACE] HttpState - -enter
> HttpState.getCookies()
> 2003/06/27 14:09:08:341 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.match(String, int, String, boolean, Cookie[])
> 2003/06/27 14:09:08:341 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.match(String, int, String, boolean, Cookie
> 2003/06/27 14:09:08:341 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.match(String, int, String, boolean, Cookie
> 2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter =
Cookie.compare(Object,
> Object)
> 2003/06/27 14:09:08:401 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.match(String, int, String, boolean, Cookie
> 2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter =
Cookie.compare(Object,
> Object)
> 2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter =
Cookie.compare(Object,
> Object)
> 2003/06/27 14:09:08:401 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.match(String, int, String, boolean, Cookie
> 2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter =
Cookie.compare(Object,
> Object)
> 2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter =
Cookie.compare(Object,
> Object)
> 2003/06/27 14:09:08:401 EDT [TRACE] Cookie - -enter =
Cookie.compare(Object,
> Object)
> 2003/06/27 14:09:08:401 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookieHeader(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookie(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookieHeader(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookie(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookieHeader(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookie(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookieHeader(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] CookieSpec - -enter
> CookieSpecBase.formatCookie(Cookie)
> 2003/06/27 14:09:08:461 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addAuthorizationRequestHeader(HttpState, HttpConn
> ection)
> 2003/06/27 14:09:08:461 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addProxyAuthorizationRequestHeader(HttpState, Htt
> pConnection)
> 2003/06/27 14:09:08:521 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.addProxyConnectionHeader(HttpState, HttpConnectio
> n)
> 2003/06/27 14:09:08:521 EDT [TRACE] EntityEnclosingMethod - -enter
> HttpMethodBase.addContentLengthRequestHeader(HttpStat
> e, HttpConnection)
> 2003/06/27 14:09:08:521 EDT [TRACE] EntityEnclosingMethod - -enter
> EntityEnclosingMethod.getRequestContentLength()
> 2003/06/27 14:09:08:521 EDT [TRACE] PostMethod - -enter
> PostMethod.hasRequestContent()
> 2003/06/27 14:09:08:521 EDT [TRACE] PostMethod - -enter
> PostMethod.renerateRequestBody()
> 2003/06/27 14:09:08:521 EDT [TRACE] PostMethod - -enter
> PostMethod.getParameters()
> 2003/06/27 14:09:08:521 EDT [TRACE] HttpMethod - -enter =
getContentCharSet(
> Header contentheader )
> 2003/06/27 14:09:08:521 EDT [DEBUG] HttpMethod - -Default charset =
used:
> ISO-8859-1
> 2003/06/27 14:09:08:602 EDT [TRACE] HttpMethod -
> -HttpMethodBase.addRequestHeader(Header)
> 2003/06/27 14:09:08:602 EDT [DEBUG] wire - ->> "Referer:
> http://www.careerbuilder.com/JobSeeker/Jobs/JobQuery.asp?ch=3Dal[
> \r][\n]"
> 2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:612 EDT [DEBUG] wire - ->> "User-Agent: Jakarta
> Commons-HttpClient/2.0beta1[\r][\n]"
> 2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:612 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:672 EDT [DEBUG] wire - ->> "Host:
> www.careerbuilder.com[\r][\n]"
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:672 EDT [DEBUG] wire - ->> "Cookie: =
PU=3D0[\r][\n]"
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:672 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:742 EDT [DEBUG] wire - ->> "Cookie:
> CB%5FSID=3D1a4a0a13fbed41a7b8d5f3e5f7e0fa63%2D110038107%2Drd%2D1[\
> r][\n]"
> 2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:742 EDT [DEBUG] wire - ->> "Cookie:
> BID=3DX1AF7F150CF82DEEBAB1ECDD58B09A41B275D6BD5501510E4946BD091BD3
> 2FB4A5[\r][\n]"
> 2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:742 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:742 EDT [DEBUG] wire - ->> "Cookie:
> bJobSeeker=3DTrue[\r][\n]"
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:802 EDT [DEBUG] wire - ->> "Content-Length:
155[\r][\n]"
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:802 EDT [DEBUG] wire - ->> "Content-Type:
> application/x-www-form-urlencoded[\r][\n]"
> 2003/06/27 14:09:08:802 EDT [TRACE] HttpConnection - -enter
> HttpConnection.print(String)
> 2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
> HttpConnection.writeLine()
> 2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[])
> 2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
> HttpConnection.write(byte[], int, int)
> 2003/06/27 14:09:08:862 EDT [TRACE] HttpConnection - -enter
> HttpConnection.flushRequestOutputStream()
> 2003/06/27 14:09:08:862 EDT [DEBUG] wire - ->> "[\r][\n]"
> 2003/06/27 14:09:08:862 EDT [TRACE] EntityEnclosingMethod - -enter
> EntityEnclosingMethod.writeRequestBody(HttpState, Htt
> pConnection)
> 2003/06/27 14:09:08:862 EDT [TRACE] PostMethod - -enter
> PostMethod.hasRequestContent()
> 2003/06/27 14:09:08:922 EDT [TRACE] EntityEnclosingMethod - -enter
> EntityEnclosingMethod.getRequestContentLength()
> 2003/06/27 14:09:08:922 EDT [TRACE] PostMethod - -enter
> PostMethod.hasRequestContent()
> 2003/06/27 14:09:08:922 EDT [DEBUG] EntityEnclosingMethod - -Using
buffered
> request body
> 2003/06/27 14:09:08:922 EDT [TRACE] HttpConnection - -enter
> HttpConnection.getRequestOutputStream()
> 2003/06/27 14:09:08:922 EDT [DEBUG] wire - ->>
> =
"st=3Da&Words=3Djava&Use=3DAll&Town=3D&Freshness=3D&EdLevel=3DDR3&EdExec=3D=
YES&EmpType=3D
>
JTFT&EmpType=3DJTCT&minsalary=3D0&maxsalary=3Dgt120&vt=3Dtitle&submit1=3D=
Search&sname=3D
> &jrdid=3D"
> 2003/06/27 14:09:08:922 EDT [DEBUG] EntityEnclosingMethod - -Request =
body
> sent
> 2003/06/27 14:09:08:922 EDT [TRACE] HttpConnection - -enter
> HttpConnection.flushRequestOutputStream()
> 2003/06/27 14:09:08:922 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.readResponse(HttpState, HttpConnection)
> 2003/06/27 14:09:08:922 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.readStatusLine(HttpState, HttpConnection)
> 2003/06/27 14:09:08:992 EDT [TRACE] HttpConnection - -enter
> HttpConnection.readLine()
> 2003/06/27 14:09:08:992 EDT [TRACE] HttpParser - -enter
> HttpParser.readLine()
> 2003/06/27 14:09:08:992 EDT [TRACE] HttpParser - -enter
> HttpParser.readRawLine()
> 2003/06/27 14:09:09:052 EDT [DEBUG] wire - -<< "HTTP/1.1 499 Data =
Error
> NoSessionId[\r][\n]"
> 2003/06/27 14:09:09:052 EDT [TRACE] HttpMethod - -enter
> HttpMethodBase.readResponseHeaders(HttpState,HttpConnection)
>=20
> -----Original Message-----
> From: Ross Rankin [mailto:ross_r@bellsouth.net] On Behalf Of
> ross_r@bellsouth.net
> Sent: Friday, June 27, 2003 2:06 PM
> To: 'Commons HttpClient Project'
> Subject: RE: Cookie Issues
>=20
> So a post.setRequestHeader should do the trick?  I'll give it a shot.
>=20
> Ross =20
>=20
> -----Original Message-----
> From: Michael Becke [mailto:becke@u.washington.edu]=20
> Sent: Friday, June 27, 2003 1:51 PM
> To: Commons HttpClient Project
> Subject: Re: Cookie Issues
>=20
> The cookies appear to be working correctly. I think the problem is =
that=20
> the POST cgi requires a referer header.  Generally this is the URL of=20
> the page containing the HTML form doing the post.  Take a look at=20
> http://www.w3.org/Protocols/HTTP/HTRQ_Headers.html#z14 for more on the =

> referer header.
>=20
> Mike
>=20
> Ross Rankin wrote:
>=20
>>Here's the trace and what my proxy says on a browser run post for
>>comparison.  I looked through the trace and I'm not sure what the =
issue
>=20
> is,
>=20
>>I thought I might find it, but I didn't.  Thanks for any help you can
>>provide.
>>
>>Ross
>>
>>-----Original Message-----
>>From: Michael Becke [mailto:becke@u.washington.edu]=20
>>Sent: Friday, June 27, 2003 12:01 PM
>>To: Commons HttpClient Project
>>Subject: Re: Cookie Issues
>>
>>Ross,
>>
>>Cookies are automatically stored in an HttpClient's instance of=20
>>HttpState.  If you use the same instance of HttpClient to execute the=20
>>GET on the initial page and the POST all should be automatically =
handled.
>>
>>Please post a wire log showing the GET and POST if the cookie handling =

>>continues to not work (see=20
>>http://jakarta.apache.org/commons/httpclient/logging.html).
>>
>>Mike
>>
>>ross_r@bellsouth.net wrote:
>>
>>
>>>I guessing that I am not doing something right.  I have a site which =
has
a
>>>session id that it sends as a cookie.  I get the cookie when I get =
the
>>>initial page.  I then have to send a post and send that cookie back.
>>>However I get back a error message from the server which says no =
session
>>
>>id.
>>
>>
>>>Now I did a trace and it just send back "HTTP/1.1 499 Data Error
>>>NoSessionId" Not very helpful. =20
>>>
>>>
>>>
>>>Is there something that I need to do other than
>>>"client.getState().getCookies" when I get the first page to make sure
that
>>>the cookies are sent back with the post data?
>>>
>>>
>>>
>>>Thanks,
>>>
>>>
>>>
>>>Ross Rankin
>>>
>>>
>>>
>>>
>>>
>>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail:
>>commons-httpclient-dev-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>commons-httpclient-dev-help@jakarta.apache.org
>>
>>
>>-----------------------------------------------------------------------=
-
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail:
>=20
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>=20
>>For additional commands, e-mail:
>=20
> commons-httpclient-dev-help@jakarta.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From olegk@apache.org  Fri Jun 27 19:42:28 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 11783 invoked from network); 27 Jun 2003 19:42:28 -0000
Received: from mail6.bluewin.ch (195.186.4.229)
  by daedalus.apache.org with SMTP; 27 Jun 2003 19:42:28 -0000
Received: from olddude.tislab.ch (81.62.176.108) by mail6.bluewin.ch (Bluewin AG 7.0.016)
        id 3EFC034900012E13 for commons-httpclient-dev@jakarta.apache.org; Fri, 27 Jun 2003 19:42:33 +0000
Subject: RE: Cookie Issues
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <003a01c33ce3$be60bf00$0c00a8c0@peerit.com>
References: <003a01c33ce3$be60bf00$0c00a8c0@peerit.com>
Content-Type: text/plain
Message-Id: <1056742952.1985.43.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 27 Jun 2003 21:42:32 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Ross,

> However I noticed in my proxy traces the browser put all the cookies in one
> line instead of separate lines for each cookie.  Could that cause a problem?
>

Try using strict mode. In strict mode all cookies are sent as one
'Cookie' header.

cheer

Oleg



From ross_r@bellsouth.net  Fri Jun 27 20:12:10 2003
Return-Path: <ross_r@bellsouth.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 45868 invoked from network); 27 Jun 2003 20:12:10 -0000
Received: from imf18aec.mail.bellsouth.net (HELO imf18aec.bellsouth.net) (205.152.59.66)
  by daedalus.apache.org with SMTP; 27 Jun 2003 20:12:10 -0000
Received: from rossp4 ([68.154.59.161]) by imf18aec.bellsouth.net
          (InterMail vM.5.01.05.27 201-253-122-126-127-20021220) with ESMTP
          id <20030627201215.ZOWM18528.imf18aec.bellsouth.net@rossp4>;
          Fri, 27 Jun 2003 16:12:15 -0400
From: "Ross Rankin" <ross_r@bellsouth.net>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>,
	<olegk@apache.org>
Subject: RE: Cookie Issues
Date: Fri, 27 Jun 2003 16:12:50 -0400
Message-ID: <003b01c33ce8$7c0be760$0c00a8c0@peerit.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
In-Reply-To: <1056742952.1985.43.camel@kczrh-okt22.corp.bearingpoint.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I tried both NETSCAPE_DRAFT and RFC2109 and the trace of the post shows it
has separate lines for each cookie.

Ross

-----Original Message-----
From: Oleg Kalnichevski [mailto:olegk@apache.org]
Sent: Friday, June 27, 2003 3:43 PM
To: Commons HttpClient Project
Subject: RE: Cookie Issues

Ross,

> However I noticed in my proxy traces the browser put all the cookies in
one
> line instead of separate lines for each cookie.  Could that cause a
problem?
>

Try using strict mode. In strict mode all cookies are sent as one
'Cookie' header.

cheer

Oleg



---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From ross_r@bellsouth.net  Fri Jun 27 20:30:21 2003
Return-Path: <ross_r@bellsouth.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 77891 invoked from network); 27 Jun 2003 20:30:21 -0000
Received: from imf21aec.mail.bellsouth.net (HELO imf21aec.bellsouth.net) (205.152.59.69)
  by daedalus.apache.org with SMTP; 27 Jun 2003 20:30:21 -0000
Received: from rossp4 ([68.154.59.161]) by imf21aec.bellsouth.net
          (InterMail vM.5.01.05.27 201-253-122-126-127-20021220) with ESMTP
          id <20030627203026.PAVN16037.imf21aec.bellsouth.net@rossp4>
          for <commons-httpclient-dev@jakarta.apache.org>;
          Fri, 27 Jun 2003 16:30:26 -0400
From: <ross_r@bellsouth.net>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: Cookie Issues
Date: Fri, 27 Jun 2003 16:31:01 -0400
Message-ID: <003c01c33ceb$068a8bb0$0c00a8c0@peerit.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
In-Reply-To:
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I also didn't set a cookiePolicy and let the default go, still a cookie on a
separate line.  I also tried to concatenate all the cookies into a string
and set the cookie header line like so:
	post.setRequestHeader("Cookie",catCookies);

But that doesn't seem to work either. It is never sent.

Ross

-----Original Message-----
From: Ross Rankin [mailto:ross_r@bellsouth.net]
Sent: Friday, June 27, 2003 4:13 PM
To: 'Commons HttpClient Project'; 'olegk@apache.org'
Subject: RE: Cookie Issues

I tried both NETSCAPE_DRAFT and RFC2109 and the trace of the post shows it
has separate lines for each cookie.

Ross

-----Original Message-----
From: Oleg Kalnichevski [mailto:olegk@apache.org]
Sent: Friday, June 27, 2003 3:43 PM
To: Commons HttpClient Project
Subject: RE: Cookie Issues

Ross,

> However I noticed in my proxy traces the browser put all the cookies in
one
> line instead of separate lines for each cookie.  Could that cause a
problem?
>

Try using strict mode. In strict mode all cookies are sent as one
'Cookie' header.

cheer

Oleg



---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From zumrani@novell.com  Fri Jun 27 20:56:00 2003
Return-Path: <zumrani@novell.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 10140 invoked from network); 27 Jun 2003 20:56:00 -0000
Received: from prv-mail20.provo.novell.com (137.65.81.122)
  by daedalus.apache.org with SMTP; 27 Jun 2003 20:56:00 -0000
Received: from INET-PRV-MTA by prv-mail20.provo.novell.com
	with Novell_GroupWise; Fri, 27 Jun 2003 14:56:05 -0600
Message-Id: <sefc5b05.007@prv-mail20.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 6.5.1
Date: Fri, 27 Jun 2003 11:55:13 -0600
From: "Zulfi Umrani" <zumrani@novell.com>
To: <commons-httpclient-dev@jakarta.apache.org>
Subject: Re: Cookie
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am using a tunnel which shows me the HTTP messages going out. It is
showing me a character present at the end of the body,  599 times!
Though the content-length header has the right value, but this
particular character/byte is also present at the end of body.

>>> becke@u.washington.edu 6/27/2003 3:11:00 PM >>>
The [0x0] values are just a product of the Wire log.  It interprets the

logged values as ASCII and treats all non printing ASCII values in this

way.  [0x0] corresponds to the ASCII value 0.

Mike

Zulfi Umrani wrote:
> Instead of caching HttpClient, I cached HttpState and it worked
fine.
> Now, how can I not send trailing [0x0] after each HTTP body?
>
> Thanks.
>
>
>>>>olegk@apache.org 6/27/2003 2:23:45 PM >>>
>
> Zulfi,
>
> First of all, Tomcat 4.0.4 can be considered fairly out-dated and is
> known to have a few bugs. Do consider upgrading.
>
> My guess is that the version of Tomcat you are running is having
> issues
> with RFC2109 formatted cookies. Try using compatibility cookie
policy
> and see if it has any effect. Besides, you may want to examine
Tomcat
> logs for clues as to why it does not like the cookie
>
> Oleg
>
> On Fri, 2003-06-27 at 17:10, Zulfi Umrani wrote:
>
>>I hung on to the HttpClient instance and seems like it is sending
>>cookies now. But it still did not work successfully, because Apache
>>Tomcat Server is returning a wiered message. When I do not send
>
> cookies,
>
>>it accepts the POST request. But as soon as cookie is sent, it sends
>>back 501! Attached is the wire log. I have canged the body of  HTTP
>>because of confidentiality. I also see whole bunch of [0x0]s being
>
> added
>
>>at the end of each body. Is there any way not to send them? Could
>
> they
>
>>be the cause of the problem?
>>I will appreciate a response.
>>
>>Thanks.
>
>
>
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail:
commons-httpclient-dev-unsubscribe@jakarta.apache.org
For additional commands, e-mail:
commons-httpclient-dev-help@jakarta.apache.org


From olegk@apache.org  Fri Jun 27 21:05:47 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 20688 invoked from network); 27 Jun 2003 21:05:47 -0000
Received: from mail2.bluewin.ch (195.186.4.73)
  by daedalus.apache.org with SMTP; 27 Jun 2003 21:05:47 -0000
Received: from olddude.tislab.ch (81.62.176.108) by mail2.bluewin.ch (Bluewin AG 7.0.016)
        id 3EFC021700013FC9 for commons-httpclient-dev@jakarta.apache.org; Fri, 27 Jun 2003 21:05:52 +0000
Subject: Re: Cookie
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <sefc5b05.007@prv-mail20.provo.novell.com>
References: <sefc5b05.007@prv-mail20.provo.novell.com>
Content-Type: text/plain
Message-Id: <1056747951.1985.76.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 27 Jun 2003 23:05:51 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Zulfi, HttpClient never sends stuff it is not supposed to send. The
caller is responsible for providing the request body. HttpClient simply
transfers whatever content it is given. Please double-check your code

Oleg

On Fri, 2003-06-27 at 19:55, Zulfi Umrani wrote:
> I am using a tunnel which shows me the HTTP messages going out. It is
> showing me a character present at the end of the body,  599 times!
> Though the content-length header has the right value, but this
> particular character/byte is also present at the end of body.
>



From anonymous@nagoya.betaversion.org  Fri Jun 27 21:20:37 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 46557 invoked from network); 27 Jun 2003 21:20:37 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 27 Jun 2003 21:20:37 -0000
Received: (qmail 12710 invoked by uid 50); 27 Jun 2003 21:23:04 -0000
Date: 27 Jun 2003 21:23:04 -0000
Message-ID: <20030627212304.12709.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21147]  -
    HttpMethodBase Javadoc patches
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21147>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21147

HttpMethodBase Javadoc patches

olegk@apache.org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From olegk@apache.org  2003-06-27 21:23 -------
Patch (+ some additional corrections) committed.

Oleg

From becke@u.washington.edu  Fri Jun 27 23:04:36 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 53120 invoked from network); 27 Jun 2003 23:04:36 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 27 Jun 2003 23:04:36 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout2.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RN4go0010275
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 16:04:43 -0700
Received: from u.washington.edu (pool-129-44-182-171.bos.east.verizon.net [129.44.182.171])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5RN4f49032341
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Fri, 27 Jun 2003 16:04:42 -0700
Date: Fri, 27 Jun 2003 19:04:39 -0400
Subject: Re: Cookie Issues
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <003c01c33ceb$068a8bb0$0c00a8c0@peerit.com>
Message-Id: <BAC49856-A8F3-11D7-878D-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Ross,

Strict mode is a property of the HttpMethod.  Try calling
HttpMethod.setStrictMode(true).

Mike

On Friday, June 27, 2003, at 04:31 PM, <ross_r@bellsouth.net> wrote:

> I also didn't set a cookiePolicy and let the default go, still a
> cookie on a
> separate line.  I also tried to concatenate all the cookies into a
> string
> and set the cookie header line like so:
> 	post.setRequestHeader("Cookie",catCookies);
>
> But that doesn't seem to work either. It is never sent.
>
> Ross
>
> -----Original Message-----
> From: Ross Rankin [mailto:ross_r@bellsouth.net]
> Sent: Friday, June 27, 2003 4:13 PM
> To: 'Commons HttpClient Project'; 'olegk@apache.org'
> Subject: RE: Cookie Issues
>
> I tried both NETSCAPE_DRAFT and RFC2109 and the trace of the post
> shows it
> has separate lines for each cookie.
>
> Ross
>
> -----Original Message-----
> From: Oleg Kalnichevski [mailto:olegk@apache.org]
> Sent: Friday, June 27, 2003 3:43 PM
> To: Commons HttpClient Project
> Subject: RE: Cookie Issues
>
> Ross,
>
>> However I noticed in my proxy traces the browser put all the cookies
>> in
> one
>> line instead of separate lines for each cookie.  Could that cause a
> problem?
>>
>
> Try using strict mode. In strict mode all cookies are sent as one
> 'Cookie' header.
>
> cheer
>
> Oleg
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From anonymous@nagoya.betaversion.org  Sat Jun 28 01:24:11 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 41436 invoked from network); 28 Jun 2003 01:24:11 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jun 2003 01:24:11 -0000
Received: (qmail 16592 invoked by uid 50); 28 Jun 2003 01:26:40 -0000
Date: 28 Jun 2003 01:26:40 -0000
Message-ID: <20030628012640.16591.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21159] New:  -
    HttpMethodBase logger uses wrong class.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21159>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21159

HttpMethodBase logger uses wrong class.

           Summary: HttpMethodBase logger uses wrong class.
           Product: Commons
           Version: 2.0 Beta 1
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: Minor
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: laura@lwerner.org


I just noticed a minor error in HttpMethodBase: it initializes its Log object
with HttpMethod.class instead of HttpMethodBase.class.  No big deal, but it
probably ought to be fixed at some point.  I'll attach the patch.

From anonymous@nagoya.betaversion.org  Sat Jun 28 01:24:34 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 41757 invoked from network); 28 Jun 2003 01:24:34 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jun 2003 01:24:34 -0000
Received: (qmail 16609 invoked by uid 50); 28 Jun 2003 01:27:03 -0000
Date: 28 Jun 2003 01:27:03 -0000
Message-ID: <20030628012703.16608.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21159]  -
    HttpMethodBase logger uses wrong class.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21159>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21159

HttpMethodBase logger uses wrong class.





------- Additional Comments From laura@lwerner.org  2003-06-28 01:27 -------
Created an attachment (id=7023)
patch

From anonymous@nagoya.betaversion.org  Sat Jun 28 01:39:05 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 47999 invoked from network); 28 Jun 2003 01:39:05 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 28 Jun 2003 01:39:05 -0000
Received: (qmail 16732 invoked by uid 50); 28 Jun 2003 01:41:35 -0000
Date: 28 Jun 2003 01:41:35 -0000
Message-ID: <20030628014135.16731.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21159]  -
    HttpMethodBase logger uses wrong class.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21159>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21159

HttpMethodBase logger uses wrong class.

adrian@ephox.com changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |FIXED



------- Additional Comments From adrian@ephox.com  2003-06-28 01:41 -------
Patch committed.  Thanks Laura.

From olegk@bluewin.ch  Fri Jun 27 17:34:17 2003
Return-Path: <olegk@bluewin.ch>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 65656 invoked from network); 27 Jun 2003 17:34:17 -0000
Received: from mail6.bluewin.ch (195.186.4.229)
  by daedalus.apache.org with SMTP; 27 Jun 2003 17:34:17 -0000
Received: from olddude.tislab.ch (81.62.176.108) by mail6.bluewin.ch (Bluewin AG 7.0.016)
        id 3EFC03490000FFEF for commons-httpclient-dev@jakarta.apache.org; Fri, 27 Jun 2003 17:34:20 +0000
Subject: Re: Redirecting to different protocol, host or port
From: Oleg Kalnichevski <olegk@bluewin.ch>
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <3EFC7511.2060102@netcologne.de>
References: <8F81EBCA-A84F-11D7-AB1F-00306557E112@u.washington.edu>
	 <3EFC617F.7020006@netcologne.de> <3EFC6451.3060207@u.washington.edu>
	 <3EFC7511.2060102@netcologne.de>
Content-Type: text/plain
Message-Id: <1056735259.1985.4.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 27 Jun 2003 19:34:19 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

That's correct. We are well aware of the problem:

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=16729

but cannot resolve it at this point as it would mean breaking existing
API. Once the release 2.0 is branched out, that is going to be one of
the first bug fixes

Cheers

Oleg



On Fri, 2003-06-27 at 18:47, Christian Sell wrote:
> Michael,
>
> I take this to mean its a technical restriction caused by HttpClients
> internal architecture. Could you (or someone) elaborate a little more?
>
> Christian
>
> Michael Becke wrote:
> > Hello Christian,
> >
> > Please take a look at
> > http://jakarta.apache.org/commons/httpclient/redirects.html.
> >
> > Mike
> >
> > Christian Sell wrote:
> >
> >> Hello,
> >>
> >> looking at the HttpClient internals, I see that redirecting to
> >> different protocol, host or port is not supported. What are the
> >> specific reasons for ths restriction? I did not find a statement to
> >> that effect in RFC 2616.
> >>
> >> thanks,
> >> Christian
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail:
> >> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail:
> >> commons-httpclient-dev-help@jakarta.apache.org
> >>
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > commons-httpclient-dev-help@jakarta.apache.org
> >
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Sun Jun 29 15:46:30 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 4519 invoked from network); 29 Jun 2003 15:46:30 -0000
Received: from mxout5.cac.washington.edu (140.142.32.135)
  by daedalus.apache.org with SMTP; 29 Jun 2003 15:46:30 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout5.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5TFkWkI016211
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 29 Jun 2003 08:46:32 -0700
Received: from u.washington.edu (pool-129-44-182-171.bos.east.verizon.net [129.44.182.171])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5TFkU49012048
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 29 Jun 2003 08:46:31 -0700
Date: Sun, 29 Jun 2003 11:46:22 -0400
Subject: Re: 2.0 release - looking to the future
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <825BF35A92B3F0479CC164ECBBE9376E0DE592@kccxoex06.corp.kpmgconsulting.com>
Message-Id: <D589E2A1-AA48-11D7-878D-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

All good ideas I think.  I agree with the separation for 2.1/3.0.  I
have one item to add to the 2.1 release.  I would like to rework the
HttpConnectionManagers to add support for connection factories and
perhaps a few other things.  In particular I would like to move the
creation of connections out of the managers and add support for
closing, releasing and stale testing with the factory.  It might look
something like:

interface HttpConnectionFactory {

	HttpConnection createConnection(HostConfiguration);

	boolean isConnectionStale(HttpConnecton);

	void closeConnection(HttpConnection);

	void destroyConnection(HttpConnection);
}

And perhaps another interface that can be registered with a
ConnectionManager.  This one would be useful for tracking connection
use.

interface HttpConnectionManagerListener {

	void connectionCheckedOut(HttpConnecton);

	void connectionReleased(HttpConnection);
}

These are just a few quick ideas ideas to throw into the mix.

Enjoy,

Mike

On Thursday, June 26, 2003, at 11:02 AM, Kalnichevski, Oleg wrote:

> Eric,
>
> Fantastic proposal that I whole-heartedly support. Let me present my
> own more condensed version with a few omissions (that are not critical
> at all)
>
> 2.1 release:
>
> - Better exception handling framework (bug #19868)
> - Cross-site redirect fix. Authentication, redirect & retry code moved
> from HttpMethodBase to HttpClient
> - New configuration architecture that includes plug-in mechanism for
> cookie policies & authentication schemes
> - More reliable header parser. Recently quite a few people requested a
> fix for bug #11240
> - Decision of new external dependencies: commons-lang, commons-codec
> - Ability to abort requests (bug #20288)
> - Removal of deprecated stuff, such as UrlXXXMethod classes, disk
> buffering in GetMethod and so on
>
> 3.0 release:
>
> - I fully support the proposed concept of a framework of interfaces
> - I really would like to see HttpMethod interface split into
> HttpRequest/HttpResponse pair and the concept of recycling of HTTP
> methods gone for good
> - HttpClient skiing & snowboarding weekend
>
> Cheers
>
> Oleg
>
> -----Original Message-----
> From: Eric Johnson [mailto:eric@tibco.com]
> Sent: Thursday, June 26, 2003 16:33
> To: Commons HttpClient Project
> Subject: Re: 2.0 release - looking to the future
>
>
> Mike,
>
> Thanks for starting this discussion.  I've been contemplating this one
> for a while.
>
> My development approach follows along the lines of "revolution through
> evolution".  Which means, with respect to HttpClient, that on the one
> hand I don't want to encourage too many fundamental changes for the
> existing APIs, except perhaps introducing a modicum of additional
> flexibility, while at the same time building a completely revolutionary
> framework on top of and underneath the existing structure.  Having said
> that, I see 2.1 as the first step in the evolutionary path, while
> building the framework that makes 3.0 possible.
>
> Evolutionary - 2.1 release:
> - 16729 - Cross host and port redirects - this bug has the most votes -
> although the projects we have don't need this, I think the flexibility
> it implies is good.
> - 10792 - Plugin authentication modules - I'm not sure what this means
> exactly, but it sounds like it adds flexibility, and I'm thinking that
> authentication could be handled in such a way that "callbacks" to a
> client were obvious and transparent
> - My current personal peeve - a better test framework than
> SimpleHttpConnectionManager, that allows us to more closely mimick real
> HttpConnection behavior, thus enabling more tests without actually
> requiring a real connection.  Based on missing test cases, I think we
> desperately need this, especially for people like me who are not in a
> position to test NTLM authentication, or proxies, without at least
> considerable difficulty, if at all.  Wouldn't it be great, for example,
> if we could "test" proxy support without actually having to have a
> proxy
> server hanging around (that Squid proxy comes to mind...).  That would
> mean that we could even test both proxied and non-proxied actions
> without running a separate set of tests under a new configuration.
> - Try decoupling classes - JDepends reports a few cycles that might be
> worth breaking if we can.
> - A better "configuration" mechanism.  I'm thinking of the
> javax.xml.parser.SAXFactory interface, where you call "setProperty" on
> the factory.  I'm thinking that we currently have a variety of "hidden"
> properties, which we could unify with a single exposed Properties
> object
> that the user could configure to their preferences.  And we could
> probably define some sort of look-up for a httpclient configuration on
> the classpath, so that clients could simply add one file to their
> classpath and have their HttpClient communications configured.  For
> examples of "hidden" properties and not so hidden properties, consider
> the following list:
>
>     * the default connection manager
>     * the "timeout"
>     * the "connection timeout"
>     * the connection factory timeout
>     * "strict" mode - what is this used for, by the way?
>     * follow redirects
>     * protocol factories
>     * cookie policy
>     * - default headers on a request - nice to have....
>
> I'm sure there are others.  Making all of these "defaults" configurable
> with a "deployment descriptor" otherwise known as a property file in
> the
> classpath would be a boon to clients.
>
> I might just recommend stopping there for a 2.1 release - with the idea
> that we release early and often.  This would, of course, mean another
> list for the 2.2 release.  Undoubtedly others have a different set of
> issues that might be more appropriate for 2.1, but whatever that list
> is, I would suggest that it be *short*.
>
> For a 3.0 release, I lean towards a radical redesign built on top of
> the
> current code to start.
> The radical redesign would be built around a framework of interfaces.
> The general idea would be that we expose only one or two key
> implementations of the interfaces, with the implementations of
> everything else being hidden behind a "factory" facade.
>
> The following is a "for example" to get the idea across, not any
> attempt
> at real interfaces...
>
> IHttpClient
>  - IHttpMethod newMethod(String verb, String url); /* not clear to me
> whether there should be a separate "newGetMethod", "newPostMethod",
> "newPutMethod"...) - there are advantages both ways */
>  - void setProperties(Properties defaultSettings);
>  - void setProperty(String propName, String propValue);
>  - void addDefaultHeader(String header, String value);
>  - String removeDefaultHeader(String header);
>
> IHttpMethod
>  - int execute() throws xxxx; /* note that in the interface construct,
> the interface keeps "track" of its http client, so execute can be
> called
> directly on the method */
>  - IHttpRequest getRequest();
>  - IHttpResponse getResponse();
>  - void setQueryString(NameValuePairs[] pairs);
>
> IHttpRequest
>  - void addHeader(String header, String value);
>
> IHttpResponse
>  - String getHeader(String header);
>  - IStatusLine getStatusLine();
>
> and so on.
>
> Note that I don't particularly like that I stuck the "I" in front of
> existing class names just to make them interfaces, but it did it to get
> the point across and avoid confusion with existing classes.
>
> A cool part of this approach is that we can start writing the
> interfaces, and the implementations of the interfaces right away (we
> don't really even need to fork the code).  Until we actually get to the
> 3.0 release, we can treat the interfaces as the "less capable" access
> to
> the functionality, and release 3.0, only when the functionality exposed
> by the interfaces exceeds that of the current class implementations.
> Along the way, I suspect we'll find we can start to deprecate and
> eventually "hide" (package level protect) current exposed
> implementation
> classes, especially where the interfaces start to supplant them.
>
> Just throwing out my thoughts.
>
> -Eric.
>
> Michael Becke wrote:
>
>> I think we are quite ready for a beta2/rc1.  I agree that there have
>> been few new bugs lately but I would still like to see a beta2, just
>> to be sure.
>>
>> As part of beta2/rc1 we were planning to branch out 2.0.  Before we do
>> this though I think we should have a better idea of what we want in
>> post 2.0.  In particular I think we should brainstorm about features
>> we would like and then decide if they will fit in 2.1 or 3.0.
>>
>> Mike
>>
>> On Thursday, June 26, 2003, at 01:10 AM, Jandalf wrote:
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From olegk@apache.org  Sun Jun 29 21:45:24 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 54962 invoked from network); 29 Jun 2003 21:45:24 -0000
Received: from mail1.bluewin.ch (195.186.1.74)
  by daedalus.apache.org with SMTP; 29 Jun 2003 21:45:24 -0000
Received: from olddude.tislab.ch (62.202.45.243) by mail1.bluewin.ch (Bluewin AG 7.0.016)
        id 3EFC3F760002E848 for commons-httpclient-dev@jakarta.apache.org; Sun, 29 Jun 2003 21:45:29 +0000
Subject: Re: 2.0 release - looking to the future
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <D589E2A1-AA48-11D7-878D-00306557E112@u.washington.edu>
References: <D589E2A1-AA48-11D7-878D-00306557E112@u.washington.edu>
Content-Type: text/plain
Message-Id: <1056923113.7691.10.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 29 Jun 2003 23:45:13 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Mike,
It does sound like a good idea to me, but could not it wait until 3.0,
as it does seem to be exactly what Eric has been proposing as a
"framework of interfaces"? Are there any pressing reasons for having it
done within 2.1 release? Would it be a bit too much of a change?

Oleg



On Sun, 2003-06-29 at 17:46, Michael Becke wrote:
> All good ideas I think.  I agree with the separation for 2.1/3.0.  I
> have one item to add to the 2.1 release.  I would like to rework the
> HttpConnectionManagers to add support for connection factories and
> perhaps a few other things.  In particular I would like to move the
> creation of connections out of the managers and add support for
> closing, releasing and stale testing with the factory.  It might look
> something like:
>
> interface HttpConnectionFactory {
>
> 	HttpConnection createConnection(HostConfiguration);
>
> 	boolean isConnectionStale(HttpConnecton);
>
> 	void closeConnection(HttpConnection);
>
> 	void destroyConnection(HttpConnection);
> }
>
> And perhaps another interface that can be registered with a
> ConnectionManager.  This one would be useful for tracking connection
> use.
>
> interface HttpConnectionManagerListener {
>
> 	void connectionCheckedOut(HttpConnecton);
>
> 	void connectionReleased(HttpConnection);
> }
>
> These are just a few quick ideas ideas to throw into the mix.
>
> Enjoy,
>
> Mike
>
> On Thursday, June 26, 2003, at 11:02 AM, Kalnichevski, Oleg wrote:
>
> > Eric,
> >
> > Fantastic proposal that I whole-heartedly support. Let me present my
> > own more condensed version with a few omissions (that are not critical
> > at all)
> >
> > 2.1 release:
> >
> > - Better exception handling framework (bug #19868)
> > - Cross-site redirect fix. Authentication, redirect & retry code moved
> > from HttpMethodBase to HttpClient
> > - New configuration architecture that includes plug-in mechanism for
> > cookie policies & authentication schemes
> > - More reliable header parser. Recently quite a few people requested a
> > fix for bug #11240
> > - Decision of new external dependencies: commons-lang, commons-codec
> > - Ability to abort requests (bug #20288)
> > - Removal of deprecated stuff, such as UrlXXXMethod classes, disk
> > buffering in GetMethod and so on
> >
> > 3.0 release:
> >
> > - I fully support the proposed concept of a framework of interfaces
> > - I really would like to see HttpMethod interface split into
> > HttpRequest/HttpResponse pair and the concept of recycling of HTTP
> > methods gone for good
> > - HttpClient skiing & snowboarding weekend
> >
> > Cheers
> >
> > Oleg
> >
> > -----Original Message-----
> > From: Eric Johnson [mailto:eric@tibco.com]
> > Sent: Thursday, June 26, 2003 16:33
> > To: Commons HttpClient Project
> > Subject: Re: 2.0 release - looking to the future
> >
> >
> > Mike,
> >
> > Thanks for starting this discussion.  I've been contemplating this one
> > for a while.
> >
> > My development approach follows along the lines of "revolution through
> > evolution".  Which means, with respect to HttpClient, that on the one
> > hand I don't want to encourage too many fundamental changes for the
> > existing APIs, except perhaps introducing a modicum of additional
> > flexibility, while at the same time building a completely revolutionary
> > framework on top of and underneath the existing structure.  Having said
> > that, I see 2.1 as the first step in the evolutionary path, while
> > building the framework that makes 3.0 possible.
> >
> > Evolutionary - 2.1 release:
> > - 16729 - Cross host and port redirects - this bug has the most votes -
> > although the projects we have don't need this, I think the flexibility
> > it implies is good.
> > - 10792 - Plugin authentication modules - I'm not sure what this means
> > exactly, but it sounds like it adds flexibility, and I'm thinking that
> > authentication could be handled in such a way that "callbacks" to a
> > client were obvious and transparent
> > - My current personal peeve - a better test framework than
> > SimpleHttpConnectionManager, that allows us to more closely mimick real
> > HttpConnection behavior, thus enabling more tests without actually
> > requiring a real connection.  Based on missing test cases, I think we
> > desperately need this, especially for people like me who are not in a
> > position to test NTLM authentication, or proxies, without at least
> > considerable difficulty, if at all.  Wouldn't it be great, for example,
> > if we could "test" proxy support without actually having to have a
> > proxy
> > server hanging around (that Squid proxy comes to mind...).  That would
> > mean that we could even test both proxied and non-proxied actions
> > without running a separate set of tests under a new configuration.
> > - Try decoupling classes - JDepends reports a few cycles that might be
> > worth breaking if we can.
> > - A better "configuration" mechanism.  I'm thinking of the
> > javax.xml.parser.SAXFactory interface, where you call "setProperty" on
> > the factory.  I'm thinking that we currently have a variety of "hidden"
> > properties, which we could unify with a single exposed Properties
> > object
> > that the user could configure to their preferences.  And we could
> > probably define some sort of look-up for a httpclient configuration on
> > the classpath, so that clients could simply add one file to their
> > classpath and have their HttpClient communications configured.  For
> > examples of "hidden" properties and not so hidden properties, consider
> > the following list:
> >
> >     * the default connection manager
> >     * the "timeout"
> >     * the "connection timeout"
> >     * the connection factory timeout
> >     * "strict" mode - what is this used for, by the way?
> >     * follow redirects
> >     * protocol factories
> >     * cookie policy
> >     * - default headers on a request - nice to have....
> >
> > I'm sure there are others.  Making all of these "defaults" configurable
> > with a "deployment descriptor" otherwise known as a property file in
> > the
> > classpath would be a boon to clients.
> >
> > I might just recommend stopping there for a 2.1 release - with the idea
> > that we release early and often.  This would, of course, mean another
> > list for the 2.2 release.  Undoubtedly others have a different set of
> > issues that might be more appropriate for 2.1, but whatever that list
> > is, I would suggest that it be *short*.
> >
> > For a 3.0 release, I lean towards a radical redesign built on top of
> > the
> > current code to start.
> > The radical redesign would be built around a framework of interfaces.
> > The general idea would be that we expose only one or two key
> > implementations of the interfaces, with the implementations of
> > everything else being hidden behind a "factory" facade.
> >
> > The following is a "for example" to get the idea across, not any
> > attempt
> > at real interfaces...
> >
> > IHttpClient
> >  - IHttpMethod newMethod(String verb, String url); /* not clear to me
> > whether there should be a separate "newGetMethod", "newPostMethod",
> > "newPutMethod"...) - there are advantages both ways */
> >  - void setProperties(Properties defaultSettings);
> >  - void setProperty(String propName, String propValue);
> >  - void addDefaultHeader(String header, String value);
> >  - String removeDefaultHeader(String header);
> >
> > IHttpMethod
> >  - int execute() throws xxxx; /* note that in the interface construct,
> > the interface keeps "track" of its http client, so execute can be
> > called
> > directly on the method */
> >  - IHttpRequest getRequest();
> >  - IHttpResponse getResponse();
> >  - void setQueryString(NameValuePairs[] pairs);
> >
> > IHttpRequest
> >  - void addHeader(String header, String value);
> >
> > IHttpResponse
> >  - String getHeader(String header);
> >  - IStatusLine getStatusLine();
> >
> > and so on.
> >
> > Note that I don't particularly like that I stuck the "I" in front of
> > existing class names just to make them interfaces, but it did it to get
> > the point across and avoid confusion with existing classes.
> >
> > A cool part of this approach is that we can start writing the
> > interfaces, and the implementations of the interfaces right away (we
> > don't really even need to fork the code).  Until we actually get to the
> > 3.0 release, we can treat the interfaces as the "less capable" access
> > to
> > the functionality, and release 3.0, only when the functionality exposed
> > by the interfaces exceeds that of the current class implementations.
> > Along the way, I suspect we'll find we can start to deprecate and
> > eventually "hide" (package level protect) current exposed
> > implementation
> > classes, especially where the interfaces start to supplant them.
> >
> > Just throwing out my thoughts.
> >
> > -Eric.
> >
> > Michael Becke wrote:
> >
> >> I think we are quite ready for a beta2/rc1.  I agree that there have
> >> been few new bugs lately but I would still like to see a beta2, just
> >> to be sure.
> >>
> >> As part of beta2/rc1 we were planning to branch out 2.0.  Before we do
> >> this though I think we should have a better idea of what we want in
> >> post 2.0.  In particular I think we should brainstorm about features
> >> we would like and then decide if they will fit in 2.1 or 3.0.
> >>
> >> Mike
> >>
> >> On Thursday, June 26, 2003, at 01:10 AM, Jandalf wrote:
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > commons-httpclient-dev-help@jakarta.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > commons-httpclient-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > commons-httpclient-dev-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From anonymous@nagoya.betaversion.org  Sun Jun 29 22:07:57 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 68379 invoked from network); 29 Jun 2003 22:07:57 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 29 Jun 2003 22:07:57 -0000
Received: (qmail 13816 invoked by uid 50); 29 Jun 2003 22:10:26 -0000
Date: 29 Jun 2003 22:10:26 -0000
Message-ID: <20030629221026.13815.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21130]  -
    Make MultiThreadedHttpConnectionManager defaults public statics.
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21130>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21130

Make MultiThreadedHttpConnectionManager defaults public statics.

becke@u.washington.edu changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|NEW                         |RESOLVED
         Resolution|                            |FIXED

From becke@u.washington.edu  Sun Jun 29 22:14:50 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 70908 invoked from network); 29 Jun 2003 22:14:50 -0000
Received: from mxout2.cac.washington.edu (140.142.33.4)
  by daedalus.apache.org with SMTP; 29 Jun 2003 22:14:50 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout2.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5TMEuo0015642
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 29 Jun 2003 15:14:56 -0700
Received: from u.washington.edu (pool-129-44-182-171.bos.east.verizon.net [129.44.182.171])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5TMEs49018807
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 29 Jun 2003 15:14:55 -0700
Date: Sun, 29 Jun 2003 18:14:52 -0400
Subject: Re: 2.0 release - looking to the future
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1056923113.7691.10.camel@kczrh-okt22.corp.bearingpoint.com>
Message-Id: <1B673B33-AA7F-11D7-878D-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Sunday, June 29, 2003, at 05:45 PM, Oleg Kalnichevski wrote:

> Mike,
> It does sound like a good idea to me, but could not it wait until 3.0,
> as it does seem to be exactly what Eric has been proposing as a
> "framework of interfaces"?

It might fall within the "framework of interfaces" idea.  My impression
was that this dealt more with HttpMethods/responses though.  The idea
here would be to move some of the current connection code to something
more pluggable.


> Are there any pressing reasons for having it
> done within 2.1 release? Would it be a bit too much of a change?

Nothing terribly pressing.  I certainly do not think this is as urgent
as some of our other problems. The only case I can see for 2.1 would be
for the HttpConnectionFactory and in particular the pluggable isStale()
functionality.  This came up a few months ago in regard to JSSE in pre
1.4 JVMs.  The problem being that they are always stale using our
current method of buffered reading from an open connection.

In general we may want to rework the whole HttpConnection design for
3.0 which may point to waiting.  Let's leave this a little vague for
now.  We can make a final decision when we vote on what to include in
2.1.

Mike



From olegk@apache.org  Sun Jun 29 22:28:50 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 80868 invoked from network); 29 Jun 2003 22:28:50 -0000
Received: from mail3.bluewin.ch (195.186.1.75)
  by daedalus.apache.org with SMTP; 29 Jun 2003 22:28:50 -0000
Received: from olddude.tislab.ch (62.202.45.243) by mail3.bluewin.ch (Bluewin AG 7.0.016)
        id 3EFC02250003BD4C for commons-httpclient-dev@jakarta.apache.org; Sun, 29 Jun 2003 22:28:55 +0000
Subject: Re: 2.0 release - looking to the future
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <1B673B33-AA7F-11D7-878D-00306557E112@u.washington.edu>
References: <1B673B33-AA7F-11D7-878D-00306557E112@u.washington.edu>
Content-Type: text/plain
Message-Id: <1056925722.7691.19.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 30 Jun 2003 00:28:42 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sounds like a plan.

BTW, I think we should release current CVS snapshot as BETA-2. If my
memory does not fail me, we have not had a single new 'confirmed' bug
for over two weeks or even more. I suggest we call it a release.

I am off to bed. Talk to you tomorrow

Oleg


On Mon, 2003-06-30 at 00:14, Michael Becke wrote:
> On Sunday, June 29, 2003, at 05:45 PM, Oleg Kalnichevski wrote:
>
> > Mike,
> > It does sound like a good idea to me, but could not it wait until 3.0,
> > as it does seem to be exactly what Eric has been proposing as a
> > "framework of interfaces"?
>
> It might fall within the "framework of interfaces" idea.  My impression
> was that this dealt more with HttpMethods/responses though.  The idea
> here would be to move some of the current connection code to something
> more pluggable.
>
>
> > Are there any pressing reasons for having it
> > done within 2.1 release? Would it be a bit too much of a change?
>
> Nothing terribly pressing.  I certainly do not think this is as urgent
> as some of our other problems. The only case I can see for 2.1 would be
> for the HttpConnectionFactory and in particular the pluggable isStale()
> functionality.  This came up a few months ago in regard to JSSE in pre
> 1.4 JVMs.  The problem being that they are always stale using our
> current method of buffered reading from an open connection.
>
> In general we may want to rework the whole HttpConnection design for
> 3.0 which may point to waiting.  Let's leave this a little vague for
> now.  We can make a final decision when we vote on what to include in
> 2.1.
>
> Mike
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Sun Jun 29 22:48:53 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 91234 invoked from network); 29 Jun 2003 22:48:53 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 29 Jun 2003 22:48:53 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5TMn05c022556
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 29 Jun 2003 15:49:00 -0700
Received: from u.washington.edu (pool-129-44-182-171.bos.east.verizon.net [129.44.182.171])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5TMmw49019403
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 29 Jun 2003 15:48:59 -0700
Date: Sun, 29 Jun 2003 18:48:57 -0400
Subject: Re: 2.0 release - looking to the future
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1056925722.7691.19.camel@kczrh-okt22.corp.bearingpoint.com>
Message-Id: <DDDA59C9-AA83-11D7-878D-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Agreed.  I will call for a beta-2 release shortly.

Mike

On Sunday, June 29, 2003, at 06:28 PM, Oleg Kalnichevski wrote:

> Sounds like a plan.
>
> BTW, I think we should release current CVS snapshot as BETA-2. If my
> memory does not fail me, we have not had a single new 'confirmed' bug
> for over two weeks or even more. I suggest we call it a release.
>
> I am off to bed. Talk to you tomorrow
>
> Oleg
>
>
> On Mon, 2003-06-30 at 00:14, Michael Becke wrote:
>> On Sunday, June 29, 2003, at 05:45 PM, Oleg Kalnichevski wrote:
>>
>>> Mike,
>>> It does sound like a good idea to me, but could not it wait until
>>> 3.0,
>>> as it does seem to be exactly what Eric has been proposing as a
>>> "framework of interfaces"?
>>
>> It might fall within the "framework of interfaces" idea.  My
>> impression
>> was that this dealt more with HttpMethods/responses though.  The idea
>> here would be to move some of the current connection code to something
>> more pluggable.
>>
>>
>>> Are there any pressing reasons for having it
>>> done within 2.1 release? Would it be a bit too much of a change?
>>
>> Nothing terribly pressing.  I certainly do not think this is as urgent
>> as some of our other problems. The only case I can see for 2.1 would
>> be
>> for the HttpConnectionFactory and in particular the pluggable
>> isStale()
>> functionality.  This came up a few months ago in regard to JSSE in pre
>> 1.4 JVMs.  The problem being that they are always stale using our
>> current method of buffered reading from an open connection.
>>
>> In general we may want to rework the whole HttpConnection design for
>> 3.0 which may point to waiting.  Let's leave this a little vague for
>> now.  We can make a final decision when we vote on what to include in
>> 2.1.
>>
>> Mike
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> commons-httpclient-dev-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> commons-httpclient-dev-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From becke@u.washington.edu  Sun Jun 29 22:54:52 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 95666 invoked from network); 29 Jun 2003 22:54:52 -0000
Received: from mxout1.cac.washington.edu (140.142.32.134)
  by daedalus.apache.org with SMTP; 29 Jun 2003 22:54:52 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout1.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5TMsx5c022781
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 29 Jun 2003 15:54:59 -0700
Received: from u.washington.edu (pool-129-44-182-171.bos.east.verizon.net [129.44.182.171])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5TMsv49019510
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 29 Jun 2003 15:54:58 -0700
Date: Sun, 29 Jun 2003 18:54:56 -0400
Subject: [VOTE] 2.0 beta2 release
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <1056925722.7691.19.camel@kczrh-okt22.corp.bearingpoint.com>
Message-Id: <B40374D6-AA84-11D7-878D-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I propose that we mark the latest code in CVS as beta2 and proceed with
a release.  Please vote as follows:

------------------------------------------------------------------------
--
  Vote:  HttpClient 2.0 beta 2 release
  [] +1 I am in favor of the release, and will help support it.
  [ ] +0 I am in favor of the release, but am unable to help support it.
  [ ] -0 I am not in favor of the release.
  [ ] -1 I am against this proposal (must include a reason).

------------------------------------------------------------------------
--

Mike


From becke@u.washington.edu  Sun Jun 29 22:55:50 2003
Return-Path: <becke@u.washington.edu>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 96093 invoked from network); 29 Jun 2003 22:55:50 -0000
Received: from mxout4.cac.washington.edu (140.142.33.19)
  by daedalus.apache.org with SMTP; 29 Jun 2003 22:55:50 -0000
Received: from smtp.washington.edu (smtp.washington.edu [140.142.32.139])
	by mxout4.cac.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5TMtu2Z020905
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 29 Jun 2003 15:55:57 -0700
Received: from u.washington.edu (pool-129-44-182-171.bos.east.verizon.net [129.44.182.171])
	(authenticated bits=0)
	by smtp.washington.edu (8.12.9+UW03.06/8.12.9+UW03.06) with ESMTP id h5TMtt49019528
	(version=TLSv1/SSLv3 cipher=DES-CBC3-SHA bits=168 verify=NOT)
	for <commons-httpclient-dev@jakarta.apache.org>; Sun, 29 Jun 2003 15:55:56 -0700
Date: Sun, 29 Jun 2003 18:55:53 -0400
Subject: Re: [VOTE] 2.0 beta2 release
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Michael Becke <becke@u.washington.edu>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <B40374D6-AA84-11D7-878D-00306557E112@u.washington.edu>
Message-Id: <D6552AB0-AA84-11D7-878D-00306557E112@u.washington.edu>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

+1 for me.

Mike

On Sunday, June 29, 2003, at 06:54 PM, Michael Becke wrote:

> I propose that we mark the latest code in CVS as beta2 and proceed
> with a release.  Please vote as follows:
>
> -----------------------------------------------------------------------
> ---
>  Vote:  HttpClient 2.0 beta 2 release
>  [ ] +1 I am in favor of the release, and will help support it.
>  [ ] +0 I am in favor of the release, but am unable to help support it.
>  [ ] -0 I am not in favor of the release.
>  [ ] -1 I am against this proposal (must include a reason).
>
> -----------------------------------------------------------------------
> ---
>
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From adrian@intencha.com  Sun Jun 29 23:19:42 2003
Return-Path: <adrian@intencha.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 8823 invoked from network); 29 Jun 2003 23:19:42 -0000
Received: from mail2.nshosts.com (216.58.174.136)
  by daedalus.apache.org with SMTP; 29 Jun 2003 23:19:42 -0000
Received: from intencha.com (unverified [202.138.204.102]) by mail2.nshosts.com
 (Vircom SMTPRS 5.3.232) with ESMTP id <B0056716141@mail2.nshosts.com> for <commons-httpclient-dev@jakarta.apache.org>;
 Sun, 29 Jun 2003 17:16:41 -0600
Date: Mon, 30 Jun 2003 09:16:57 +1000
Subject: Re: [VOTE] 2.0 beta2 release
Content-Type: text/plain; delsp=yes; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v552)
From: Adrian Sutton <adrian@intencha.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <B40374D6-AA84-11D7-878D-00306557E112@u.washington.edu>
Message-Id: <C75E0753-AA87-11D7-8A22-000393016056@intencha.com>
X-Mailer: Apple Mail (2.552)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

+1

On Monday, June 30, 2003, at 08:54  AM, Michael Becke wrote:

> I propose that we mark the latest code in CVS as beta2 and proceed
> with a release.  Please vote as follows:
>
> -----------------------------------------------------------------------
> ---
>  Vote:  HttpClient 2.0 beta 2 release
>  [] +1 I am in favor of the release, and will help support it.
>  [ ] +0 I am in favor of the release, but am unable to help support it.
>  [ ] -0 I am not in favor of the release.
>  [ ] -1 I am against this proposal (must include a reason).
>
> -----------------------------------------------------------------------
> ---
>
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>


From olegk@apache.org  Mon Jun 30 05:56:15 2003
Return-Path: <olegk@apache.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 72806 invoked from network); 30 Jun 2003 05:56:15 -0000
Received: from mail4.bluewin.ch (195.186.4.74)
  by daedalus.apache.org with SMTP; 30 Jun 2003 05:56:15 -0000
Received: from olddude.tislab.ch (81.62.176.134) by mail4.bluewin.ch (Bluewin AG 7.0.016)
        id 3EFC02CC0003BC92 for commons-httpclient-dev@jakarta.apache.org; Mon, 30 Jun 2003 05:56:25 +0000
Subject: Re: [VOTE] 2.0 beta2 release
From: Oleg Kalnichevski <olegk@apache.org>
Reply-To: olegk@apache.org
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
In-Reply-To: <B40374D6-AA84-11D7-878D-00306557E112@u.washington.edu>
References: <B40374D6-AA84-11D7-878D-00306557E112@u.washington.edu>
Content-Type: text/plain
Message-Id: <1056952569.7691.21.camel@kczrh-okt22.corp.bearingpoint.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.0
Date: 30 Jun 2003 07:56:09 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

+1

On Mon, 2003-06-30 at 00:54, Michael Becke wrote:
> I propose that we mark the latest code in CVS as beta2 and proceed with
> a release.  Please vote as follows:
>
> ------------------------------------------------------------------------
> --
>   Vote:  HttpClient 2.0 beta 2 release
>   [] +1 I am in favor of the release, and will help support it.
>   [ ] +0 I am in favor of the release, but am unable to help support it.
>   [ ] -0 I am not in favor of the release.
>   [ ] -1 I am against this proposal (must include a reason).
>
> ------------------------------------------------------------------------
> --
>
> Mike
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: commons-httpclient-dev-help@jakarta.apache.org
>


From oleg.kalnichevski@bearingpoint.com  Mon Jun 30 13:48:43 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 21129 invoked from network); 30 Jun 2003 13:48:43 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 30 Jun 2003 13:48:43 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 30 Jun 2003 13:50:37 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C33F0E.5097D288"
Subject: [PROPOSAL] 2.1 release plan
Date: Mon, 30 Jun 2003 14:48:41 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE596@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
Thread-Topic: [PROPOSAL] Release plan 2.1
Thread-Index: AcM/DPyYGHWSk4bMQlyfqhGI8c2p2Q==
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 30 Jun 2003 13:50:37.0656 (UTC) FILETIME=[96150D80:01C33F0E]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33F0E.5097D288
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

All,
I have taken the liberty of compiling a draft 2.1 release plan that =
incorporates various ideas tossed around recently (special thanks go to =
Eric Johnson). I feel we ought to clearly articulate our short- to =
mid-term development plans before 2.0 goes RC1.=20

Comments, ideas, critique welcome=20

Cheers

Oleg




------_=_NextPart_001_01C33F0E.5097D288
Content-Type: text/plain;
	name="RELEASE_PLAN_2_1.txt"
Content-Transfer-Encoding: base64
Content-Description: RELEASE_PLAN_2_1.txt
Content-Disposition: attachment;
	filename="RELEASE_PLAN_2_1.txt"

JElkJAoKUmVsZWFzZSBQbGFuIGZvciBIdHRwQ2xpZW50IDIuMQotLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQWRtaW5pc3RyaXZpYToKClRoaXMgZG9jdW1lbnQgZGVz
Y3JpYmVzIGEgcGxhbiBmb3IgYSAyLjEgcmVsZWFzZSBvZiB0aGUKSmFrYXJ0YS1Db21tb25zIEh0
dHBDbGllbnQgY29tcG9uZW50IChmb3IgdGhlIHJlbWFpbmRlcgpvZiB0aGlzIGRvY3VtZW50LCBz
aW1wbHkgIkh0dHBDbGllbnQiKS4gIFBlciB0aGUKSmFrYXJ0YS9BU0YgZ3VpZGVsaW5lcwooaHR0
cDovL2pha2FydGEuYXBhY2hlLm9yZy9zaXRlL2RlY2lzaW9ucy5odG1sKSwgdGhpcwpkb2N1bWVu
dCBkb2Vzbid0IG1lYW4gYW55dGhpbmcgdW50aWwgYWNjZXB0ZWQgYnkgdGhlCnJlbGV2YW50IGNv
bW1pdHRlciBjb21tdW5pdHkgdmlhIGEgbGF6eSBtYWpvcml0eSB2b3RlCihoZXJlYWZ0ZXIsIHNp
bXBseSAibGF6eSBtYWpvcml0eSIpLiAgT25jZSBhY2NlcHRlZCwgaXQgbWF5CmJlIHJlcGxhY2Vk
IGJ5IGFuIGFsdGVybmF0aXZlIHBsYW4sIGFnYWluIHN1YmplY3QgdG8gbGF6eQptYWpvcml0eSBh
cHByb3ZhbC4KCk5vbi1iaW5kaW5nIHZvdGVzICh2b3RlcyBjYXN0IGJ5IHRob3NlIG91dHNpZGUg
dGhlIHJlbGV2YW50CmNvbW1pdHRlciBjb21tdW5pdHkpIGFyZSB3ZWxjb21lLCBidXQgb25seSBi
aW5kaW5nIHZvdGVzCmFyZSBzaWduaWZpY2FudCBmb3IgZGVjaXNpb24gbWFraW5nIHB1cnBvc2Vz
LgoKT2JqZWN0aXZlOgoKVGhlIG9iamVjdGl2ZSBvZiB0aGUgMi4xIHJlbGVhc2Ugb2YgSHR0cENs
aWVudCBpcyB0byBidWlsZCB1cG9uIAp0aGUgZm91bmRhdGlvbiBsYWlkIHdpdGggdGhlIHByZXZp
b3VzIHJlbGVhc2Ugd2hpbGUgYWRkcmVzc2luZyAKdGhvc2UgIGFyY2hpdGVjdHVyYWwgc2hvcnRj
b21pbmdzIGFuZCBmbGF3cyBpZGVudGlmaWVkIGR1cmluZyAyLjAgCmRldmVsb3BtZW50IHByb2Nl
c3MuIFNldmVyYWwgd2VsbCBrbm93biBhbmQgbXVjaCBjb21wbGFpbmVkIGFib3V0IApwcm9ibGVt
cyBjb3VsZCBub3QgYmUgcmVzb2x2ZWQgd2l0aG91dCBzYWNyaWZpY2luZyBBUEkgc3RhYmlsaXR5
LiAKVGhlIHByaW1hcnkgbW90aXZhdGlvbiBiZWhpbmQgdGhlIDIuMSBpcyB0byBmaXggdGhvc2Ug
ZGVzaWduIApsaW1pdGF0aW9ucywgYnJlYWtpbmcgMi4wIEFQSSBjb21wYXRpYmlsaXR5IHdoZXJl
IGFic29sdXRlbHkgCnVuYXZvaWRhYmxlLCB3aGlsZSBwcmVzZXJ2aW5nIG92ZXJhbGwgY29tcGF0
aWJpbGl0eSB3aXRoIDIuMAp1c2UgcGF0dGVybnMuICAKClBsYW5uZWQgZml4ZXMgYW5kIG1vZGlm
aWNhdGlvbnM6CgogMS4gQmV0dGVyIGV4Y2VwdGlvbiBoYW5kbGluZyBmcmFtZXdvcmsgKEJ1ZyAj
MTk4NjgpLgoKIDIuIENyb3NzLXNpdGUgcmVkaXJlY3QgZml4LiBBdXRoZW50aWNhdGlvbiwgcmVk
aXJlY3QgJiByZXRyeSBsb2dpYwogICAgdG8gYmUgbW92ZWQgZnJvbSBIdHRwTWV0aG9kQmFzZSB0
byBIdHRwQ2xpZW50IChCdWcgIzIwMDg5LAogICAgIzE2NzI5KS4KCiAzLiBOZXcgY29uZmlndXJh
dGlvbiBhcmNoaXRlY3R1cmUgdGhhdCBpbmNsdWRlcyBwbHVnLWluIG1lY2hhbmlzbSAKICAgIGZv
ciBjb29raWUgcG9saWNpZXMgJiBhdXRoZW50aWNhdGlvbiBzY2hlbWVzIChCdWcgIzE1NDM1LCAK
ICAgICMxMDc5MCwgIzEwNzkwLCAjMTUyOTcsICMyMTE1MSkuCgogNC4gTW9yZSByZWxpYWJsZSBo
ZWFkZXIgcGFyc2VyIChCdWcgIzExMjQwKS4KCiA1LiBBYmlsaXR5IHRvIGFib3J0IHJlcXVlc3Rz
IChCdWcgIzIwMjg4KS4KCiA2LiBBIGJldHRlciB0ZXN0IGZyYW1ld29yayB0aGFuIFNpbXBsZUh0
dHBDb25uZWN0aW9uTWFuYWdlciwgdGhhdCAKICAgIGFsbG93cyB0byBtb3JlIGNsb3NlbHkgbWlt
aWMgcmVhbCAgSHR0cENvbm5lY3Rpb24gYmVoYXZpb3IsIAogICAgdGh1cyBlbmFibGluZyBtb3Jl
IHRlc3RzIHdpdGhvdXQgYWN0dWFsbHkgcmVxdWlyaW5nIGEgcmVhbCAKICAgIGNvbm5lY3Rpb24u
IAoKIDcuIERlY2lzaW9uIG9uIG5ldyBleHRlcm5hbCBkZXBlbmRlbmNpZXM6IGNvbW1vbnMtbGFu
ZywgY29tbW9ucy1jb2RlYwogICAgKEJ1ZyAjMTY4ODEpCgogOC4gUmVtb3ZhbCBvZiBmdW5jdGlv
bnMgJiBjbGFzc2VzIGRlcHJlY2F0ZWQgaW4gMi4wCgoKUmVsZWFzZSBNYW5hZ2VyOgoKICBKZWZm
ICJKYW5kYWxmIiBEZXZlciAoU3RhcnRpbmcgSnVseSAzMSwgMjAwMikKCgpWb3Rpbmc6CiA8LS0t
LSBQbGVhc2UgcmV0dXJuIHRoaXMgcG9ydGlvbiB3aXRoIHlvdXIgdm90ZSAtLS0tPgpbIF0gKzEg
ICAgSSBhbSBpbiBmYXZvciBvZiB0aGlzIHBsYW4gYW5kIEkgd2lsbCBoZWxwClsgXSArMCAgICBJ
IGFtIGluIGZhdm9yIG9mIHRoaXMgcGxhbiwgYnV0IEkgYW0gdW5hYmxlIHRvIGhlbHAKWyBdIC0w
ICAgIEkgYW0gbm90IGluIGZhdm9yIG9mIHRoaXMgcGxhbgpbIF0gLTEgICAgSSBhbSBvcHBvc2Vk
IHRvIHRoaXMgcGxhbiBiZWluZyBleGVjdXRlZCwgYW5kIG15IHJlYXNvbiBpczoKIDwtLS0tIC9Q
bGVhc2UgcmV0dXJuIHRoaXMgcG9ydGlvbiB3aXRoIHlvdXIgdm90ZSAtLS0tPgoKIApGZWF0dXJl
L0ZhdWx0IFRyYWNraW5nOgoKQnVnWmlsbGEgd2lsbCBiZSB0aGUgbWVjaGFuaXNtIGZvciB0cmFj
a2luZyBmZWF0dXJlcyBhbmQgZmF1bHRzCihpZTogYnVncykuICBXaGVuIHRoZSBuZXcgU2NhcmFi
IHN5c3RlbSBiZWNvbWVzIGF2YWlsYWJsZSwgU2NhcmFiCndpbGwgcmVwbGFjZSBCdWdaaWxsYSBp
biB0aGlzIHJvbGUuCgpNaWxlc3RvbmUgZGV2ZWxvcG1lbnQgd2lsbCBiZWdpbiBpbW1lZGlhdGVs
eSBvbiBhcHByb3ZhbApvZiB0aGlzIHJlbGVhc2UgcGxhbi4gIEFsbCByZXBvc2l0b3J5IGNoYW5n
ZXMgdGhhdCBhcmUgbm9uLXRyaXZpYWwgCndpbGwgcmVxdWlyZSBhIGJ1Z3ppbGxhIGJ1ZyBvciBm
ZWF0dXJlIGVuaGFuY2VtZW50IHJlcXVlc3QuCkl0IHdpbGwgYmUgdGhlIHJlc3BvbnNpYmlsaXR5
IG9mIHRoZSByZWxlYXNlIG1hbmFnZXIgdG8gY2F0ZWdvcml6ZQpidWdzL2ZlYXR1cmVzIGludG8g
cmVsZWFzZSB2ZXJzaW9ucywgYnV0IHdpbGwgYWx3YXlzIHJlbWFpbgpzdWJqZWN0IHRvIHRoZSB3
aWxsIG9mIHRoZSBtYWpvcml0eS4gIEluIG9yZGVyIHRvIGRlY2xhcmUgdGhhdCBhCnJlbGVhc2Ug
aGFzIGJlZW4gcmVhY2hlZCwgYWxsIGJ1Z3MvZmVhdHVyZXMgY2F0ZWdvcml6ZWQgaW50byAKdGhh
dCB0YXJnZXQgcmVsZWFzZSBtdXN0IGJlIGNvbXBsZXRlZCBhbmQgYSB2b3RlIG11c3QgcGFzcyAK
c3ViamVjdCB0byBsYXp5IGFwcHJvdmFsLgoKVGhlIGZvbGxvd2luZyBwcm9jZWR1cmUgd2lsbCBi
ZSBmb2xsb3dlZDoKMSkgQWxsIGNoYW5nZXMgbXVzdCBiZSBtb3RpdmF0ZWQgYnkgYSBidWd6aWxs
YSBjaGFuZ2UgcmVxdWVzdC4KMikgUGF0Y2hlcyBjb25zdHJ1Y3RlZCBhY2NvcmRpbmcgdG8gc3Rh
bmRhcmQgcHJhY3RpY2Ugc2hvdWxkIGJlIAphdHRhY2hlZCB0byB0aGUgcmVsZXZhbnQgQnVnWmls
bGEgYnVnLgozKSBBIGNvbW1pdHRlciBjYW4gdGhlbiBjb21taXQgdGhlIHBhdGNoIHRvIHRoZSBy
ZXBvc2l0b3J5LgoKCk1pbGVzdG9uZSBEZXZlbG9wbWVudCBQaGFzZXM6CgoyLjEgQWxwaGEgZGV2
ZWxvcG1lbnQKRGVzaWduYXRpb25zOiAyLjFBMSwgMi4xQTIKRHVyaW5nIHRoZSBwcmV2aW91cyBw
ZXJpb2Qgb2YgZGV2ZWxvcG1lbnQsIG1hbnkgbmV3IGZlYXR1cmVzCndlcmUgYWRkZWQsIGRlcGVu
ZGVuY2llcyB3ZXJlIGNoYW5nZXMsIGludGVyZmFjZXMgd2VyZSBpbXBhY3RlZC4KRHVyaW5nIE1p
bGVzdG9uZSBkZXZlbG9wbWVudCwgdGhlIG5hdHVyZSBvZiB0aGUgY2hhbmdlcyB3aWxsCmZvY3Vz
IG9uOgphKSBpbnRlcmZhY2UgY2hhbmdlcwpiKSBmdW5jdGlvbmFsaXR5IGFkZGl0aW9ucwpjKSBm
YXVsdCBmaXhpbmcKCjIuMCBCZXRhIGRldmVsb3BtZW50CkRlc2lnbmF0aW9uczogMi4xQjEsIDIu
MUIyCkRldmVsb3BtZW50IHdpbGwgYmUgZm9jdXNlZCBvbiBxdWFsaXR5IGFuZCBzdGFiaWxpdHku
ICBObyBuZXcKbWFqb3IgZmVhdHVyZXMgd2lsbCBiZSBhZGRlZCwgd2l0aCB0aGUgZm9sbG93aW5n
IGNoYW5nZSB0eXBlcwpiZWluZyB0aGUgbW9zdCBwcmVsZXZlbnQ6CmEpIGZpeCBmYXVsdHMgd2l0
aCBhY2NvbXBhbnlpbmcgdGVzdCBjYXNlcwpiKSBhZGRpdGlvbmFsIHRlc3QgY2FzZXMgdG8gaW1w
cm92ZSBmdW5jdGlvbmFsaXR5CmMpIGltcHJvdmUgZG9jdW1lbnRhdGlvbgoKMi4wIFJlbGVhc2Ug
ZGV2ZWxvcG1lbnQKRGVzaWduYXRpb25zOiAyLjFSQzEsIDIuMVJDMiwgMi4xCldoZW4gYWxsIGZl
YXR1cmVzIGFyZSBjb21wbGV0ZSBhbmQgYWxsIHJlcG9ydGVkIGJ1Z3MgaGF2ZSBiZWVuIGZpeGVk
LAphIHJlbGVhc2UgY2FuZGlkYXRlIChSQykgYnVpbGQgd2lsbCBiZSByZWxlYXNlZC4gIEFueSBy
ZXBvcnRlZCBidWdzCnRoYXQgYXJlIHRhcmdldGVkIGZvciB0aGUgMi4xIHJlbGVhc2Ugd2lsbCBi
ZSBmaXhlZCBhbmQgYSBuZXcgUkMKYnVpbGQgd2lsbCBiZSByZWxlYXNlZC4gIEFmdGVyIGEgd2Vl
ayBvZiBubyBjaGFuZ2VzLCB0aGUgbGFzdCBSQwpidWlsZCB3aWxsIGJlY29tZSB0aGUgMi4xIHJl
bGVhc2Ugd2l0aCB0aGUgZm9sbG93aW5nIGNoYW5nZXMgb25seToKcmVsZWFzZSB2ZXJzaW9uLCBh
c2lkZSBmcm9tOgphKSBjaGFuZ2UgdGhlIHJlbGVhc2UgdGFnIGluIHRoZSBidWlsZC54bWwvcHJv
amVjdC54bWwKYikgdXBkYXRlIHRoZSBzaXRlIGRvY3VtZW50YXRpb24gdG8gaW5kaWNhdGUgdGhh
dCB0aGVyZSBpcyBhIHJlbGVhc2UKClBvc3QgMi4xIFJlbGVhc2UgZGV2ZWxvcG1lbnQKRGVzaWdu
YXRpb25zOiAzLjAueApGb2xsb3dpbmcgdGhlIHJlbGVhc2UsIG9ubHkgQnVnemlsbGEgdHJhY2tl
ZCBidWdzIHdpdGggYXR0YWNoZWQKcGF0Y2hlcyB3aWxsIGJlIGNvbW1pdHRlZCB0byB0aGUgcmVw
b3NpdG9yeS4gIFRoZXNlIHBhdGNoZXMgbXVzdApvbmx5OgphKSBmaXggZmF1bHRzIHdpdGggYWNj
b21wYW55aW5nIHRlc3QgY2FzZShzKQpiKSBpbXByb3ZlIGRvY3VtZW50YXRpb24K

------_=_NextPart_001_01C33F0E.5097D288--

From george.gastaldi@neogrid.com.br  Mon Jun 30 14:43:49 2003
Return-Path: <george.gastaldi@neogrid.com.br>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 99235 invoked from network); 30 Jun 2003 14:43:49 -0000
Received: from corvina.neogrid.com.br (HELO dourado.neogrid.com.br) (200.180.73.66)
  by daedalus.apache.org with SMTP; 30 Jun 2003 14:43:49 -0000
Received: by dourado.neogrid.com.br with Internet Mail Service (5.5.2653.19)
	id <N9DS8PAH>; Mon, 30 Jun 2003 11:48:16 -0300
Message-ID: <1DF6E2D62721D14B8866786D862BE0DB014446D3@dourado.neogrid.com.br>
From: George Gastaldi <george.gastaldi@neogrid.com.br>
To: Commons HttpClient Project <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: Continue - 100
Date: Mon, 30 Jun 2003 11:48:07 -0300
Importance: high
X-Priority: 1
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C33F16.9E760170"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33F16.9E760170
Content-Type: text/plain;
	charset="windows-1252"

Hi !

	I am already using the BETA-1 and the 100-continue error continues.
What should I do ?

Thanks

-----Original Message-----
From: Kalnichevski, Oleg [mailto:oleg.kalnichevski@bearingpoint.com]
Sent: Friday, June 27, 2003 11:36 AM
To: Commons HttpClient Project
Subject: RE: Continue - 100


Upgrade to BETA-1 or current CVS snapshot. I suppose you are using on of the
ALPHA releases, as since BETA-1 HttpClient never returns 100 (continue)
status code to the caller.

http://jakarta.apache.org/commons/httpclient/downloads.html

Cheers

Oleg


-----Original Message-----
From:	George Gastaldi [mailto:george.gastaldi@neogrid.com.br]
Sent:	Fri 6/27/2003 16:35
To:	Commons HttpClient Project (E-mail)
Cc:
Subject:	Continue - 100
Hello Everybody !

	I have a problem regarding HTTPClient when I do a POST. In some
situations, the code returned is 100 - Continue.
What should I do ? I don't know what to do.

    byte[] message = ...;
    HttpClient hc = new HttpClient();
    PostMethod pm = new PostMethod('"...url... ");
    hc.getHostConfiguration().setProxy("proxyHost",123);
    Credentials cr = new UsernamePasswordCredentials("xx","xx");
     hc.getState().setProxyCredentials(null,cr);
     pm.setDoAuthentication(true);
     pm.setRequestHeader("Cache-Control","no-store"); //HTTP 1.1
     pm.setRequestHeader("Pragma","no-cache"); //HTTP 1.0
     pm.setRequestHeader("Content-type","text/xml");

      pm.setRequestBody(new ByteArrayInputStream(message));
      // Must set length to -1 to use Chunked. (BUG when content-length is
0).
      int len = (message.length == 0) ? -1 : message.length;
      pm.setRequestContentLength(len);
      int rc = hc.executeMethod(pm);
      // The rc == 100
      if (rc == 200) {
        contents = pm.getResponseBody();
      }






------_=_NextPart_001_01C33F16.9E760170--

From oleg.kalnichevski@bearingpoint.com  Mon Jun 30 14:52:59 2003
Return-Path: <oleg.kalnichevski@bearingpoint.com>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 7938 invoked from network); 30 Jun 2003 14:52:59 -0000
Received: from mail.bearingpoint.com (HELO KCCXOEX10.corp.kpmgconsulting.com) (57.80.136.22)
  by daedalus.apache.org with SMTP; 30 Jun 2003 14:52:59 -0000
Received: from kccxoex06.corp.kpmgconsulting.com ([10.98.3.31]) by KCCXOEX10.corp.kpmgconsulting.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 30 Jun 2003 14:54:54 +0000
x-mimeole: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C33F17.4C85A7F2"
Subject: RE: Continue - 100
Date: Mon, 30 Jun 2003 15:52:59 +0100
Message-ID: <825BF35A92B3F0479CC164ECBBE9376E0DE597@kccxoex06.corp.kpmgconsulting.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator: <825BF35A92B3F0479CC164ECBBE9376E0DE597@kccxoex06.corp.kpmgconsulting.com>
Thread-Topic: Continue - 100
Thread-Index: AcM/Fgi4C2155lH/SlmlY/++9NwtmwAACuuC
From: "Kalnichevski, Oleg" <oleg.kalnichevski@bearingpoint.com>
To: "Commons HttpClient Project" <commons-httpclient-dev@jakarta.apache.org>
X-OriginalArrivalTime: 30 Jun 2003 14:54:54.0390 (UTC) FILETIME=[90DFF560:01C33F17]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C33F17.4C85A7F2
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Please follow the logging guide below and produce the wire log of the =
HTTP session that exhibits the problem.=20

http://jakarta.apache.org/commons/httpclient/logging.html

Oleg


-----Original Message-----
From:	George Gastaldi [mailto:george.gastaldi@neogrid.com.br]
Sent:	Mon 6/30/2003 16:48
To:	Commons HttpClient Project
Cc:=09
Subject:	RE: Continue - 100
Hi !

	I am already using the BETA-1 and the 100-continue error continues.
What should I do ?

Thanks=20

-----Original Message-----
From: Kalnichevski, Oleg [mailto:oleg.kalnichevski@bearingpoint.com]
Sent: Friday, June 27, 2003 11:36 AM
To: Commons HttpClient Project
Subject: RE: Continue - 100


Upgrade to BETA-1 or current CVS snapshot. I suppose you are using on of =
the
ALPHA releases, as since BETA-1 HttpClient never returns 100 (continue)
status code to the caller.

http://jakarta.apache.org/commons/httpclient/downloads.html

Cheers

Oleg


-----Original Message-----
From:	George Gastaldi [mailto:george.gastaldi@neogrid.com.br]
Sent:	Fri 6/27/2003 16:35
To:	Commons HttpClient Project (E-mail)
Cc:=09
Subject:	Continue - 100
Hello Everybody !

	I have a problem regarding HTTPClient when I do a POST. In some
situations, the code returned is 100 - Continue.=20
What should I do ? I don't know what to do.=20

    byte[] message =3D ...;
    HttpClient hc =3D new HttpClient();
    PostMethod pm =3D new PostMethod('"...url... ");
    hc.getHostConfiguration().setProxy("proxyHost",123);
    Credentials cr =3D new UsernamePasswordCredentials("xx","xx");
     hc.getState().setProxyCredentials(null,cr);
     pm.setDoAuthentication(true);
     pm.setRequestHeader("Cache-Control","no-store"); //HTTP 1.1
     pm.setRequestHeader("Pragma","no-cache"); //HTTP 1.0
     pm.setRequestHeader("Content-type","text/xml");
    =20
      pm.setRequestBody(new ByteArrayInputStream(message));
      // Must set length to -1 to use Chunked. (BUG when content-length =
is
0).
      int len =3D (message.length =3D=3D 0) ? -1 : message.length;
      pm.setRequestContentLength(len);
      int rc =3D hc.executeMethod(pm);
      // The rc =3D=3D 100
      if (rc =3D=3D 200) {
        contents =3D pm.getResponseBody();
      }
=09








------_=_NextPart_001_01C33F17.4C85A7F2--

From ross_r@bellsouth.net  Mon Jun 30 17:37:35 2003
Return-Path: <ross_r@bellsouth.net>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 80320 invoked from network); 30 Jun 2003 17:37:35 -0000
Received: from imf20aec.mail.bellsouth.net (HELO imf20aec.bellsouth.net) (205.152.59.68)
  by daedalus.apache.org with SMTP; 30 Jun 2003 17:37:35 -0000
Received: from rossp4 ([68.154.3.100]) by imf20aec.bellsouth.net
          (InterMail vM.5.01.05.27 201-253-122-126-127-20021220) with ESMTP
          id <20030630173735.QVGM24789.imf20aec.bellsouth.net@rossp4>
          for <commons-httpclient-dev@jakarta.apache.org>;
          Mon, 30 Jun 2003 13:37:35 -0400
From: <ross_r@bellsouth.net>
To: "'Commons HttpClient Project'" <commons-httpclient-dev@jakarta.apache.org>
Subject: RE: Cookie Issues
Date: Mon, 30 Jun 2003 13:38:21 -0400
Message-ID: <000101c33f2e$66a17a50$0c00a8c0@peerit.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <1056746174.1985.67.camel@kczrh-okt22.corp.bearingpoint.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Well it has changed my problem.  Here what happens now, I still do not =
get
the post results that I want.  Here's the proxy trace with a browser:

	POST /JobSeeker/Jobs/JobQuery.asp?ch=3Dal HTTP/1.0
	Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg,
application/vnd.ms-excel, application/vnd.ms-powerpoint,
application/msword, */*
	Referer:
http://www.careerbuilder.com/JobSeeker/Jobs/JobQuery.asp?ch=3Dal
	Accept-Language: en-us
	Content-Type: application/x-www-form-urlencoded
	User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; YComp
5.0.0.0; .NET CLR 1.0.3705; .NET CLR 1.1.4322)
	Host: www.careerbuilder.com
	Content-Length: 191
	Pragma: no-cache
	Cookie:
BID=3DX1AF7F150CF82DEEBA4E03DAF0F931A1314C4A2FA0C33F3DC0A204C3B55F8553AF	=
;
bJobSeeker=3DTrue;
CB%5FSID=3De81477595a9e4a5b9d9e386d618e0b15%2D110294498%2Drh%2D1; PU=3D0
	Connection: keep-alive
	Accept-encoding: gzip, deflate
	Browser reload detected...
	Posting 191 bytes...
	st=3Da
	Words=3Djava
	Use=3DAll
	Town=3Dnew+york
	states=3DNY%2C+US
	Freshness=3D
	EdLevel=3DDR3
	EdExc=3DYES
	EmpType=3DJTFT
	EmpType=3DJTCT
	EmpType=3DJTIN
	minsalary=3D0
	maxsalary=3Dgt120
	vt=3Dtitle
	submit1=3DSearch
	sname=3D
	jrdid=3D
	Continue ignored...

	+++RESP 12+++
	HTTP/1.1 302 Found
	Server: Microsoft-IIS/5.0
	Date: Mon, 30 Jun 2003 17:23:37 GMT
	X-Powered-By: ASP.NET
	Connection: close
	Set-Cookie:
BID=3DX1AF7F150CF82DEEBA4E03DAF0F931A131AE9ACC050B2FDB88D31C12A6193198AB	=
;
domain=3D.careerbuilder.com; expires=3DTue, 29-Jun-2004 15:00:00 GMT;
path=3D/
	Location:
/JobSeeker/Jobs/JobResults.asp?jrdid=3D&strCrit=3DQID%3DA3846750832018%3B=
s
t%3Da%3Buse%3DAll%3BrawWords%3Djava%3BTID%3D13938%3BBID%3DD2J8%3BCTY%3
DNew+York%3BSID%3DNY%3BCID%3DUS%3BENR%3DNO%3BDTP%3DDR3%3BYDI%3DYES%3BI
ND%3DAll%3BPDQ%3DAll%3BJN%3DAll%3BPAYL%3D0%3BPAYH%3Dgt120%3BPOY%3DNO%3
BETD%3DJTFT%3BETD%3DJTCT%3BETD%3DJTIN%3BRE%3DALL%3BMGT%3DDC%3BSUP%3DDC
%3BFRE%3D30%3BCHL%3Dal%3BQS%3Dhhr%5FJobQuery%2Easp%3BSS%3DNO%3BTITL%3D
0%3BVT%3Dtitle&CiBookMark=3D1&sname=3D
	Connection: close
	P3P: CP=3D"CAO CURa IVAa HISa OUR IND UNI COM NAV INT
STA",policyref=3D"http://img.icbdr.com/images/CBP3P.xml"
	Content-Length: 0
	Content-Type: text/html; charset=3DISO-8859-1
	Set-Cookie: bJobSeeker=3DTrue; expires=3DWed, 30-Jun-2004 17:23:36 GMT;
domain=3D.careerbuilder.com; path=3D/
=09
Note the 302 result with the page location I would need to get.
However when I do a Post with the HTTPClient the trace shows I get a 200 =
OK
back and the location in that header is the same post location I just =
posted
to so I get the form back again.  Any Ideas??

Ross

PS: here's the relevant trace:

2003/06/30 13:34:23:889 EDT [DEBUG] wire - ->> "POST
/JobSeeker/Jobs/jobfindall.asp?ch=3Dal HTTP/1.0[\r][\n]"
2003/06/30 13:34:23:919 EDT [DEBUG] wire - ->> "Referer:
http://www.careerbuilder.com/JobSeeker/Jobs/JobQuery.asp?ch=3Dal[
\r][\n]"
2003/06/30 13:34:23:989 EDT [DEBUG] wire - ->> "User-Agent: Jakarta
Commons-HttpClient/2.0beta1[\r][\n]"
2003/06/30 13:34:23:989 EDT [DEBUG] wire - ->> "Host:
www.careerbuilder.com[\r][\n]"
2003/06/30 13:34:23:989 EDT [DEBUG] wire - ->> "Cookie:
CB%5FSID=3D94254f4c05dc49409a412b4aa0d6b6df%2D110295211%2Drs%2D1;
BID=3DX1F973B11E6FB9EE790A13B8953372A922546BBBFACB72F0CFCC4162D2A3951A01;=

PU=3D0; bJobSeeker=3DTrue[\r][\n]"
2003/06/30 13:34:24:009 EDT [DEBUG] wire - ->> "Content-Length: =
192[\r][\n]"
2003/06/30 13:34:24:009 EDT [DEBUG] wire - ->> "Content-Type:
application/x-www-form-urlencoded[\r][\n]"
2003/06/30 13:34:24:009 EDT [DEBUG] wire - ->> "[\r][\n]"
2003/06/30 13:34:24:029 EDT [DEBUG] wire - ->>
"st=3Da&Words=3Djava&Use=3DAll&Town=3DNew+York&states=3DNY%2C+US&Freshnes=
s=3D&EdLevel
=3DDR3&EdExec=3DYES&EmpType=3DJTFT&EmpType=3DJTCT&EmpType=3DJTIN&minsalar=
y=3D0&maxsalary
=3Dgt120&vt=3Dtitle&submit1=3DSearch&sname=3D&jrdid=3D
"
2003/06/30 13:34:24:169 EDT [DEBUG] wire - -<< "HTTP/1.1 200 OK[\r][\n]"
2003/06/30 13:34:24:209 EDT [DEBUG] wire - -<< "Server:
Microsoft-IIS/5.0[\r][\n]"
2003/06/30 13:34:24:209 EDT [DEBUG] wire - -<< "Date: Mon, 30 Jun 2003
17:33:36 GMT[\r][\n]"
2003/06/30 13:34:24:209 EDT [DEBUG] wire - -<< "X-Powered-By:
ASP.NET[\r][\n]"
2003/06/30 13:34:24:239 EDT [DEBUG] wire - -<< "Set-Cookie:
BID=3DX1F973B11E6FB9EE790A13B8953372A922496B935C637EB6873BC4EA
56DCD426B2; domain=3D.careerbuilder.com; expires=3DTue, 29-Jun-2004 =
15:00:00
GMT; path=3D/[\r][\n]"
2003/06/30 13:34:24:239 EDT [DEBUG] wire - -<< "P3P: CP=3D"CAO CURa IVAa =
HISa
OUR IND UNI COM NAV INT STA",policyref=3D"http
://img.icbdr.com/images/CBP3P.xml"[\r][\n]"
2003/06/30 13:34:24:239 EDT [DEBUG] wire - -<< "Connection:
Keep-Alive[\r][\n]"
2003/06/30 13:34:24:259 EDT [DEBUG] wire - -<< "Content-Length:
29610[\r][\n]"
2003/06/30 13:34:24:259 EDT [DEBUG] wire - -<< "Content-Type: text/html;
charset=3DISO-8859-1[\r][\n]"
2003/06/30 13:34:24:259 EDT [DEBUG] wire - -<< "Set-Cookie: =
bJobSeeker=3DTrue;
expires=3DWed, 30-Jun-2004 17:33:36 GMT; doma
in=3D.careerbuilder.com; path=3D/[\r][\n]"
2003/06/30 13:34:24:279 EDT [DEBUG] wire - -<< "Cache-control:
private[\r][\n]"
2003/06/30 13:34:24:279 EDT [DEBUG] wire - -<< "[\r][\n]"
2003/06/30 13:34:24:279 EDT [DEBUG] wire - -<<
"[0x9][0x9][0x9]<html>[\r][\n]"
2003/06/30 13:34:24:299 EDT [DEBUG] wire - -<<
"[0x9][0x9][0x9]<head><title>CareerBuilder.com jobs.  Search by field of
interest, keyword, city, state, or other options and find the job you
want.</title>[\r][\n]"

-----Original Message-----
From: Oleg Kalnichevski [mailto:olegk@apache.org]=20
Sent: Friday, June 27, 2003 4:36 PM
To: Ross Rankin
Subject: RE: Cookie Issues

Ross,
Sorry for not being clear enough. Try setting
HttpMethodBase#setStrictMode(boolean) to true.

I hope this helps

Oleg


On Fri, 2003-06-27 at 22:12, Ross Rankin wrote:
> I tried both NETSCAPE_DRAFT and RFC2109 and the trace of the post =
shows it
> has separate lines for each cookie.
>=20
> Ross
>=20
> -----Original Message-----
> From: Oleg Kalnichevski [mailto:olegk@apache.org]=20
> Sent: Friday, June 27, 2003 3:43 PM
> To: Commons HttpClient Project
> Subject: RE: Cookie Issues
>=20
> Ross,
>=20
> > However I noticed in my proxy traces the browser put all the cookies =
in
> one
> > line instead of separate lines for each cookie.  Could that cause a
> problem?
> >=20
>=20
> Try using strict mode. In strict mode all cookies are sent as one
> 'Cookie' header.
>=20
> cheer
>=20
> Oleg
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail:
> commons-httpclient-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> commons-httpclient-dev-help@jakarta.apache.org
>=20


From anonymous@nagoya.betaversion.org  Mon Jun 30 20:38:14 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 48369 invoked from network); 30 Jun 2003 20:38:14 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jun 2003 20:38:14 -0000
Received: (qmail 15793 invoked by uid 50); 30 Jun 2003 20:40:43 -0000
Date: 30 Jun 2003 20:40:43 -0000
Message-ID: <20030630204043.15792.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21201] New:  -
    URI.normalize() error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21201>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21201

URI.normalize() error

           Summary: URI.normalize() error
           Product: Commons
           Version: 1.0 Alpha
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Minor
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: yozh@mx1.ru


code:

----------------------------
import org.apache.commons.httpclient.URI;

class Main {
  publiñ static void main(String[] args) throws Exception {
    URI uri = new URI("http", null, "host", -1, "/tmp/../yo", null, null);
    uri.normalize();
    System.out.println(uri);
  }
} /// end of Main
----------------------------

prints:

http://host/tmp/../yo

instead of

http://host/yo

From anonymous@nagoya.betaversion.org  Mon Jun 30 20:41:19 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 55189 invoked from network); 30 Jun 2003 20:41:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jun 2003 20:41:19 -0000
Received: (qmail 15911 invoked by uid 50); 30 Jun 2003 20:43:48 -0000
Date: 30 Jun 2003 20:43:48 -0000
Message-ID: <20030630204348.15910.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21201]  -
    URI.normalize() error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21201>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21201

URI.normalize() error

yozh@mx1.ru changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
           Priority|Other                       |Low
            Version|1.0 Alpha                   |2.0 Beta 1



------- Additional Comments From yozh@mx1.ru  2003-06-30 20:43 -------
I forgot to set proper version -- 2.0 beta 1.

From anonymous@nagoya.betaversion.org  Mon Jun 30 20:47:45 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 72543 invoked from network); 30 Jun 2003 20:47:45 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jun 2003 20:47:45 -0000
Received: (qmail 16239 invoked by uid 50); 30 Jun 2003 20:50:14 -0000
Date: 30 Jun 2003 20:50:14 -0000
Message-ID: <20030630205014.16238.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21202] New:  -
    wire logger skips empty line
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21202>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21202

wire logger skips empty line

           Summary: wire logger skips empty line
           Product: Commons
           Version: 2.0 Beta 1
          Platform: Other
        OS/Version: Other
            Status: NEW
          Severity: Minor
          Priority: Other
         Component: HttpClient
        AssignedTo: commons-httpclient-dev@jakarta.apache.org
        ReportedBy: yozh@mx1.ru


When logging with
org.apache.commons.logging.simplelog.log.httpclient.wire=debug, HttpConnection
skips one line of server output in logs -- CRLF line between headers and body.

From anonymous@nagoya.betaversion.org  Mon Jun 30 20:53:01 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 86382 invoked from network); 30 Jun 2003 20:53:01 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jun 2003 20:53:01 -0000
Received: (qmail 16423 invoked by uid 50); 30 Jun 2003 20:55:30 -0000
Date: 30 Jun 2003 20:55:30 -0000
Message-ID: <20030630205530.16422.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21201]  -
    URI.normalize() error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21201>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21201

URI.normalize() error





------- Additional Comments From becke@u.washington.edu  2003-06-30 20:55 -------
It looks like normalize() is doing the correct thing, but URI.toString() does
not use the normalized path.  Try this:

       URI uri = new URI("http", null, "host", -1, "/tmp/../yo", null, null);
       uri.normalize();
       System.out.println(uri);
       System.out.println(uri.getPath());

I will look into toString() and get back to you.

Mike

From anonymous@nagoya.betaversion.org  Mon Jun 30 20:58:41 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 95726 invoked from network); 30 Jun 2003 20:58:41 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jun 2003 20:58:41 -0000
Received: (qmail 16951 invoked by uid 50); 30 Jun 2003 21:01:03 -0000
Date: 30 Jun 2003 21:01:03 -0000
Message-ID: <20030630210103.16950.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21201]  -
    URI.normalize() error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21201>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21201

URI.normalize() error





------- Additional Comments From becke@u.washington.edu  2003-06-30 20:59 -------
Created an attachment (id=7030)
fix 1

From anonymous@nagoya.betaversion.org  Mon Jun 30 20:59:19 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 97985 invoked from network); 30 Jun 2003 20:59:19 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jun 2003 20:59:19 -0000
Received: (qmail 16991 invoked by uid 50); 30 Jun 2003 21:01:48 -0000
Date: 30 Jun 2003 21:01:48 -0000
Message-ID: <20030630210148.16990.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21201]  -
    URI.normalize() error
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21201>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21201

URI.normalize() error





------- Additional Comments From becke@u.washington.edu  2003-06-30 21:01 -------
I think this patch should take care of the problem.

Mike

From anonymous@nagoya.betaversion.org  Mon Jun 30 23:13:55 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 90158 invoked from network); 30 Jun 2003 23:13:55 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jun 2003 23:13:55 -0000
Received: (qmail 20479 invoked by uid 50); 30 Jun 2003 23:16:25 -0000
Date: 30 Jun 2003 23:16:25 -0000
Message-ID: <20030630231625.20478.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21202]  -
    wire logger skips empty line
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21202>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21202

wire logger skips empty line





------- Additional Comments From becke@u.washington.edu  2003-06-30 23:16 -------
Created an attachment (id=7032)
possible fix 1

From anonymous@nagoya.betaversion.org  Mon Jun 30 23:17:02 2003
Return-Path: <anonymous@nagoya.betaversion.org>
Mailing-List: contact commons-httpclient-dev-help@jakarta.apache.org; run by ezmlm
Delivered-To: mailing list commons-httpclient-dev@jakarta.apache.org
Received: (qmail 93828 invoked from network); 30 Jun 2003 23:17:02 -0000
Received: from exchange.sun.com (192.18.33.10)
  by daedalus.apache.org with SMTP; 30 Jun 2003 23:17:02 -0000
Received: (qmail 20602 invoked by uid 50); 30 Jun 2003 23:19:32 -0000
Date: 30 Jun 2003 23:19:32 -0000
Message-ID: <20030630231932.20601.qmail@nagoya.betaversion.org>
From: bugzilla@apache.org
To: commons-httpclient-dev@jakarta.apache.org
Cc:
Subject: DO NOT REPLY [Bug 21202]  -
    wire logger skips empty line
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

DO NOT REPLY TO THIS EMAIL, BUT PLEASE POST YOUR BUG
RELATED COMMENTS THROUGH THE WEB INTERFACE AVAILABLE AT
<http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21202>.
ANY REPLY MADE TO THIS MESSAGE WILL NOT BE COLLECTED AND
INSERTED IN THE BUG DATABASE.

http://nagoya.apache.org/bugzilla/show_bug.cgi?id=21202

wire logger skips empty line





------- Additional Comments From becke@u.washington.edu  2003-06-30 23:19 -------
I'm not sure this fixes the problem you are seeing but there is definitely a bug.  Could you try this
one out and let me know if this works.  If not, please post a more descriptive example.

Mike

